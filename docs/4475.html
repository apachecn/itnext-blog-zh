<html>
<head>
<title>Nextcloud + Raspberry Pi + Docker + Onion service = ğŸ”¥</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Nextcloud +æ ‘è“Pi + Docker +æ´‹è‘±æœåŠ¡=ğŸ”¥</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://itnext.io/nextcloud-docker-raspberry-pi-onion-service-84d4af13f7e6?source=collection_archive---------2-----------------------#2020-07-07">https://itnext.io/nextcloud-docker-raspberry-pi-onion-service-84d4af13f7e6?source=collection_archive---------2-----------------------#2020-07-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="e7c6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">(<a class="ae kl" href="https://medium.com/@robinriclet/nextcloud-raspberry-pi-docker-onion-service-fr-c778d4974e8a" rel="noopener">æ³•æ–‡ç‰ˆæ­¤å¤„</a>)</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/64c9494bc38550b7fd1ed047694fd2ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*846pH8kDD8JlfWz1RUJIGg.png"/></div></div></figure></div><div class="ab cl ky kz hu la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ij ik il im in"><p id="3027" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å‡ ä¸ªæœˆå‰ï¼Œæˆ‘æœ‰ä¸€ä¸ªæƒ³æ³•ï¼Œå»ºç«‹ä¸€ä¸ªç§æœ‰çš„<a class="ae kl" href="https://en.wikipedia.org/wiki/Nextcloud" rel="noopener ugc nofollow" target="_blank"> Nextcloud </a>å®ä¾‹ï¼Œä¸æœ‹å‹åˆ†äº«æ–‡ä»¶ï¼Œæœ‰ä¸€ä¸ªå°ç»„è®®ç¨‹å’Œæ›´å¤šçš„åä½œå†…å®¹ã€‚</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi lf"><img src="../Images/f8b645e8261bc2b5bd4b521dc85a63ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oDus34EG1UYn_eg5RxtNZg.png"/></div></div><figcaption class="lg lh gj gh gi li lj bd b be z dk translated">(ä¸‹ä¸€ä»£äº‘ç”¨æˆ·ç•Œé¢)</figcaption></figure><p id="ad48" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å‡ºäºéšç§æ–¹é¢çš„è€ƒè™‘ï¼Œä¹Ÿä¸ºäº†é¿å…æ”¯ä»˜åŸŸåè´¹ç”¨ï¼Œæˆ‘è€ƒè™‘å°†è¿™ä¸ªå®ä¾‹ä½œä¸ºä¸€ä¸ª<a class="ae kl" href="https://en.wikipedia.org/wiki/Tor_(anonymity_network)#Onion_services" rel="noopener ugc nofollow" target="_blank"> Toréšè—æœåŠ¡</a>ã€‚</p><p id="442f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘å¼€å§‹å››å¤„è¯¢é—®æ‰˜ç®¡è§£å†³æ–¹æ¡ˆã€ä»·æ ¼å’Œéšç§æ”¿ç­–ã€‚åœ¨å‡ ä¸ªæ˜ŸæœŸçš„ä¸æˆåŠŸçš„å‘ç°ä¹‹åï¼Œæˆ‘å¶ç„¶å‘ç°è¿™ä¸ªRedditå¸–å­å»ºè®®åœ¨Raspberry Piä¸Šæ‰˜ç®¡Nextcloudå®ä¾‹ã€‚ä¸ºä»€ä¹ˆæˆ‘æ²¡æœ‰æ—©ç‚¹æƒ³åˆ°è¿™ä¸ªï¼Ÿï¼</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi lk"><img src="../Images/d260815429fd8f0dba3321fc2fadc7c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qXv9AUDVK76pTM-K0La6bg.jpeg"/></div></div><figcaption class="lg lh gj gh gi li lj bd b be z dk translated">(ä¸€ä¸ªæ¼‚äº®çš„è¦†ç›†å­Pi 4æ”¾åœ¨è¦†ç›†å­è‰²çš„ç›’å­é‡Œï¼Œâ¤)</figcaption></figure><p id="87c6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘è®¢è´­äº†ä¸€ä¸ª<a class="ae kl" href="https://thepihut.com/collections/raspberry-pi-kits-and-bundles/products/raspberry-pi-starter-kit" rel="noopener ugc nofollow" target="_blank">æ ‘è“Piå…¥é—¨å¥—ä»¶</a>ï¼Œé…æœ‰å…¨æ–°çš„æ ‘è“Pi 4 Model B (4GBå†…å­˜)ã€‚ç­‰åŒ…è£¹çš„æ—¶å€™å‘ç°<a class="ae kl" href="https://github.com/torservers/onionize-docker" rel="noopener ugc nofollow" target="_blank">è¿™ä¸ªGitHubå›è´­</a>ã€‚æˆ‘ä½¿ç”¨Dockerå’ŒMariaDbè®¾ç½®äº†Nextcloudå®ä¾‹ï¼Œæ‰€æœ‰è¿™äº›éƒ½åœ¨æ´‹è‘±æœåŠ¡çš„èƒŒåã€‚<code class="fe ll lm ln lo b">docker-compose.yaml</code>çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„:</p><pre class="kn ko kp kq gt lp lo lq lr aw ls bi"><span id="9159" class="lt lu iq lo b gy lv lw l lx ly">version: '3'</span><span id="bc01" class="lt lu iq lo b gy lz lw l lx ly">services:<br/>  onionize:<br/>    image: torservers/onionize<br/>    volumes:<br/>      - /var/run/docker.sock:/tmp/docker.sock:ro<br/>    networks:<br/>      - faraday</span><span id="1a23" class="lt lu iq lo b gy lz lw l lx ly">  nextcloud:<br/>    image: nextcloud:apache<br/>    environment:<br/>      - ONIONSERVICE_NAME=app<br/>    networks:<br/>      - faraday<br/>    depends_on:<br/>      - db<br/>    volumes:<br/>      - nextcloud:/var/www/html<br/>      - ./app/config:/var/www/html/config<br/>      - ./app/custom_apps:/var/www/html/custom_apps<br/>      - ./app/data:/var/www/html/data<br/>      - ./app/themes:/var/www/html/themes<br/>      - /etc/localtime:/etc/localtime:ro<br/>    restart: unless-stopped</span><span id="ba9e" class="lt lu iq lo b gy lz lw l lx ly">  db:<br/>    image: mariadb<br/>    networks:<br/>      - faraday<br/>    volumes:<br/>      - db:/var/lib/mysql<br/>      - /etc/localtime:/etc/localtime:ro<br/>    environment:<br/>      - MYSQL_ROOT_PASSWORD=password<br/>      - MYSQL_PASSWORD=mysql<br/>      - MYSQL_DATABASE=nextcloud<br/>      - MYSQL_USER=nextcloud<br/>    restart: unless-stopped</span><span id="4017" class="lt lu iq lo b gy lz lw l lx ly">volumes:<br/>  nextcloud:<br/>  db:</span><span id="432a" class="lt lu iq lo b gy lz lw l lx ly">networks:<br/>  faraday:<br/>    driver: bridge</span></pre></div><div class="ab cl ky kz hu la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ij ik il im in"><p id="3f3b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘çš„ç¬”è®°æœ¬ç”µè„‘ä¸€åˆ‡æ­£å¸¸ï¼Œæ‰€ä»¥æˆ‘åœ¨ç­‰å¾…ã€‚æ”¶åˆ°æ ‘è“åï¼Œ<a class="ae kl" href="https://www.instructables.com/id/Install-and-Setup-Raspbian-Lite-on-Raspberry-Pi-3/" rel="noopener ugc nofollow" target="_blank">æˆ‘å®‰è£…äº†Raspbian Liteå¹¶è®¾ç½®äº†SSH</a>ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘å®‰è£…äº†<code class="fe ll lm ln lo b">git</code>ã€<code class="fe ll lm ln lo b">docker</code>ã€<code class="fe ll lm ln lo b">docker-compose</code>ï¼Œå¹¶æ·»åŠ äº†å¤–éƒ¨å­˜å‚¨ã€‚</p><p id="ea30" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe ll lm ln lo b">docker-compose up </code>è€Œä¸”â€¦â€¦æ²¡æœ‰ã€‚<code class="fe ll lm ln lo b">nextcloud</code>å’Œ<code class="fe ll lm ln lo b">db</code>æœåŠ¡æ­£ç¡®å¯åŠ¨ï¼Œä½†<code class="fe ll lm ln lo b">onionize</code>å‡ºé”™é€€å‡ºã€‚å®ƒåœ¨æˆ‘çš„ç¬”è®°æœ¬ç”µè„‘ä¸Šè¿è¡Œè‰¯å¥½ï¼Œä¸ºä»€ä¹ˆåœ¨è¦†ç›†å­ä¸Šå°±ä¸è¡Œå‘¢ï¼Ÿï¼</p><p id="b575" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">dockeré•œåƒ<code class="fe ll lm ln lo b">torservers/onionize:latest</code>çš„æ¶æ„æ˜¯<code class="fe ll lm ln lo b">amd64</code>è€Œ<a class="ae kl" href="https://stackoverflow.com/questions/37790029/what-is-difference-between-arm64-and-armhf" rel="noopener ugc nofollow" target="_blank">æ ‘è“æ´¾4æœ‰ä¸€ä¸ª</a> <code class="fe ll lm ln lo b"><a class="ae kl" href="https://stackoverflow.com/questions/37790029/what-is-difference-between-arm64-and-armhf" rel="noopener ugc nofollow" target="_blank">armhf</a></code> <a class="ae kl" href="https://stackoverflow.com/questions/37790029/what-is-difference-between-arm64-and-armhf" rel="noopener ugc nofollow" target="_blank">æ¶æ„</a>ï¼æˆ‘åšäº†ä¸€äº›ç ”ç©¶ï¼Œå‘ç°äº†Dockerå›¢é˜Ÿæœ€è¿‘å¼€å‘çš„<a class="ae kl" href="https://github.com/docker/buildx" rel="noopener ugc nofollow" target="_blank">å·¥å…·</a> : <code class="fe ll lm ln lo b">buildx</code></p><p id="0dad" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe ll lm ln lo b">buildx</code>å…è®¸ä¸ºç‰¹å®šå¤„ç†å™¨æ¶æ„æ„å»ºæ˜ åƒï¼Œå¦‚<code class="fe ll lm ln lo b">amd64 </code>æˆ–<code class="fe ll lm ln lo b">amrhf</code>ã€‚æˆ‘åˆ†å‰äº†<code class="fe ll lm ln lo b">torservers/onionize</code>ï¼Œæ”¹å˜äº†dockeræ–‡ä»¶ä¸­<code class="fe ll lm ln lo b">docker-gen</code>çš„æ¶æ„ï¼Œå¹¶ä½¿ç”¨<code class="fe ll lm ln lo b">buildx</code>åˆ›å»ºäº†ä¸€ä¸ªå…¼å®¹<code class="fe ll lm ln lo b">armhf</code>çš„æ˜ åƒã€‚</p><p id="a06d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¿™é‡Œä¸¾ä¾‹:<a class="ae kl" href="https://medium.com/@artur.klauser/building-multi-architecture-docker-images-with-buildx-27d80f7e2408" rel="noopener">https://medium . com/@ Artur . klauser/building-multi-architecture-docker-images-with-buildx-27d 80 f 7 e 2408</a></p></div><div class="ab cl ky kz hu la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ij ik il im in"><p id="1bb9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å®¹å™¨ç°åœ¨å·²ç»å¯åŠ¨ä¸€å‘¨äº†ï¼ŒNextcloudè¿è¡Œå¾—å¾ˆå¥½ï¼Œé€šè¿‡Torç½‘ç»œçš„å“åº”æ—¶é—´éå¸¸å¿«ï¼</p><p id="dbb6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘çš„Githubå›è´­:<a class="ae kl" href="https://github.com/rriclet/tor-cloud" rel="noopener ugc nofollow" target="_blank">https://github.com/rriclet/tor-cloud</a></p></div></div>    
</body>
</html>