<html>
<head>
<title>Easy patterns: Flyweight</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ç®€å•æ¨¡å¼:è½»é‡çº§</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://itnext.io/easy-patterns-flyweight-dab4c018f7f5?source=collection_archive---------4-----------------------#2018-12-06">https://itnext.io/easy-patterns-flyweight-dab4c018f7f5?source=collection_archive---------4-----------------------#2018-12-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/14bf79920850f20566b9930604126b8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d2IDQYmGM8uVqR4mjHYlBQ.png"/></div></div></figure><p id="2079" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æœ¬æ–‡æ˜¯easy patternsç³»åˆ—æè¿°çš„å»¶ç»­ï¼Œä»‹ç»äº†ä¸€ä¸ªåä¸ºFlyweightçš„ç»“æ„æ¨¡å¼ï¼Œå®ƒè§£å†³äº†ä½¿ç”¨ç›¸ä¼¼é€»è¾‘å…±äº«å¤æ‚å¯¹è±¡çš„é—®é¢˜ï¼Œä»¥ä¿æŒæ€§èƒ½å’Œå†…å­˜ä½¿ç”¨çš„ä¼˜åŒ–ã€‚</p><p id="cd30" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ä¹Ÿè¯·å‚è€ƒå…¶ä»–æ¨¡å¼æ–‡ç« :</p><h2 id="f002" class="kw kx iq bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated">åˆ›ä½œæ¨¡å¼:</h2><blockquote class="lp lq lr"><p id="fa0f" class="jy jz ls ka b kb kc kd ke kf kg kh ki lt kk kl km lu ko kp kq lv ks kt ku kv ij bi translated"><a class="ae lw" rel="noopener ugc nofollow" target="_blank" href="/easy-patterns-simple-factory-b946a086fd7e"> <strong class="ka ir">ç®€æ˜“å·¥å‚</strong> </a></p><p id="2004" class="jy jz ls ka b kb kc kd ke kf kg kh ki lt kk kl km lu ko kp kq lv ks kt ku kv ij bi translated"><a class="ae lw" rel="noopener ugc nofollow" target="_blank" href="/easy-patterns-factory-method-5f27385ac5c"> <strong class="ka ir">å·¥å‚æ³•</strong> </a></p><p id="8fab" class="jy jz ls ka b kb kc kd ke kf kg kh ki lt kk kl km lu ko kp kq lv ks kt ku kv ij bi translated"><a class="ae lw" rel="noopener ugc nofollow" target="_blank" href="/easy-patterns-builder-d85655bcf8aa"> <strong class="ka ir">æ„å»ºå™¨</strong> </a></p><p id="0e6b" class="jy jz ls ka b kb kc kd ke kf kg kh ki lt kk kl km lu ko kp kq lv ks kt ku kv ij bi translated"><a class="ae lw" rel="noopener ugc nofollow" target="_blank" href="/easy-patterns-singleton-283356fb29bf"> <strong class="ka ir">å•ä¸ª</strong> </a></p><p id="73db" class="jy jz ls ka b kb kc kd ke kf kg kh ki lt kk kl km lu ko kp kq lv ks kt ku kv ij bi translated"><a class="ae lw" rel="noopener ugc nofollow" target="_blank" href="/easy-patterns-abstract-factory-2325cb398fc6"> <strong class="ka ir">æŠ½è±¡å·¥å‚</strong> </a></p><p id="9d90" class="jy jz ls ka b kb kc kd ke kf kg kh ki lt kk kl km lu ko kp kq lv ks kt ku kv ij bi translated"><a class="ae lw" rel="noopener ugc nofollow" target="_blank" href="/easy-patterns-prototype-e03ec6962f89"> <strong class="ka ir">åŸå‹</strong> </a></p></blockquote><h2 id="b2ad" class="kw kx iq bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated">ç»“æ„æ¨¡å¼:</h2><blockquote class="lp lq lr"><p id="4425" class="jy jz ls ka b kb kc kd ke kf kg kh ki lt kk kl km lu ko kp kq lv ks kt ku kv ij bi translated"><a class="ae lw" rel="noopener ugc nofollow" target="_blank" href="/easy-patterns-adapter-9b5806cb346f"> <strong class="ka ir">é€‚é…å™¨</strong> </a></p><p id="5343" class="jy jz ls ka b kb kc kd ke kf kg kh ki lt kk kl km lu ko kp kq lv ks kt ku kv ij bi translated"><a class="ae lw" rel="noopener ugc nofollow" target="_blank" href="/easy-patterns-decorator-eaa96c0550ea"> <strong class="ka ir">è£…é¥°è€…</strong> </a></p><p id="a7f3" class="jy jz ls ka b kb kc kd ke kf kg kh ki lt kk kl km lu ko kp kq lv ks kt ku kv ij bi translated"><a class="ae lw" rel="noopener ugc nofollow" target="_blank" href="/easy-patterns-bridge-28d50dc25f9f"> <strong class="ka ir">æ¡¥</strong> </a></p><p id="2353" class="jy jz ls ka b kb kc kd ke kf kg kh ki lt kk kl km lu ko kp kq lv ks kt ku kv ij bi translated"><a class="ae lw" rel="noopener ugc nofollow" target="_blank" href="/easy-patterns-composite-8b28aa1f158"> <strong class="ka ir">å¤åˆ</strong> </a></p><p id="2cca" class="jy jz ls ka b kb kc kd ke kf kg kh ki lt kk kl km lu ko kp kq lv ks kt ku kv ij bi translated"><a class="ae lw" rel="noopener ugc nofollow" target="_blank" href="/easy-patterns-facade-8cb185f4f44f"> <strong class="ka ir">ç«‹é¢</strong> </a></p><p id="9d1e" class="jy jz ls ka b kb kc kd ke kf kg kh ki lt kk kl km lu ko kp kq lv ks kt ku kv ij bi translated"><a class="ae lw" rel="noopener ugc nofollow" target="_blank" href="/easy-patterns-flyweight-dab4c018f7f5"><strong class="ka ir"/></a><em class="iq">(æœ¬æ–‡)</em></p><p id="52c9" class="jy jz ls ka b kb kc kd ke kf kg kh ki lt kk kl km lu ko kp kq lv ks kt ku kv ij bi translated"><a class="ae lw" rel="noopener ugc nofollow" target="_blank" href="/easy-patterns-proxy-45fc3a648020"> <strong class="ka ir">ä»£ç†</strong> </a></p></blockquote><h2 id="c975" class="kw kx iq bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated">è¡Œä¸ºæ¨¡å¼:</h2><blockquote class="lp lq lr"><p id="052a" class="jy jz ls ka b kb kc kd ke kf kg kh ki lt kk kl km lu ko kp kq lv ks kt ku kv ij bi translated"><a class="ae lw" rel="noopener ugc nofollow" target="_blank" href="/easy-patterns-visitor-b8ef57eb957"> <strong class="ka ir">æ¥è®¿è€…</strong> </a></p><p id="8f4d" class="jy jz ls ka b kb kc kd ke kf kg kh ki lt kk kl km lu ko kp kq lv ks kt ku kv ij bi translated"><a class="ae lw" rel="noopener ugc nofollow" target="_blank" href="/easy-patterns-mediator-e0bf18fefdf9"> <strong class="ka ir">è°ƒè§£å‘˜</strong> </a></p><p id="ee43" class="jy jz ls ka b kb kc kd ke kf kg kh ki lt kk kl km lu ko kp kq lv ks kt ku kv ij bi translated"><a class="ae lw" rel="noopener ugc nofollow" target="_blank" href="/easy-patterns-observer-63c832d41ffd"> <strong class="ka ir">è§‚å¯Ÿè€…</strong> </a></p><p id="2da6" class="jy jz ls ka b kb kc kd ke kf kg kh ki lt kk kl km lu ko kp kq lv ks kt ku kv ij bi translated"><a class="ae lw" rel="noopener ugc nofollow" target="_blank" href="/easy-patterns-memento-ce966cec7478"> <strong class="ka ir">çºªå¿µå“</strong> </a></p><p id="e199" class="jy jz ls ka b kb kc kd ke kf kg kh ki lt kk kl km lu ko kp kq lv ks kt ku kv ij bi translated"><a class="ae lw" rel="noopener ugc nofollow" target="_blank" href="/easy-patterns-iterator-f5c0dd85957"> <strong class="ka ir">è¿­ä»£å™¨</strong> </a></p><p id="f257" class="jy jz ls ka b kb kc kd ke kf kg kh ki lt kk kl km lu ko kp kq lv ks kt ku kv ij bi translated"><a class="ae lw" rel="noopener ugc nofollow" target="_blank" href="/easy-patterns-chain-of-responsibility-9a84307ad837"> <strong class="ka ir">è´£ä»»é“¾</strong> </a></p><p id="e67d" class="jy jz ls ka b kb kc kd ke kf kg kh ki lt kk kl km lu ko kp kq lv ks kt ku kv ij bi translated"><a class="ae lw" rel="noopener ugc nofollow" target="_blank" href="/easy-patterns-strategy-ecb6f6fc0ef3"> <strong class="ka ir">ç­–ç•¥</strong> </a></p><p id="2200" class="jy jz ls ka b kb kc kd ke kf kg kh ki lt kk kl km lu ko kp kq lv ks kt ku kv ij bi translated"><a class="ae lw" rel="noopener ugc nofollow" target="_blank" href="/easy-patterns-state-ec87a1a487b4"> <strong class="ka ir">çŠ¶æ€</strong> </a></p></blockquote><h1 id="fbf6" class="lx kx iq bd ky ly lz ma lb mb mc md le me mf mg lh mh mi mj lk mk ml mm ln mn bi translated">ä¸»è¦æœ¬è´¨</h1><p id="8692" class="pw-post-body-paragraph jy jz iq ka b kb mo kd ke kf mp kh ki kj mq kl km kn mr kp kq kr ms kt ku kv ij bi translated">flyweightâ€”â€”å®ƒæ˜¯ä¸€ä¸ªå…±äº«å¯¹è±¡ï¼Œå¯ä»¥åŒæ—¶åœ¨å¤šä¸ªä¸Šä¸‹æ–‡ä¸­ä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œæ¯ä¸ªè¡¨æ ¼æ¸²æŸ“å™¨éƒ½æœ‰å‡ ç§å¯¹è±¡ç±»å‹ï¼Œå¦‚è¡Œå’Œå•å…ƒæ ¼ã€‚è®©æˆ‘ä»¬æƒ³è±¡ä¸€ä¸ªç”»é¢ï¼Œå½“ä½ æœ‰ä¸€ä¸ªè¡¨ï¼Œé‡Œé¢æœ‰ä¸¤è¡Œå’Œä¸¤åˆ—ã€‚æ¯ä¸ªå®ä¾‹éƒ½æœ‰è‡ªå·±çš„ç±»:å¯¹äºè¡Œï¼Œå®ƒæ˜¯è¡Œç±»ï¼Œå¯¹äºå•å…ƒæ ¼ï¼Œå®ƒæ˜¯å•å…ƒæ ¼ç±»ã€‚åœ¨è¿™æ ·çš„é…ç½®ä¸­ï¼Œæ‚¨å¿…é¡»å®ä¾‹åŒ–å…­ä¸ªå¯¹è±¡(2xè¡Œç±»å’Œ4xå•å…ƒç±»)æ¥æè¿°è¿™æ ·çš„è¡¨å†…å®¹ã€‚çœ‹èµ·æ¥åƒä¸ªè®¡åˆ’ï¼Œå¯¹å§ï¼Ÿ</p><p id="c06d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">å‡è®¾æ‚¨çš„è¡¨æ ¼å†…å®¹éšç€æ—¶é—´çš„æ¨ç§»æ€¥å‰§å¢åŠ ï¼Œç°åœ¨æ‚¨æœ‰ä¸€ä¸ª500è¡Œ8åˆ—çš„è¡¨æ ¼ã€‚æ‰€ä»¥ï¼Œè®©æˆ‘ä»¬åšä¸€äº›è®¡ç®—:</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="0eee" class="kw kx iq my b gy nc nd l ne nf">const rowNumber = 500;<br/>const columnNumber = 8;</span><span id="d9bf" class="kw kx iq my b gy ng nd l ne nf">const getRowClassNumber = rowNumber =&gt; rowNumber;<br/>const getCellClassNumber = (rowNumber, columnNumber) =&gt; rowNumber * columnNumber;</span><span id="87c1" class="kw kx iq my b gy ng nd l ne nf">getRowClassNumber(rowNumber); // 500<br/>getCellClassNumber(rowNumber, columnNumber); // 500 * 8</span><span id="d99f" class="kw kx iq my b gy ng nd l ne nf">// Result<br/>// 500 + 500 * 8 === 4500!!!</span></pre><p id="f292" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ç»“æœå°±æ˜¯è¿™æ ·ã€‚åŸºæœ¬ä¸Šï¼Œä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨4500ä¸ªç±»å®ä¾‹æ¥æè¿°è¿™ç§è¡¨æ ¼çš„æ¯ä¸€è¡Œå’Œæ¯ä¸€ä¸ªå•å…ƒæ ¼â€¦</p><p id="61ed" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ä½†æ˜¯è®©æˆ‘ä»¬å‡è®¾æˆ‘ä»¬çŸ¥é“åœ¨æŸä¸ªæ—¶é—´ç‚¹ç”¨æˆ·åªèƒ½çœ‹åˆ°10è¡Œå†…å®¹ã€‚å› æ­¤ï¼Œå®é™…ä¸Šæˆ‘ä»¬åªèƒ½åœ¨å¯è§åŒºåŸŸé‡ç”¨å®ä¾‹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦çš„å®ä¾‹æ•°é‡:</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="5743" class="kw kx iq my b gy nc nd l ne nf">const rowNumber = 10;<br/>const columnNumber = 8;</span><span id="57b7" class="kw kx iq my b gy ng nd l ne nf">const getRowClassNumber = rowNumber =&gt; rowNumber;<br/>const getCellClassNumber = (rowNumber, columnNumber) =&gt; rowNumber * columnNumber;</span><span id="1802" class="kw kx iq my b gy ng nd l ne nf">getRowClassNumber(rowNumber); // 10<br/>getCellClassNumber(rowNumber, columnNumber); // 10 * 8</span><span id="de68" class="kw kx iq my b gy ng nd l ne nf">// Result<br/>// 10 + 10 * 8 === 90</span></pre><p id="724c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">åŸºæœ¬ä¸Šæˆ‘ä»¬å‡å°‘äº†50å€çš„å†…å­˜æ¶ˆè€—ã€‚</p><p id="5b42" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æ€æ ·æ‰èƒ½åšå‡ºè¿™æ ·çš„å¯å…±äº«çš„ç±»å®ä¾‹ï¼Ÿç­”æ¡ˆæ˜¯è®©ä»–ä»¬æˆä¸ºè½»é‡çº§é€‰æ‰‹ã€‚Flyweightsä¸èƒ½å¯¹å®ƒä»¬è¿è¡Œçš„ç¯å¢ƒåšå‡ºå‡è®¾ã€‚ä¸»è¦æ¦‚å¿µæ˜¯å°†ä»–ä»¬çš„å†…éƒ¨çŠ¶æ€åˆ†ä¸ºå†…åœ¨çš„å’Œå¤–åœ¨çš„ã€‚å†…åœ¨çŠ¶æ€ç”±ç‹¬ç«‹äºflyweightä¸Šä¸‹æ–‡çš„ä¿¡æ¯ç»„æˆ(å…±äº«å®ƒ)ã€‚å¤–åœ¨çŠ¶æ€å–å†³äºflyweightçš„ä¸Šä¸‹æ–‡ã€‚</p><p id="0a04" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">è¯¥æ¨¡å¼åŒ…æ‹¬ä¸‰ä¸ªä¸»è¦è§’è‰²:</p><ul class=""><li id="9f36" class="nh ni iq ka b kb kc kf kg kj nj kn nk kr nl kv nm nn no np bi translated"><strong class="ka ir">å®¢æˆ·ç«¯</strong> â€”ç»´æŠ¤å¯¹flyweightçš„å¼•ç”¨</li><li id="9431" class="nh ni iq ka b kb nq kf nr kj ns kn nt kr nu kv nm nn no np bi translated"><strong class="ka ir">flyweights factory</strong>â€”åˆ›å»ºå’Œç®¡ç†flyweight</li><li id="6cc7" class="nh ni iq ka b kb nq kf nr kj ns kn nt kr nu kv nm nn no np bi translated"><strong class="ka ir"> Flyweight </strong> â€”å®ç°Flyweightæ¥å£ï¼Œå¹¶åœ¨å†…éƒ¨æ·»åŠ å†…éƒ¨çŠ¶æ€</li></ul><h1 id="03f5" class="lx kx iq bd ky ly lz ma lb mb mc md le me mf mg lh mh mi mj lk mk ml mm ln mn bi translated">ä½¿ç”¨ç¤ºä¾‹</h1><p id="cfc3" class="pw-post-body-paragraph jy jz iq ka b kb mo kd ke kf mp kh ki kj mq kl km kn mr kp kq kr ms kt ku kv ij bi translated">è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåŒ…å«å†…å®¹çš„è¡¨æ ¼ã€‚ä¸€æ—¦æ»šåŠ¨äº†1ä¸ªä½ç½®ï¼Œæˆ‘ä»¬ä¸ä¼šåˆ›å»ºæ–°çš„è¡Œå’Œå•å…ƒæ ¼å®ä¾‹ï¼Œä½†ä¼šç”¨æ–°çš„å†…å®¹æ›´æ–°ç°æœ‰çš„å®ä¾‹ã€‚è¯¸å¦‚æ­¤ç±»â€¦åœ¨å½“å‰çš„ä¾‹å­ä¸­ï¼Œæˆ‘æ²¡æœ‰ä½¿ç”¨å·¨å¤§çš„æ¨¡æ‹Ÿæ•°æ®æ¥æ¸²æŸ“ï¼Œè€Œæ˜¯åœ¨è¿è¡Œä¸­ç”Ÿæˆæ–°çš„å†…å®¹ã€‚å†…åœ¨çŠ¶æ€ä¿æŒæ¸²æŸ“æ–¹æ³•ï¼Œé“¾æ¥åˆ°DOMç­‰ã€‚å¤–éƒ¨çŠ¶æ€ä¿å­˜æœ‰å…³å½“å‰å•å…ƒæ ¼å†…å®¹çš„ä¿¡æ¯ï¼Œè¯¥ä¿¡æ¯å°†åœ¨æ»šåŠ¨ä½ç½®æ›´æ”¹åç«‹å³æ›´æ–°ã€‚</p><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="nv nw l"/></div></figure><p id="bad0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">è¿™é‡Œçš„è¡¨çš„ä¸»è¦ç¼–åˆ¶è€…æ˜¯ä¸€ä¸ªè¡¨ç±»</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="d78d" class="kw kx iq my b gy nc nd l ne nf">/**<br/>* Class presenting a table<br/>*/<br/>class Table {<br/>  /**<br/>  * Create a table<br/>  * <a class="ae lw" href="http://twitter.com/param" rel="noopener ugc nofollow" target="_blank">@param</a> {String} selector - table selector<br/>  */<br/>  constructor(selector) {<br/>    this.$table = document.querySelector(selector);<br/>  }<br/>  <br/>  /**<br/>  * Add flyweight rows into the table<br/>  * <a class="ae lw" href="http://twitter.com/param" rel="noopener ugc nofollow" target="_blank">@param</a> {Array} - array of rows flyweight to add<br/>  */<br/>  addRows(rows) {<br/>    this.rows = rows;<br/>    this.rows.forEach(row =&gt; this.$table.appendChild(row.render()));<br/>  }<br/>  <br/>  /**<br/>  * Update flyweight rows extrinsic state with a new content<br/>  * <a class="ae lw" href="http://twitter.com/param" rel="noopener ugc nofollow" target="_blank">@param</a> {Array} data - new data for rows<br/>  */<br/>  updateTableData(data) {<br/>    this.rows.forEach((row, idx) =&gt; row.updateRowData(data[idx]));<br/>  }<br/>}</span></pre><p id="4dc0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">åœ¨å®ä¾‹åŒ–æ—¶ï¼Œå®ƒæ¥å—ä¸€ä¸ªé€‰æ‹©å™¨æ¥è·å¾—åˆ°DOMçš„é“¾æ¥ã€‚<code class="fe nx ny nz my b">.addRows</code>æ–¹æ³•æ¥å—flyweightè¡Œçš„æ•°ç»„åœ¨è¡¨ä¸­å‘ˆç°ã€‚<code class="fe nx ny nz my b">.updateTableData</code>æ–¹æ³•å°†æ¯ä¸€è¡Œçš„å¤–åœ¨çŠ¶æ€æ›´æ–°åˆ°å¯¹åº”çš„å®é™…æ»šåŠ¨ä½ç½®ã€‚</p><p id="b089" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">row flyweightç±»çœ‹èµ·æ¥åƒ</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="2f07" class="kw kx iq my b gy nc nd l ne nf">/**<br/>* Class presenting a row flyweight<br/>*/<br/>class Row {<br/>  /**<br/>  * Create a row<br/>  * <a class="ae lw" href="http://twitter.com/param" rel="noopener ugc nofollow" target="_blank">@param</a> {Array} cellItems - cell items to render<br/>  **/<br/>  constructor(cellItems) {<br/>    this.cellItems = cellItems;<br/>  }<br/>  <br/>  /**<br/>  * Update row data with new extrinsic state data<br/>  * <a class="ae lw" href="http://twitter.com/param" rel="noopener ugc nofollow" target="_blank">@param</a> {Array} newData - new data array to be updated<br/>  */<br/>  updateRowData(newData) {<br/>    this.cellItems.forEach((item, idx) =&gt; {<br/>      item.updateContent(newData[idx]);<br/>    });<br/>  }<br/>  <br/>  /**<br/>  * Render the row<br/>  * <a class="ae lw" href="http://twitter.com/return" rel="noopener ugc nofollow" target="_blank">@return</a> {DOMElement} row - row element<br/>  */<br/>  render() {<br/>    const row = document.createElement('tr');<br/>    this.cellItems.forEach(item =&gt; row.appendChild(item.render()));<br/>    <br/>    return row;<br/>  }<br/>}</span></pre><p id="ef35" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">å®ƒæ¥å—å•å…ƒæ ¼flyweighté¡¹æ•°ç»„ï¼Œå› æ­¤Rowç±»èƒ½å¤Ÿä¾æ¬¡æ›´æ–°å…¶å¤–éƒ¨çŠ¶æ€ã€‚å¯é€šè¿‡æ¥å—æ–°æ•°æ®æ•°ç»„çš„<code class="fe nx ny nz my b">.updateRowData</code>æ–¹æ³•è¿›è¡Œæ›´æ–°ã€‚<code class="fe nx ny nz my b">.render</code>æ–¹æ³•åªæ˜¯å°†æ¯ä¸ªå•å…ƒæ ¼çš„å†…å®¹ä½œä¸ºå­å…ƒç´ æ·»åŠ åˆ°è¡Œå®¹å™¨ä¸­ã€‚</p><p id="fc41" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">cell flyweightç±»çœ‹èµ·æ¥åƒ</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="23e2" class="kw kx iq my b gy nc nd l ne nf">/**<br/>* Class presenting a cell flyweight<br/>*/<br/>class Cell {<br/>  /**<br/>  * Create a cell<br/>  * <a class="ae lw" href="http://twitter.com/param" rel="noopener ugc nofollow" target="_blank">@param</a> {String} content - content of a cell<br/>  **/<br/>  constructor(content) {<br/>    this.content = content;<br/>  }<br/>  <br/>  /**<br/>  * Update content of a cell<br/>  * <a class="ae lw" href="http://twitter.com/param" rel="noopener ugc nofollow" target="_blank">@param</a> {String} content - content of a cell<br/>  */<br/>  updateContent(content) {<br/>    this.content = content;<br/>    this.cell.innerText = content;<br/>  }<br/>  <br/>  /**<br/>  * Render the cell<br/>  * <a class="ae lw" href="http://twitter.com/return" rel="noopener ugc nofollow" target="_blank">@return</a> {DOMElement} cell - cell element<br/>  */<br/>  render() {<br/>    const cell = document.createElement('td');<br/>    this.cell = cell;<br/>    cell.innerText = this.content;<br/>    <br/>    return cell;<br/>    <br/>  }<br/>}</span></pre><p id="5f01" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">å®ƒæ¥å—è¦åœ¨è¡¨æ ¼å•å…ƒæ ¼å†…å‘ˆç°çš„å†…å®¹ã€‚<code class="fe nx ny nz my b">.updateContent</code>æ–¹æ³•æ¥å—æ–°çš„å†…å®¹ä½œä¸ºæ–°çš„å¤–åœ¨çŠ¶æ€ä¼ é€’ã€‚<code class="fe nx ny nz my b">.render</code>æ–¹æ³•åªæ˜¯ç”¨ä»å½“å‰å¤–éƒ¨çŠ¶æ€ä¼ é€’çš„å†…å®¹åˆ›å»ºæ–°çš„DOMèŠ‚ç‚¹ã€‚</p><h1 id="a56f" class="lx kx iq bd ky ly lz ma lb mb mc md le me mf mg lh mh mi mj lk mk ml mm ln mn bi translated">åˆ©æ¶¦</h1><p id="297c" class="pw-post-body-paragraph jy jz iq ka b kb mo kd ke kf mp kh ki kj mq kl km kn mr kp kq kr ms kt ku kv ij bi translated">å…±äº«çš„flyweightsè¶Šå¤šï¼ŒèŠ‚çœçš„å­˜å‚¨å°±è¶Šå¤šã€‚æœ€ä¸¥é‡çš„æƒ…å†µå‘ç”Ÿåœ¨å½“å¯¹è±¡ä½¿ç”¨å¤§é‡çš„å†…åœ¨å’Œå¤–åœ¨çŠ¶æ€æ—¶ï¼Œå¹¶ä¸”å¤–åœ¨çŠ¶æ€å¯ä»¥è¢«è®¡ç®—è€Œä¸æ˜¯è¢«å­˜å‚¨ã€‚</p><p id="7427" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">å½“å¤„ç†å¤§é‡çš„å†…å®¹æ—¶ï¼Œè¿™æ˜¯ä¸€ä¸ªå·¨å¤§çš„å¥½å¤„ï¼Œå¯ä»¥ä¸ç”¨æˆ·è¿›è¡Œå®æ—¶äº¤äº’ã€‚</p><h1 id="fedc" class="lx kx iq bd ky ly lz ma lb mb mc md le me mf mg lh mh mi mj lk mk ml mm ln mn bi translated">è–„å¼±çš„åœ°æ–¹</h1><p id="3b4e" class="pw-post-body-paragraph jy jz iq ka b kb mo kd ke kf mp kh ki kj mq kl km kn mr kp kq kr ms kt ku kv ij bi translated">Flyweightså¯èƒ½ä¼šå¼•å…¥ä¸€äº›ä¸è½¬ç§»ã€æŸ¥æ‰¾å’Œè®¡ç®—ç°æœ‰çŠ¶æ€ç›¸å…³çš„è¿è¡Œæ—¶æˆæœ¬ã€‚ç„¶è€Œï¼Œå¯¹äºå†…å­˜åˆ†é…çš„èŠ‚çœæ¥è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ªå…¬å¹³çš„æŠ¥é…¬ï¼Œéšç€æ›´å¤šçš„è½»é‡çº§å…±äº«ï¼Œå†…å­˜åˆ†é…ä¹Ÿä¼šå¢åŠ ã€‚</p><p id="2fdb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æœ‰æ—¶ï¼Œå½“å†…å­˜æ¯”è¿è¡Œæ—¶é™åˆ¶ä¾¿å®œæ—¶ï¼Œå¤–éƒ¨çŠ¶æ€çš„è®¡ç®—å¯èƒ½æ˜¯ä¸€ç§å¼€é”€ã€‚</p><p id="6fb7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ä»ä»£ç é˜…è¯»çš„è§’åº¦æ¥çœ‹ï¼Œè®¡ç®—ç»™ä»£ç å¢åŠ äº†ä¸€ç‚¹å¤æ‚æ€§(ä¸åºå¤§ä¸”ç»„ç»‡è‰¯å¥½çš„é™æ€æ•°æ®ç»“æ„å½¢æˆå¯¹æ¯”)ã€‚</p><h1 id="0bae" class="lx kx iq bd ky ly lz ma lb mb mc md le me mf mg lh mh mi mj lk mk ml mm ln mn bi translated">ç»“è®º</h1><p id="5e9c" class="pw-post-body-paragraph jy jz iq ka b kb mo kd ke kf mp kh ki kj mq kl km kn mr kp kq kr ms kt ku kv ij bi translated">Flyweightæ¨¡å¼é€šå¸¸ä¸<a class="ae lw" rel="noopener ugc nofollow" target="_blank" href="/easy-patterns-composite-8b28aa1f158">å¤åˆ</a>æ¨¡å¼ä¸€èµ·ä½¿ç”¨ï¼Œä»¥ä¿æŒç³»ç»Ÿä¸­çš„é€»è¾‘å±‚æ¬¡ç»“æ„ã€‚</p><p id="831a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ä¼˜ç‚¹æ˜¯ä½¿ç”¨Flyweightæ¨¡å¼æ¥å®ç°çŠ¶æ€å’Œç­–ç•¥æ¨¡å¼å¯¹è±¡ã€‚</p><p id="7216" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">å¦‚æœæ‚¨è§‰å¾—è¿™ç¯‡æ–‡ç« æœ‰å¸®åŠ©ï¼Œè¯·ç‚¹å‡»ğŸ‘æŒ‰é’®å¹¶åœ¨ä¸‹é¢éšæ„è¯„è®ºï¼</p></div></div>    
</body>
</html>