<html>
<head>
<title>Understanding Angular Life Cycle Hooks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">äº†è§£è§’åº¦ç”Ÿå‘½å‘¨æœŸæŒ‚é’©</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://itnext.io/understanding-angular-life-cycle-hooks-91616f8946e3?source=collection_archive---------1-----------------------#2019-07-22">https://itnext.io/understanding-angular-life-cycle-hooks-91616f8946e3?source=collection_archive---------1-----------------------#2019-07-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2b34" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">é…æœ‰ç”¨çš„ä¾‹å­ï¼</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/f50cba41212fd09826138a28edb37df9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8NOCjifxWN7tAPEu2p4Hng.png"/></div></div></figure><p id="f2aa" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">åœ¨Angularåº”ç”¨ç¨‹åºä¸­ï¼Œç»„ä»¶ä»åˆ›å»ºåˆ°é”€æ¯çš„æ•´ä¸ª<em class="lq">ç”Ÿå‘½å‘¨æœŸ</em>éƒ½ç”±Angularç®¡ç†ã€‚å®ƒä¸ºæˆ‘ä»¬æä¾›äº†å¯¹<em class="lq">ç”Ÿå‘½å‘¨æœŸé’©å­</em>çš„è®¿é—®ï¼Œè¿™å…è®¸æˆ‘ä»¬åœ¨ç»„ä»¶çš„<em class="lq">ç”Ÿå‘½å‘¨æœŸ</em>çš„å…³é”®æ—¶åˆ»é‡‡å–è¡ŒåŠ¨ã€‚</p><p id="2a8c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">ä¸ºäº†ä½¿ç”¨è¿™äº›<em class="lq">é’©å­ï¼Œ</em>æˆ‘ä»¬å¿…é¡»å‘Šè¯‰Angularæˆ‘ä»¬æƒ³è¦å®ç°æœŸæœ›çš„<em class="lq">é’©å­æ¥å£</em>ã€‚Angularæ£€æŸ¥ç»„ä»¶ç±»ï¼Œ<strong class="kw iu"> <em class="lq">è°ƒç”¨</em> <em class="lq">é’©å­</em> <em class="lq">æ–¹æ³•ï¼Œå¦‚æœå®ƒä»¬è¢«å®šä¹‰</em> </strong>ã€‚ä¸‹é¢æ˜¯è¿™ä¸ªè¯­æ³•æ˜¯å¦‚ä½•è¿›è¡Œçš„<em class="lq">(å¯¹äºOnInit) </em>:</p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="56c3" class="lw lx it ls b gy ly lz l ma mb">export class MyComponent <strong class="ls iu">implements OnInit</strong> {</span><span id="fffc" class="lw lx it ls b gy mc lz l ma mb">    constructor() { }</span><span id="e9a0" class="lw lx it ls b gy mc lz l ma mb">    <strong class="ls iu">ngOnInit() {<br/>        </strong>// Insert Logic Here!<strong class="ls iu"><br/>    }</strong></span><span id="f443" class="lw lx it ls b gy mc lz l ma mb">}</span></pre><p id="a2c3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">è¿™æ˜¯Angularæä¾›çš„é’©å­åˆ—è¡¨ï¼Œè¿™äº›é’©å­æ˜¯æŒ‰ç…§è¿™ä¸ªé¡ºåºè°ƒç”¨çš„ï¼Œæˆ‘ä»¬å°†åœ¨ä¸‹é¢é€ä¸€æ·±å…¥ç ”ç©¶:</p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="cea7" class="lw lx it ls b gy ly lz l ma mb">â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—<br/>â•‘   <strong class="ls iu"><em class="lq">lifecycle hooks</em>  </strong>        â•‘<br/>â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£<br/>â•‘   ngOnChanges()            â•‘<br/>â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£<br/>â•‘   ngOnInit()               â•‘<br/>â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£<br/>â•‘   ngDoCheck()              â•‘<br/>â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£<br/>â•‘   ngAfterContentInit()     â•‘ <br/>â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£<br/>â•‘   ngAfterContentChecked()  â•‘  <br/>â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£<br/>â•‘   ngAfterViewInit()        â•‘<br/>â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£<br/>â•‘   ngAfterViewChecked()     â•‘<br/>â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£<br/>â•‘   ngOnDestroy()            â•‘<br/>â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></pre></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h2 id="3b7d" class="lw lx it bd mk ml mm dn mn mo mp dp mq ld mr ms mt lh mu mv mw ll mx my mz na bi translated">æ©è´¡æ˜Œæ–¯</h2><p id="54cf" class="pw-post-body-paragraph ku kv it kw b kx nb ju kz la nc jx lc ld nd lf lg lh ne lj lk ll nf ln lo lp im bi translated">è¯¥æ–¹æ³•åœ¨ç»„ä»¶åˆ›å»ºæ—¶è¢«è°ƒç”¨ä¸€æ¬¡ï¼Œç„¶ååœ¨ç»„ä»¶çš„<em class="lq">è¾“å…¥</em>å±æ€§ä¹‹ä¸€æ£€æµ‹åˆ°å˜åŒ–æ—¶è¢«è°ƒç”¨<strong class="kw iu">ã€‚å®ƒæ¥æ”¶ä¸€ä¸ª<a class="ae ng" href="https://angular.io/api/core/SimpleChanges" rel="noopener ugc nofollow" target="_blank"><em class="lq">simple changes</em></a>å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œè¯¥å¯¹è±¡åŒ…å«å…³äºå“ªä¸ª<em class="lq">è¾“å…¥</em>å±æ€§å·²ç»æ›´æ”¹çš„ä¿¡æ¯â€”â€”å¦‚æœæˆ‘ä»¬æœ‰å¤šä¸ªå±æ€§â€”â€”ä»¥åŠå®ƒçš„å½“å‰å€¼å’Œå…ˆå‰å€¼ã€‚</strong></p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="182e" class="lw lx it ls b gy ly lz l ma mb">export class MyComponent implements <strong class="ls iu">OnChanges </strong>{</span><span id="d191" class="lw lx it ls b gy mc lz l ma mb">    <strong class="ls iu">ngOnChanges(changes: SimpleChanges) {</strong><br/>        // Insert Logic Here!<br/>    <strong class="ls iu">}</strong></span><span id="31f1" class="lw lx it ls b gy mc lz l ma mb">}</span></pre><p id="9613" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><em class="lq"> Obs:å½“è¾“å…¥å±æ€§æ²¡æœ‰è®¾ç½®å€¼æ—¶ï¼Œå…¶å€¼é»˜è®¤è®¾ç½®ä¸ºå­—ç¬¦ä¸²â€œCD_INIT_VALUEâ€ã€‚</em></p><p id="4707" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">è¿™æ˜¯<em class="lq">ç”Ÿå‘½å‘¨æœŸæŒ‚é’©</em>ä¸­çš„ä¸€ä¸ªï¼Œå¯ä»¥åœ¨å¤šç§ç”¨ä¾‹ä¸­æ´¾ä¸Šç”¨åœºã€‚å¦‚æœæ‚¨éœ€è¦æ ¹æ®æ¥æ”¶åˆ°çš„<em class="lq">è¾“å…¥</em>å±æ€§å¤„ç†ç»„ä»¶ä¸­çš„ä»»ä½•ç‰¹å®šé€»è¾‘ï¼Œè¿™å°†éå¸¸æœ‰ç”¨ã€‚</p><p id="b148" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">å‡è®¾æ‚¨æœ‰ä¸€ä¸ªæ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯çš„ç»„ä»¶ï¼Œå®ƒæ¥æ”¶UserInfoå¯¹è±¡ä½œä¸ºè¾“å…¥å‚æ•°ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªå…³äºå¦‚ä½•åœ¨ç»„ä»¶ä¸­ä½¿ç”¨<em class="lq"> ngOnChanges </em>æ¥æ·»åŠ é€»è¾‘ä»¥å¤„ç†<em class="lq"> UserInfoå±æ€§</em>çš„å˜åŒ–çš„ä¾‹å­ã€‚</p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="cff1" class="lw lx it ls b gy ly lz l ma mb">export class UserInfoComponent implements OnChanges {</span><span id="0b88" class="lw lx it ls b gy mc lz l ma mb">  @Input userInfo: UserInfo;</span><span id="7cc3" class="lw lx it ls b gy mc lz l ma mb">  ngOnChanges(changes: SimpleChanges) {<br/>    const previousValue = <!-- -->changes[<!-- -->'userInfo']<!-- -->.previousValue;<br/>    <!-- -->const currentValue = <!-- -->changes[<!-- -->'userInfo']<!-- -->.currentValue;<br/>    // Your Logic!<br/>  <!-- -->}</span><span id="28f6" class="lw lx it ls b gy mc lz l ma mb">}</span></pre></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h2 id="8ec6" class="lw lx it bd mk ml mm dn mn mo mp dp mq ld mr ms mt lh mu mv mw ll mx my mz na bi translated">æ©æˆˆå°¼ç‰¹</h2><p id="3405" class="pw-post-body-paragraph ku kv it kw b kx nb ju kz la nc jx lc ld nd lf lg lh ne lj lk ll nf ln lo lp im bi translated">åœ¨ç»„ä»¶ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œåœ¨ç¬¬ä¸€ä¸ª<em class="lq"> ngOnChanges </em>è°ƒç”¨<em class="lq">ä¹‹åï¼Œè¿™ä¸ªæ–¹æ³•åªè¢«è°ƒç”¨<strong class="kw iu">ä¸€æ¬¡</strong>ã€‚</em>æ­¤æ—¶ï¼Œåœ¨<em class="lq"> </em>è¯¥æ–¹æ³•ä¸­ï¼Œæ‚¨ä¸ä»…å¯ä»¥è®¿é—®<em class="lq">æ•°æ®ç»‘å®šå±æ€§</em>ï¼Œè¿˜å¯ä»¥è®¿é—®<em class="lq">ç»„ä»¶çš„è¾“å…¥å±æ€§</em>ã€‚</p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="178d" class="lw lx it ls b gy ly lz l ma mb">export class MyComponent implements <strong class="ls iu">OnInit </strong>{</span><span id="53a7" class="lw lx it ls b gy mc lz l ma mb">  <strong class="ls iu">ngOnInit() {</strong><br/>      // Insert Logic Here!<br/>  <strong class="ls iu">}</strong></span><span id="5022" class="lw lx it ls b gy mc lz l ma mb">}</span></pre><p id="d865" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">è¿™æ˜¯Angularä¸­æœ€å¸¸ç”¨çš„<em class="lq">ç”Ÿå‘½å‘¨æœŸæŒ‚é’©</em>ä¹‹ä¸€ã€‚åœ¨è¿™é‡Œï¼Œæ‚¨å¯ä»¥è®¾ç½®å¯¹æœåŠ¡å™¨çš„è¯·æ±‚ä»¥åŠ è½½å†…å®¹ï¼Œå¯ä»¥ä¸ºè¯¥ç»„ä»¶å¤„ç†çš„è¡¨å•åˆ›å»ºä¸€ä¸ª<em class="lq">è¡¨å•ç»„</em>ï¼Œè®¾ç½®è®¢é˜…ç­‰ç­‰ã€‚åŸºæœ¬ä¸Šï¼Œ<strong class="kw iu"> <em class="lq">åœ¨ç»„ä»¶æ„å»ºå®Œæˆåä¸ä¹…ï¼Œæ‚¨å°±å¯ä»¥åœ¨è¿™é‡Œæ‰§è¡Œä»»ä½•åˆå§‹åŒ–ã€‚</em></strong></p><p id="5b4c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">å‡è®¾æ‚¨æœ‰ä¸€ä¸ªæ³¨å†Œè¡¨å•ç»„ä»¶ï¼Œæ‚¨å¸Œæœ›åŸºäºä»æœåŠ¡å™¨æ¥æ”¶çš„å­—æ®µåˆ›å»ºè¡¨å•ï¼Œè¿™äº›å­—æ®µæ˜¯æ ¹æ®ç”¨æˆ·ç±»å‹è·å–çš„ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªå¦‚ä½•ä½¿ç”¨<em class="lq"> ngOnInit </em>æ¥å®ç°è¿™ä¸€ç‚¹çš„ä¾‹å­ã€‚</p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="186e" class="lw lx it ls b gy ly lz l ma mb">export class RegisterFormComponent implements OnInit {</span><span id="958a" class="lw lx it ls b gy mc lz l ma mb">  public formGroup: FormGroup;<br/>  private _userType: UserTypeEnum;</span><span id="187e" class="lw lx it ls b gy mc lz l ma mb">  constructor(<br/>    private _activatedRoute: ActivatedRoute,<br/>    private _myService: MyService<br/>  ) {<br/>    this._userType =<br/>      this._activatedRoute.snapshot.paramMap.get('userType');<br/>  }</span><span id="02fa" class="lw lx it ls b gy mc lz l ma mb">  ngOnInit() {<br/>    this._myService.getFormFieldsByType(<br/>      this._userType<br/>    ).subscribe((response) =&gt; {<br/>      this.formGroup = this._createForm(<br/>        response.data<br/>      );<br/>    }, (error) =&gt; console.error( error ) );<br/>  <!-- -->}</span><span id="8928" class="lw lx it ls b gy mc lz l ma mb">  private _createForm(formFields: Array&lt;FormFields&gt;): FormGroup {<br/>    // FormGroup Creation Logic!<br/>  }</span><span id="1e6c" class="lw lx it ls b gy mc lz l ma mb">}</span></pre></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h2 id="c215" class="lw lx it bd mk ml mm dn mn mo mp dp mq ld mr ms mt lh mu mv mw ll mx my mz na bi translated">Obs:å»ºé€ å¸ˆvs <em class="nh">æ©æˆˆå°¼ç‰¹</em>ï¼Ÿ</h2><p id="55b5" class="pw-post-body-paragraph ku kv it kw b kx nb ju kz la nc jx lc ld nd lf lg lh ne lj lk ll nf ln lo lp im bi translated">ä¹Ÿè®¸ä½ æƒ³çŸ¥é“ä¸ºä»€ä¹ˆæŠŠä½ çš„åˆå§‹åŒ–é€»è¾‘æ”¾åœ¨<em class="lq"> ngOnInit </em>é‡Œé¢ï¼Œå½“ä½ å¯ä»¥åœ¨ç±»<em class="lq">æ„é€ å‡½æ•°ä¸­åšçš„æ—¶å€™ã€‚å—¯ï¼ŒåŸºæœ¬ä¸Šæ„é€ å‡½æ•°æœ€å¥½ç•™ç»™ä¾èµ–æ³¨å…¥ä½¿ç”¨ï¼Œæˆ‘ä»¬çš„åˆå§‹åŒ–é€»è¾‘åº”è¯¥æ”¾åœ¨<em class="lq"> ngOnInit </em>ä¸Šã€‚</em></p><p id="7d8f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">è¿™æ˜¯å› ä¸º<em class="lq"> Javascript </em>å¼•æ“å¤„ç†çš„æ˜¯<em class="lq">æ„é€ å™¨</em>ï¼Œè€Œä¸æ˜¯<em class="lq"> Angular </em>ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆ<em class="lq"> ngOnInit </em>é’©å­è¢«åˆ›å»ºçš„åŸå› ä¹‹ä¸€ï¼Œå®ƒè¢«Angularè°ƒç”¨ï¼Œå¹¶æˆä¸ºç”±å…¶ç®¡ç†çš„ç»„ä»¶çš„<em class="lq">ç”Ÿå‘½å‘¨æœŸ</em>çš„ä¸€éƒ¨åˆ†ã€‚å½“ç„¶ï¼Œè¿™ä¹Ÿæ˜¯å› ä¸ºä½ è¿˜ä¸èƒ½åœ¨æ„é€ å‡½æ•°ä¸Šè®¿é—®ç»„ä»¶çš„è¾“å…¥å±æ€§ã€‚</strong></p></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h2 id="9b3d" class="lw lx it bd mk ml mm dn mn mo mp dp mq ld mr ms mt lh mu mv mw ll mx my mz na bi translated">ngDoCheck</h2><p id="60cd" class="pw-post-body-paragraph ku kv it kw b kx nb ju kz la nc jx lc ld nd lf lg lh ne lj lk ll nf ln lo lp im bi translated">è¿™ä¸ªé’©å­å¯ä»¥è§£é‡Šä¸º<em class="lq"> ngOnChangesçš„<em class="lq">ã€æ‰©å±•ã€‘</em>ã€‚</em>ä½ å¯ä»¥ç”¨è¿™ä¸ªæ–¹æ³•<strong class="kw iu">æ£€æµ‹å‡ºAngular</strong>æ£€æµ‹ä¸åˆ°æˆ–è€…ä¸ä¼šæ£€æµ‹åˆ°çš„å˜åŒ–ã€‚åœ¨<em class="lq"> ngOnChanges </em>å’Œ<em class="lq"> ngOnInit </em>é’©å­ä¹‹åï¼Œæ¯æ¬¡å˜åŒ–æ£€æµ‹æ—¶ï¼Œå®ƒéƒ½è¢«è°ƒç”¨ã€‚</p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="c88a" class="lw lx it ls b gy ly lz l ma mb">export class MyComponent implements DoCheck {</span><span id="88dd" class="lw lx it ls b gy mc lz l ma mb">  ...<br/>  private _currentValue;<br/>  private _previousValue;<br/>  public changeDetected: boolean = false;<br/>  ...</span><span id="b7dc" class="lw lx it ls b gy mc lz l ma mb">  ngDoCheck() {<br/>    if (this._previousValue !== this._currentValue) {<br/>      this.changeDetected = true;<br/>      // Insert Logic Here<br/>    }<br/>  }</span><span id="d8f3" class="lw lx it ls b gy mc lz l ma mb">}</span></pre><p id="49ff" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">Obs:è¿™ä¸ªé’©å­çœŸçš„å¾ˆæ˜‚è´µï¼Œå› ä¸ºå®ƒè¢«è°ƒç”¨çš„é¢‘ç‡éå¸¸é«˜ï¼›åœ¨æ¯ä¸ªå˜åŒ–æ£€æµ‹å‘¨æœŸä¹‹åï¼Œä¸ç®¡å˜åŒ–å‘ç”Ÿåœ¨å“ªé‡Œã€‚å› æ­¤ï¼Œä¸ºäº†ä¸å½±å“ç”¨æˆ·ä½“éªŒï¼Œå…¶ä½¿ç”¨åº”è°¨æ…ã€‚</p></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h2 id="3650" class="lw lx it bd mk ml mm dn mn mo mp dp mq ld mr ms mt lh mu mv mw ll mx my mz na bi translated">åç»­å†…å®¹å’Œåç»­è§†å›¾</h2><p id="10b9" class="pw-post-body-paragraph ku kv it kw b kx nb ju kz la nc jx lc ld nd lf lg lh ne lj lk ll nf ln lo lp im bi translated">åœ¨æˆ‘ä»¬è®¨è®ºè¿™äº›æŒ‚é’©ä¹‹å‰ï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦äº†è§£å®ƒä»¬ä¸ä»€ä¹ˆç›¸å…³:</p><blockquote class="ni nj nk"><p id="f09a" class="ku kv lq kw b kx ky ju kz la lb jx lc nl le lf lg nm li lj lk nn lm ln lo lp im bi translated">AfterContentæŒ‚é’©å…³æ³¨çš„æ˜¯<code class="fe no np nq ls b"><a class="ae ng" href="https://angular.io/api/core/ContentChildren" rel="noopener ugc nofollow" target="_blank"><em class="it">ContentChildren</em></a></code>ï¼ŒæŠ•å°„åˆ°ç»„ä»¶ä¸­çš„å­ç»„ä»¶ã€‚</p><p id="ca7b" class="ku kv lq kw b kx ky ju kz la lb jx lc nl le lf lg nm li lj lk nn lm ln lo lp im bi translated">AfterViewæŒ‚é’©å…³æ³¨çš„æ˜¯<code class="fe no np nq ls b"><a class="ae ng" href="https://angular.io/api/core/ViewChildren" rel="noopener ugc nofollow" target="_blank">ViewChildren</a></code>ï¼Œå…¶å…ƒç´ æ ‡ç­¾å‡ºç°åœ¨ç»„ä»¶æ¨¡æ¿ä¸­çš„<em class="it">å­ç»„ä»¶ã€‚"</em></p></blockquote><p id="028a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">ä¸ºäº†è¯´æ˜æˆ‘ä»¬æ­£åœ¨è®¨è®ºçš„å†…å®¹ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸‹é¢çš„ç»„ä»¶ï¼Œå®ƒæ—¢æœ‰<em class="lq"> ContentChild </em>åˆæœ‰<em class="lq"> ViewChildã€‚</em>æˆ‘ä»¬å°†æœ‰ä¸€ä¸ª<em class="lq"> ng-content </em>æ ‡ç­¾ï¼Œå®ƒå°†å‘ˆç°ä»çˆ¶èŠ‚ç‚¹ä¼ é€’è¿‡æ¥çš„<em class="lq">å†…å®¹</em>ï¼Œä»¥åŠä¸€ä¸ªå¯¹<em class="lq"> div ViewChild ( </em>ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º<em class="lq">åŒ…è£…å™¨)</em>çš„å¼•ç”¨ã€‚</p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="2091" class="lw lx it ls b gy ly lz l ma mb">@Component({<br/>  selector: 'my-component',<br/>  template: `<br/>    &lt;div <strong class="ls iu">#wrapper</strong> &gt;<br/>      <strong class="ls iu">&lt;ng-content&gt;&lt;/ng-content&gt;</strong><br/>    &lt;/div&gt;`<br/>})<br/>export class MyComponent implements {</span><span id="7202" class="lw lx it ls b gy mc lz l ma mb"> <strong class="ls iu"> @ViewChild('wrapper')</strong> wrapper: ElementRef;<br/>  <strong class="ls iu">@ContentChild('content')</strong> content: ElementRef;<br/><br/>}</span></pre></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h2 id="9b86" class="lw lx it bd mk ml mm dn mn mo mp dp mq ld mr ms mt lh mu mv mw ll mx my mz na bi translated">ngAfterContentInit</h2><p id="f0b8" class="pw-post-body-paragraph ku kv it kw b kx nb ju kz la nc jx lc ld nd lf lg lh ne lj lk ll nf ln lo lp im bi translated">åœ¨ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œåœ¨ç¬¬ä¸€æ¬¡<em class="lq"> ngDoCheckä¹‹åï¼Œè¿™ä¸ªæ–¹æ³•åªè¢«è°ƒç”¨ä¸€æ¬¡ã€‚</em>åœ¨è¿™ä¸ªé’©å­ä¸­ï¼Œæˆ‘ä»¬åœ¨ç»„ä»¶åˆ›å»ºåç¬¬ä¸€æ¬¡è®¿é—®äº†<em class="lq"> ContentChild </em>çš„<em class="lq">element ref</em>ï¼›åœ¨Angularå·²ç»å°†å¤–éƒ¨å†…å®¹æŠ•å½±åˆ°ç»„ä»¶è§†å›¾ä¸­ä¹‹åã€‚</p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="1e65" class="lw lx it ls b gy ly lz l ma mb">@Component({<br/>  selector: 'my-component',<br/>  template: `<br/>    &lt;div&gt;<br/>      &lt;ng-content&gt;&lt;/ng-content&gt;<br/>    &lt;/div&gt;`<br/>})<br/>export class MyComponent implements <strong class="ls iu">AfterContentInit </strong>{</span><span id="dd56" class="lw lx it ls b gy mc lz l ma mb">  @ContentChild('content') content: ElementRef;<br/><br/>  <strong class="ls iu">ngAfterContentInit() {</strong><br/>    // Now we have access to 'this.content'!<br/>    // Insert Logic Here!<br/>  <strong class="ls iu">}</strong><br/>}</span></pre><h2 id="482e" class="lw lx it bd mk ml mm dn mn mo mp dp mq ld mr ms mt lh mu mv mw ll mx my mz na bi translated">ngAfterContentChecked</h2><p id="0c71" class="pw-post-body-paragraph ku kv it kw b kx nb ju kz la nc jx lc ld nd lf lg lh ne lj lk ll nf ln lo lp im bi translated">åœ¨ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œåœ¨<em class="lq"> ngAfterContentInit </em>ä¹‹åè°ƒç”¨<strong class="kw iu">ä¸€æ¬¡</strong>ï¼Œç„¶ååœ¨<strong class="kw iu">ä¹‹åæ¯</strong>æ¬¡<em class="lq"> ngDoCheckè°ƒç”¨ä¸€æ¬¡ã€‚</em>åœ¨Angularå·²ç»<em class="lq">æ£€æŸ¥è¿‡</em>æŠ•å°„åˆ°<em class="lq">å½“å‰æ‘˜è¦å¾ªç¯</em>ä¸­ç»„ä»¶çš„å†…å®¹åè°ƒç”¨ã€‚</p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="155c" class="lw lx it ls b gy ly lz l ma mb">@Component({<br/>  selector: 'my-component',<br/>  template: `<br/>    &lt;div&gt;<br/>      &lt;ng-content&gt;&lt;/ng-content&gt;<br/>    &lt;/div&gt;`<br/>})<br/>export class MyComponent implements <strong class="ls iu">AfterContentChecked </strong>{</span><span id="bd1c" class="lw lx it ls b gy mc lz l ma mb">  @ContentChild('content') content: ElementRef;<br/><br/>  <strong class="ls iu">ngAfterContentChecked() {</strong><br/>    // We have access to 'this.content'!<br/>    // Content has already been checked!<br/>    // Insert Logic Here!<br/>  <strong class="ls iu">}</strong><br/>}</span></pre></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h2 id="feec" class="lw lx it bd mk ml mm dn mn mo mp dp mq ld mr ms mt lh mu mv mw ll mx my mz na bi translated">ngAfterViewInit</h2><p id="52ba" class="pw-post-body-paragraph ku kv it kw b kx nb ju kz la nc jx lc ld nd lf lg lh ne lj lk ll nf ln lo lp im bi translated">åœ¨ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œåœ¨<em class="lq"> ngAfterContentCheckedä¹‹åï¼Œè¿™ä¸ªæ–¹æ³•åªè¢«è°ƒç”¨<strong class="kw iu">ä¸€æ¬¡</strong>ã€‚</em>åœ¨è¿™ä¸ªé’©å­ä¸­ï¼Œæˆ‘ä»¬åœ¨ç»„ä»¶åˆ›å»ºåç¬¬ä¸€æ¬¡è®¿é—®äº†<em class="lq"> ViewChildren </em>çš„<em class="lq">element refs</em>ï¼›åœ¨Angularå·²ç»ç»„åˆäº†ç»„ä»¶çš„è§†å›¾åŠå…¶å­è§†å›¾ä¹‹åã€‚</p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="818f" class="lw lx it ls b gy ly lz l ma mb">@Component({<br/>  selector: 'my-component',<br/>  template: `<br/>    &lt;div #wrapper &gt;<br/>      ...<br/>    &lt;/div&gt;`<br/>})<br/>export class MyComponent implements <strong class="ls iu">AfterViewInit </strong>{</span><span id="c3a0" class="lw lx it ls b gy mc lz l ma mb">  @ViewChild('wrapper') wrapper: ElementRef;<br/><br/>  <strong class="ls iu">ngAfterViewInit() {</strong><br/>    // Now we have access to 'this.wrapper'<br/>    // Insert Logic Here!<br/>  <strong class="ls iu">}</strong><br/><br/>}</span></pre><p id="f927" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">å½“æ‚¨éœ€è¦åœ¨ä¾èµ–äºè§†å›¾ç»„ä»¶çš„è§†å›¾ä¸ŠåŠ è½½å†…å®¹æ—¶ï¼Œè¿™ä¸ªé’©å­éå¸¸æœ‰ç”¨ï¼›ä¾‹å¦‚å½“ä½ éœ€è¦è®¾ç½®ä¸€ä¸ª<em class="lq">è§†é¢‘æ’­æ”¾å™¨</em>æˆ–è€…ä»ä¸€ä¸ªç”»å¸ƒå…ƒç´ åˆ›å»ºä¸€ä¸ª<em class="lq">å›¾è¡¨</em>çš„æ—¶å€™ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªå¦‚ä½•ä½¿ç”¨<em class="lq">ngafterview it</em>é’©å­è®¾ç½®<em class="lq">å›¾è¡¨</em>çš„ä¾‹å­ã€‚</p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="c44c" class="lw lx it ls b gy ly lz l ma mb">@Component({<br/>  selector: 'my-component',<br/>  template: `<br/>    &lt;div&gt;<br/>      &lt;canvas <!-- -->id="myCanvas" <!-- -->&gt;&lt;/canvas&gt;<br/>    &lt;/div&gt;`<br/>})<br/>export class MyComponent implements <strong class="ls iu">AfterViewInit </strong>{</span><span id="437a" class="lw lx it ls b gy mc lz l ma mb">  <strong class="ls iu">ngAfterViewInit() {</strong><br/>    // Now we can get the <em class="lq">canvas </em>element by its <em class="lq">id<br/>    </em>// in order to create the chart</span><span id="aa30" class="lw lx it ls b gy mc lz l ma mb">    <!-- -->this.chart = new Chart('radarCanvas', {<br/>      ...<br/>    });<br/>  <strong class="ls iu">}</strong><br/>}</span></pre><h2 id="629e" class="lw lx it bd mk ml mm dn mn mo mp dp mq ld mr ms mt lh mu mv mw ll mx my mz na bi translated">ngAfterViewChecked</h2><p id="cb8f" class="pw-post-body-paragraph ku kv it kw b kx nb ju kz la nc jx lc ld nd lf lg lh ne lj lk ll nf ln lo lp im bi translated">è¯¥æ–¹æ³•åœ¨<em class="lq">ngafterview</em>ä¹‹åè°ƒç”¨ä¸€æ¬¡<strong class="kw iu">ï¼Œç„¶ååœ¨<strong class="kw iu">ä¹‹åæ¯</strong>æ¬¡<em class="lq"> ngAfterContentChecked </em>è°ƒç”¨ä¸€æ¬¡ã€‚åœ¨Angularå·²ç»åœ¨<em class="lq">å½“å‰æ‘˜è¦å¾ªç¯</em>ä¸­<em class="lq">æ£€æŸ¥äº†</em>ç»„ä»¶çš„è§†å›¾åŠå…¶å­è§†å›¾åï¼Œè°ƒç”¨è¯¥å‡½æ•°ã€‚</strong></p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="6fc4" class="lw lx it ls b gy ly lz l ma mb">@Component({<br/>  selector: 'my-component',<br/>  template: `<br/>    &lt;div #wrapper &gt;<br/>      ...<br/>    &lt;/div&gt;`<br/>})<br/>export class MyComponent implements <strong class="ls iu">AfterViewChecked </strong>{</span><span id="70a1" class="lw lx it ls b gy mc lz l ma mb">  @ViewChild('wrapper') wrapper: ElementRef;<br/><br/>  <strong class="ls iu">ngAfterViewChecked() {</strong><br/>    // Now we have access to 'this.wrapper'!<br/>    // View has already been checked!<br/>    // Insert Logic Here!<br/>  <strong class="ls iu">}</strong><br/>}</span></pre></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h2 id="0040" class="lw lx it bd mk ml mm dn mn mo mp dp mq ld mr ms mt lh mu mv mw ll mx my mz na bi translated">OBS:<em class="nh">ExpressionChangedAfterItHasBeenCheckedError</em></h2><blockquote class="ni nj nk"><p id="0d71" class="ku kv lq kw b kx ky ju kz la lb jx lc nl le lf lg nm li lj lk nn lm ln lo lp im bi translated">Angularçš„å•å‘æ•°æ®æµè§„åˆ™ç¦æ­¢åœ¨è§†å›¾åˆæˆåå¯¹å…¶è¿›è¡Œæ›´æ–°ã€‚è¿™ä¸¤ä¸ªé’©å­(AfterViewInitå’ŒAfterViewChecked)åœ¨ç»„ä»¶çš„è§†å›¾ç»„æˆåè§¦å‘<em class="it">ã€‚</em></p></blockquote><p id="0949" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">ä¸Šé¢å¼•ç”¨è‡ªAngular Docsçš„<em class="lq"> obs </em>è§¦å‘äº†è‘—åçš„<em class="lq">ExpressionChangedAfterItHasBeenCheckedErrorã€‚</em>äº†è§£ä½•æ—¶ä½¿ç”¨è¿™äº›<em class="lq">ç”Ÿå‘½å‘¨æœŸæŒ‚é’©</em>æœ‰åŠ©äºé¿å…è¿™ç§æƒ…å†µã€‚å¦‚æœä½ æƒ³äº†è§£æ›´å¤šï¼Œä»¥åŠAngularçš„å˜åŒ–æ£€æµ‹æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œä½ å¯ä»¥æŸ¥çœ‹è¿™ç¯‡æ–‡ç« ã€‚</p></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h2 id="c35c" class="lw lx it bd mk ml mm dn mn mo mp dp mq ld mr ms mt lh mu mv mw ll mx my mz na bi translated">æ©è´¡å¾·æ–¯ç‰¹ç½—ä¼Š</h2><p id="89a3" class="pw-post-body-paragraph ku kv it kw b kx nb ju kz la nc jx lc ld nd lf lg lh ne lj lk ll nf ln lo lp im bi translated">æœ€åï¼Œè¿™ä¸ªæ–¹æ³•åœ¨ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸä¸­åªè¢«è°ƒç”¨ä¸€æ¬¡ï¼Œå°±åœ¨è§’åº¦é”€æ¯å®ƒ<em class="lq">ä¹‹å‰ã€‚</em>æ‚¨åº”è¯¥åœ¨è¿™é‡Œé€šçŸ¥åº”ç”¨ç¨‹åºçš„å…¶ä½™éƒ¨åˆ†ï¼Œç»„ä»¶æ­£åœ¨è¢«é”€æ¯ï¼Œä»¥é˜²éœ€è¦å¯¹è¯¥ä¿¡æ¯æ‰§è¡Œä»»ä½•æ“ä½œã€‚</p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="0775" class="lw lx it ls b gy ly lz l ma mb">export class MyComponent implements <strong class="ls iu">OnDestroy </strong>{</span><span id="7c1e" class="lw lx it ls b gy mc lz l ma mb">  <strong class="ls iu">ngOnDestroy() {</strong><br/>      // Insert Logic Here!<br/>  <strong class="ls iu">}</strong></span><span id="bcd7" class="lw lx it ls b gy mc lz l ma mb">}</span></pre><p id="fa74" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">è¿™ä¹Ÿæ˜¯ä½ åº”è¯¥ä¸ºç»„ä»¶æ”¾ç½®æ‰€æœ‰çš„<strong class="kw iu">æ¸…ç†é€»è¾‘</strong>çš„åœ°æ–¹ã€‚ä¾‹å¦‚ï¼Œåœ¨è¿™é‡Œæ‚¨å¯ä»¥åˆ é™¤ä»»ä½•<em class="lq"> localstorage </em>ä¿¡æ¯ï¼Œæœ€é‡è¦çš„æ˜¯ï¼Œå–æ¶ˆè®¢é˜…<em class="lq">observables/</em>detach<em class="lq">event handlers/</em>stop<em class="lq">timersï¼Œç­‰ç­‰ã€‚</em> <strong class="kw iu">é¿å…å†…å­˜æ³„éœ²</strong>ã€‚</p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="afff" class="lw lx it ls b gy ly lz l ma mb">export class MyComponent implements OnDestroy {</span><span id="be86" class="lw lx it ls b gy mc lz l ma mb">  private _mySubject: Subject&lt;string&gt; = new Subject();</span><span id="f56f" class="lw lx it ls b gy mc lz l ma mb">  ...</span><span id="82e9" class="lw lx it ls b gy mc lz l ma mb">  ngOnDestroy() {<br/>    localStorage.removeItem('storageKey');<br/>    this._searchSubject.unsubscribe();<br/>  }</span><span id="0798" class="lw lx it ls b gy mc lz l ma mb">}</span></pre><p id="bdf6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><em class="lq"> Obs:å½“ç”¨æˆ·åˆ·æ–°é¡µé¢æˆ–å…³é—­æµè§ˆå™¨æ—¶ï¼Œä¸è°ƒç”¨ngOnDestroyã€‚å› æ­¤ï¼Œå¦‚æœæ‚¨éœ€è¦åœ¨è¿™äº›æƒ…å†µä¸‹å¤„ç†ä¸€äº›æ¸…ç†é€»è¾‘ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨HostListeneræè¿°ç¬¦ï¼Œå¦‚ä¸‹æ‰€ç¤º:</em></p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="a2a7" class="lw lx it ls b gy ly lz l ma mb">  @HostListener(â€˜window:beforeunloadâ€™)<br/>  ngOnDestroy() {<br/>     // Insert Logic Here!<br/>  }</span></pre></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><p id="dc47" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">ç†è§£<em class="lq">Angular life cycleé’©å­ã€</em>å®ƒä»¬çš„<em class="lq"> </em>ç›®æ ‡ä»¥åŠå®ƒä»¬ä½•æ—¶è¢«è°ƒç”¨ï¼Œåœ¨åˆ›å»ºAngularåº”ç”¨ç¨‹åºæ—¶ä¼šéå¸¸æœ‰ç”¨ã€‚å› æ­¤ï¼Œé‡è¦çš„æ˜¯è¦çŸ¥é“å®ƒä»¬æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œä»¥åŠä½ å¯ä»¥ç”¨å®ƒä»¬å®ç°ä»€ä¹ˆï¼Œä»¥ä¾¿èƒ½å¤Ÿåœ¨ä½ å¯èƒ½éœ€è¦çš„æ—¶å€™åº”ç”¨å®ƒä»¬ã€‚</p><p id="d0a2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">å¸Œæœ›æœ‰å¸®åŠ©ï¼ğŸ˜‰</p><h1 id="8a12" class="nr lx it bd mk ns nt nu mn nv nw nx mq jz ny ka mt kc nz kd mw kf oa kg mz ob bi translated">å‚è€ƒèµ„æ–™:</h1><p id="a222" class="pw-post-body-paragraph ku kv it kw b kx nb ju kz la nc jx lc ld nd lf lg lh ne lj lk ll nf ln lo lp im bi translated"><a class="ae ng" href="https://angular.io/guide/lifecycle-hooks" rel="noopener ugc nofollow" target="_blank">https://angular.io/guide/lifecycle-hooks</a></p><p id="8643" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><a class="ae ng" href="https://hackernoon.com/everything-you-need-to-know-about-the-expressionchangedafterithasbeencheckederror-error-e3fd9ce7dbb4" rel="noopener ugc nofollow" target="_blank">https://hacker noon . com/everything-you-need-know-on-the-expression changedafterithasbeencheckederror-error-E3 FD 9 ce 7 db 4</a></p></div></div>    
</body>
</html>