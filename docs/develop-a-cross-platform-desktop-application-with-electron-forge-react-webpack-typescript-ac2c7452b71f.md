# ç”¨ Electron Forgeï¼ŒReactï¼ŒWebpack & TypeScript å¼€å‘ä¸€ä¸ªè·¨å¹³å°çš„æ¡Œé¢åº”ç”¨ç¨‹åº

> åŸæ–‡ï¼š<https://itnext.io/develop-a-cross-platform-desktop-application-with-electron-forge-react-webpack-typescript-ac2c7452b71f?source=collection_archive---------0----------------------->

## æ¡Œé¢åº”ç”¨ç¨‹åºå…¥é—¨

## è®¾ç½®å¹¶å‡†å¤‡åœ¨ç”µå­åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ React & Webpackï¼Œé€šè¿‡ Electron Forge æ„å»ºã€‚

![](img/0a76fe1a2bff755da6657e58b8e6c1fa.png)

æ‚¨çš„è·¨å¹³å°æ¡Œé¢åº”ç”¨ç¨‹åº

# ç”µå­æ¡†æ¶

Electron æ˜¯ä¸€ä¸ªå¼€æºæ¡†æ¶ï¼Œå®ƒå…è®¸ä½ ç”¨ Web æŠ€æœ¯(HTMLã€CSS å’Œ JavaScript)æ„å»ºè·¨å¹³å°çš„æ¡Œé¢åº”ç”¨ç¨‹åº(T4)ã€‚

æ‚¨å¯ä»¥è®¿é—®**åŸç”Ÿç»„ä»¶ã€**åŠ ä¸Šåˆ°é…ç½®**è‡ªåŠ¨æ›´æ–°**ã€**å´©æºƒæŠ¥å‘Š**ã€**è°ƒè¯•**å’Œ**å‰–æ**ã€‚

å®ƒä½¿ç”¨**èŠ‚ç‚¹**å’Œ**é“¬**æ¥è¿è¡Œåº”ç”¨ç¨‹åºã€‚å› æ­¤ï¼Œweb å¼€å‘æŠ€èƒ½å®Œå…¨å¯ä»¥è½¬ç§»åˆ°ç”µå­åº”ç”¨ç¨‹åºä¸­ã€‚

ä½ åªéœ€è¦ä¸€ç‚¹ HTMLã€CSS å’Œ JavaScript å°±å¯ä»¥å¼€å§‹äº†ã€‚

> ç”µå­æœ€åˆæ˜¯ä¸º Githubs çš„ [Atom](https://atom.io) ç¼–è¾‘å™¨æ„å»ºçš„

## ç”µå­å»ºç­‘

åœ¨ electronic ä¸­ï¼Œæœ‰ä¸¤ä¸ªä¸»è¦è¿›ç¨‹:**ä¸»è¿›ç¨‹**å’Œ**æ¸²æŸ“è¿›ç¨‹**ã€‚GUI ç”±**ä¸»è¿›ç¨‹**åˆ›å»ºï¼Œå¹¶é€šè¿‡ Chromium çš„**å¤šå¤„ç†**åŠŸèƒ½åˆ›å»ºç½‘é¡µã€‚

æ¯ä¸ª Chromium Web è¿›ç¨‹**è¿è¡Œè‡ªå·±çš„æ¸²æŸ“å™¨è¿›ç¨‹ã€‚**ä½œä¸º`BrowserWindow`å®ä¾‹åˆ›å»ºçš„æ¸²æŸ“å™¨å®ä¾‹æ˜¯**å­¤ç«‹çš„**ï¼Œå¹¶ä¸”åªå…³å¿ƒå®ƒè‡ªå·±çš„ç½‘é¡µã€‚

**æœ¬åœ°èµ„æº**å¯ä»¥é€šè¿‡ **NodeJS** **API** æ¥å¤„ç†ï¼Œä¸ web åº”ç”¨ç¨‹åºä¸åŒï¼Œåº”ç”¨ç¨‹åºå¯ä»¥è®¿é—®è¿™äº›èµ„æºæ¥åˆ›å»º**ä½çº§æ“ä½œç³»ç»Ÿäº¤äº’**ã€‚æ‚¨å¯ä»¥ä½¿ç”¨`[**ipcRenderer**](https://electronjs.org/docs/api/ipc-renderer)` å’Œ`[**ipcMain**](https://electronjs.org/docs/api/ipc-main)`é€šè¿‡**é€šä¿¡**è°ƒç”¨åŸç”Ÿ GUI API æ¥å‘é€å’Œæ¥æ”¶æ¶ˆæ¯ã€‚

# ç”µå­é”»é€ æä¾›äº†ä»€ä¹ˆ

**electronic-Forge**æ˜¯ä¸€ä¸ª [**å®Œæ•´å·¥å…·**](https://www.electronforge.io) ï¼Œé™¤äº†**å®‰è£…**å’Œ**å‘å¸ƒåˆ°æœåŠ¡å™¨**ä¹‹å¤–ï¼Œå®ƒè¿˜å¤„ç†**å¯åˆ†å‘è½¯ä»¶**çš„åˆ›å»ºã€‚

## æ’ä»¶

ç”µå­é”»é€ çš„æ’ä»¶å…è®¸**æ ¸å¿ƒ**ç”µå­é”»é€ åŠŸèƒ½çš„**æ‰©å±•**ã€‚

æ’ä»¶å¦‚ **Webpack** æ’ä»¶`plugin-webpack`ï¼Œå…è®¸ä½¿ç”¨ **webpack** æ„å»ºåº”ç”¨ç¨‹åºï¼Œå¹¶å¯é€‰æ‹©å¯ç”¨**çƒ­é‡è£…**å’Œé«˜çº§**æ†ç»‘åŒ…é…ç½®**ã€‚

è¿˜æœ‰`plugin-auto-unpack-natives`æ’ä»¶ï¼Œå®ƒä¼š**è‡ªåŠ¨åœ¨`node_modules`ä¸­æ·»åŠ åŸç”Ÿæ¨¡å—**ã€‚è¿™ä¸ª**å‡å°‘äº†ç”¨æˆ·æœºå™¨ä¸Šçš„ç£ç›˜æ¶ˆè€—**å’Œ**åŠ è½½æ—¶é—´**ã€‚

> ä½ ç”šè‡³å¯ä»¥[ç¼–å†™è‡ªå·±çš„æ’ä»¶](https://www.electronforge.io/advanced/extending-electron-forge/writing-plugins)

## æ¨¡æ¿

Electron Forge çš„**æ¨¡æ¿**å…è®¸ä½ é›†æˆç°æœ‰çš„ web æŠ€æœ¯ï¼Œä¾‹å¦‚ **Webpack** æ¨¡æ¿(å®ƒä½¿ç”¨ Webpack æ’ä»¶)å’Œ **TypeScript** æ¨¡æ¿ï¼Œåè€…åœ¨ TypeScript ä¸­ä¸ºä½ æä¾›åŸºæœ¬çš„é¡¹ç›®é…ç½®ã€‚TypeScript æ¨¡æ¿ä¸ºæ‚¨æä¾›äº†**æ‰€éœ€çš„** `tsconfig.json`æ–‡ä»¶ï¼Œä»¥ä¾¿**å°†** TypeScript æ–‡ä»¶è½¬æ¢æˆ JavaScriptã€‚

typescript-Webpack æ’ä»¶`typescript-webpack` **å°† Webpack æ¨¡æ¿(ä½¿ç”¨ webpack æ’ä»¶)ä¸ TypeScript æ¨¡æ¿(ä½¿ç”¨ TypeScript æ’ä»¶)ç»“åˆèµ·æ¥**ã€‚

è¿™æ˜¯**æˆ‘ä»¬å°†ä½¿ç”¨**çš„æ¨¡æ¿ã€‚

## åˆ¶é€ å•†

Electron Forge çš„ **Makers** å·¥å…·è·å–ä½ æ‰“åŒ…çš„åº”ç”¨ç¨‹åºï¼Œå¹¶ç”Ÿæˆ**ç‰¹å®šäºå¹³å°çš„åˆ†å‘åŒ…**ï¼Œæ¯”å¦‚`.dmg` (macOS)å’Œ`.exe` (Windows)ã€‚

æ¯ä¸ª maker éƒ½å¯ä»¥æœ‰ä¸€ä¸ªç‰¹å®šäºå¹³å°çš„ Maker é…ç½®ï¼ŒæŒ‡å®šåœ¨å“ªä¸ªå¹³å°ä¸Šè¿è¡Œã€‚

## å‡ºç‰ˆå•†

ç”µå­é”»é€ **å‘å¸ƒè€…**è·å–ä½ ç”¨**åˆ¶é€ è€…**åˆ›å»ºçš„**å·¥ä»¶**ï¼Œç„¶åå‘é€åˆ°**æ›´æ–°æœåŠ¡å™¨**(ä½œä¸ºæ›´æ–°ä½¿ç”¨)æˆ–æœåŠ¡(å¦‚ S3 æ¡¶)è¿›è¡Œåˆ†å‘ã€‚æ‚¨å¯ä»¥**ä½¿ç”¨ç‰¹å®šäºå¹³å°çš„æŒ‡ä»¤æ¥é…ç½®å‘è¡Œå•†ã€‚**

> å‘å¸ƒè€…é»˜è®¤å‘å¸ƒåˆ°æ‰€æœ‰çš„å¹³å°ï¼Œæ‰€ä»¥å¦‚æœä½ æƒ³è¦é»˜è®¤çš„è¡Œä¸ºï¼Œä½ ä¸å¿…æŒ‡å®šä¸€ä¸ªå¹³å°ã€‚

# è®©æˆ‘ä»¬å¼€å§‹å»ºé€ å§ğŸš€

## å…ˆå†³æ¡ä»¶

*   å¿…é¡»å®‰è£… **NodeJS & TypeScript** ã€‚
*   å¿…é¡»å®‰è£…ä¸€ä¸ªåŒ…ç®¡ç†å™¨ï¼Œå¦‚ **npm æˆ– yarnï¼Œ**ã€‚
*   æˆ‘å°†ä½¿ç”¨èŠ‚ç‚¹ç‰ˆæœ¬`**10.15.3**` **ã€‚**

## å…¨çƒå®‰è£…ç”µå­å’Œæ‰“å­—ç¨¿

```
**$** npm i typescript electron -g
```

## è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªé¡¹ç›®

æˆ‘ä»¬å°†ä½¿ç”¨`typescript-webpack`æ¨¡æ¿ä¸ºæˆ‘ä»¬æä¾›å¼€å§‹ä¸€èµ·ä½¿ç”¨ TypeScript å’Œ Webpack æ‰€éœ€çš„æ–‡ä»¶ã€‚

```
**$** npx create-electron-app electron-demo --template=typescript-webpack
```

![](img/4e65d3fe65fb35ba1614987bfc29a209.png)

å¦‚æœä¸€åˆ‡é¡ºåˆ©

> å¦‚æœæ²¡æœ‰æˆåŠŸï¼Œç¡®ä¿æ‚¨å·²ç»å®‰è£…äº†**å…ˆå†³æ¡ä»¶**ä¸­çš„æ‰€æœ‰å†…å®¹ã€‚

## ç”Ÿæˆçš„æ–‡ä»¶

ç°åœ¨å·²ç»ä½¿ç”¨æ¨¡æ¿åˆ›å»ºäº†**åŸºçº¿é¡¹ç›®**ã€‚

ä»**é¡¹ç›®ç»“æ„**ä¸­å¯ä»¥çœ‹åˆ°ï¼ŒåŸºæœ¬æ–‡ä»¶å·²ç»ç”¨ **typescript + webpack** æ¨¡æ¿è‡ªåŠ¨åˆ›å»ºã€‚

**ä¸»**å’Œ**æ¸²æŸ“å™¨**è¿›ç¨‹åˆ†åˆ«æœ‰**å’Œ**é…ç½®æ–‡ä»¶:`webpack.main.config.js`å’Œ`webpack.renderer.config.js`ã€‚

å·²ç»åŒ…å«åœ¨`tsconfig.json`æ–‡ä»¶ä¸­çš„**æ‰“å­—ç¨¿**æ–‡ä»¶ã€‚

è¯¥æ–‡ä»¶å°†åœ¨æ„å»ºè¿‡ç¨‹ä¸­å¤„ç†å°†**æ‰“å­—ç¨¿**è½¬æ¢æˆ **JavaScript** çš„æ“ä½œï¼Œè€Œ`tslint.json`ç”¨äº**æ—æŒº**æ‰“å­—ç¨¿é”™è¯¯ä»£ç &å»ºè®®ä½¿ç”¨[ts lintã€‚](https://palantir.github.io/tslint/)

æ¨¡æ¿è¿˜å°†ç”Ÿæˆç±»å‹`.d`æ–‡ä»¶ï¼Œåˆ©ç”¨`@electron-forge/plugin-typescript`åŒ…æ¥ä½¿ç”¨ç±»å‹( **TypeScript** )ã€‚

æ‚¨è¿˜ä¼šçœ‹åˆ°`index.ts`ï¼Œå®ƒè´Ÿè´£**ä¸»è¿›ç¨‹(è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘å–œæ¬¢å°†å…¶é‡å‘½åä¸º** `**main.ts**` **ï¼Œå› ä¸ºæˆ‘è§‰å¾—å®ƒæ›´ç›´è§‚ï¼Œè´Ÿè´£ä¸»è¿›ç¨‹)ã€‚**

![](img/ccd0a236a26a72b3f3354ef81360de23.png)

## å°†ç›®å½•(å…‰ç›˜)è½¬æ¢æˆç”µå­æ¼”ç¤º

```
**$** cd electron-demo
```

## è®©æˆ‘ä»¬åœ¨`src/index.ts`æ›´æ”¹æ–‡ä»¶çš„åç§°

```
**$** mv src/index.ts src/main.ts
```

# åœ¨æˆ‘ä»¬åšå‡ºååº”ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦æ£€æŸ¥æœ€åˆç”Ÿæˆçš„æ–‡ä»¶

## main.ts æ–‡ä»¶(ä» index.ts é‡å‘½å)

ä¸»é¡µé¢

å¦‚ä½ æ‰€è§ï¼Œ**ä¸»çª—å£**æ˜¯é€šè¿‡**web pack magic constant**åŠ¨æ€åˆ›å»ºçš„ URL åŠ è½½çš„ã€‚ä¸ºäº†ä½¿ç”¨è¿™ä¸ªç¥å¥‡çš„å¸¸é‡ï¼Œ`MAIN_WINDOW_WEBPACK_ENTRY`è¢«å£°æ˜åœ¨é¡¶éƒ¨(ä»¥æ»¡è¶³ä»»ä½•é”™è¯¯)ã€‚

ç„¶åç”¨**æœ€å°é…ç½®**åˆ›å»ºä¸€ä¸ª`BrowserWindow`å®ä¾‹(åªæŒ‡å®šé«˜åº¦å’Œå®½åº¦)ã€‚

> å¦‚æœä½ æƒ³åœ¨ä½ çš„æ¸²æŸ“å™¨è¿›ç¨‹ä¸­é›†æˆ**èŠ‚ç‚¹**ï¼Œè¿™æ˜¯ä½ å°†`nodeIntegration: true`åŒ…å«åˆ°`BrowserWindow`é…ç½®ä¸­çš„åœ°æ–¹ã€‚

## renderer.ts æ–‡ä»¶

è¿™å°±æ˜¯æˆ‘ä»¬çš„ä¸»è¦åº”ç”¨ç¨‹åºåŠŸèƒ½å°†å¼€å§‹çš„åœ°æ–¹ã€‚ç›®å‰å®ƒæ˜¯ç©ºçš„ï¼Œä½†æ˜¯æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„, **index.css** æ˜¯è‡ªåŠ¨å¯¼å…¥çš„(è¿™ä¸ª**æ¼”ç¤ºäº†è¿™ä¸ªæ–‡ä»¶**çš„ç”¨é€”ï¼Œå°±æ˜¯**å‘ˆç°**ç½‘é¡µ)ã€‚

> æ³¨æ„:å½“æˆ‘ä»¬å¼€å§‹ä½¿ç”¨ React æ—¶ï¼ŒWill å°†ä¼šæŠŠè¿™ä¸ªæ–‡ä»¶ä»æ›´æ”¹ä¸º`renderer.tsx`ã€‚

renderer.ts

## tsconfig.json æ–‡ä»¶

è¿™æ§åˆ¶**ç±»å‹è„šæœ¬**è½¬æ¢çš„**ç¼–è¯‘å™¨é€‰é¡¹**ã€‚

tsconfig.json

## webpack æ–‡ä»¶

**`webpack.main.config.js`å’Œ`webpack.renderer.config.js`æ–‡ä»¶å”¯ä¸€çœŸæ­£çš„åŒºåˆ«**åœ¨äº`renderer`é…ç½®åŒ…æ‹¬**æ ·å¼**ï¼Œè€Œ`main`é…ç½®æŒ‡å‘`src/main.ts`ä½œä¸º**å…¥å£æ–‡ä»¶**ã€‚

`webpack.rules.js`æ–‡ä»¶åŒ…æ‹¬**è§„åˆ™**ç”¨äº**å…±äº«**èµ„æºï¼Œå¦‚**æœ¬æœºæ¨¡å—ã€ts åŠ è½½å™¨å’ŒèŠ‚ç‚¹åŠ è½½å™¨ã€‚**

ä¸ºäº†èƒ½å¤Ÿä½¿ç”¨ **Reactï¼Œæˆ‘ä»¬å°†ä¿®æ”¹è¿™äº›æ–‡ä»¶ä¸­çš„å¤§éƒ¨åˆ†ã€‚**

# è®©æˆ‘ä»¬åšå‡ºååº”

æˆ‘ä»¬å°†æŠŠå®ƒåˆ†æˆå‡ ä¸ªæ­¥éª¤:

*   **å®‰è£…**ä¾èµ–é¡¹
*   è®©æˆ‘ä»¬çš„ç¼–è¯‘å™¨çŸ¥é“æˆ‘ä»¬æ­£åœ¨ä½¿ç”¨ React/JSX
*   è®© **webpack** çŸ¥é“æˆ‘ä»¬åœ¨ç”¨ React/JSX
*   æ·»åŠ æˆ‘ä»¬çš„**æœåŠ¡äººå‘˜**
*   ç”¨ä¸€ä¸ª`.tsx`æ–‡ä»¶æ›¿æ¢æˆ‘ä»¬çš„æ¡ç›®**æ¸²æŸ“å™¨**æ–‡ä»¶

## å®‰è£…ä¾èµ–é¡¹

```
**$** npm i react react-dom react-router-dom react-scripts
```

## å‘Šè¯‰æˆ‘ä»¬çš„ç¼–è¯‘å™¨å…³äº JSX

æˆ‘ä»¬éœ€è¦å‘Šè¯‰ **TypeScript** ç¼–è¯‘å™¨ä½¿ç”¨ **React JSX** ï¼Œå°†æˆ‘ä»¬çš„ **outDir** æ›´æ”¹ä¸º`.webpack/main`ï¼Œè¿™æ˜¯æˆ‘ä»¬çš„**æ„å»ºåº”ç”¨**å°†ç”Ÿæˆçš„åœ°æ–¹(ç”± webpack ç”Ÿæˆ)ï¼Œå¹¶åŒ…å«ä¸€äº›åº“ã€‚

è¿™å°±æ˜¯æˆ‘ä»¬çš„ tsconfig.json æ–‡ä»¶çš„æ ·å­ã€‚

## å‘Šè¯‰ Webpack å…³äº JSX çš„äº‹æƒ…

æˆ‘ä»¬éœ€è¦åœ¨æˆ‘ä»¬çš„ webpack é…ç½®ä¸­åŒ…å«æ­£åˆ™è¡¨è¾¾å¼`test`ä¸­çš„`.jsx`å’Œ`.tsx`ã€‚

**æ¸²æŸ“å™¨é…ç½®:**

webpack.renderer.config.js

> è¦å¯ç”¨çƒ­é‡è£…ï¼Œå®‰è£…`$ npm i babel-loader @hot-loader/react-dom react-hot-loader`å¹¶å°†å…¶ä½œä¸º`react-dom`çš„`alias`åŒ…å«åœ¨å†…ã€‚æ‚¨è¿˜éœ€è¦ç¡®ä¿è§£æ(åŒ…æ‹¬ regex æµ‹è¯•)å¦‚å›¾æ‰€ç¤ºçš„`main`å’Œ`renderer`é…ç½®ä¸­çš„`.tsx`å’Œ`.jsx`æ–‡ä»¶ã€‚

ä½ è¿˜éœ€è¦åˆ›å»ºä¸€ä¸ª`.babelrc`æ–‡ä»¶ï¼ŒåŒ…æ‹¬ä½œä¸ºæ’ä»¶çš„[**react-hot-loader**](https://github.com/gaearon/react-hot-loader)ã€‚

ã€‚å·´ä¼¯å°”å…‹

**ä¸»é…ç½®:**

webpack.main.config.js

**å…±äº« webpack è§„åˆ™:**

è®©æˆ‘ä»¬å®‰è£…è¿™ä¸ªæ–‡ä»¶ä½¿ç”¨çš„**å¼€å‘ä¾èµ–é¡¹**ã€‚

```
**$** npm i css-loader style-loader node-sass sass-loader babel-loader ts-loader node-loader --save-dev
```

ç½‘ç»œåŒ….è§„åˆ™. js

> æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œæˆ‘å·²ç»åŒ…æ‹¬äº† [**è¨æ–¯/SCSS**](https://sass-lang.com/documentation/syntax) (ã€‚scss)æ–‡ä»¶å°†ä½¿ç”¨ **sass-loader** æ„å»ºã€‚å¦‚æœæ‚¨æƒ³ä½¿ç”¨ **SCSS** ï¼Œé‚£ä¹ˆåªéœ€`**$** npm i sass-loader`å¹¶ç¡®ä¿æ‚¨å·²ç»åŒ…æ‹¬äº†å¦‚ä¸Šæ‰€è¿°çš„`test: /\.(scss|css)$/`ã€‚

## æœåŠ¡è¡Œä¸šäººå‘˜

ç°åœ¨è®©æˆ‘ä»¬ä¿æŒ**ç®€å•**ï¼Œå¹¶åŒ…å«é»˜è®¤çš„æœåŠ¡å·¥ä½œè€…æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶é€šå¸¸ç”±`create-react-app`ç”Ÿæˆã€‚

æœåŠ¡å·¥ä½œè€…. ts

## ä¸€äº›æ–‡ä»¶æ›´æ”¹

ä¸ºäº†ä¿æŒå…¨å±€`index.html`å’Œ`index.scss or index.css` **å°†**ä¸ååº”**ç»„ä»¶**åˆ†å¼€ï¼Œæˆ‘ä»¬å°†**ä¸“é—¨ä¸ºé¡¹ç›®æ ¹ç›®å½•ä¸­çš„é‚£äº›æ–‡ä»¶åˆ›å»ºç›®å½•** `**public**`ã€‚

**`**src**`**:****

**æˆ‘è¿˜å–œæ¬¢å°†`main.ts`æ–‡ä»¶æ”¾åœ¨`src/main`ä¸‹çš„`main`ç›®å½•ä¸­ï¼Œå¹¶å°†æ‰€æœ‰å…¶ä»–æ¸²æŸ“å™¨/react æ–‡ä»¶æ”¾åœ¨`src/renderer`ä¸‹ã€‚æˆ‘ä»¬è¿˜å°†**åœ¨`src/renderer/components`ä¸‹åˆ›å»ºä¸€ä¸ª** `**components**` **ç›®å½•**æ¥å­˜æ”¾æˆ‘ä»¬çš„ React ç»„ä»¶ã€‚**

```
**$** mkdir public && mkdir src/renderer && mkdir src/main
```

**ç„¶å**å°†æ–‡ä»¶**ç§»åŠ¨åˆ°å®ƒä»¬çš„æ–°ç›®å½•ä¸­ã€‚**

**æ‰€ä»¥æ–°çš„ç»“æ„åº”è¯¥æ˜¯â€¦**

**![](img/37f8a8c32177b0954ac57d7f4299d2d7.png)**

**src å’Œå…¬å…±**

## **renderer.tsx æ–‡ä»¶**

**renderer.tsx(ä»¥å‰çš„ renderer.ts)**

## **App.tsx æ–‡ä»¶**

**å°†æ ¹æ–‡ä»¶`App.tsx`åŒ…è£…åœ¨`hot()`ä¸­æ”¯æŒçƒ­æ¨¡å—é‡è½½ã€‚è¿™å°†ç¡®ä¿æˆ‘ä»¬ä»»ä½•æºæ–‡ä»¶ä¸­çš„**æ›´æ”¹éƒ½å°†è¢«æ›´æ–°ã€‚****

## **Package.json**

**æˆ‘ä»¬éœ€è¦æ›´æ”¹`main`æ¡ç›®å’Œç”µå­é”»é€ **æ¸²æŸ“å™¨** **é…ç½®**ä»¥æŒ‡å‘**æ­£ç¡®çš„** `index.html`å’Œ`renderer.tsx`æ–‡ä»¶ã€‚**

****ä¸»æ¡ç›®****

```
"main": "./.webpack/main",
```

****ç”µå­å‘ˆç°å™¨é…ç½®****

```
"renderer": {
  "config": "./webpack.renderer.config.js",
  "entryPoints": [
    {
      "html": "./public/index.html",
      "js": "./src/renderer/renderer.tsx",
      "name": "main_window"
    }
  ]
}
```

# **åˆ¶ä½œå¯åˆ†å‘çš„æ–‡ä»¶**

**è®©**è®©**æˆä¸ºæˆ‘ä»¬çš„åº”ç”¨ã€‚**

**æˆ‘å°†ä¸º **MacOS (OSX)** åˆ›å»ºä¸€ä¸ª`.dmg`æ–‡ä»¶ï¼Œåªæ˜¯ä¸ºäº†å±•ç¤º**åˆ›å»ºå¦ä¸€ä¸ªå¯åˆ†å‘çš„**æ˜¯å¤šä¹ˆå®¹æ˜“ã€‚**

**ç„¶è€Œï¼Œ**é»˜è®¤**åˆ›å»ºçš„`.zip`æ–‡ä»¶å¯ä»¥åœ¨ä»»ä½•å¹³å°ä¸Šè¿è¡Œã€‚**

**ä¸ºäº†è·å¾—æˆ‘ä»¬åº”ç”¨ç¨‹åºçš„`.dmg`ï¼Œæˆ‘å°†æŠŠå®ƒæ·»åŠ åˆ° **makers é…ç½®**ä¸­çš„`package.json`ä¸­ã€‚**

```
{
  "name": "@electron-forge/maker-dmg",
  "config": {
    "background": "../something_random.png",
    "format": "ULFO"
  }
},
```

**ç°åœ¨**åˆ¶ä½œ****

```
**$** electron-forge make
```

**![](img/c309091a5f5432f2dca7261f960f78fd.png)**

# **è¿è¡Œä½ çš„åº”ç”¨ç¨‹åºâš¡ï¸**

```
**$** electron-forge start
```

**ç°åœ¨ä½ å·²ç»æœ‰äº†ä¸€ä¸ªåŸºæœ¬çš„ç”µå­+ååº”+ç½‘ç»œåŒ…+ç”µå­é”»é€ æ¡Œé¢åº”ç”¨ç¨‹åºï¼ğŸŒˆ**

# **æˆ‘ä»¬çš„ä¾èµ–**

**[](https://electronjs.org) [## ç”µå­|ä½¿ç”¨ JavaScriptã€HTML å’Œ CSS æ„å»ºè·¨å¹³å°æ¡Œé¢åº”ç”¨ã€‚

### è¦å¼€å§‹ä½¿ç”¨ electronicï¼Œè¯·æŸ¥çœ‹ä¸‹é¢çš„èµ„æºã€‚äº†è§£å¦‚ä½•ç”¨ç”µå­åŒ…è£…æ‚¨çš„ web åº”ç”¨ç¨‹åºï¼Œè®¿é—®æ‰€æœ‰â€¦

electronjs.org](https://electronjs.org) [](https://www.electronforge.io) [## å…¥é—¨æŒ‡å—

### æ‚¨ç°åœ¨åº”è¯¥æœ‰ä¸€ä¸ªåä¸ºçš„ç›®å½•ï¼Œé‡Œé¢æœ‰ä¸€ä¸ªè¶…å°å‹çš„ç”µå­åº”ç”¨ç¨‹åºæ ·æ¿æ–‡ä»¶ã€‚å¦‚æœä½ æœé‚£ä¸ªæ–¹å‘èµ°â€¦

www.electronforge.io](https://www.electronforge.io) [](https://github.com/gaearon/react-hot-loader) [## Gaea Ron/react-çƒ­åŠ è½½å™¨

### âš›ï¸ âš¡ï¸è§‚çœ‹ä¸¹Â·é˜¿å¸ƒæ‹‰è«å¤«å…³äºæ—¶é—´æ—…è¡Œçƒ­é‡è£…çš„æ¼”è®²ã€‚ååº”çƒ­åŠ è½½å™¨â€¦

github.com](https://github.com/gaearon/react-hot-loader) [](https://babeljs.io) [## ä¸‹ä¸€ä»£ JavaScript çš„ç¼–è¯‘å™¨

### é€šè¿‡æˆ‘ä»¬çš„å…¥é—¨æŒ‡å—äº†è§£æ›´å¤šå…³äºå·´åˆ«å¡”çš„ä¿¡æ¯ï¼Œæˆ–è€…æŸ¥çœ‹ä¸€äº›å…³äºå®ƒèƒŒåçš„äººå’Œæ¦‚å¿µçš„è§†é¢‘â€¦

babeljs.io](https://babeljs.io) [](https://reactjs.org) [## reactâ€”â€”ç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„ JavaScript åº“

### React ä½¿å¾—åˆ›å»ºäº¤äº’å¼ ui å˜å¾—ä¸é‚£ä¹ˆç—›è‹¦ã€‚ä¸ºåº”ç”¨ç¨‹åºä¸­çš„æ¯ä¸ªçŠ¶æ€è®¾è®¡ç®€å•çš„è§†å›¾ï¼Œå¹¶ååº”â€¦

reactjs.org](https://reactjs.org) 

## å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜ï¼Œæˆ‘ä¼šå°½æˆ‘æ‰€èƒ½å¸®åŠ©ä½ ï¼**