<html>
<head>
<title>Compose validation logics with Vue 3.0 and Vuelidate.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ç”¨Vue 3.0å’ŒVuelidateç¼–å†™éªŒè¯é€»è¾‘ã€‚</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://itnext.io/compose-validation-logics-with-vue-3-0-and-vuelidate-20416d734295?source=collection_archive---------0-----------------------#2020-07-25">https://itnext.io/compose-validation-logics-with-vue-3-0-and-vuelidate-20416d734295?source=collection_archive---------0-----------------------#2020-07-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div class="gh gi jq"><img src="../Images/2434a36974659bc8bfc42ea21b2f65f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*umxkFnS1lxMUWZX8nFF_IQ.png"/></div></figure><p id="b565" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">è¡¨å•éªŒè¯æ˜¯è®¸å¤šå‰ç«¯å·¥ç¨‹å¸ˆé¢ä¸´çš„æœ€å¤æ‚çš„é—®é¢˜ä¹‹ä¸€ã€‚è™½ç„¶å®ç°èµ·æ¥ä¸æ˜¯è¶…çº§éš¾ï¼Œä½†æ˜¯ç»„ç»‡éªŒè¯é€»è¾‘å¾ˆéš¾ã€‚</p><p id="afa0" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">æœ‰äº†Vueï¼Œä½ æœ‰ä¸¤ä¸ªä¸»è¦çš„é€‰æ‹©ï¼Œ<strong class="jz iu">åŸºäºæ¨¡æ¿çš„éªŒè¯</strong>å’Œ<a class="ae kv" href="https://github.com/logaretm/vee-validate" rel="noopener ugc nofollow" target="_blank"> vee-validate </a>æˆ–è€…<strong class="jz iu">åŸºäºæ¨¡å‹çš„éªŒè¯</strong>å’Œ<a class="ae kv" href="https://github.com/vuelidate/vuelidate" rel="noopener ugc nofollow" target="_blank"> vuelidate </a>ã€‚è¿™ä¸¤ä¸ªéƒ½æ˜¯å¾ˆæ£’çš„å›¾ä¹¦é¦†ã€‚vee-validateéå¸¸ç®€å•ï¼Œå¯ä»¥å¿«é€Ÿè§£å†³é—®é¢˜ã€‚vuelidateæœ‰æ›´å¤šçš„çµæ´»æ€§ã€‚</p><p id="31ba" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">å¦ä¸€æ–¹é¢ï¼Œæ„Ÿè°¢Vueæ ¸å¿ƒå›¢é˜Ÿæˆå‘˜ï¼ŒVue 3.0æ­£åœ¨å‘å¸ƒã€‚Vue 3.0çš„ä¸€ä¸ªçªç ´æ€§å˜åŒ–æ˜¯ç»„åˆapiã€‚å®ƒä½¿æˆ‘ä»¬èƒ½å¤Ÿç¼–å†™æ›´æœ‰ç»„ç»‡æ€§å’Œå¯ç»„åˆæ€§çš„ä»£ç ã€‚</p><p id="10d7" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">ç„¶åvuelidateè¿˜ä¼šæ¨å‡ºä¸€ä¸ªæ–°çš„apiï¼Œå¸¦æœ‰Vue 3.0 composition apiã€‚å› ä¸ºå®ƒéå¸¸çµæ´»ï¼Œä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿç¼–å†™è¶…çº§æœ‰ç»„ç»‡çš„ä»£ç ï¼Œæœ¬æ–‡è§£é‡Šè¯´</p><ul class=""><li id="6c49" class="kw kx it jz b ka kb ke kf ki ky km kz kq la ku lb lc ld le bi translated">Vue 2.xå…¼å®¹vuelidateå’ŒVue 3.0ä¹‹é—´çš„å®ç°å·®å¼‚</li><li id="30c9" class="kw kx it jz b ka lf ke lg ki lh km li kq lj ku lb lc ld le bi translated">å¦‚ä½•ç”¨ç»„åˆapiå’Œvuelidateç»„ç»‡éªŒè¯é€»è¾‘</li></ul><h1 id="efb6" class="lk ll it bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">Vue 2.xéªŒè¯æ¦‚è¿°</h1><p id="440c" class="pw-post-body-paragraph jx jy it jz b ka mi kc kd ke mj kg kh ki mk kk kl km ml ko kp kq mm ks kt ku im bi translated">åœ¨ä»‹ç»ä¸‹ä¸€ä»£vuelidateä¹‹å‰ï¼Œè®©æˆ‘å‘æ‚¨å±•ç¤ºä¸€ä¸‹å®ƒåœ¨Vue 2.xä¸Šçš„æ ·å­ã€‚æˆ‘å‡†å¤‡äº†ä¸€ä¸ªç®€å•çš„ç™»å½•è¡¨å•ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="750b" class="mw ll it ms b gy mx my l mz na">&lt;template&gt;<br/>  &lt;div&gt;<br/>    &lt;input type="email" placeholder="Email" v-model="email" /&gt;<br/>    &lt;input type="password" placeholder="Password" v-model="password" /&gt;<br/>    &lt;button type="submit"&gt;Login&lt;/button&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span></pre><figure class="mn mo mp mq gt ju gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/250a96f069f0da3b228a58d7a2c8e5f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:810/format:webp/1*Yc7RaA2M3Jr3CqFF6wz2OQ.png"/></div><figcaption class="nc nd gj gh gi ne nf bd b be z dk translated">ç®€å•ç™»å½•è¡¨å•</figcaption></figure><p id="b7ce" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">è¦ç”¨vuelidateå®ç°éªŒè¯é€»è¾‘ï¼Œæ‚¨éœ€è¦åš3ä»¶äº‹ã€‚</p><ol class=""><li id="8b44" class="kw kx it jz b ka kb ke kf ki ky km kz kq la ku ng lc ld le bi translated">å®ç°éªŒè¯é€»è¾‘</li><li id="728e" class="kw kx it jz b ka lf ke lg ki lh km li kq lj ku ng lc ld le bi translated">æ§åˆ¶ä½•æ—¶éªŒè¯</li><li id="5f49" class="kw kx it jz b ka lf ke lg ki lh km li kq lj ku ng lc ld le bi translated">å¦‚æœéœ€è¦ï¼Œæ˜¾ç¤ºé”™è¯¯</li></ol><h2 id="5870" class="mw ll it bd lm nh ni dn lq nj nk dp lu ki nl nm ly km nn no mc kq np nq mg nr bi translated">å®ç°éªŒè¯é€»è¾‘</h2><p id="4578" class="pw-post-body-paragraph jx jy it jz b ka mi kc kd ke mj kg kh ki mk kk kl km ml ko kp kq mm ks kt ku im bi translated">éªŒè¯é€»è¾‘çœ‹èµ·æ¥éå¸¸ç®€å•ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚<code class="fe ns nt nu ms b">validations</code>éƒ¨åˆ†ç”¨äºå®ç°å¦‚ä½•éªŒè¯æ¯ä¸ªæ•°æ®ã€‚</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="8ebc" class="mw ll it ms b gy mx my l mz na">&lt;script&gt;<br/>import { required, email, minLength } from "vuelidate/lib/validators";</span><span id="1946" class="mw ll it ms b gy nv my l mz na">export default {<br/>  data() {<br/>    return {<br/>      email: "",<br/>      password: "",<br/>    }<br/>  },<br/>  validations: {<br/>    email: { required, email },<br/>    password: { required, minLength: minLength(8) }<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="6e35" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">å¦‚æœä½ åƒä¸Šé¢é‚£æ ·è®¾ç½®ï¼Œä½ å¯ä»¥ç”¨vue devtoolæ£€æŸ¥éªŒè¯çŠ¶æ€ã€‚<code class="fe ns nt nu ms b">$v</code> computedå±æ€§æ˜¾ç¤ºæ¯ä¸ªéªŒè¯çŠ¶æ€ã€‚åœ¨é”®å…¥ä»»ä½•å€¼ä¹‹å‰ï¼Œ<code class="fe ns nt nu ms b">$v.email.$invalid</code>ä¸ºçœŸï¼Œå› ä¸ºç”µå­é‚®ä»¶è¦æ±‚éªŒè¯å¤±è´¥ã€‚åœ¨è¾“å…¥æŸäº›å†…å®¹æ—¶ï¼Œ<code class="fe ns nt nu ms b">$v.email.required</code>å˜ä¸ºfalseï¼Œ<code class="fe ns nt nu ms b">$v.email.email</code>ä¹Ÿå˜ä¸ºfalseã€‚åœ¨è¾“å…¥æ ¼å¼åŒ–çš„é‚®ä»¶åï¼Œ<code class="fe ns nt nu ms b">$v.email.email</code>å’Œ<code class="fe ns nt nu ms b">$v.email.$invalid</code>å˜ä¸ºçœŸã€‚</p><figure class="mn mo mp mq gt ju gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/0d353e187d6063c502120546b6e26ef0.png" data-original-src="https://miro.medium.com/v2/resize:fit:592/1*JcPHopsLLrOxFF-DIzSdeA.gif"/></div><figcaption class="nc nd gj gh gi ne nf bd b be z dk translated">éªŒè¯çŠ¶æ€æ›´æ”¹</figcaption></figure><h2 id="a0d8" class="mw ll it bd lm nh ni dn lq nj nk dp lu ki nl nm ly km nn no mc kq np nq mg nr bi translated">æ§åˆ¶ä½•æ—¶éªŒè¯</h2><p id="3172" class="pw-post-body-paragraph jx jy it jz b ka mi kc kd ke mj kg kh ki mk kk kl km ml ko kp kq mm ks kt ku im bi translated">è¦æ§åˆ¶éªŒè¯æ—¶é—´ï¼Œæ‚¨å¿…é¡»çŸ¥é“<code class="fe ns nt nu ms b">$error</code>å’Œ<code class="fe ns nt nu ms b">$dirty</code>å±æ€§ã€‚<code class="fe ns nt nu ms b">$error</code>å±æ€§æ˜¯<code class="fe ns nt nu ms b">$dirty</code>å’Œ<code class="fe ns nt nu ms b">$invalid</code>çš„é€»è¾‘ç»„åˆã€‚</p><p id="5289" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated"><code class="fe ns nt nu ms b">$invalid</code>çº¯ç²¹å…·æœ‰éªŒè¯çŠ¶æ€ã€‚å¦‚ä¸Šæ‰€è¿°ï¼Œåœ¨ç”¨æˆ·åšæŸä»¶äº‹ä¹‹å‰ï¼Œ<code class="fe ns nt nu ms b">$invalid</code>ä¸ºçœŸã€‚ä½†æ˜¯åªæœ‰<code class="fe ns nt nu ms b">$invalid</code>ï¼Œåœ¨ç”¨æˆ·åšä¸€äº›äº‹æƒ…ä¹‹å‰ï¼ŒéªŒè¯çŠ¶æ€æ˜¯å¤±è´¥çš„ã€‚ä¸ºäº†å¤„ç†è¿™ä¸ªé—®é¢˜ï¼Œ<code class="fe ns nt nu ms b">$dirty</code>å±æ€§å­˜åœ¨äº†ã€‚<code class="fe ns nt nu ms b">$dirty</code>å±æ€§æ£€æŸ¥ç”¨æˆ·æ˜¯å¦è§¦æ‘¸äº†ç›®æ ‡è¾“å…¥å­—æ®µã€‚å¦‚æœç”¨æˆ·è¾“å…¥å†…å®¹ï¼Œæ‚¨å¿…é¡»å°†<code class="fe ns nt nu ms b">$dirty</code>æ”¹ä¸ºtrueã€‚</p><p id="f930" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">å¥½äº†ï¼Œæƒ³æƒ³ä»€ä¹ˆæ—¶å€™éªŒè¯å°±å¤Ÿäº†ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œè¿™ä¸¤ä¸ªè®¡æ—¶å¯èƒ½æ˜¯å¥½çš„ã€‚</p><ul class=""><li id="5e39" class="kw kx it jz b ka kb ke kf ki ky km kz kq la ku lb lc ld le bi translated">æ¯ä¸ªè¾“å…¥å­—æ®µéªŒè¯åº”è¯¥åœ¨<code class="fe ns nt nu ms b">@blur</code>è§¦å‘</li><li id="842d" class="kw kx it jz b ka lf ke lg ki lh km li kq lj ku lb lc ld le bi translated">åœ¨æäº¤è¡¨å•ä¹‹å‰ã€‚å¦‚æœæœ‰ä»»ä½•é”™è¯¯ï¼Œæœ€å¥½ç¦ç”¨ç™»å½•æŒ‰é’®</li></ul><p id="b4c7" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">è¦å®ç°æ¨¡ç³Šè®¡æ—¶éªŒè¯ï¼Œæ‚¨å¯ä»¥åƒä¸‹é¢è¿™æ ·å°†<code class="fe ns nt nu ms b">$touch()</code>æ·»åŠ åˆ°<code class="fe ns nt nu ms b">@blur</code>ã€‚<code class="fe ns nt nu ms b">$touch</code>åŠŸèƒ½æ”¹å˜<code class="fe ns nt nu ms b">$dirty</code>ä¸ºçœŸã€‚æ‰€ä»¥<code class="fe ns nt nu ms b">$dirty</code>å’Œ<code class="fe ns nt nu ms b">$invalid</code>å±æ€§éƒ½å‡†å¤‡å¥½äº†ã€‚</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="bbe3" class="mw ll it ms b gy mx my l mz na">// To fire validation in each blur</span><span id="0e81" class="mw ll it ms b gy nv my l mz na">  &lt;input<br/>    type="email"<br/>    placeholder="Email"<br/>    v-model="email"<br/>    @blur="$v.email.$touch()"<br/>  /&gt;</span><span id="8e04" class="mw ll it ms b gy nv my l mz na">  ...</span><span id="4d23" class="mw ll it ms b gy nv my l mz na">  &lt;input<br/>    type="password"<br/>    placeholder="Password"<br/>    v-model="password"<br/>    @blur="$v.password.$touch()"<br/>  /&gt;</span></pre><p id="3a76" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">è¦ç¦ç”¨æäº¤æŒ‰é’®ï¼Œæ‚¨å¯ä»¥é€šè¿‡<code class="fe ns nt nu ms b">$v.$invalid</code>ã€‚å®ƒæ£€æŸ¥æ‰€æœ‰éªŒè¯å¯†é’¥çš„<code class="fe ns nt nu ms b">$invalid</code>ã€‚é‚£ä¹ˆ<code class="fe ns nt nu ms b">div</code>æ ‡ç­¾å¿…é¡»æ˜¯<code class="fe ns nt nu ms b">form</code>æ ‡ç­¾å¹¶æ·»åŠ è°ƒç”¨ä¸€ä¸ªæäº¤å‡½æ•°ã€‚åœ¨æäº¤å‡½æ•°å†…éƒ¨ï¼Œå…ˆè°ƒç”¨<code class="fe ns nt nu ms b">$touch()</code>ã€‚å®ƒè§¦å‘æ‰€æœ‰éªŒè¯å¹¶æ£€æŸ¥æ˜¯å¦æœ‰ä»»ä½•é”™è¯¯ã€‚</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="747c" class="mw ll it ms b gy mx my l mz na">// To disable submit button disabled</span><span id="62ab" class="mw ll it ms b gy nv my l mz na">&lt;button :disabled="$v.$invalid" type="submit"&gt;Login&lt;/button&gt;</span><span id="7f65" class="mw ll it ms b gy nv my l mz na">// To validate before submission</span><span id="104f" class="mw ll it ms b gy nv my l mz na">&lt;template&gt;<br/>  &lt;form @submit.prevent="login" &gt;<br/>    ...<br/>  &lt;/form&gt;<br/>&lt;/template&gt;</span><span id="a847" class="mw ll it ms b gy nv my l mz na">&lt;script&gt;</span><span id="102f" class="mw ll it ms b gy nv my l mz na">...</span><span id="2e0b" class="mw ll it ms b gy nv my l mz na">  methods: {<br/>    login() {<br/>      this.$v.$touch();<br/>      if (this.$v.$invalid) {<br/>        // DO SOMETHING HERE<br/>      }<br/>    }<br/>  }<br/>...</span></pre><p id="0c39" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">å› æ­¤ï¼Œç°åœ¨æ‚¨å¯ä»¥æ§åˆ¶ä½•æ—¶è¿›è¡ŒéªŒè¯ã€‚</p><h2 id="462e" class="mw ll it bd lm nh ni dn lq nj nk dp lu ki nl nm ly km nn no mc kq np nq mg nr bi translated">å¦‚æœéœ€è¦ï¼Œæ˜¾ç¤ºé”™è¯¯</h2><p id="e19f" class="pw-post-body-paragraph jx jy it jz b ka mi kc kd ke mj kg kh ki mk kk kl km ml ko kp kq mm ks kt ku im bi translated">å› æ­¤ï¼Œå¦‚æœéœ€è¦çš„è¯ï¼Œè®©æˆ‘ä»¬å‘ç”¨æˆ·æ˜¾ç¤ºé”™è¯¯ã€‚å¦‚æœä½ æƒ³æ˜¾ç¤ºé”™è¯¯ï¼Œä½ å¯ä»¥åƒä¸‹é¢è¿™æ ·å®ç°ã€‚æ‚¨éœ€è¦æ£€æŸ¥ç›®æ ‡å€¼æ˜¯å¦æœ‰<code class="fe ns nt nu ms b">$error</code>å¹¶æ˜¾ç¤ºæ¯ä¸ªéªŒè¯çš„é”™è¯¯æ¶ˆæ¯ã€‚</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="003a" class="mw ll it ms b gy mx my l mz na">&lt;template&gt;<br/>  &lt;form @submit.prevent="login"&gt;<br/>    &lt;input<br/>      type="email"<br/>      placeholder="Email"<br/>      v-model="email"<br/>      @blur="$v.email.$touch()"<br/>    /&gt;<br/>    &lt;div v-if="$v.email.$error"&gt;<br/>      &lt;p v-if="!$v.email.email"&gt;Please enter a valid email&lt;/p&gt;<br/>      &lt;p v-if="!$v.email.required"&gt;Please enter an email&lt;/p&gt;<br/>    &lt;/div&gt;</span><span id="030f" class="mw ll it ms b gy nv my l mz na">    &lt;input<br/>      type="password"<br/>      placeholder="Password"<br/>      v-model="password"<br/>      @blur="$v.password.$touch()"<br/>    /&gt;<br/>    &lt;div v-if="$v.password.$error"&gt;<br/>      &lt;p v-if="!$v.password.minLength"&gt;<br/>       Password must be more than {{ passwordMinLength }} characters<br/>      &lt;/p&gt;<br/>      &lt;p v-if="!$v.password.required"&gt;Please enter an password&lt;/p&gt;<br/>    &lt;/div&gt;<br/>    <br/>    &lt;button :disabled="$v.$invalid" type="submit"&gt;Login&lt;/button&gt;<br/>  &lt;/form&gt;<br/>&lt;/template&gt;</span></pre><p id="c6c6" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">ä½¿ç”¨Vue 2.xå…¼å®¹çš„vuelidateï¼Œæ‚¨éœ€è¦åˆ›å»ºè‡ªå·±çš„éªŒè¯æ¶ˆæ¯ã€‚</p><p id="d400" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæ‰€æœ‰éªŒè¯éƒ½å·²å®ç°ã€‚è®©æˆ‘å‘ä½ å±•ç¤ºæ‰€æœ‰ä»£ç çš„æ ·å­ã€‚</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="9832" class="mw ll it ms b gy mx my l mz na">&lt;template&gt;<br/>  &lt;form @submit.prevent="login"&gt;<br/>    &lt;input<br/>      type="email"<br/>      placeholder="Email"<br/>      v-model="email"<br/>      @blur="$v.email.$touch()"<br/>    /&gt;<br/>    &lt;div v-if="$v.email.$error"&gt;<br/>      &lt;p v-if="!$v.email.email"&gt;Please enter a valid email&lt;/p&gt;<br/>      &lt;p v-if="!$v.email.required"&gt;Please enter an email&lt;/p&gt;<br/>    &lt;/div&gt;</span><span id="569f" class="mw ll it ms b gy nv my l mz na">    &lt;input<br/>      type="password"<br/>      placeholder="Password"<br/>      v-model="password"<br/>      @blur="$v.password.touch()"<br/>    /&gt;<br/>    &lt;div v-if="$v.password.$error"&gt;<br/>      &lt;p v-if="!$v.password.minLength"&gt;<br/>       Password must be more than {{ passwordMinLength }} characters<br/>      &lt;/p&gt;<br/>      &lt;p v-if="!$v.password.required"&gt;Please enter an password&lt;/p&gt;<br/>    &lt;/div&gt;<br/>    <br/>    &lt;button :disabled="$v.$invalid" type="submit"&gt;Login&lt;/button&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="87c8" class="mw ll it ms b gy nv my l mz na">&lt;script&gt;<br/>import { required, email, minLength } from "vuelidate/lib/validators";</span><span id="6fab" class="mw ll it ms b gy nv my l mz na">export default {<br/>  data() {<br/>    return {<br/>      email: "",<br/>      password: "",<br/>    }<br/>  },<br/>  validations: {<br/>    email: { required, email },<br/>    password: { required, minLength: minLength(8) }<br/>  },<br/>  methods: {<br/>    login() {<br/>      this.$v.$touch();<br/>      if (this.$v.$invalid) {<br/>        // DO SOMETHING HERE<br/>      }<br/>    }<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="b296" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">å¦‚ä½ æ‰€çŸ¥ï¼Œå³ä½¿è¿™ä¸ªè¶…çº§ç®€å•çš„ç™»å½•è¡¨å•ä¹Ÿæœ‰å¾ˆå¤šä»£ç ã€‚æ‰€ä»¥å¦‚æœä½ æœ‰æ›´å¤šçš„é¢†åŸŸå’Œæ›´å¤šçš„å…¶ä»–é€»è¾‘ï¼Œå®ƒå¾ˆå®¹æ˜“å˜å¾—æ›´ä¹±ã€‚å½“æˆ‘ç¬¬ä¸€æ¬¡çœ‹åˆ°è¿™ä¸ªå®ç°æ—¶ï¼Œæˆ‘è®¤ä¸ºæ¨¡æ¿ä¸­çš„<code class="fe ns nt nu ms b">validations</code>éƒ¨åˆ†å’Œé”™è¯¯æ¶ˆæ¯å¯ä»¥è¢«æå–å‡ºæ¥æˆ–è€…å¾ˆç®€å•ã€‚</p><h1 id="e755" class="lk ll it bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">ä½¿ç”¨vuelidateè¿›è¡ŒVue 3.0éªŒè¯</h1><p id="5b84" class="pw-post-body-paragraph jx jy it jz b ka mi kc kd ke mj kg kh ki mk kk kl km ml ko kp kq mm ks kt ku im bi translated">Vue 3.0ç»„åˆapiè®©æˆ‘ä»¬èƒ½å¤Ÿè¶…çº§è½»æ¾åœ°ç»„åˆå’Œç»„ç»‡é€»è¾‘ã€‚æƒ³äº†è§£composition apiï¼Œå°±çœ‹<a class="ae kv" href="https://www.vuemastery.com/courses/vue-3-essentials/why-the-composition-api" rel="noopener ugc nofollow" target="_blank"> Vueç²¾é€šè¯¾ç¨‹</a>ã€‚</p><p id="2999" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">æ‰€ä»¥è®©æˆ‘ä»¬ç”¨Vue 3.0 composition apiå’Œvuelidateå®ç°ç›¸åŒçš„ç™»å½•è¡¨å•ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬ç”¨composition apiåˆ›å»ºvueé¡¹ç›®ã€‚<code class="fe ns nt nu ms b">vue-cli</code>æ˜¯æœ€ç®€å•çš„æ–¹æ³•ã€‚ç»„åˆapiæä¾›äº†<code class="fe ns nt nu ms b">@vue/composition-api</code>ã€‚</p><p id="b10c" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">â€»å¦‚æœVue 3.0å‘å¸ƒäº†ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨vue-cliï¼Œå®‰è£…Vue 3.0ã€‚</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="8062" class="mw ll it ms b gy mx my l mz na">$ yarn global add @vue/cli  // If you don't have it</span><span id="6b6f" class="mw ll it ms b gy nv my l mz na">$ vue create vuelidate-with-vue-composition-api<br/>$ cd vuelidate-with-vue-composition-api</span><span id="6526" class="mw ll it ms b gy nv my l mz na">$ yarn add <a class="ae kv" href="http://twitter.com/vue/composition-api" rel="noopener ugc nofollow" target="_blank">@vue/composition-api</a></span></pre><p id="af50" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">æ”¹å˜<code class="fe ns nt nu ms b">src/components/HelloWorld.vue</code>å¦‚ä¸‹å›¾ã€‚</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="f98c" class="mw ll it ms b gy mx my l mz na">// Form.vue</span><span id="c972" class="mw ll it ms b gy nv my l mz na">&lt;template&gt;<br/>  &lt;div&gt;<br/>    &lt;input type="text" v-model="email"&gt;<br/>    &lt;input type="password" v-model="password"&gt;<br/>    &lt;button type="submit"&gt;Login&lt;/button&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="b548" class="mw ll it ms b gy nv my l mz na">&lt;script&gt;<br/>import { reactive, toRefs } from "@vue/composition-api";</span><span id="97a8" class="mw ll it ms b gy nv my l mz na">export default {<br/>  name: "Form",<br/>  setup(){<br/>    const state = reactive({<br/>      email: "",<br/>      password: ""<br/>    });</span><span id="e52e" class="mw ll it ms b gy nv my l mz na">    return {<br/>      ...toRefs(state)<br/>    };<br/>  }<br/>};<br/>&lt;/script&gt;</span><span id="d219" class="mw ll it ms b gy nv my l mz na">// STYLE CAN BE ANYTHING<br/>&lt;style scoped&gt;<br/>div,form {<br/>  display: flex;<br/>  flex-direction: column;<br/>  justify-content: center;<br/>}<br/>input, button {<br/>  width: 300px;<br/>  height: 50px;<br/>  font-size: 1rem;<br/>  margin: 20px auto 0px;<br/>}<br/>p {<br/>  margin: 5px 60px 0 0;<br/>}<br/>&lt;/style&gt;</span></pre><p id="d566" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">è€Œ<code class="fe ns nt nu ms b">App.vue</code>ä¸€å®šæ˜¯ä¸‹é¢è¿™ä¸ªæ ·å­ã€‚</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="e586" class="mw ll it ms b gy mx my l mz na">// Replace HelloWorld component with Form component<br/>&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;img alt="Vue logo" src="./assets/logo.png" /&gt;<br/>    &lt;Form /&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="640a" class="mw ll it ms b gy nv my l mz na">&lt;script&gt;<br/>import Form from "./components/Form.vue";</span><span id="ad81" class="mw ll it ms b gy nv my l mz na">export default {<br/>  name: "App",<br/>  components: {<br/>    Form<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="afa3" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">æ‰€ä»¥è¿˜æ˜¯åŠ ä¸Švuelidateå§ã€‚å…¶å®ä»Vue 3.0å…¼å®¹ç‰ˆæœ¬å¼€å§‹ï¼Œvuelidateå°±è¢«åˆ†æˆäº†ä¸¤ä¸ªåŒ…ï¼Œ<code class="fe ns nt nu ms b">@vuelidate/core</code>å’Œ<code class="fe ns nt nu ms b">@vuelidate/validators</code>ã€‚åƒ<code class="fe ns nt nu ms b">required</code>å’Œ<code class="fe ns nt nu ms b">minLength</code>è¿™æ ·çš„éªŒè¯é€»è¾‘æ˜¯åˆ†ç¦»çš„ã€‚è€Œä¸”å› ä¸ºvuelidateè¿˜æ˜¯betaç‰ˆï¼Œå®ƒéœ€è¦<code class="fe ns nt nu ms b">@vue/composition-api</code>ä½œä¸ºä¾èµ–ï¼Œä¹Ÿè®¸åœ¨ä¸ä¹…çš„å°†æ¥å®ƒä¼šæ¶ˆå¤±ã€‚</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="f1ca" class="mw ll it ms b gy mx my l mz na">$ yarn add @vuelidate/core @vuelidate/validators</span></pre><p id="bac4" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">æ‚¨åº”è¯¥é¦–å…ˆè®¾ç½®vuelidateå’Œcomposition apiã€‚</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="0728" class="mw ll it ms b gy mx my l mz na">// main.js<br/>import Vue from 'vue';<br/>import VueCompositionApi from '@vue/composition-api';<br/>import { VuelidatePlugin } from '@vuelidate/core';<br/>import App from './App.vue';</span><span id="d1ee" class="mw ll it ms b gy nv my l mz na">Vue.config.productionTip = false;</span><span id="b447" class="mw ll it ms b gy nv my l mz na">Vue.use(VueCompositionApi);<br/>Vue.use(VuelidatePlugin);</span><span id="f57f" class="mw ll it ms b gy nv my l mz na">new Vue({<br/>  render: h =&gt; h(App),<br/>}).$mount("#app");</span></pre><p id="1cbb" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">æ‰€æœ‰è®¾ç½®éƒ½å·²å®Œæˆï¼è®©æˆ‘ä»¬åƒæˆ‘ä¸Šé¢åšçš„é‚£æ ·å®ç°ä¸€ä¸ªè¡¨å•éªŒè¯ã€‚</p><h2 id="7aa7" class="mw ll it bd lm nh ni dn lq nj nk dp lu ki nl nm ly km nn no mc kq np nq mg nr bi translated">å®ç°éªŒè¯é€»è¾‘</h2><p id="48c6" class="pw-post-body-paragraph jx jy it jz b ka mi kc kd ke mj kg kh ki mk kk kl km ml ko kp kq mm ks kt ku im bi translated">æ–°çš„vuelidateæ˜¯ä½¿ç”¨Vue 3.0ç»„åˆapiå®ç°çš„ã€‚çœ‹èµ·æ¥åƒä¸‹é¢ã€‚ä¸€ç‚¹æ˜¯ä½ ç°åœ¨ä¸èƒ½ç”¨<code class="fe ns nt nu ms b">reactive</code>ã€‚è¿™å°±å˜æˆäº†T21çš„é—®é¢˜ã€‚</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="76f1" class="mw ll it ms b gy mx my l mz na">// Form.vue</span><span id="70d9" class="mw ll it ms b gy nv my l mz na">&lt;script&gt;<br/>import { ref } from "@vue/composition-api";<br/>import useVuelidate from "@vuelidate/core";<br/>import { required, email, minLength } from "@vuelidate/validators";</span><span id="1322" class="mw ll it ms b gy nv my l mz na">export default {<br/>  name: "Form",<br/>  setup(){<br/>    const userEmail = ref("");<br/>    const userPassword = ref("");</span><span id="f739" class="mw ll it ms b gy nv my l mz na">    // Validation Logics<br/>    const rules = {<br/>      userEmail: { required, email },<br/>      userPassword: { required, minLength: minLength(8) }<br/>    };<br/>    const $v = useVuelidate(<br/>      rules,<br/>      { userEmail, userPassword }<br/>    );</span><span id="c487" class="mw ll it ms b gy nv my l mz na">    return {<br/>      userEmail,<br/>      userPassword,<br/>      $v<br/>    };<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="1775" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">å®é™…ä¸Šï¼Œå½“ä½ åªçœ‹åˆ°éªŒè¯é€»è¾‘æ—¶ï¼Œå®ƒä¸Vue 2.x <code class="fe ns nt nu ms b">validations</code>éƒ¨åˆ†éå¸¸ç›¸ä¼¼ã€‚å¦ä¸€æ–¹é¢ï¼Œ<code class="fe ns nt nu ms b">$v</code>ä¸Vue 2.0å…¼å®¹çš„vuelidateæœ‰äº›ä¸åŒã€‚</p><figure class="mn mo mp mq gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="ny nz di oa bf ob"><div class="gh gi nx"><img src="../Images/6dee208838236647bb98bd6be7424728.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UrxRYLGF-aTetfcpOZIh5Q.png"/></div></div><figcaption class="nc nd gj gh gi ne nf bd b be z dk translated">å…¼å®¹Vue 3.0çš„$v</figcaption></figure><p id="7009" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">æ­£å¦‚ä½ åœ¨ä¸Šé¢çœ‹åˆ°çš„ï¼Œå…¨æ–°çš„<code class="fe ns nt nu ms b">$errors</code>å±æ€§å‡ºç°äº†ã€‚å› ä¸ºå®ƒå­˜å‚¨é»˜è®¤çš„é”™è¯¯ä¿¡æ¯ï¼Œæ‰€ä»¥æ‚¨ä¸å¿…ç¼–å†™è‡ªå·±çš„é”™è¯¯ä¿¡æ¯ã€‚</p><h2 id="ad52" class="mw ll it bd lm nh ni dn lq nj nk dp lu ki nl nm ly km nn no mc kq np nq mg nr bi translated">æ§åˆ¶ä½•æ—¶éªŒè¯</h2><p id="d089" class="pw-post-body-paragraph jx jy it jz b ka mi kc kd ke mj kg kh ki mk kk kl km ml ko kp kq mm ks kt ku im bi translated">è®©æˆ‘ä»¬å®ç°è¾“å…¥å­—æ®µæ¨¡ç³Šå’Œæäº¤æ—¶é—´éªŒè¯ã€‚</p><p id="001b" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">å¯æƒœå› ä¸ºåŸç”Ÿ<code class="fe ns nt nu ms b">$touch</code>å‡½æ•°æ²¡æœ‰å‘å¸ƒï¼Œæ‰€ä»¥å¿…é¡»è‡ªå·±æŠŠ<code class="fe ns nt nu ms b">$dirty</code>æ”¹æˆtrueã€‚åœ¨<code class="fe ns nt nu ms b">handleBlur</code>å’Œ<code class="fe ns nt nu ms b">login</code>å‡½æ•°ä¸­å®ç°ã€‚å¸Œæœ›å®ƒèƒ½åœ¨ä¸ä¹…çš„å°†æ¥å‘å¸ƒã€‚</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="eccf" class="mw ll it ms b gy mx my l mz na">&lt;template&gt;<br/>  &lt;form @submit.prevent="login"&gt;<br/>    &lt;input<br/>      type="text"<br/>      v-model="userEmail"<br/>      @blur="handleBlur('userEmail')"<br/>    &gt;<br/>    ...<br/>    &lt;input<br/>      type="password"<br/>      v-model="userPassword"<br/>      @blur="handleBlur('userPassword')"<br/>    &gt;<br/>    &lt;button :disabled="$v.$invalid" type="submit"&gt;Login&lt;/button&gt;<br/>  &lt;/form&gt;<br/>&lt;/template&gt;</span><span id="8308" class="mw ll it ms b gy nv my l mz na">&lt;script&gt;</span><span id="7fa9" class="mw ll it ms b gy nv my l mz na">...</span><span id="6d33" class="mw ll it ms b gy nv my l mz na">  setup(){<br/>    <br/>    ...<br/>    <br/>    const handleBlur = (key) =&gt;{<br/>      $v[key].$dirty = true;<br/>    };</span><span id="67a8" class="mw ll it ms b gy nv my l mz na">    const login = () =&gt; {<br/>      $v.$dirty = true;<br/>      if (!$v.$error) {<br/>        // DO SOMETHING HERE<br/>      }<br/>    };</span><span id="5fe9" class="mw ll it ms b gy nv my l mz na">    return {<br/>      userEmail,<br/>      userPassword,<br/>      $v,<br/>      handleBlur<br/>    };<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><h2 id="dc66" class="mw ll it bd lm nh ni dn lq nj nk dp lu ki nl nm ly km nn no mc kq np nq mg nr bi translated">å¦‚æœéœ€è¦ï¼Œæ˜¾ç¤ºé”™è¯¯</h2><p id="8038" class="pw-post-body-paragraph jx jy it jz b ka mi kc kd ke mj kg kh ki mk kk kl km ml ko kp kq mm ks kt ku im bi translated">æ­£å¦‚æˆ‘ä¸Šé¢æåˆ°çš„ï¼ŒVue 3.0å…¼å®¹çš„vuelidateæœ‰<code class="fe ns nt nu ms b">$errors</code>å­˜å‚¨é»˜è®¤çš„é”™è¯¯ä¿¡æ¯ã€‚å†é…åˆ<code class="fe ns nt nu ms b">v-for</code>ä½¿ç”¨å§ã€‚</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="d5bb" class="mw ll it ms b gy mx my l mz na">&lt;template&gt;<br/>  &lt;form @submit.prevent="login"&gt;<br/>    &lt;input<br/>      type="text"<br/>      v-model="userEmail"<br/>      @blur="handleBlur('userEmail')"<br/>    &gt;<br/>    &lt;div v-if="$v.userEmail.$error"&gt;<br/>      &lt;p v-for="$error in $v.userEmail.$errors" :key="$error.$property"&gt;<br/>        {{ $error.$message }}<br/>      &lt;/p&gt;<br/>    &lt;/div&gt;</span><span id="c4d0" class="mw ll it ms b gy nv my l mz na">    &lt;input<br/>      type="password"<br/>      v-model="userPassword"<br/>      @blur="handleBlur('userPassword')"<br/>    &gt;<br/>    &lt;div v-if="$v.userPassword.$error"&gt;<br/>      &lt;p v-for="$error in $v.userPassword.$errors" :key="$error.$property"&gt;<br/>        {{ $error.$message }}<br/>      &lt;/p&gt;<br/>    &lt;/div&gt;<br/>    &lt;button :disabled="$v.$invalid" type="submit"&gt;Login&lt;/button&gt;<br/>  &lt;/form&gt;<br/>&lt;/template&gt;</span></pre><p id="1d17" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">å¦‚æ‚¨æ‰€è§ï¼Œé”™è¯¯æ¶ˆæ¯éƒ¨åˆ†å¯ä»¥åˆ†æˆä¸åŒçš„éƒ¨åˆ†ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="d933" class="mw ll it ms b gy mx my l mz na">// ErrorMessage.vue</span><span id="4e17" class="mw ll it ms b gy nv my l mz na">&lt;template&gt;<br/>  &lt;div v-if="validationStatus.$error"&gt;<br/>    &lt;p v-for="$error in validationStatus.$errors" :key="$error.$property"&gt;<br/>      {{ $error.$message }}<br/>    &lt;/p&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="4855" class="mw ll it ms b gy nv my l mz na">&lt;script&gt;<br/>export default {<br/>  name: "ErrorMessage",<br/>  props: {<br/>    validationStatus: {<br/>      type: Object,<br/>      required: true<br/>    },<br/>  }<br/>};<br/>&lt;/script&gt;<br/>// ADD STYLE IF YOU WANT</span></pre><p id="b966" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">åˆ›å»º<code class="fe ns nt nu ms b">ErrorMessage</code>ç»„ä»¶åï¼Œä½ çš„æ¨¡æ¿å˜å¾—éå¸¸å¹²å‡€ã€‚æ¨¡æ¿ä¸­çš„é”™è¯¯æ¶ˆæ¯éƒ¨åˆ†è¢«æå–ğŸ‰</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="1836" class="mw ll it ms b gy mx my l mz na">// Form.vue<br/>&lt;template&gt;<br/>  &lt;form @submit.prevent="login"&gt;<br/>    &lt;input type="text" v-model="userEmail" @blur="handleBlur('userEmail')"&gt;<br/>    &lt;ErrorMessage :validationStatus="$v.userEmail" /&gt;</span><span id="8ad8" class="mw ll it ms b gy nv my l mz na">    &lt;input type="password" v-model="userPassword" @blur="handleBlur('userPassword')"&gt;<br/>    &lt;ErrorMessage :validationStatus="$v.userPassword" /&gt;<br/>  <br/>    &lt;button :disabled="$v.$invalid" type="submit"&gt;Login&lt;/button&gt;<br/>  &lt;/form&gt;<br/>&lt;/template&gt;</span></pre><p id="ea1c" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">æ‰€æœ‰éªŒè¯é€»è¾‘éƒ½å·²å®ç°ã€‚è®©æˆ‘ç»™ä½ çœ‹å®Œæ•´çš„ä»£ç ã€‚</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="6f49" class="mw ll it ms b gy mx my l mz na">// Form.vue<br/>&lt;template&gt;<br/>  &lt;form @submit.prevent="login"&gt;<br/>    &lt;input type="text" v-model="userEmail" @blur="handleBlur('userEmail')"&gt;<br/>    &lt;ErrorMessage :validationStatus="$v.userEmail" /&gt;</span><span id="65a0" class="mw ll it ms b gy nv my l mz na">&lt;input type="password" v-model="userPassword" @blur="handleBlur('userPassword')"&gt;<br/>    &lt;ErrorMessage :validationStatus="$v.userPassword" /&gt;<br/>  <br/>    &lt;button :disabled="$v.$invalid" type="submit"&gt;Login&lt;/button&gt;<br/>  &lt;/form&gt;<br/>&lt;/template&gt;</span><span id="141c" class="mw ll it ms b gy nv my l mz na">&lt;script&gt;<br/>import { ref } from "@vue/composition-api";<br/>import useVuelidate from "@vuelidate/core";<br/>import { required, email, minLength } from "@vuelidate/validators";<br/>import ErrorMessage from "./ErrorMessage.vue";</span><span id="84a6" class="mw ll it ms b gy nv my l mz na">export default {<br/>  name: "Form",<br/>  components: {<br/>    ErrorMessage,<br/>  },<br/>  setup(){<br/>    const userEmail = ref("");<br/>    const userPassword = ref("");</span><span id="fdfa" class="mw ll it ms b gy nv my l mz na">    const rules = {<br/>      userEmail: { required, email },<br/>      userPassword: { required, minLength: minLength(8) }<br/>    };<br/>    const $v = useVuelidate(<br/>      rules,<br/>      { userEmail, userPassword }<br/>    );</span><span id="76b3" class="mw ll it ms b gy nv my l mz na">    const handleBlur = (key) =&gt;{<br/>      $v[key].$dirty = true;<br/>    };<br/>    const login = () =&gt; {<br/>      $v.$dirty = true;<br/>      if (!$v.$error) {<br/>        // DO SOMETHING<br/>      }<br/>    };</span><span id="b307" class="mw ll it ms b gy nv my l mz na">    return {<br/>      userEmail,<br/>      userPassword,<br/>      $v,<br/>      handleBlur,<br/>      login<br/>    };<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="a441" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">æœ‰äº†Vue 3.0 composition apiï¼Œä½ å·²ç»æœ‰äº†ä¸¤æ ·ä¸œè¥¿ã€‚</p><ol class=""><li id="f3db" class="kw kx it jz b ka kb ke kf ki ky km kz kq la ku ng lc ld le bi translated">å› ä¸ºæ‚¨ä¸å¿…ç¼–å†™è‡ªå·±çš„é”™è¯¯æ¶ˆæ¯ï¼Œæ‰€ä»¥åˆ›å»º<code class="fe ns nt nu ms b">ErrorMessage</code>ç»„ä»¶éå¸¸å®¹æ˜“ã€‚</li><li id="6ed4" class="kw kx it jz b ka lf ke lg ki lh km li kq lj ku ng lc ld le bi translated">è™½ç„¶åœ¨Vue 2.xä¸­ï¼ŒéªŒè¯é€»è¾‘åœ¨<code class="fe ns nt nu ms b">validations</code>ã€<code class="fe ns nt nu ms b">methods</code>ä¸­æ˜¯åˆ†å¼€çš„ï¼Œä½†åœ¨Vue 3.0ä¸­ï¼Œæ‰€æœ‰ä¸éªŒè¯ç›¸å…³çš„é€»è¾‘éƒ½ç»„ç»‡åœ¨ä¸€ä¸ªåœ°æ–¹ã€‚</li></ol><p id="7730" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">ä½†æ˜¯ç»„åˆapiå¯ä»¥è®©ä½ çš„ä»£ç æ›´åŠ ç®€æ´ã€‚è®©æˆ‘å‘Šè¯‰ä½ æ€ä¹ˆåšï¼</p><h1 id="b643" class="lk ll it bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">æ„å»ºéªŒè¯é€»è¾‘</h1><p id="dbef" class="pw-post-body-paragraph jx jy it jz b ka mi kc kd ke mj kg kh ki mk kk kl km ml ko kp kq mm ks kt ku im bi translated">é¦–å…ˆï¼Œåœ¨<code class="fe ns nt nu ms b">Form.vue</code>ä¸­åˆ›å»º<code class="fe ns nt nu ms b">useLoginForm</code>å‡½æ•°ï¼Œå¹¶å¤åˆ¶ç²˜è´´<code class="fe ns nt nu ms b">setup</code>ä¸­çš„æ‰€æœ‰é€»è¾‘ï¼Œå¦‚ä¸‹å›¾ã€‚</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="93b0" class="mw ll it ms b gy mx my l mz na">// Form.vue</span><span id="32d2" class="mw ll it ms b gy nv my l mz na">&lt;script&gt;<br/>import { ref } from "@vue/composition-api";<br/>...</span><span id="43e1" class="mw ll it ms b gy nv my l mz na">export default {<br/>  name: "Form",<br/>  components: { ErrorMessage },<br/>  setup(){    <br/>    const { userEmail, userPassword, $v, handleBlur, login } = useLoginForm();</span><span id="818f" class="mw ll it ms b gy nv my l mz na">    return {<br/>      userEmail,<br/>      userPassword,<br/>      $v,<br/>      handleBlur,<br/>      login<br/>    };<br/>  }<br/>};</span><span id="857b" class="mw ll it ms b gy nv my l mz na">const useLoginForm = () =&gt;{<br/>  const userEmail = ref("");<br/>  const userPassword = ref("");</span><span id="b1d1" class="mw ll it ms b gy nv my l mz na">  const rules = {<br/>    userEmail: { required, email },<br/>    userPassword: { required, minLength: minLength(8) }<br/>  };</span><span id="0fd4" class="mw ll it ms b gy nv my l mz na">  const $v = useVuelidate(<br/>    rules,<br/>    { userEmail, userPassword }<br/>  );</span><span id="82b7" class="mw ll it ms b gy nv my l mz na">  const handleBlur = (key) =&gt;{<br/>    $v[key].$dirty = true;<br/>  };</span><span id="7aeb" class="mw ll it ms b gy nv my l mz na">  const login = () =&gt; {<br/>    $v.$dirty = true;<br/>    if (!$v.$error) {<br/>      // DO SOMETHING<br/>    }<br/>  };</span><span id="2551" class="mw ll it ms b gy nv my l mz na">  return {<br/>    userEmail,<br/>    userPassword,<br/>    $v,<br/>    handleBlur,<br/>    login<br/>  };<br/>};<br/>&lt;/script&gt;</span></pre><p id="35ef" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">å› ä¸º<code class="fe ns nt nu ms b">useLoginForm</code>å‡½æ•°åªæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¯ä»¥åƒ<code class="fe ns nt nu ms b">src/composables/useLoginForm.js</code>ä¸€æ ·å•ç‹¬æ”¾åœ¨ä¸€ä¸ªä¸åŒçš„æ–‡ä»¶é‡Œã€‚</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="d153" class="mw ll it ms b gy mx my l mz na">// Form.vue</span><span id="44c8" class="mw ll it ms b gy nv my l mz na">&lt;script&gt;<br/>import { useLoginForm } from "../composables/useLoginForm";<br/>import ErrorMessage from "./ErrorMessage.vue";</span><span id="f086" class="mw ll it ms b gy nv my l mz na">export default {<br/>  name: "Form",<br/>  components: { ErrorMessage },<br/>  setup(){    <br/>    const { userEmail, userPassword, $v, handleBlur, login } = useLoginForm();</span><span id="f28c" class="mw ll it ms b gy nv my l mz na">return {<br/>      userEmail,<br/>      userPassword,<br/>      $v,<br/>      handleBlur,<br/>      login<br/>    };<br/>  }<br/>};<br/>&lt;/script&gt;<br/></span><span id="6eda" class="mw ll it ms b gy nv my l mz na">// src/composables/useLoginForm.js</span><span id="a409" class="mw ll it ms b gy nv my l mz na">import { ref } from "@vue/composition-api";<br/>import useVuelidate from "@vuelidate/core";<br/>import { required, email, minLength } from "@vuelidate/validators";</span><span id="8717" class="mw ll it ms b gy nv my l mz na">export const useLoginForm = () =&gt;{<br/>  const userEmail = ref("");<br/>  const userPassword = ref("");</span><span id="08c3" class="mw ll it ms b gy nv my l mz na">  const rules = {<br/>    userEmail: { required, email },<br/>    userPassword: { required, minLength: minLength(8) }<br/>  };</span><span id="ca30" class="mw ll it ms b gy nv my l mz na">  const $v = useVuelidate(<br/>    rules,<br/>    { userEmail, userPassword }<br/>  );</span><span id="1591" class="mw ll it ms b gy nv my l mz na">  const handleBlur = (key) =&gt;{<br/>    $v[key].$dirty = true;<br/>  };</span><span id="ac83" class="mw ll it ms b gy nv my l mz na">  const login = () =&gt; {<br/>    $v.$dirty = true;<br/>    if (!$v.$error) {<br/>      // DO SOMETHING<br/>    }<br/>  };</span><span id="bf89" class="mw ll it ms b gy nv my l mz na">  return {<br/>    userEmail,<br/>    userPassword,<br/>    $v,<br/>    handleBlur,<br/>    login<br/>  };<br/>};</span></pre><p id="5915" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">ç°åœ¨<code class="fe ns nt nu ms b">Form.vue</code>è¶…çº§å¹²å‡€ä½†æ˜¯å¯ä»¥ç†è§£ï¼å³ä½¿åœ¨<code class="fe ns nt nu ms b">Form.vue</code>ä¸­åŠ å…¥å…¶ä»–ç±»ä¼¼fetchçš„é€»è¾‘ï¼Œä½ ä¹Ÿå¯ä»¥ç”¨åŒæ ·çš„æ–¹å¼è¿›è¡Œç»„åˆï¼Œå¹¶ä¿æŒ<code class="fe ns nt nu ms b">Form.vue</code>éå¸¸å¹²å‡€ã€‚</p><h1 id="c672" class="lk ll it bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">åŒ…è£¹</h1><p id="f54e" class="pw-post-body-paragraph jx jy it jz b ka mi kc kd ke mj kg kh ki mk kk kl km ml ko kp kq mm ks kt ku im bi translated">åˆ°ç›®å‰ä¸ºæ­¢ï¼Œè¿™ç¯‡æ–‡ç« è§£é‡Šè¯´</p><ul class=""><li id="0e06" class="kw kx it jz b ka kb ke kf ki ky km kz kq la ku lb lc ld le bi translated">Vue 2.xå…¼å®¹vuelidateå’ŒVue 3.0ä¹‹é—´çš„å®ç°å·®å¼‚</li><li id="fccf" class="kw kx it jz b ka lf ke lg ki lh km li kq lj ku lb lc ld le bi translated">å¦‚ä½•ç”¨ç»„åˆapiå’Œvuelidateç»„ç»‡éªŒè¯é€»è¾‘</li></ul><p id="767b" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">å¦‚æœ‰ç–‘é—®ï¼Œæ¬¢è¿éšæ—¶å†™è¯„è®ºï¼éå¸¸æœŸå¾…Vue 3.0çš„å‘å¸ƒï¼è°¢è°¢ä½ ã€‚</p><h1 id="0ff4" class="lk ll it bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">å‚è€ƒ</h1><ul class=""><li id="f0c0" class="kw kx it jz b ka mi ke mj ki oc km od kq oe ku lb lc ld le bi translated">æŸè§†é¢‘å‰ªè¾‘è½¯ä»¶</li><li id="2b71" class="kw kx it jz b ka lf ke lg ki lh km li kq lj ku lb lc ld le bi translated"><a class="ae kv" href="https://github.com/logaretm/vee-validate" rel="noopener ugc nofollow" target="_blank"> vee-validate </a></li><li id="6366" class="kw kx it jz b ka lf ke lg ki lh km li kq lj ku lb lc ld le bi translated"><a class="ae kv" href="https://github.com/vuelidate/vuelidate" rel="noopener ugc nofollow" target="_blank"> vuelidate </a></li><li id="2d13" class="kw kx it jz b ka lf ke lg ki lh km li kq lj ku lb lc ld le bi translated"><a class="ae kv" href="https://github.com/vuejs/vue-cli-plugin-vue-next" rel="noopener ugc nofollow" target="_blank"> vue-cli </a></li><li id="7c4b" class="kw kx it jz b ka lf ke lg ki lh km li kq lj ku lb lc ld le bi translated"><a class="ae kv" href="https://www.vuemastery.com/" rel="noopener ugc nofollow" target="_blank"> VueæŒæ¡åº¦</a></li></ul></div></div>    
</body>
</html>