<html>
<head>
<title>Create Pull Requests and then Merge Multiple GitHub Repos from the Command Line</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">åˆ›å»ºPullè¯·æ±‚ï¼Œç„¶åä»å‘½ä»¤è¡Œåˆå¹¶å¤šä¸ªGitHub Repos</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://itnext.io/create-pull-requests-and-then-merge-multiple-github-repos-from-the-command-line-ceef76c3cf65?source=collection_archive---------6-----------------------#2020-09-02">https://itnext.io/create-pull-requests-and-then-merge-multiple-github-repos-from-the-command-line-ceef76c3cf65?source=collection_archive---------6-----------------------#2020-09-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/072e74bad62ed539771a1517ae995316.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q32hPaYKCOibog-lT1_-sA.png"/></div></div></figure><p id="65a2" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">æˆ‘è¯•å›¾è§£å†³çš„é—®é¢˜æ˜¯:å¦‚ä½•ä¸ºå¤šä¸ªGitHubä»“åº“åˆ›å»ºPRsï¼Œç„¶åé€šè¿‡CLIåˆå¹¶è¿™äº›ä»“åº“â€”â€”è€Œä¸ä½¿ç”¨GitHub UIï¼</p><p id="dc8e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">æˆ‘å†³å®šåˆ©ç”¨GitHubçš„<a class="ae kz" href="https://hub.github.com/" rel="noopener ugc nofollow" target="_blank"> Hub </a>ï¼ŒGitHubå°†å…¶æè¿°ä¸ºâ€œå‘½ä»¤è¡Œgitçš„æ‰©å±•â€æ¥åˆ›å»ºpullè¯·æ±‚ï¼Œç„¶åä½¿ç”¨GitHubçš„<a class="ae kz" href="https://developer.github.com/v3/pulls/#merge-a-pull-request" rel="noopener ugc nofollow" target="_blank"> APIæ¥åˆå¹¶è¿™äº›prã€‚</a>æˆ‘åœ¨Macä¸Šå·¥ä½œï¼Œæ‰€ä»¥æˆ‘ç”¨Brewå®‰è£…äº†Hub: <code class="fe la lb lc ld b">brew install hub</code></p><p id="6104" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘å¼€å‘äº†è¿™ä¸ªBashè„šæœ¬æ¥åˆ›å»ºPullè¯·æ±‚(æ³¨æ„ï¼Œå°äº/å¤§äºæ‹¬å·<code class="fe la lb lc ld b">&lt;&gt;</code>ä¸­çš„ä»»ä½•å†…å®¹éƒ½éœ€è¦ä¿®æ”¹ä»¥åŒ¹é…æ‚¨çš„è®¾ç½®):</p><pre class="le lf lg lh gt li ld lj lk aw ll bi"><span id="ce56" class="lm ln it ld b gy lo lp l lq lr">#!/bin/bash</span><span id="ba2a" class="lm ln it ld b gy ls lp l lq lr">date=$(date +%F-%H)<br/>curdir=$(pwd)<br/>echo '#!/bin/bash' &gt;&gt; merge_all-${date}.sh<br/>echo 'source .env' &gt;&gt; merge_all-${date}.sh<br/>for path in */&lt;path_goes_here&gt;*<br/>do<br/>  [[ ! -d "$path" ]] &amp;&amp; continue<br/>  echo "$path"<br/>  cd "$path"<br/>  pr=$(hub pull-request --base &lt;<!-- -->OWNER&gt;:&lt;base_branch&gt; <!-- -->--head &lt;branch_with_changes&gt; -m "helpful message goes here")<br/>  echo "$pr"<br/>  repo=$(echo "$pr" | awk -F "/" {'print $5'})<br/>  pull_number=$(echo "$pr" | awk -F "/" {'print $7'})<br/>  cd $curdir<br/>  echo "echo \"$repo\"" &gt;&gt; merge_all-${date}.sh<br/>  echo "curl -s -X PUT \<br/>  -H \"Authorization: token \$token\" \<br/> <a class="ae kz" href="https://api.github.concur.com/repos/SM/$repo/pulls/$pull_number/merge" rel="noopener ugc nofollow" target="_blank">https://api.github.com/repos/&lt;OWNER&gt;/$repo/pulls/$pull_number/merge</a>" &gt;&gt; merge_all-${date}.sh<br/>done</span></pre><p id="457b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">è¿™ä¸ªè„šæœ¬ä½äºåŒ…å«å‡ ä¸ªreposçš„ç›®å½•çš„æ ¹ç›®å½•ä¸‹ã€‚å®ƒä½¿ç”¨<code class="fe la lb lc ld b">$path</code>å˜é‡éå†ç›®å½•ï¼Œåˆ›å»ºPRï¼Œç„¶åå°†PRæ·»åŠ åˆ°æ ¹ç›®å½•ä¸‹ç”Ÿæˆçš„æ–°è„šæœ¬ä¸­ã€‚ç”Ÿæˆçš„è„šæœ¬å°†è¢«ç§°ä¸º<code class="fe la lb lc ld b">merge_all-&lt;Date_of_Execution&gt;.sh</code>ï¼Œå¹¶å°†åŒ…å«å‡ ä¸ªcurlå‘½ä»¤ï¼Œè¿™äº›å‘½ä»¤ä½¿ç”¨GitHub APIæ¥åˆå¹¶PRsã€‚ä¸ºäº†ç»™åŒè¡Œè¯„å®¡ç•™å‡ºæ—¶é—´ï¼Œæˆ‘å°†æ‹‰å–è¯·æ±‚å’Œåˆå¹¶åˆ†ç¦»åˆ°ä¸åŒçš„è„šæœ¬ä¸­ã€‚</p><p id="e497" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">è¯·æ³¨æ„ï¼ŒGitHub APIéœ€è¦ä¸€ä¸ªæˆæƒä»¤ç‰Œï¼Œæ‚¨å¯ä»¥æŒ‰ç…§GitHubçš„<a class="ae kz" href="https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token" rel="noopener ugc nofollow" target="_blank">æ–‡æ¡£</a>æ¥è®¾ç½®å®ƒã€‚è¿™ä¸ªä»¤ç‰Œéœ€è¦æ”¾åœ¨ä¸€ä¸ª<code class="fe la lb lc ld b">.env</code>æ–‡ä»¶ä¸­ï¼Œè¯¥æ–‡ä»¶ä¹Ÿä½äºæ ¹ç›®å½•ä¸‹ã€‚ä¸‹é¢æ˜¯é‚£ä¸ª<code class="fe la lb lc ld b">.env </code>æ–‡ä»¶çš„æ ·å­:</p><pre class="le lf lg lh gt li ld lj lk aw ll bi"><span id="ecac" class="lm ln it ld b gy lo lp l lq lr">token=â€œ&lt;GitHub_Token_Goes_Here&gt;â€</span></pre><p id="8b20" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">å¦‚æœåœ¨è¿è¡Œæ‹‰è¯·æ±‚åˆ›å»ºè„šæœ¬åä¸€åˆ‡é¡ºåˆ©ï¼Œæ‚¨åº”è¯¥æœ‰ä¸€ä¸ªç±»ä¼¼å¦‚ä¸‹çš„è„šæœ¬:</p><figure class="le lf lg lh gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi lt"><img src="../Images/bf3b4ae6970fd17ed46fa7c9ed23e5ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F0BfCFgxRRqSYVF6MloqKQ.png"/></div></div></figure><p id="5640" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">å¦‚æœè¿™å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œé‚£ä¹ˆæ­å–œä½ çœä¸‹äº†åœ¨GitHub GUIä¸­æ‰‹åŠ¨åˆå¹¶å•ä¸ªå›è´­çš„æ—¶é—´ğŸ™‚</p></div></div>    
</body>
</html>