<html>
<head>
<title>Currency Picker And Formatter With Ionic React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å…·æœ‰ç¦»å­ååº”çš„è´§å¸æ‹¾å–å™¨å’Œæ ¼å¼åŒ–å™¨</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://itnext.io/currency-picker-and-formatter-with-ionic-react-ede8e2ff53df?source=collection_archive---------3-----------------------#2020-04-18">https://itnext.io/currency-picker-and-formatter-with-ionic-react-ede8e2ff53df?source=collection_archive---------3-----------------------#2020-04-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="4fa0" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">ä¸ºç”¨Ionicå’ŒReactå¼€å‘çš„åº”ç”¨ç¨‹åºæ„å»ºä¸€ä¸ªè´§å¸é€‰æ‹©å™¨å’Œæ ¼å¼åŒ–ç¨‹åº</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/bf8da822a62a08ca9c9b55996134f599.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vNyq4W-5NQoeX5jo8TqBQw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">åœ¨<a class="ae ky" href="https://unsplash.com/s/photos/free?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šç”±<a class="ae ky" href="https://unsplash.com/@pawelj?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Pawel Janiak </a>æ‹æ‘„</figcaption></figure><p id="4ce6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æˆ‘æ¯å¤©åˆ†äº«<a class="ae ky" href="https://medium.com/@david.dalbusco/one-trick-a-day-d-34-469a0336a07e" rel="noopener">ä¸€æ‹›</a>ç›´åˆ°åŸå®šçš„ç‘å£«æ–°å† è‚ºç‚éš”ç¦»æœŸç»“æŸçš„æ—¥æœŸï¼Œ2020å¹´4æœˆ19æ—¥ã€‚ç¦»ç¬¬ä¸€ä¸ªé‡Œç¨‹ç¢‘è¿˜æœ‰ä¸€å¤©ã€‚å¸Œæœ›æ›´å¥½çš„æ—¥å­å°±åœ¨å‰é¢ã€‚</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="a6e5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æˆ‘åœ¨ä¸ºä»Šå¤©çš„åšå®¢å¸–å­å¯»æ‰¾ä¸€ä¸ªä¸»é¢˜æƒ³æ³•ï¼Œæˆ‘æƒ³åˆ°ä¹Ÿè®¸æˆ‘å¯ä»¥åˆ†äº«æˆ‘ä»<a class="ae ky" href="https://tietracker.app.link/" rel="noopener ugc nofollow" target="_blank">é¢†å¸¦è¿½è¸ªå™¨</a>ä¸­å­¦åˆ°çš„ä¸€äº›ä¸œè¥¿â±ï¸ï¼Œä¸€ä¸ªç®€å•çš„ï¼Œå¼€æºçš„ï¼Œå…è´¹çš„æ—¶é—´è¿½è¸ªåº”ç”¨ç¨‹åºï¼Œæˆ‘ç”¨<a class="ae ky" href="https://ionicframework.com/" rel="noopener ugc nofollow" target="_blank"> Ionic </a>å’Œ<a class="ae ky" href="https://reactjs.org/" rel="noopener ugc nofollow" target="_blank"> React </a>å¼€å‘çš„ã€‚</p><p id="86f8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä¸ä½ åˆ†äº«æˆ‘çš„è§£å†³æ–¹æ¡ˆï¼Œå¼€å‘ä¸€ä¸ªè‡ªå®šä¹‰çš„è´§å¸é€‰æ‹©å™¨å’Œæ ¼å¼åŒ–ç¨‹åºã€‚</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/1d7da29d057099e7e0c3129f1cc5eedb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*YCPfr5rf-N4Tk9l9JusTXA.gif"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="95b3" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">å¼€å§‹</h1><p id="cb30" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">å¦‚æœæ‚¨è¿˜æ²¡æœ‰Ionic Reactåº”ç”¨ç¨‹åºï¼Œæ‚¨å¯ä»¥æŒ‰ç…§æœ¬æ•™ç¨‹ä½¿ç”¨ä»–ä»¬çš„CLIåˆ›å»ºä¸€ä¸ªç¤ºä¾‹åº”ç”¨ç¨‹åºã€‚</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="0f89" class="nf me it nb b gy ng nh l ni nj">ionic start</span></pre><p id="5008" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">å‡ºç°æç¤ºæ—¶ï¼Œé€‰æ‹©â€œReactâ€ï¼Œæ‚¨çš„åº”ç”¨ç¨‹åºåç§°ï¼Œä¾‹å¦‚æ¨¡æ¿â€œblankâ€ã€‚</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="5eb8" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">è´§å¸åˆ—è¡¨</h1><p id="b6ea" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">æˆ‘ä»¬æ‰“ç®—å¼€å‘ä¸€ä¸ªè‡ªå®šä¹‰çš„è´§å¸é€‰æ‹©å™¨ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ä¸€ä¸ªè´§å¸åˆ—è¡¨ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä¸‹è½½<a class="ae ky" href="https://github.com/xsolla/currency-format" rel="noopener ugc nofollow" target="_blank"> Xsolla </a> repoä¸Šæä¾›çš„ä¸€ä¸ªï¼Œå› ä¸ºå®ƒæ˜¯å…è´¹çš„ï¼Œå¹¶æ ¹æ®MITè®¸å¯è¯è¿›è¡Œè®¸å¯ã€‚</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="ba35" class="nf me it nb b gy ng nh l ni nj">curl https://raw.githubusercontent.com/xsolla/currency-format/master/currency-format.json -o public/assets/currencies.json</span></pre><p id="50e5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æˆ‘ä½¿ç”¨<code class="fe nk nl nm nb b">curl</code>æ˜¯å› ä¸ºæˆ‘ä½¿ç”¨çš„æ˜¯Macbookï¼Œä½†é‡è¦çš„æ˜¯å°†è´§å¸åˆ—è¡¨ä¿å­˜åœ¨assetsæ–‡ä»¶å¤¹ä¸­ï¼Œå› ä¸ºå®ƒå¿…é¡»éšåº”ç”¨ç¨‹åºä¸€èµ·æä¾›ã€‚</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="809b" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">ç±»å‹è„šæœ¬å®šä¹‰</h1><p id="9297" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">æˆ‘ä»¬éœ€è¦ä¸€ä¸ªTypeScriptå®šä¹‰æ¥å¤„ç†æˆ‘ä»¬åˆšåˆšä¸‹è½½çš„åˆ—è¡¨ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬åœ¨<code class="fe nk nl nm nb b">./src/definitions/currency.d.ts</code>ä¸­åˆ›å»ºä»¥ä¸‹æ¥å£ã€‚</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="d8e9" class="nf me it nb b gy ng nh l ni nj">export interface Currency {<br/>    name: string;<br/>    fractionSize: number;<br/>    symbol: {<br/>        grapheme: string;<br/>        template: string;<br/>        rtl: boolean;<br/>    };<br/>    uniqSymbol: boolean;<br/>}<br/><br/>export interface Currencies {<br/>    [currency: string]: Currency;<br/>}</span></pre><p id="e084" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æ³¨æ„ï¼Œæˆ‘ä¸ç¡®å®šä½¿ç”¨å­æ–‡ä»¶å¤¹<code class="fe nk nl nm nb b">definitions</code>æ˜¯ä¸æ˜¯æœ€å¥½çš„åšæ³•ï¼Œè¿™åªæ˜¯æˆ‘åšçš„äº‹æƒ…ã€‚æˆ‘ä¸è®¤ä¸ºè¿™æœ‰å¤šå¤§å…³ç³»ï¼Œæˆ‘åªæ˜¯å–œæ¬¢æŠŠæˆ‘çš„ä»£ç åˆ†æˆåŒ…ã€‚</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="e236" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">æ¨¡æ€:è´§å¸é€‰æ‹©å™¨</h1><p id="cddf" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">ä¸ºäº†å¼€å‘æˆ‘ä»¬çš„pickerï¼Œæˆ‘å»ºè®®æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªæ¨¡å‹ã€‚å®ƒåº”è¯¥æ˜¾ç¤ºå¯ç”¨è´§å¸çš„åˆ—è¡¨(è´§å¸åç§°å’Œç¼©å†™)ï¼Œå…è®¸ç”¨æˆ·è¿‡æ»¤è¿™äº›ï¼Œå¹¶æœ€ç»ˆè®©ä»–/å¥¹é€‰æ‹©ä¸€ä¸ªã€‚</p><p id="99ef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ç»„ä»¶<code class="fe nk nl nm nb b">./src/components/CurrenciesModal.tsx</code>,å®ƒæ¥æ”¶å½“å‰æ‰€é€‰è´§å¸çš„å±æ€§ï¼Œä»¥åŠä¸€ä¸ªå…³é—­æ¨¡å‹å¹¶ä¼ é€’ç”¨æˆ·é€‰æ‹©çš„å‡½æ•°ã€‚</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="d163" class="nf me it nb b gy ng nh l ni nj">interface Props {<br/>    closeAction: Function;<br/>    currency: string;<br/>}</span></pre><p id="ed70" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">å®ƒä¹ŸåŒ…å«ä¸¤ç§çŠ¶æ€ã€‚è´§å¸åˆ—è¡¨å’Œä¸€ä¸ªè¿‡æ»¤åçš„åˆ—è¡¨ï¼Œå½“ç»„ä»¶å®‰è£…æ—¶ï¼Œç­‰äºæ‰€æœ‰åˆ—è¡¨ã€‚</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="6b02" class="nf me it nb b gy ng nh l ni nj">const [currencies, setCurrencies] = <br/>      useState&lt;Currencies | undefined&gt;(undefined);<br/>const [filteredCurrencies, setFilteredCurrencies] = <br/>      useState&lt;Currencies | undefined&gt;(undefined);</span></pre><p id="9442" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ä¸ºäº†åˆå§‹åŒ–è¿™äº›ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†<code class="fe nk nl nm nb b">useEffect</code>é’©å­ï¼Œå¹¶è¯»å–äº†ä¹‹å‰ä¸‹è½½çš„JSONæ•°æ®ã€‚</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="d334" class="nf me it nb b gy ng nh l ni nj">useEffect(() =&gt; {<br/>    initCurrencies();<br/>    // eslint-disable-next-line react-hooks/exhaustive-deps<br/>}, []);<br/><br/>useEffect(() =&gt; {<br/>    setFilteredCurrencies(currencies);<br/>}, [currencies]);<br/><br/>async function initCurrencies() {<br/>    try {<br/>        const res: Response = <br/>                   await fetch('./assets/currencies.json');<br/><br/>        if (!res) {<br/>            setCurrencies(undefined);<br/>            return;<br/>        }<br/><br/>        const currencies: Currencies = await res.json();<br/><br/>        setCurrencies(currencies);<br/>    } catch (err) {<br/>        setCurrencies(undefined);<br/>    }<br/>}</span></pre><p id="fdb6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ä¸ºäº†ç»§ç»­è¿‡æ»¤ï¼Œæˆ‘ä»¬å®ç°äº†ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒè¯»å–ç”¨æˆ·è¾“å…¥å¹¶è°ƒç”¨å¦ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°æœ‰æ•ˆåœ°å°†è¿‡æ»¤å™¨åº”ç”¨åˆ°æˆ‘ä»¬ä½œä¸ºçŠ¶æ€å¯¹è±¡ç»´æŠ¤çš„åˆ—è¡¨ä¸Šã€‚</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="5786" class="nf me it nb b gy ng nh l ni nj">async function onFilter($event: CustomEvent&lt;KeyboardEvent&gt;) {<br/>    if (!$event) {<br/>        return;<br/>    }<br/><br/>    const input: string = ($event.target as InputTargetEvent).value;<br/><br/>    if (!input || input === undefined || input === '') {<br/>        setFilteredCurrencies(currencies);<br/>    } else {<br/>        const filtered: Currencies | undefined = <br/>                        await filterCurrencies(input);<br/>        setFilteredCurrencies(filtered);<br/>    }<br/>}</span></pre><p id="4a29" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æœ€åï¼Œæˆ‘ä»¬å®ç°äº†æˆ‘ä»¬çš„æ¨¡æ€å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼Œå…¶ä¸­åŒ…å«è´§å¸<code class="fe nk nl nm nb b">searchbar</code>å’Œ<code class="fe nk nl nm nb b">items</code>çš„<code class="fe nk nl nm nb b">list</code>ã€‚</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="7245" class="nf me it nb b gy ng nh l ni nj">&lt;IonSearchbar debounce={500} placeholder="Filter"<br/>              onIonInput={($event: CustomEvent&lt;KeyboardEvent&gt;) =&gt; onFilter($event)}&gt;&lt;/IonSearchbar&gt;<br/><br/>&lt;IonList&gt;<br/>    &lt;IonRadioGroup value={props.currency}&gt;<br/>        {renderCurrencies()}<br/>    &lt;/IonRadioGroup&gt;<br/>&lt;/IonList&gt;</span></pre><p id="6d9f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æ€»çš„æ¥è¯´ï¼Œæˆ‘ä»¬çš„ç»„ä»¶å¦‚ä¸‹æ‰€ç¤º:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="9162" class="nf me it nb b gy ng nh l ni nj">import React, {useEffect, useState} from 'react';<br/><br/>import {<br/>    IonList,<br/>    IonItem,<br/>    IonToolbar,<br/>    IonRadioGroup,<br/>    IonLabel,<br/>    IonRadio,<br/>    IonSearchbar,<br/>    IonContent,<br/>    IonTitle,<br/>    IonHeader, IonButtons, IonButton, IonIcon<br/>} from '@ionic/react';<br/><br/>import {close} from 'ionicons/icons';<br/><br/>import {Currencies} from '../definitions/currency';<br/><br/>interface Props {<br/>    closeAction: Function;<br/>    currency: string;<br/>}<br/><br/>interface InputTargetEvent extends EventTarget {<br/>    value: string;<br/>}<br/><br/>const CurrenciesModal: React.FC&lt;Props&gt; = (props: Props) =&gt; {<br/><br/>    const [currencies, setCurrencies] = <br/>          useState&lt;Currencies | undefined&gt;(undefined);<br/>    const [filteredCurrencies, setFilteredCurrencies] = <br/>          useState&lt;Currencies | undefined&gt;(undefined);<br/><br/>    useEffect(() =&gt; {<br/>        initCurrencies();<br/>        // eslint-disable-next-line react-hooks/exhaustive-deps<br/>    }, []);<br/><br/>    useEffect(() =&gt; {<br/>        setFilteredCurrencies(currencies);<br/>    }, [currencies]);<br/><br/>    async function initCurrencies() {<br/>        try {<br/>            const res: Response = <br/>                  await fetch('./assets/currencies.json');<br/><br/>            if (!res) {<br/>                setCurrencies(undefined);<br/>                return;<br/>            }<br/><br/>            const currencies: Currencies = await res.json();<br/><br/>            setCurrencies(currencies);<br/>        } catch (err) {<br/>            setCurrencies(undefined);<br/>        }<br/>    }<br/><br/>    async function onFilter($event: CustomEvent&lt;KeyboardEvent&gt;) {<br/>        if (!$event) {<br/>            return;<br/>        }<br/><br/>        const input: string = <br/>              ($event.target as InputTargetEvent).value;<br/><br/>        if (!input || input === undefined || input === '') {<br/>            setFilteredCurrencies(currencies);<br/>        } else {<br/>            const filtered: Currencies | undefined = <br/>                  await filterCurrencies(input);<br/>            setFilteredCurrencies(filtered);<br/>        }<br/>    }<br/><br/>    async function filterCurrencies(filter: string): <br/>                   Promise&lt;Currencies | undefined&gt; {<br/>        if (!currencies) {<br/>            return undefined;<br/>        }<br/><br/>        const results: Currencies = Object.keys(currencies)<br/>            .filter((key: string) =&gt; {<br/>                return ((key.toLowerCase().indexOf(filter.toLowerCase()) &gt; -1) ||<br/>                    (currencies[key].name &amp;&amp; currencies[key].name.toLowerCase().indexOf(filter.toLowerCase()) &gt; -1));<br/>            })<br/>            .reduce((obj: Currencies, key: string) =&gt; {<br/>                obj[key] = currencies[key];<br/>                return obj;<br/>            }, {});<br/><br/>        return results;<br/>    }<br/><br/>    return (<br/>        &lt;&gt;<br/>            &lt;IonHeader&gt;<br/>                &lt;IonToolbar color="primary"&gt;<br/>                    &lt;IonTitle&gt;Picker&lt;/IonTitle&gt;<br/>                    &lt;IonButtons slot="start"&gt;<br/>                        &lt;IonButton <br/>                          onClick={() =&gt; props.closeAction()}&gt;<br/>                          &lt;IonIcon icon={close} slot="icon-only"&gt; <br/>                          &lt;/IonIcon&gt;<br/>                        &lt;/IonButton&gt;<br/>                    &lt;/IonButtons&gt;<br/>                &lt;/IonToolbar&gt;<br/>            &lt;/IonHeader&gt;<br/><br/>            &lt;IonContent className="ion-padding"&gt;<br/>                &lt;IonSearchbar debounce={500} placeholder="Filter"<br/>                 onIonInput={($event: CustomEvent&lt;KeyboardEvent&gt;) =&gt; onFilter($event)}&gt;&lt;/IonSearchbar&gt;<br/><br/>                &lt;IonList&gt;<br/>                    &lt;IonRadioGroup value={props.currency}&gt;<br/>                        {renderCurrencies()}<br/>                    &lt;/IonRadioGroup&gt;<br/>                &lt;/IonList&gt;<br/>            &lt;/IonContent&gt;<br/>        &lt;/&gt;<br/>    );<br/><br/>    function renderCurrencies() {<br/>        if (!filteredCurrencies <br/>            || filteredCurrencies === undefined) {<br/>            return undefined;<br/>        }<br/><br/>        return Object.keys(filteredCurrencies)<br/>                     .map((key: string) =&gt; {<br/>            return &lt;IonItem key={`${key}`}<br/>                            onClick={() =&gt; props.closeAction(key)}&gt;<br/>                &lt;IonLabel&gt;{filteredCurrencies[key].name} ({key})<br/>                &lt;/IonLabel&gt;<br/>                &lt;IonRadio value={key}/&gt;<br/>            &lt;/IonItem&gt;<br/>        });<br/>    }<br/><br/>};<br/><br/>export default CurrenciesModal;</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="a952" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">é¡µé¢:ä¸»é¡µ</h1><p id="3319" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">æˆ‘ä»¬çš„æè´§äººå‡†å¤‡å¥½äº†ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥ä½¿ç”¨å®ƒã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†å®ƒé›†æˆåˆ°åº”ç”¨ç¨‹åºçš„ä¸»é¡µé¢ä¸­ï¼Œå³<code class="fe nk nl nm nb b">home</code>é¡µé¢ã€‚æˆ‘ä»¬è¿˜æ·»åŠ äº†ä¸€ä¸ªçŠ¶æ€æ¥æ˜¾ç¤ºå½“å‰é€‰æ‹©çš„è´§å¸ï¼Œæˆ‘ç”¨<code class="fe nk nl nm nb b">CHF</code>åˆå§‹åŒ–äº†å®ƒï¼Œå› ä¸ºå®ƒæ˜¯ç‘å£«çš„è´§å¸ã€‚</p><p id="cb5a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å®ç°äº†ä¸€ä¸ªåŠŸèƒ½ï¼Œæ ¹æ®ç”¨æˆ·ä½¿ç”¨ä¸Šè¿°æ¨¡å‹é€‰æ‹©çš„è´§å¸æ¥æ›´æ–°è´§å¸ã€‚</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="9a52" class="nf me it nb b gy ng nh l ni nj">import React, {useState} from 'react';<br/>import {IonContent, IonHeader, IonPage, IonTitle, IonToolbar, IonModal, IonButton, IonLabel} from '@ionic/react';<br/><br/>import CurrenciesModal from '../components/CurrenciesModal';<br/><br/>const Home: React.FC = () =&gt; {<br/><br/>    const [currency, setCurrency] = useState&lt;string&gt;('CHF');<br/>    const [showModal, setShowModal] = useState&lt;boolean&gt;(false);<br/><br/>    function updateCurrency(currency?: string | undefined) {<br/>        setShowModal(false);<br/><br/>        if (!currency) {<br/>            return;<br/>        }<br/><br/>        setCurrency(currency);<br/>    }<br/><br/>    return (<br/>        &lt;IonPage&gt;<br/>            &lt;IonHeader&gt;<br/>                &lt;IonToolbar&gt;<br/>                    &lt;IonTitle&gt;Home&lt;/IonTitle&gt;<br/>                &lt;/IonToolbar&gt;<br/>            &lt;/IonHeader&gt;<br/>            &lt;IonContent&gt;<br/>                &lt;IonModal isOpen={showModal} <br/>                 onDidDismiss={() =&gt; setShowModal(false)}&gt;<br/>                    &lt;CurrenciesModal currency={currency}<br/>                                     closeAction={updateCurrency}&gt;<br/>                    &lt;/CurrenciesModal&gt;<br/>                &lt;/IonModal&gt;<br/><br/>                &lt;h1&gt;123.45 {currency}&lt;/h1&gt;<br/><br/>                &lt;IonButton onClick={() =&gt; setShowModal(true)}&gt;<br/>                    &lt;IonLabel&gt;Pick currency&lt;/IonLabel&gt;<br/>                &lt;/IonButton&gt;<br/>            &lt;/IonContent&gt;<br/>        &lt;/IonPage&gt;<br/>    );<br/>};<br/><br/>export default Home;</span></pre><p id="739f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">å¦‚æœæ‚¨å®ç°äº†ä¸Šé¢çš„ä»£ç ï¼Œç°åœ¨æ‚¨åº”è¯¥èƒ½å¤Ÿè¿è¡Œåº”ç”¨ç¨‹åºå¹¶é€‰æ‹©è´§å¸ã€‚</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/424ad31ba1ebc862d3d033a772678059.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*l7-IXroNBIyWj11Ho1h9gA.gif"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="c93f" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">æ ¼å¼åŒ–è´§å¸</h1><p id="225c" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">èƒ½å¤Ÿé€‰æ‹©ä¸€ç§è´§å¸å›ºç„¶å¾ˆå¥½ï¼Œä½†æ˜¯èƒ½å¤Ÿä½¿ç”¨å®ƒå°±æ›´å¥½äº†ğŸ˜‰ã€‚</p><p id="f97f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ä¸ºäº†æ ¼å¼åŒ–æˆ‘ä»¬çš„é‡‘é¢ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨æ ‡å‡†çš„å†…ç½®å¯¹è±¡<a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NumberFormat" rel="noopener ugc nofollow" target="_blank"> Intlã€‚NumberFormat </a>ç°åœ¨å¾ˆå¥½åœ°è¢«ä»»ä½•æµè§ˆå™¨æ”¯æŒã€‚</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="970f" class="nf me it nb b gy ng nh l ni nj">function formatCurrency(value: number): string {<br/>    if (currency === undefined) {<br/>        return new Intl.NumberFormat('fr').format(0);<br/>    }<br/><br/>    return new Intl.NumberFormat('fr', <br/>           { style: 'currency', currency: currency }).format(value);<br/>}</span></pre><p id="d9eb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æ³¨æ„ï¼Œåœ¨ä¸Šé¢çš„å‡½æ•°ä¸­ï¼Œæˆ‘ç¡¬ç¼–ç äº†æ³•è¯­ï¼Œå› ä¸ºæ³•è¯­æ˜¯æˆ‘çš„æ¯è¯­ã€‚è¿™å¯ä»¥æ›¿æ¢ä¸ºæ‚¨é€‰æ‹©çš„è¯­è¨€ï¼Œæˆ–è€…å¦‚æœæ‚¨æ­£åœ¨ä½¿ç”¨å¸¦æœ‰ä»¥ä¸‹åŠ¨æ€è¯­è¨€çš„<a class="ae ky" href="https://www.i18next.com/" rel="noopener ugc nofollow" target="_blank"> i18next </a>ã€‚</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="bc95" class="nf me it nb b gy ng nh l ni nj">import i18n from 'i18next';<br/><br/>function formatCurrency(value: number): string {<br/>    if (currency === undefined) {<br/>        return new Intl.NumberFormat(i18n.language).format(0);<br/>    }<br/><br/>    return new Intl.NumberFormat(i18n.language, <br/>           { style: 'currency', currency: currency }).format(value);<br/>}</span></pre><p id="1ae7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æœ€åï¼Œæˆ‘ä»¬ç”¨å‡½æ•°è°ƒç”¨æ›¿æ¢å€¼<code class="fe nk nl nm nb b">123.45 {currency}</code>çš„é™æ€æ˜¾ç¤ºã€‚</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="a3a8" class="nf me it nb b gy ng nh l ni nj">&lt;h1&gt;{formatCurrency(123.45)}&lt;/h1&gt;</span></pre><p id="b141" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æ€»ä¹‹ï¼Œæˆ‘ä»¬çš„ä¸»é¡µç°åœ¨åº”è¯¥åŒ…å«ä»¥ä¸‹ä»£ç :</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="42af" class="nf me it nb b gy ng nh l ni nj">import React, {useState} from 'react';<br/>import {IonContent, IonHeader, IonPage, IonTitle, IonToolbar, IonModal, IonButton, IonLabel} from '@ionic/react';<br/><br/>import CurrenciesModal from '../components/CurrenciesModal';<br/><br/>const Home: React.FC = () =&gt; {<br/><br/>    const [currency, setCurrency] = useState&lt;string&gt;('CHF');<br/>    const [showModal, setShowModal] = useState&lt;boolean&gt;(false);<br/><br/>    function updateCurrency(currency?: string | undefined) {<br/>        setShowModal(false);<br/><br/>        if (!currency) {<br/>            return;<br/>        }<br/><br/>        setCurrency(currency);<br/>    }<br/><br/>    function formatCurrency(value: number): string {<br/>        if (currency === undefined) {<br/>            return new Intl.NumberFormat('fr').format(0);<br/>        }<br/><br/>        return new Intl.NumberFormat('fr', <br/>           { style: 'currency', currency: currency }).format(value);<br/>    }<br/><br/>    return (<br/>        &lt;IonPage&gt;<br/>            &lt;IonHeader&gt;<br/>                &lt;IonToolbar&gt;<br/>                    &lt;IonTitle&gt;Home&lt;/IonTitle&gt;<br/>                &lt;/IonToolbar&gt;<br/>            &lt;/IonHeader&gt;<br/>            &lt;IonContent&gt;<br/>                &lt;IonModal isOpen={showModal} <br/>                          onDidDismiss={() =&gt; setShowModal(false)}&gt;<br/>                    &lt;CurrenciesModal currency={currency}<br/>                                     closeAction={updateCurrency}&gt;<br/>                    &lt;/CurrenciesModal&gt;<br/>                &lt;/IonModal&gt;<br/><br/>                &lt;h1&gt;{formatCurrency(123.45)}&lt;/h1&gt;<br/><br/>                &lt;IonButton onClick={() =&gt; setShowModal(true)}&gt;<br/>                    &lt;IonLabel&gt;Pick currency&lt;/IonLabel&gt;<br/>                &lt;/IonButton&gt;<br/>            &lt;/IonContent&gt;<br/>        &lt;/IonPage&gt;<br/>    );<br/>};<br/><br/>export default Home;</span></pre><p id="8b48" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ç§ï¼Œæˆ‘ä»¬çš„è´§å¸é€‰æ‹©å™¨å’Œæ ¼å¼åŒ–ç¨‹åºéƒ½åœ¨Ionic Reactåº”ç”¨ç¨‹åºä¸­å®ç°äº†ğŸ‰ã€‚</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/4faf4d0e0f407bcf9e727d6a57e9b254.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*6ugZ2Y2mcpHkmdS4gpNJ6w.gif"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="be07" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">æ‘˜è¦</h1><p id="4399" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">çˆ±å¥¥å°¼äºšå’ŒReactåœ¨ä¸€èµ·çœŸçš„å¾ˆå¥½ç©ã€‚ç»“å¸<a class="ae ky" href="https://tietracker.app.link" rel="noopener ugc nofollow" target="_blank">é¢†å¸¦è¿½è¸ªå™¨</a>å½“ç„¶ï¼Œæ‚¨çš„<a class="ae ky" href="https://github.com/peterpeterparker/tietracker" rel="noopener ugc nofollow" target="_blank">æ‹‰åŠ¨è¯·æ±‚</a>æ¥æ”¹è¿›åº”ç”¨ç¨‹åºæ˜¯æœ€å—æ¬¢è¿çš„ğŸ˜ã€‚</p><p id="2fac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">å‘†åœ¨å®¶é‡Œï¼Œæ³¨æ„å®‰å…¨ï¼</p><p id="81e2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">å¤§å«</p></div></div>    
</body>
</html>