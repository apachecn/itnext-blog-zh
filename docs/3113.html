<html>
<head>
<title>Passing data between sibling components in React using Context API and React Hooks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ä½¿ç”¨ä¸Šä¸‹æ–‡APIå’ŒReactæŒ‚é’©åœ¨Reactä¸­çš„å…„å¼Ÿç»„ä»¶ä¹‹é—´ä¼ é€’æ•°æ®</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://itnext.io/passing-data-between-sibling-components-in-react-using-context-api-and-react-hooks-fce60f12629a?source=collection_archive---------0-----------------------#2019-10-06">https://itnext.io/passing-data-between-sibling-components-in-react-using-context-api-and-react-hooks-fce60f12629a?source=collection_archive---------0-----------------------#2019-10-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="3a6d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘å°†æ„å»ºä¸€ä¸ªå¸¦æœ‰2ä¸ªè¾“å…¥çš„ç®€å•reactåº”ç”¨ç¨‹åºï¼Œå…¶ä¸­å®ƒä»¬çš„å€¼å°†å®Œå…¨åŒæ­¥ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†è§£é‡Šä½¿ç”¨æœ€æ–°çš„reactç‰¹æ€§åœ¨reactå…„å¼Ÿç»„ä»¶ä¹‹é—´å‘é€æ•°æ®æ˜¯å¤šä¹ˆå®¹æ˜“ã€‚</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/546a455547b2e73291ce50c01b904653.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FdSxEIpAJFkZgDE5AwJzbA.png"/></div></div></figure></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><h1 id="6287" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">è®¾ç½®Reactç¯å¢ƒ</h1><p id="11fb" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy me ka kb kc mf ke kf kg mg ki kj kk ij bi translated">è¦åœ¨reactä¸­å¯åŠ¨æ–°çš„åº”ç”¨ç¨‹åºï¼Œæ‚¨ä¸éœ€è¦æ‹…å¿ƒæ‰€æœ‰çš„è®¾ç½®å’Œé…ç½®ã€‚æˆ‘å°†ä½¿ç”¨<code class="fe mh mi mj mk b">Create React App</code>ç¯å¢ƒï¼Œå®ƒéå¸¸ç®€å•å¹¶ä¸”æœ‰å¾ˆå¥½çš„æ–‡æ¡£è®°å½•ã€‚å…³äºè¿™ä¸ªå·¥å…·é“¾çš„æ‰€æœ‰æ–‡æ¡£å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°<a class="ae ml" href="https://reactjs.org/docs/create-a-new-react-app.html" rel="noopener ugc nofollow" target="_blank"/>ã€‚</p><p id="aa6b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">åˆ›å»ºreacté¡¹ç›®</p><pre class="km kn ko kp gt mm mk mn mo aw mp bi"><span id="c590" class="mq lf iq mk b gy mr ms l mt mu">npx create-react-app sync_inputs</span></pre><p id="7aa1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä¹‹åï¼Œä½ éœ€è¦å¯¼èˆªåˆ°æ–‡ä»¶å¤¹<code class="fe mh mi mj mk b">sync_inputs</code>å¹¶å¯åŠ¨åº”ç”¨ç¨‹åº</p><pre class="km kn ko kp gt mm mk mn mo aw mp bi"><span id="2458" class="mq lf iq mk b gy mr ms l mt mu">cd sync_inputs<br/>npm start</span></pre><p id="c187" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="mv">æ³¨æ„:</em> </strong>è¿è¡Œè¿™ä¸ªæœ¬åœ°æœåŠ¡å™¨å¯èƒ½ä¼šæœ‰ä¸€äº›é—®é¢˜ã€‚å¦‚æœä½ æœ‰ç±»ä¼¼<strong class="jp ir"><em class="mv"/></strong><code class="fe mh mi mj mk b">Attempting to bind to HOST environment variable: <strong class="jp ir">x86_64-apple-darwin13.4.0</strong></code><strong class="jp ir"/>çš„é”™è¯¯ä¿¡æ¯ï¼Œé‚£ä¹ˆ<strong class="jp ir"> </strong> <a class="ae ml" href="https://medium.com/@choy/fixing-create-react-app-when-npm-fails-to-start-because-your-host-environment-variable-is-being-4c8a9fa0b461" rel="noopener">è¿™ç¯‡</a>æ–‡ç« å¯èƒ½å¯¹ä½ æœ‰å¸®åŠ©ã€‚å½“æˆ‘è¯•ç€è¿è¡Œæˆ‘çš„æœåŠ¡å™¨æ—¶ï¼Œæˆ‘é‡åˆ°äº†ä¸€ä¸ªé”™è¯¯<code class="fe mh mi mj mk b">TypeError: fsevents is not a constructor.</code>æˆ‘åœ¨è¿™é‡Œæ‰¾åˆ°äº†å¾ˆå¤šå¦‚ä½•å¤„ç†å®ƒçš„å»ºè®®<a class="ae ml" href="https://github.com/facebook/create-react-app/issues/6891" rel="noopener ugc nofollow" target="_blank">ï¼Œä½†æ˜¯ä¸ªäººå¸®æˆ‘ç§»é™¤äº†æ‰€æœ‰çš„èŠ‚ç‚¹åŒ…å¹¶é‡æ–°è¿è¡Œ<code class="fe mh mi mj mk b">npm install</code>ã€‚ä¹‹åæˆ‘è¿è¡Œ<code class="fe mh mi mj mk b">npm start</code>ï¼Œä¸€åˆ‡æ­£å¸¸ã€‚æ­¤å¤–ï¼Œä½¿ç”¨npmä¸æ˜¯å¿…è¦çš„ã€‚å–œæ¬¢çš„è¯å¯ä»¥ç”¨çº±ã€‚</a></p><p id="b766" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¦‚æœä¸€åˆ‡éƒ½å·²å®‰è£…ï¼Œå¹¶ä¸”æ‚¨çš„æœ¬åœ°æœåŠ¡å™¨æ­£åœ¨è¿è¡Œï¼Œæ‚¨éœ€è¦å¯¼èˆª<code class="fe mh mi mj mk b">http://localhost:3000</code>ï¼Œæ‚¨åº”è¯¥ä¼šåœ¨æ·±è‰²èƒŒæ™¯ä¸Šçœ‹åˆ°reactå¾½æ ‡ã€‚å¤§æ¦‚æ˜¯è¿™æ ·çš„:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mw"><img src="../Images/77239302daea448b5f9ba4fb8fd9220c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z84fKweil9V5z2XAO0EUxQ.png"/></div></div></figure><p id="080a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨ï¼Œåœ¨æ‚¨çš„ç»ˆç«¯ä¸­æŒ‰ä¸‹<code class="fe mh mi mj mk b">ctrl + c</code>æ¥åœæ­¢æœ¬åœ°æœåŠ¡å™¨ï¼Œå¹¶å®‰è£…æ›´å¤šçš„ä¾èµ–é¡¹ã€‚</p><p id="e536" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å®‰è£…<a class="ae ml" href="https://material-ui.com/" rel="noopener ugc nofollow" target="_blank">æè´¨UI </a>æ ¸å¿ƒåº“å’Œå®ƒä»¬çš„å›¾æ ‡åº“æ¥åˆ¶ä½œæ¼‚äº®çš„UI</p><pre class="km kn ko kp gt mm mk mn mo aw mp bi"><span id="2ce4" class="mq lf iq mk b gy mr ms l mt mu">npm install @material-ui/core<br/>npm install @material-ui/icons</span></pre><p id="c9fc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨ä½ çš„<em class="mv"> package.json </em>æ–‡ä»¶åº”è¯¥æ˜¯è¿™æ ·çš„:</p><pre class="km kn ko kp gt mm mk mn mo aw mp bi"><span id="0f2f" class="mq lf iq mk b gy mr ms l mt mu">{<br/>  "name": "sync_inputs",<br/>  "version": "0.1.0",<br/>  "private": <strong class="mk ir">true</strong>,<br/>  "dependencies": {<br/>    "@material-ui/core": "^4.5.0",<br/>    "@material-ui/icons": "^4.4.3",<br/>    "react": "^16.10.2",<br/>    "react-dom": "^16.10.2",<br/>    "react-scripts": "3.2.0"<br/>  },<br/>  "scripts": {<br/>    "start": "react-scripts start",<br/>    "build": "react-scripts build",<br/>    "test": "react-scripts test",<br/>    "eject": "react-scripts eject"<br/>  },<br/>  "eslintConfig": {<br/>    "extends": "react-app"<br/>  },<br/>  "browserslist": {<br/>    "production": [<br/>      "&gt;0.2%",<br/>      "not dead",<br/>      "not op_mini all"<br/>    ],<br/>    "development": [<br/>      "last 1 chrome version",<br/>      "last 1 firefox version",<br/>      "last 1 safari version"<br/>    ]<br/>  }<br/>}</span></pre><p id="b753" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ‰€ä»¥ï¼Œç°åœ¨æˆ‘ä»¬æœ‰äº†æˆ‘ä»¬éœ€è¦çš„åŒ…å«æ‰€æœ‰åº“çš„å·¥ä½œç¯å¢ƒã€‚ç°åœ¨æ˜¯æ—¶å€™å¼€å§‹æ„å»ºæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºäº†ã€‚</p></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><h1 id="0f74" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated"><strong class="ak">åˆ›å»ºReactç»„ä»¶</strong></h1><blockquote class="mx my mz"><p id="4ea6" class="jn jo mv jp b jq jr js jt ju jv jw jx na jz ka kb nb kd ke kf nc kh ki kj kk ij bi translated">åœ¨è¿™ä¸€éƒ¨åˆ†ï¼Œæˆ‘å°†å»ºç«‹æˆ‘ä»¬çš„é¡¹ç›®ç»“æ„ï¼Œå¹¶å°†åˆ›å»ºæ‰€æœ‰çš„ç”¨æˆ·ç•Œé¢ã€‚</p></blockquote><p id="64e1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">é¦–å…ˆï¼Œåœ¨æˆ‘ä»¬é¡¹ç›®çš„<code class="fe mh mi mj mk b">./src</code>ç›®å½•ä¸­åˆ›å»ºæ–°æ–‡ä»¶å¤¹<code class="fe mh mi mj mk b">components</code>ã€‚ä¹‹ååœ¨<code class="fe mh mi mj mk b">./src/components</code>ä¸­åˆ›å»ºä¸¤ä¸ªæ–°ç»„ä»¶(<em class="mv"> Input_one.js </em>ï¼Œ<em class="mv"> Input_two.js </em>)ã€‚å®Œæˆæ‰€æœ‰è¿™äº›æ­¥éª¤åï¼Œæ‚¨çš„é¡¹ç›®ç»“æ„åº”è¯¥å¦‚ä¸‹æ‰€ç¤º:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nd"><img src="../Images/1c26f079161fbdd2a06e2561e2e2c6c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IPpFSBNUuiiKDolHtlTNfA.png"/></div></div></figure><p id="63a1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">åœ¨æ¥ä¸‹æ¥çš„æ­¥éª¤ä¸­ï¼Œæˆ‘å°†ä¿®æ”¹æˆ‘ä»¬çš„ç»„ä»¶æ¥åˆ›å»ºä¸€ä¸ªæ¼‚äº®çš„ç”¨æˆ·ç•Œé¢ã€‚</p><p id="c215" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä¿®æ”¹<code class="fe mh mi mj mk b">./src/components/Input_one.js</code>åˆ›å»ºä¸€ä¸ªè¾“å…¥ã€‚</p><pre class="km kn ko kp gt mm mk mn mo aw mp bi"><span id="5ad4" class="mq lf iq mk b gy mr ms l mt mu"><strong class="mk ir">import </strong>React <strong class="mk ir">from </strong>'react';<br/><strong class="mk ir">import </strong>{makeStyles} <strong class="mk ir">from </strong>"@material-ui/core/styles/index";<br/><br/>//Material UI components<br/><strong class="mk ir">import </strong>Grid <strong class="mk ir">from </strong>'@material-ui/core/Grid';<br/><strong class="mk ir">import </strong>Paper <strong class="mk ir">from </strong>'@material-ui/core/Paper';<br/><strong class="mk ir">import </strong>InputBase <strong class="mk ir">from </strong>'@material-ui/core/InputBase';<br/><br/>//Material UI Icons<br/><strong class="mk ir">import </strong>IconButton <strong class="mk ir">from </strong>'@material-ui/core/IconButton';<br/><strong class="mk ir">import </strong>SearchIcon <strong class="mk ir">from </strong>'@material-ui/icons/Search';<br/><br/><strong class="mk ir">const </strong>useStyles = makeStyles({<br/>    root: {<br/>        padding: '2px 4px',<br/>        display: 'flex',<br/>        alignItems: 'center',<br/>        width: '100%',<br/>    },<br/>    input: {<br/>        marginLeft: '8px',<br/>        flex: 1,<br/>    },<br/>    iconButton: {<br/>        padding: 10,<br/>    }<br/>});<br/><br/><strong class="mk ir">export default function </strong>Input_one() {<br/>    <strong class="mk ir">const </strong>classes = useStyles();<br/><br/>    <strong class="mk ir">return</strong>(<br/>        &lt;React.Fragment&gt;<br/>            &lt;Grid item xs={12} md={6}&gt;<br/>                &lt;Paper className={classes.root}&gt;<br/>                    &lt;InputBase<br/>                        className={classes.input}<br/>                        placeholder="Input one"<br/>                    /&gt;<br/>                    &lt;IconButton className={classes.iconButton} aria-label="search"&gt;<br/>                        &lt;SearchIcon /&gt;<br/>                    &lt;/IconButton&gt;<br/>                &lt;/Paper&gt;<br/>            &lt;/Grid&gt;<br/>        &lt;/React.Fragment&gt;<br/>    )<br/>}</span></pre><p id="2618" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä¿®æ”¹<code class="fe mh mi mj mk b">./src/components/Input_two.js</code>åˆ›å»ºä¸€ä¸ªè¾“å…¥äºŒã€‚</p><pre class="km kn ko kp gt mm mk mn mo aw mp bi"><span id="dee2" class="mq lf iq mk b gy mr ms l mt mu"><strong class="mk ir">import </strong>React <strong class="mk ir">from </strong>'react';<br/><strong class="mk ir">import </strong>{makeStyles} <strong class="mk ir">from </strong>"@material-ui/core/styles/index";<br/><br/>//Material UI components<br/><strong class="mk ir">import </strong>Grid <strong class="mk ir">from </strong>'@material-ui/core/Grid';<br/><strong class="mk ir">import </strong>Paper <strong class="mk ir">from </strong>'@material-ui/core/Paper';<br/><strong class="mk ir">import </strong>InputBase <strong class="mk ir">from </strong>'@material-ui/core/InputBase';<br/><br/>//Material UI Icons<br/><strong class="mk ir">import </strong>IconButton <strong class="mk ir">from </strong>'@material-ui/core/IconButton';<br/><strong class="mk ir">import </strong>SearchIcon <strong class="mk ir">from </strong>'@material-ui/icons/Search';<br/><br/><strong class="mk ir">const </strong>useStyles = makeStyles({<br/>    root: {<br/>        padding: '2px 4px',<br/>        display: 'flex',<br/>        alignItems: 'center',<br/>        width: '100%',<br/>    },<br/>    input: {<br/>        marginLeft: '8px',<br/>        flex: 1,<br/>    },<br/>    iconButton: {<br/>        padding: 10,<br/>    }<br/>});<br/><br/><strong class="mk ir">export default function </strong>Input_two() {<br/>    <strong class="mk ir">const </strong>classes = useStyles();<br/><br/>    <strong class="mk ir">return</strong>(<br/>        &lt;React.Fragment&gt;<br/>            &lt;Grid item xs={12} md={6}&gt;<br/>                &lt;Paper className={classes.root}&gt;<br/>                    &lt;InputBase<br/>                        className={classes.input}<br/>                        placeholder="Input two"<br/>                    /&gt;<br/>                    &lt;IconButton className={classes.iconButton} aria-label="search"&gt;<br/>                        &lt;SearchIcon /&gt;<br/>                    &lt;/IconButton&gt;<br/>                &lt;/Paper&gt;<br/>            &lt;/Grid&gt;<br/>        &lt;/React.Fragment&gt;<br/>    )<br/>}</span></pre><p id="5180" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="mv">æ³¨:</em> </strong> <em class="mv"> Input_one </em>å’Œ<em class="mv"> Input_two </em>ç»„ä»¶å‡ ä¹ç›¸åŒã€‚ç°åœ¨ä¸»è¦åŒºåˆ«åœ¨<code class="fe mh mi mj mk b">export default function Input_one()</code>å’Œ<code class="fe mh mi mj mk b">export default function Input_two()</code></p><p id="0289" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨ä¿®æ”¹<code class="fe mh mi mj mk b">./src/App.js</code>æ–‡ä»¶ã€‚åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œæˆ‘å°†åˆ›å»º<em class="mv">å®¹å™¨</em>ï¼Œå…¶ä¸­å°†å­˜å‚¨æˆ‘ä»¬åº”ç”¨ç¨‹åºçš„æ‰€æœ‰å†…å®¹ï¼Œæ·»åŠ æ ‡é¢˜å¹¶å¯¼å…¥æˆ‘ä»¬çš„<em class="mv">&lt;ã€Input _ one/&gt;</em>å’Œ<em class="mv"> &lt; Input_two/ &gt; </em>ç»„ä»¶ã€‚</p><pre class="km kn ko kp gt mm mk mn mo aw mp bi"><span id="6b1b" class="mq lf iq mk b gy mr ms l mt mu"><strong class="mk ir">import </strong>React <strong class="mk ir">from </strong>'react';<br/><strong class="mk ir">import </strong>{ makeStyles } <strong class="mk ir">from </strong>'@material-ui/core/styles';<br/><br/>//Material UI components<br/><strong class="mk ir">import </strong>Container <strong class="mk ir">from </strong>'@material-ui/core/Container';<br/><strong class="mk ir">import </strong>Typography <strong class="mk ir">from </strong>'@material-ui/core/Typography';<br/><strong class="mk ir">import </strong>Grid <strong class="mk ir">from </strong>'@material-ui/core/Grid';<br/><strong class="mk ir">import </strong>CssBaseline <strong class="mk ir">from </strong>'@material-ui/core/CssBaseline';<br/><strong class="mk ir">import </strong>Toolbar <strong class="mk ir">from </strong>'@material-ui/core/Toolbar';<br/><br/>//Import our Inputs<br/><strong class="mk ir">import </strong>Input_one <strong class="mk ir">from </strong>'./components/Input_one';<br/><strong class="mk ir">import </strong>Input_two <strong class="mk ir">from </strong>'./components/Input_two';<br/><br/>//Styles<br/><strong class="mk ir">const </strong>useStyles = makeStyles({<br/>    toolbarTitle: {<br/>        flex: 1,<br/>    },<br/>});<br/><br/><strong class="mk ir">function </strong>App() {<br/><br/>  <strong class="mk ir">const </strong>classes = useStyles();<br/><br/>  <strong class="mk ir">return </strong>(<br/>      &lt;Container maxWidth="lg"&gt;<br/>          &lt;CssBaseline /&gt;<br/><br/>          {/*Title*/}<br/>          &lt;Toolbar&gt;<br/>              &lt;Typography<br/>                  component="h2"<br/>                  variant="h5"<br/>                  color="inherit"<br/>                  align="center"<br/>                  noWrap<br/>                  className={classes.toolbarTitle}<br/>              &gt;<br/>                  Pass data between react sibling components<br/>              &lt;/Typography&gt;<br/>          &lt;/Toolbar&gt;<br/><br/>          {/*Inputs*/}<br/>          &lt;Grid container spacing={1}&gt;<br/>              &lt;Input_one/&gt;<br/>              &lt;Input_two/&gt;<br/>          &lt;/Grid&gt;<br/><br/>      &lt;/Container&gt;<br/>  );<br/>}<br/><br/><strong class="mk ir">export default </strong>App;</span></pre><p id="781c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å®Œæˆæ‰€æœ‰è¿™äº›æ­¥éª¤åï¼Œå¯¼èˆªè‡³<code class="fe mh mi mj mk b">http://localhost:3000</code>ã€‚æˆ‘ä»¬çš„é¡¹ç›®åº”è¯¥æ˜¯è¿™æ ·çš„:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ne"><img src="../Images/cfeeb6d7ce4d44748e4e3a37a77491ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SaCVYnxDFXme8k8pL2ciMQ.png"/></div></div></figure></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><h1 id="6edb" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">åˆ›å»ºåœ¨ç»„ä»¶ä¹‹é—´ä¼ é€’æ•°æ®çš„åŠŸèƒ½</h1><p id="0273" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy me ka kb kc mf ke kf kg mg ki kj kk ij bi translated">æ ¹æ®React <a class="ae ml" href="https://reactjs.org/docs/context.html" rel="noopener ugc nofollow" target="_blank">æ–‡æ¡£</a></p><blockquote class="mx my mz"><p id="d483" class="jn jo mv jp b jq jr js jt ju jv jw jx na jz ka kb nb kd ke kf nc kh ki kj kk ij bi translated">å½“ä¸åŒåµŒå¥—å±‚æ¬¡çš„è®¸å¤šç»„ä»¶éœ€è¦è®¿é—®æŸäº›æ•°æ®æ—¶ï¼Œä¸»è¦ä½¿ç”¨ä¸Šä¸‹æ–‡ã€‚</p></blockquote><p id="5c1e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">åœ¨<code class="fe mh mi mj mk b">./src/App.js</code>ä¸­åˆ›å»ºä¸€ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡</p><pre class="km kn ko kp gt mm mk mn mo aw mp bi"><span id="81f5" class="mq lf iq mk b gy mr ms l mt mu">// Create context object<br/><strong class="mk ir">export const </strong>AppContext = React.createContext();</span></pre><p id="3ae6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç„¶åè®¾ç½®åˆå§‹çŠ¶æ€å¯¹è±¡ï¼Œåœ¨é‚£é‡Œæˆ‘ä»¬å­˜å‚¨æˆ‘ä»¬çš„æ—¥æœŸï¼Œè¿™åº”è¯¥å¯ä»¥ä»ä¸¤ä¸ªè¾“å…¥è®¿é—®ã€‚</p><pre class="km kn ko kp gt mm mk mn mo aw mp bi"><span id="84b7" class="mq lf iq mk b gy mr ms l mt mu">// Set up Initial State<br/><strong class="mk ir">const </strong>initialState = {<br/><br/>    inputText: '',<br/><br/>};</span></pre><p id="8d15" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨åˆ›å»ºå‡½æ•°<code class="fe mh mi mj mk b">reducer</code>ï¼Œå½“ä»»ä½•è¾“å…¥çš„å€¼æ”¹å˜æ—¶ï¼Œå®ƒå°†æ¯æ¬¡æ›´æ–°æˆ‘ä»¬çš„åˆå§‹çŠ¶æ€ã€‚æˆ‘ä»¬å°†é€šè¿‡<code class="fe mh mi mj mk b">useReducer</code>ä½¿ç”¨è¯¥åŠŸèƒ½</p><pre class="km kn ko kp gt mm mk mn mo aw mp bi"><span id="4f0c" class="mq lf iq mk b gy mr ms l mt mu"><strong class="mk ir">function </strong>reducer(state, action) {<br/>    <strong class="mk ir">switch </strong>(action.type) {<br/>        <strong class="mk ir">case </strong>'UPDATE_INPUT':<br/>            <strong class="mk ir">return </strong>{<br/>                inputText: action.data<br/>            };<br/><br/><br/>        <strong class="mk ir">default</strong>:<br/>            <strong class="mk ir">return </strong>initialState;<br/>    }<br/>}</span></pre><p id="05b4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ ¹æ®react <a class="ae ml" href="https://reactjs.org/docs/hooks-reference.html#usereducer" rel="noopener ugc nofollow" target="_blank">æ–‡æ¡£</a></p><blockquote class="mx my mz"><p id="83a5" class="jn jo mv jp b jq jr js jt ju jv jw jx na jz ka kb nb kd ke kf nc kh ki kj kk ij bi translated"><code class="fe mh mi mj mk b">useReducer</code>å…è®¸æ‚¨ä¼˜åŒ–è§¦å‘æ·±åº¦æ›´æ–°çš„ç»„ä»¶çš„æ€§èƒ½ï¼Œå› ä¸ºæ‚¨å¯ä»¥å‘ä¸‹ä¼ é€’<code class="fe mh mi mj mk b">dispatch</code>è€Œä¸æ˜¯å›è°ƒã€‚</p></blockquote><p id="7cea" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">é¦–å…ˆæˆ‘ä»¬éœ€è¦ä»reactå¯¼å…¥<code class="fe mh mi mj mk b">useReducer</code>ã€‚æ‰€ä»¥ç°åœ¨<code class="fe mh mi mj mk b">./src/App.js</code>çš„ç¬¬ä¸€è¡Œåº”è¯¥æ˜¯è¿™æ ·çš„</p><pre class="km kn ko kp gt mm mk mn mo aw mp bi"><span id="0904" class="mq lf iq mk b gy mr ms l mt mu"><strong class="mk ir">import </strong>React, { useReducer } <strong class="mk ir">from </strong>'react';</span></pre><p id="7028" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨æˆ‘ä»¬éœ€è¦åˆå§‹åŒ–<code class="fe mh mi mj mk b">useReducer</code>çŠ¶æ€ã€‚æœ€ç®€å•çš„æ–¹æ³•æ˜¯å°†åˆå§‹çŠ¶æ€ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ä¼ é€’ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡æ·»åŠ ä»¥ä¸‹å†…å®¹æ¥åšåˆ°è¿™ä¸€ç‚¹:</p><pre class="km kn ko kp gt mm mk mn mo aw mp bi"><span id="011a" class="mq lf iq mk b gy mr ms l mt mu"><strong class="mk ir">const </strong>[state, dispatch] = useReducer(reducer, initialState);</span></pre><p id="c9e9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe mh mi mj mk b">./src/App.js</code>ä¸­çš„æœ€åä¸€éƒ¨åˆ†æ˜¯å°†ç»„ä»¶<em class="mv"> &lt; Input_one/ &gt; </em>å’Œ<em class="mv"> &lt; Input_two/ &gt; </em>åŒ…è£…åœ¨<code class="fe mh mi mj mk b">AppContext.Provider.</code>ä¸­ï¼Œæ¯ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡éƒ½é™„å¸¦ä¸€ä¸ªæä¾›è€…Reactç»„ä»¶ï¼Œå…è®¸æ¶ˆè´¹ç»„ä»¶è®¢é˜…ä¸Šä¸‹æ–‡æ›´æ”¹ã€‚å¯ä»¥åµŒå¥—æä¾›ç¨‹åºä»¥è¦†ç›–æ ‘ä¸­æ›´æ·±å±‚æ¬¡çš„å€¼ã€‚</p><p id="2ea1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨çš„<code class="fe mh mi mj mk b">./src/App.js</code>åº”è¯¥æ˜¯é‚£ä¸ªæ ·å­:</p><pre class="km kn ko kp gt mm mk mn mo aw mp bi"><span id="4c00" class="mq lf iq mk b gy mr ms l mt mu"><strong class="mk ir">import </strong>React, { useReducer } <strong class="mk ir">from </strong>'react';<br/><strong class="mk ir">import </strong>{ makeStyles } <strong class="mk ir">from </strong>'@material-ui/core/styles';<br/><br/>//Material UI components<br/><strong class="mk ir">import </strong>Container <strong class="mk ir">from </strong>'@material-ui/core/Container';<br/><strong class="mk ir">import </strong>Typography <strong class="mk ir">from </strong>'@material-ui/core/Typography';<br/><strong class="mk ir">import </strong>Grid <strong class="mk ir">from </strong>'@material-ui/core/Grid';<br/><strong class="mk ir">import </strong>CssBaseline <strong class="mk ir">from </strong>'@material-ui/core/CssBaseline';<br/><strong class="mk ir">import </strong>Toolbar <strong class="mk ir">from </strong>'@material-ui/core/Toolbar';<br/><br/>//Import our Inputs<br/><strong class="mk ir">import </strong>Input_one <strong class="mk ir">from </strong>'./components/Input_one';<br/><strong class="mk ir">import </strong>Input_two <strong class="mk ir">from </strong>'./components/Input_two';<br/><br/>//Styles<br/><strong class="mk ir">const </strong>useStyles = makeStyles({<br/>    toolbarTitle: {<br/>        flex: 1,<br/>    },<br/>});<br/><br/>// Create context object<br/><strong class="mk ir">export const </strong>AppContext = React.createContext();<br/><br/>// Set up Initial State<br/><strong class="mk ir">const </strong>initialState = {<br/><br/>    inputText: '',<br/><br/>};<br/><br/><strong class="mk ir">function </strong>reducer(state, action) {<br/>    <strong class="mk ir">switch </strong>(action.type) {<br/>        <strong class="mk ir">case </strong>'UPDATE_INPUT':<br/>            <strong class="mk ir">return </strong>{<br/>                inputText: action.data<br/>            };<br/><br/><br/>        <strong class="mk ir">default</strong>:<br/>            <strong class="mk ir">return </strong>initialState;<br/>    }<br/>}<br/><br/><strong class="mk ir">function </strong>App() {<br/><br/>  <strong class="mk ir">const </strong>classes = useStyles();<br/><br/>  <strong class="mk ir">const </strong>[state, dispatch] = useReducer(reducer, initialState);<br/><br/>  <strong class="mk ir">return </strong>(<br/>      &lt;Container maxWidth="lg"&gt;<br/>          &lt;CssBaseline /&gt;<br/><br/>          {/*Title*/}<br/>          &lt;Toolbar&gt;<br/>              &lt;Typography<br/>                  component="h2"<br/>                  variant="h5"<br/>                  color="inherit"<br/>                  align="center"<br/>                  noWrap<br/>                  className={classes.toolbarTitle}<br/>              &gt;<br/>                  Pass data between react sibling components<br/>              &lt;/Typography&gt;<br/>          &lt;/Toolbar&gt;<br/><br/>          {/*Inputs*/}<br/>          &lt;Grid container spacing={1}&gt;<br/>              &lt;AppContext.Provider value={{ state, dispatch }}&gt;<br/>                  &lt;Input_one/&gt;<br/>                  &lt;Input_two/&gt;<br/>              &lt;/AppContext.Provider&gt;<br/>          &lt;/Grid&gt;<br/><br/>      &lt;/Container&gt;<br/>  );<br/>}<br/><br/><strong class="mk ir">export default </strong>App;</span></pre><p id="c80b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨æˆ‘ä»¬éœ€è¦ä¿®æ”¹æˆ‘ä»¬çš„<em class="mv"> &lt;è¾“å…¥_ä¸€/ &gt; </em>å’Œ<em class="mv"> &lt;è¾“å…¥_äºŒ/ &gt; </em>ç»„ä»¶ã€‚</p><p id="658f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¯¹äºä¸¤ä¸ªè¾“å…¥ç»„ä»¶ï¼Œæ‰€æœ‰æ¥ä¸‹æ¥çš„æ›´æ”¹å°†å®Œå…¨ç›¸åŒã€‚é¦–å…ˆæˆ‘ä»¬éœ€è¦ä»reactå¯¼å…¥<code class="fe mh mi mj mk b">useContext</code>ã€‚</p><pre class="km kn ko kp gt mm mk mn mo aw mp bi"><span id="209d" class="mq lf iq mk b gy mr ms l mt mu"><strong class="mk ir">import </strong>React, { useContext } <strong class="mk ir">from </strong>'react';</span></pre><p id="7acb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨æˆ‘ä»¬éœ€è¦ä»åº”ç”¨ç¨‹åºç»„ä»¶å¯¼å…¥AppContext</p><pre class="km kn ko kp gt mm mk mn mo aw mp bi"><span id="cd5a" class="mq lf iq mk b gy mr ms l mt mu"><strong class="mk ir">import </strong>{ AppContext } <strong class="mk ir">from </strong>'../App'</span></pre><p id="e83a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä¸ºäº†åœ¨ç»„ä»¶ä¸­ä½¿ç”¨æˆ‘ä»¬çš„çŠ¶æ€å€¼ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ </p><pre class="km kn ko kp gt mm mk mn mo aw mp bi"><span id="b32c" class="mq lf iq mk b gy mr ms l mt mu"><strong class="mk ir">const </strong>{state, dispatch} = useContext(AppContext);</span></pre><p id="a017" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä¸‹ä¸€ä¸ªaddå‡½æ•°ï¼Œå®ƒå°†ä½¿ç”¨<code class="fe mh mi mj mk b">dispatch.</code>æ›´æ–°çŠ¶æ€<code class="fe mh mi mj mk b">inputText</code>å€¼ã€‚æ¯æ¬¡æˆ‘ä»¬åœ¨ä»»ä½•è¾“å…¥ä¸­é”®å…¥å†…å®¹æ—¶ï¼Œéƒ½ä¼šè°ƒç”¨è¿™ä¸ªå‡½æ•°ã€‚</p><pre class="km kn ko kp gt mm mk mn mo aw mp bi"><span id="6e3c" class="mq lf iq mk b gy mr ms l mt mu"><strong class="mk ir">const </strong>changeInputValue = (newValue) =&gt; {<br/><br/>    dispatch({ type: 'UPDATE_INPUT', data: newValue,});<br/>};</span></pre><p id="190c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨æˆ‘ä»¬éœ€è¦å°†<em class="mv">å€¼</em>è®¾ç½®ä¸º<em class="mv">çŠ¶æ€ï¼ŒinputText </em>å’Œ<em class="mv"> onChange </em>äº‹ä»¶åº”è¯¥è°ƒç”¨å‡½æ•°<code class="fe mh mi mj mk b">changeInputValue</code>ã€‚</p><p id="a798" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨<code class="fe mh mi mj mk b">./src/components/Input_one.js</code>åº”è¯¥æ˜¯è¿™æ ·çš„:</p><pre class="km kn ko kp gt mm mk mn mo aw mp bi"><span id="f802" class="mq lf iq mk b gy mr ms l mt mu"><strong class="mk ir">import </strong>React, { useContext } <strong class="mk ir">from </strong>'react';<br/><strong class="mk ir">import </strong>{makeStyles} <strong class="mk ir">from </strong>"@material-ui/core/styles/index";<br/><br/>//Material UI components<br/><strong class="mk ir">import </strong>Grid <strong class="mk ir">from </strong>'@material-ui/core/Grid';<br/><strong class="mk ir">import </strong>Paper <strong class="mk ir">from </strong>'@material-ui/core/Paper';<br/><strong class="mk ir">import </strong>InputBase <strong class="mk ir">from </strong>'@material-ui/core/InputBase';<br/><br/>//Material UI Icons<br/><strong class="mk ir">import </strong>IconButton <strong class="mk ir">from </strong>'@material-ui/core/IconButton';<br/><strong class="mk ir">import </strong>SearchIcon <strong class="mk ir">from </strong>'@material-ui/icons/Search';<br/><br/>// Import Context<br/><strong class="mk ir">import </strong>{ AppContext } <strong class="mk ir">from </strong>'../App'<br/><br/><strong class="mk ir">const </strong>useStyles = makeStyles({<br/>    root: {<br/>        padding: '2px 4px',<br/>        display: 'flex',<br/>        alignItems: 'center',<br/>        width: '100%',<br/>    },<br/>    input: {<br/>        marginLeft: '8px',<br/>        flex: 1,<br/>    },<br/>    iconButton: {<br/>        padding: 10,<br/>    }<br/>});<br/><br/><strong class="mk ir">export default function </strong>Input_one() {<br/><br/>    <strong class="mk ir">const </strong>classes = useStyles();<br/><br/>    <strong class="mk ir">const </strong>{state, dispatch} = useContext(AppContext);<br/><br/>    <strong class="mk ir">const </strong>changeInputValue = (newValue) =&gt; {<br/><br/>        dispatch({ type: 'UPDATE_INPUT', data: newValue,});<br/>    };<br/><br/>    <strong class="mk ir">return</strong>(<br/>        &lt;React.Fragment&gt;<br/>            &lt;Grid item xs={12} md={6}&gt;<br/>                &lt;Paper className={classes.root}&gt;<br/>                    &lt;InputBase<br/>                        className={classes.input}<br/>                        placeholder="Input one"<br/>                        value={state.inputText}<br/>                        onChange={e =&gt; changeInputValue(e.target.value)}<br/>                    /&gt;<br/>                    &lt;IconButton className={classes.iconButton} aria-label="search"&gt;<br/>                        &lt;SearchIcon /&gt;<br/>                    &lt;/IconButton&gt;<br/>                &lt;/Paper&gt;<br/>            &lt;/Grid&gt;<br/>        &lt;/React.Fragment&gt;<br/>    )<br/>}</span></pre><p id="d9b1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è€Œ<code class="fe mh mi mj mk b">./src/components/Input_two.js</code>åº”è¯¥é•¿å¾—åƒ:</p><pre class="km kn ko kp gt mm mk mn mo aw mp bi"><span id="dabf" class="mq lf iq mk b gy mr ms l mt mu"><strong class="mk ir">import </strong>React, { useContext } <strong class="mk ir">from </strong>'react';<br/><strong class="mk ir">import </strong>{makeStyles} <strong class="mk ir">from </strong>"@material-ui/core/styles/index";<br/><br/>//Material UI components<br/><strong class="mk ir">import </strong>Grid <strong class="mk ir">from </strong>'@material-ui/core/Grid';<br/><strong class="mk ir">import </strong>Paper <strong class="mk ir">from </strong>'@material-ui/core/Paper';<br/><strong class="mk ir">import </strong>InputBase <strong class="mk ir">from </strong>'@material-ui/core/InputBase';<br/><br/>//Material UI Icons<br/><strong class="mk ir">import </strong>IconButton <strong class="mk ir">from </strong>'@material-ui/core/IconButton';<br/><strong class="mk ir">import </strong>SearchIcon <strong class="mk ir">from </strong>'@material-ui/icons/Search';<br/><br/><br/>//Import Context<br/><strong class="mk ir">import </strong>{ AppContext } <strong class="mk ir">from </strong>'../App'<br/><br/><strong class="mk ir">const </strong>useStyles = makeStyles({<br/>    root: {<br/>        padding: '2px 4px',<br/>        display: 'flex',<br/>        alignItems: 'center',<br/>        width: '100%',<br/>    },<br/>    input: {<br/>        marginLeft: '8px',<br/>        flex: 1,<br/>    },<br/>    iconButton: {<br/>        padding: 10,<br/>    }<br/>});<br/><br/><br/><strong class="mk ir">export default function </strong>Input_two() {<br/><br/>    <strong class="mk ir">const </strong>classes = useStyles();<br/><br/>    <strong class="mk ir">const </strong>{state, dispatch} = useContext(AppContext);<br/><br/>    <strong class="mk ir">const </strong>changeInputValue = (newValue) =&gt; {<br/><br/>        dispatch({ type: 'UPDATE_INPUT', data: newValue,});<br/>    };<br/><br/>    <strong class="mk ir">return</strong>(<br/>        &lt;React.Fragment&gt;<br/>            &lt;Grid item xs={12} md={6}&gt;<br/>                &lt;Paper className={classes.root}&gt;<br/>                    &lt;InputBase<br/>                        className={classes.input}<br/>                        placeholder="Input two"<br/>                        value={state.inputText}<br/>                        onChange={e =&gt; changeInputValue(e.target.value)}<br/>                    /&gt;<br/>                    &lt;IconButton className={classes.iconButton} aria-label="search"&gt;<br/>                        &lt;SearchIcon /&gt;<br/>                    &lt;/IconButton&gt;<br/>                &lt;/Paper&gt;<br/>            &lt;/Grid&gt;<br/>        &lt;/React.Fragment&gt;<br/>    )<br/>}</span></pre><p id="755d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨ï¼Œåœ¨ä»»ä½•è¾“å…¥å­—æ®µä¸­è¾“å…¥ä¸€äº›å†…å®¹ï¼Œæ‚¨å°†çœ‹åˆ°ä¸¤ä¸ªè¾“å…¥éƒ½å°†è¢«æ›´æ–°ï¼Œå¹¶ä¸”åŒ…å«ç›¸åŒçš„å€¼ã€‚</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nf"><img src="../Images/ca8850962c8216eb535eeacfaa6430a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*NSJhj5E3dYW7tFu847ZQfg.gif"/></div></div></figure></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><h1 id="6b58" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">æ·»åŠ ä¸å˜æ€§åŠ©æ‰‹</h1><p id="2f41" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy me ka kb kc mf ke kf kg mg ki kj kk ij bi translated">æ‰€ä»¥ç°åœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºæŒ‰ç…§æˆ‘ä»¬é¢„æœŸçš„æ–¹å¼å·¥ä½œã€‚ä½†æ˜¯è®©æˆ‘ä»¬åœ¨<code class="fe mh mi mj mk b">./src/App.js</code>ä¸­æ›´æ–°æˆ‘ä»¬çš„åˆå§‹çŠ¶æ€ï¼Œå†å¢åŠ ä¸€ä¸ªå€¼å¹¶æ˜¾ç¤ºåœ¨é¡µé¢ä¸Šã€‚æ‰€ä»¥ç°åœ¨æˆ‘ä»¬çš„initialStateå¯¹è±¡åº”è¯¥æ˜¯è¿™æ ·çš„:</p><pre class="km kn ko kp gt mm mk mn mo aw mp bi"><span id="c898" class="mq lf iq mk b gy mr ms l mt mu">// Set up Initial State<br/><strong class="mk ir">const </strong>initialState = {<br/><br/>    inputText: '',<br/>    testText: 'Hello world'<br/><br/>};</span></pre><p id="5096" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨è®©æˆ‘ä»¬åœ¨é¡µé¢ä¸Šæ˜¾ç¤º<code class="fe mh mi mj mk b">testText</code>ã€‚æˆ‘ä»¬çš„<code class="fe mh mi mj mk b">./src/App.js</code>æ–‡ä»¶åº”è¯¥æ˜¯è¿™æ ·çš„:</p><pre class="km kn ko kp gt mm mk mn mo aw mp bi"><span id="b9a6" class="mq lf iq mk b gy mr ms l mt mu"><strong class="mk ir">import </strong>React, { useReducer } <strong class="mk ir">from </strong>'react';<br/><strong class="mk ir">import </strong>{ makeStyles } <strong class="mk ir">from </strong>'@material-ui/core/styles';<br/><br/>//Material UI components<br/><strong class="mk ir">import </strong>Container <strong class="mk ir">from </strong>'@material-ui/core/Container';<br/><strong class="mk ir">import </strong>Typography <strong class="mk ir">from </strong>'@material-ui/core/Typography';<br/><strong class="mk ir">import </strong>Grid <strong class="mk ir">from </strong>'@material-ui/core/Grid';<br/><strong class="mk ir">import </strong>CssBaseline <strong class="mk ir">from </strong>'@material-ui/core/CssBaseline';<br/><strong class="mk ir">import </strong>Toolbar <strong class="mk ir">from </strong>'@material-ui/core/Toolbar';<br/><br/>//Import our Inputs<br/><strong class="mk ir">import </strong>Input_one <strong class="mk ir">from </strong>'./components/Input_one';<br/><strong class="mk ir">import </strong>Input_two <strong class="mk ir">from </strong>'./components/Input_two';<br/><br/>//Styles<br/><strong class="mk ir">const </strong>useStyles = makeStyles({<br/>    toolbarTitle: {<br/>        flex: 1,<br/>    },<br/>});<br/><br/>// Create context object<br/><strong class="mk ir">export const </strong>AppContext = React.createContext();<br/><br/>// Set up Initial State<br/><strong class="mk ir">const </strong>initialState = {<br/><br/>    inputText: '',<br/>    testText: 'Hello world'<br/><br/>};<br/><br/><strong class="mk ir">function </strong>reducer(state, action) {<br/>    <strong class="mk ir">switch </strong>(action.type) {<br/>        <strong class="mk ir">case </strong>'UPDATE_INPUT':<br/>            <strong class="mk ir">return </strong>{<br/>                inputText: action.data<br/>            };<br/><br/><br/>        <strong class="mk ir">default</strong>:<br/>            <strong class="mk ir">return </strong>initialState;<br/>    }<br/>}<br/><br/><strong class="mk ir">function </strong>App() {<br/><br/>  <strong class="mk ir">const </strong>classes = useStyles();<br/><br/>  <strong class="mk ir">const </strong>[state, dispatch] = useReducer(reducer, initialState);<br/><br/>  <strong class="mk ir">return </strong>(<br/>      &lt;Container maxWidth="lg"&gt;<br/>          &lt;CssBaseline /&gt;<br/><br/>          {/*Title*/}<br/>          &lt;Toolbar&gt;<br/>              &lt;Typography<br/>                  component="h2"<br/>                  variant="h5"<br/>                  color="inherit"<br/>                  align="center"<br/>                  noWrap<br/>                  className={classes.toolbarTitle}<br/>              &gt;<br/>                  Pass data between react sibling components<br/>              &lt;/Typography&gt;<br/>          &lt;/Toolbar&gt;<br/><br/>          {/*Inputs*/}<br/>          &lt;Grid container spacing={1}&gt;<br/>              &lt;AppContext.Provider value={{ state, dispatch }}&gt;<br/>                  &lt;Input_one/&gt;<br/>                  &lt;Input_two/&gt;<br/>              &lt;/AppContext.Provider&gt;<br/>          &lt;/Grid&gt;<br/><br/>          {/*display testText value*/}<br/>          &lt;Toolbar&gt;<br/>              &lt;Typography<br/>                  component="h2"<br/>                  variant="h5"<br/>                  color="inherit"<br/>                  align="center"<br/>                  noWrap<br/>                  className={classes.toolbarTitle}<br/>              &gt;<br/>                  {state.testText}<br/>              &lt;/Typography&gt;<br/>          &lt;/Toolbar&gt;<br/>      &lt;/Container&gt;<br/>  );<br/>}<br/><br/><strong class="mk ir">export default </strong>App;</span></pre><p id="07fd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¦‚æœä¸€åˆ‡éƒ½æ˜¯æ­£ç¡®çš„ï¼Œä½ ç°åœ¨åº”è¯¥çœ‹åˆ°æˆ‘ä»¬è¾“å…¥çš„â€œHello worldâ€æ–‡æœ¬ã€‚å¼€å§‹åœ¨ä»»ä½•è¾“å…¥ä¸­è¾“å…¥ä¸€äº›ä¸œè¥¿ã€‚ä½ å¯ä»¥çœ‹åˆ°å‘ç”Ÿäº†ä»€ä¹ˆã€‚æˆ‘ä»¬çš„â€œHello wordâ€æ–‡æœ¬æ¶ˆå¤±äº†ã€‚</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ng"><img src="../Images/21d74d687ad8780365204964829e589b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*pAvCgf_BiOayIViN68GDkA.gif"/></div></div></figure><p id="f85f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¿™ä¹‹æ‰€ä»¥å‘ç”Ÿï¼Œæ˜¯å› ä¸ºç°åœ¨æ¯æ¬¡ä½ åœ¨ä»»ä½•è¾“å…¥ä¸­è¾“å…¥ä¸œè¥¿ï¼Œä½ éƒ½ç”¨æ–°çš„çŠ¶æ€å®Œå…¨æ›¿æ¢äº†æˆ‘ä»¬çš„initialStateå¯¹è±¡ã€‚ä½†æ˜¯æœ‰ä¸€ä¸ªè§£å†³æ–¹æ¡ˆå¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚æˆ‘ä»¬ä¸éœ€è¦æ¯æ¬¡éƒ½æ›¿æ¢æˆ‘ä»¬çš„initialStateå¯¹è±¡ï¼Œåªéœ€è¦æ›´æ–°<code class="fe mh mi mj mk b">inputText</code>å€¼ï¼Œä¸æ¥è§¦ä»»ä½•å…¶ä»–çŠ¶æ€ã€‚ä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<a class="ae ml" href="https://github.com/kolodny/immutability-helper" rel="noopener ugc nofollow" target="_blank">ä¸å˜æ€§åŠ©æ‰‹</a>åº“ï¼Œè¿™ä¸ªåº“æœ‰å¾ˆå¥½çš„æ–‡æ¡£è®°å½•ã€‚é€šè¿‡åœ¨ç»ˆç«¯ä¸­é”®å…¥å‘½ä»¤æ¥å®‰è£…è¿™ä¸ªåº“</p><pre class="km kn ko kp gt mm mk mn mo aw mp bi"><span id="84d4" class="mq lf iq mk b gy mr ms l mt mu">npm install immutability-helper --save</span></pre><p id="328e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨æˆ‘ä»¬åªéœ€è¦å°†è¿™ä¸ªåº“å¯¼å…¥åˆ°æˆ‘ä»¬çš„<code class="fe mh mi mj mk b">./src/App.js</code>æ–‡ä»¶ä¸­ï¼Œå¹¶æ ¹æ®ä¸å˜æ€§åŠ©æ‰‹æ–‡æ¡£æ›´æ–°<code class="fe mh mi mj mk b">reducer</code>å‡½æ•°ã€‚æ‰€ä»¥æˆ‘ä»¬çš„<code class="fe mh mi mj mk b">./src/App.js</code>æ–‡ä»¶åº”è¯¥æ˜¯è¿™æ ·çš„:</p><pre class="km kn ko kp gt mm mk mn mo aw mp bi"><span id="3c1e" class="mq lf iq mk b gy mr ms l mt mu"><strong class="mk ir">import </strong>React, { useReducer } <strong class="mk ir">from </strong>'react';<br/><strong class="mk ir">import </strong>{ makeStyles } <strong class="mk ir">from </strong>'@material-ui/core/styles';<br/><br/>//Import immutability-helper<br/><strong class="mk ir">import </strong>update <strong class="mk ir">from </strong>'immutability-helper';<br/><br/>//Material UI components<br/><strong class="mk ir">import </strong>Container <strong class="mk ir">from </strong>'@material-ui/core/Container';<br/><strong class="mk ir">import </strong>Typography <strong class="mk ir">from </strong>'@material-ui/core/Typography';<br/><strong class="mk ir">import </strong>Grid <strong class="mk ir">from </strong>'@material-ui/core/Grid';<br/><strong class="mk ir">import </strong>CssBaseline <strong class="mk ir">from </strong>'@material-ui/core/CssBaseline';<br/><strong class="mk ir">import </strong>Toolbar <strong class="mk ir">from </strong>'@material-ui/core/Toolbar';<br/><br/>//Import our Inputs<br/><strong class="mk ir">import </strong>Input_one <strong class="mk ir">from </strong>'./components/Input_one';<br/><strong class="mk ir">import </strong>Input_two <strong class="mk ir">from </strong>'./components/Input_two';<br/><br/>//Styles<br/><strong class="mk ir">const </strong>useStyles = makeStyles({<br/>    toolbarTitle: {<br/>        flex: 1,<br/>    },<br/>});<br/><br/>// Create context object<br/><strong class="mk ir">export const </strong>AppContext = React.createContext();<br/><br/>// Set up Initial State<br/><strong class="mk ir">const </strong>initialState = {<br/><br/>    inputText: '',<br/>    testText: 'Hello world'<br/><br/>};<br/><br/><strong class="mk ir">function </strong>reducer(state, action) {<br/>    <strong class="mk ir">switch </strong>(action.type) {<br/>        <strong class="mk ir">case </strong>'UPDATE_INPUT':<br/>            <strong class="mk ir">return </strong>update(state, { inputText: {$set: action.data}});<br/><br/><br/>        <strong class="mk ir">default</strong>:<br/>            <strong class="mk ir">return </strong>initialState;<br/>    }<br/>}<br/><br/><strong class="mk ir">function </strong>App() {<br/><br/>  <strong class="mk ir">const </strong>classes = useStyles();<br/><br/>  <strong class="mk ir">const </strong>[state, dispatch] = useReducer(reducer, initialState);<br/><br/>  <strong class="mk ir">return </strong>(<br/>      &lt;Container maxWidth="lg"&gt;<br/>          &lt;CssBaseline /&gt;<br/><br/>          {/*Title*/}<br/>          &lt;Toolbar&gt;<br/>              &lt;Typography<br/>                  component="h2"<br/>                  variant="h5"<br/>                  color="inherit"<br/>                  align="center"<br/>                  noWrap<br/>                  className={classes.toolbarTitle}<br/>              &gt;<br/>                  Pass data between react sibling components<br/>              &lt;/Typography&gt;<br/>          &lt;/Toolbar&gt;<br/><br/>          {/*Inputs*/}<br/>          &lt;Grid container spacing={1}&gt;<br/>              &lt;AppContext.Provider value={{ state, dispatch }}&gt;<br/>                  &lt;Input_one/&gt;<br/>                  &lt;Input_two/&gt;<br/>              &lt;/AppContext.Provider&gt;<br/>          &lt;/Grid&gt;<br/><br/>          {/*display testText value*/}<br/>          &lt;Toolbar&gt;<br/>              &lt;Typography<br/>                  component="h2"<br/>                  variant="h5"<br/>                  color="inherit"<br/>                  align="center"<br/>                  noWrap<br/>                  className={classes.toolbarTitle}<br/>              &gt;<br/>                  {state.testText}<br/>              &lt;/Typography&gt;<br/>          &lt;/Toolbar&gt;<br/>      &lt;/Container&gt;<br/>  );<br/>}<br/><br/><strong class="mk ir">export default </strong>App;</span></pre><p id="9f15" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å½“ä½ åšè¿™äº›æ”¹å˜æ—¶ï¼Œä½ çš„åº”ç”¨ç¨‹åºå¿…é¡»æŒ‰é¢„æœŸå·¥ä½œã€‚å¦‚æœä½ åœ¨ä»»ä½•è¾“å…¥ä¸­è¾“å…¥ä¸€äº›ä¸œè¥¿ï¼Œâ€œHello worldâ€çš„æ ‡é¢˜åº”è¯¥è¿˜åœ¨é¡µé¢ä¸Šã€‚ç°åœ¨æˆ‘ä»¬åªæ›´æ–°æˆ‘ä»¬æ­£åœ¨å¤„ç†çš„å€¼ï¼Œè€Œä¸æ˜¯æ›¿æ¢æ‰€æœ‰çš„å¯¹è±¡ã€‚</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nh"><img src="../Images/e87a04ad373d4f428480a316913e16b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ECWC0bprFI9ld4-RwcfqxQ.gif"/></div></div></figure></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><h1 id="90ba" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">æ‘˜è¦</h1><p id="3cf2" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy me ka kb kc mf ke kf kg mg ki kj kk ij bi translated">ä½ å¯ä»¥åœ¨æˆ‘çš„<a class="ae ml" href="https://github.com/bilousov94/sync_inputs" rel="noopener ugc nofollow" target="_blank"> GitHub repo </a>ä¸Šæ‰¾åˆ°è¿™ä¸ªåº”ç”¨ç¨‹åºçš„æ‰€æœ‰æœ€ç»ˆä»£ç ã€‚å¦‚ä½ æ‰€è§ï¼Œåœ¨Reactå…„å¼Ÿç»„ä»¶ä¹‹é—´ä¼ é€’æ•°æ®ç°åœ¨å˜å¾—ç®€å•äº†ã€‚å¦‚æœä½ ç†Ÿæ‚‰Reduxï¼Œä½ å¯èƒ½ä¼šçœ‹åˆ°å¾ˆå¤šç†Ÿæ‚‰çš„ä¸œè¥¿ã€‚Context Apiå…è®¸æˆ‘ä»¬å…±äº«æ•°æ®ï¼Œè¿™äº›æ•°æ®å¯ä»¥è¢«è®¤ä¸ºæ˜¯Reactç»„ä»¶æ ‘â€œå…¨å±€â€æ•°æ®ã€‚è¿™ä¸ªè§£å†³æ–¹æ¡ˆå¯¹ä¼˜åŒ–æˆ‘ä»¬çš„Reactåº”ç”¨ç¨‹åºå¾ˆæœ‰å¸®åŠ©ï¼Œä½†æ˜¯å¯¹äºå…·æœ‰å¤šä¸ªåµŒå¥—å±‚æ¬¡çš„æ›´å¤æ‚çš„é¡¹ç›®ï¼Œæˆ‘æ›´å–œæ¬¢ä½¿ç”¨<a class="ae ml" href="https://redux.js.org/" rel="noopener ugc nofollow" target="_blank"> Redux </a>ã€‚å¦‚æœä½ å¤„ç†äº†æˆ‘å±•ç¤ºç»™ä½ æ‰€æœ‰è¿‡ç¨‹ï¼Œé‚£ä¹ˆä½ ä¹Ÿä¼šå¾ˆå®¹æ˜“ç†è§£Reduxã€‚</p><p id="5e58" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¸Œæœ›è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¾ˆå¤§å¸®åŠ©ã€‚æˆ‘ä¹Ÿå¾ˆæƒ³çŸ¥é“å…¶ä»–æœ‰è¶£çš„æ–¹æ³•ã€‚è¯·åœ¨ä¸‹é¢çš„è¯„è®ºä¸­å‘Šè¯‰æˆ‘ä½ çš„æƒ³æ³•ã€‚</p><p id="c68d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ğŸ‰å¿«ä¹ç¼–ç ğŸ‰</p></div></div>    
</body>
</html>