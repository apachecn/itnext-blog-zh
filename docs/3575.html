<html>
<head>
<title>WhatsApp Status Saver/Downloader Using Flutter II</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ä½¿ç”¨Flutter IIçš„WhatsAppçŠ¶æ€ä¿æŠ¤ç¨‹åº/ä¸‹è½½å™¨</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://itnext.io/whatsapp-status-saver-downloader-using-flutter-ii-aa99b1206c48?source=collection_archive---------0-----------------------#2020-01-11">https://itnext.io/whatsapp-status-saver-downloader-using-flutter-ii-aa99b1206c48?source=collection_archive---------0-----------------------#2020-01-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="73d3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¿™æ˜¯æ—©æœŸæ–‡ç« WhatsAppçŠ¶æ€ä¿æŠ¤ç¨‹åº/ä¸‹è½½å™¨ä½¿ç”¨Flutterçš„å»¶ç»­ã€‚å¦‚æœä½ é”™è¿‡äº†ï¼Œç‚¹å‡»<a class="ae kl" href="https://medium.com/@sammytech/whatsapp-status-saver-downloader-using-flutter-ff5ff897e56" rel="noopener">è¿™é‡Œ</a>ã€‚GitHub repoçš„é“¾æ¥åœ¨æœ¬æ–‡çš„åº•éƒ¨ã€‚</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi km"><img src="../Images/fc05b14891aeb33deab113258a2dec24.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*LRmYpvJyn2bqZVwP0TLYpA.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">é¢¤æŒ¯æ ‡å¿—</figcaption></figure><p id="5875" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä¸Šæ¬¡ï¼Œæˆ‘ä»¬åœåœ¨äº†ä»ªè¡¨æ¿ä¸Šï¼Œå®ƒæ˜¯UI/dashboard.dartæ–‡ä»¶ã€‚å®ç°éå¸¸ç®€å•ï¼Œå› ä¸ºå®ƒåœ¨é€‰é¡¹å¡å¼è§†å›¾ä¸­è°ƒç”¨å›¾åƒå±å¹•å’Œè§†é¢‘å±å¹•ã€‚</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi ky"><img src="../Images/6998e0a6bac060b0ae53ed937bf3952e.png" data-original-src="https://miro.medium.com/v2/resize:fit:868/format:webp/1*CQTz8tKNNup9BfHbxhOEgg.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">åº”ç”¨å¤–è§‚</figcaption></figure><p id="2871" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ‰€ä»¥æˆ‘ä»¬æƒ³åœ¨é€‰é¡¹å¡è§†å›¾ä¸­è®¾è®¡å±å¹•çš„å›¾åƒéƒ¨åˆ†ã€‚ä¸‹ä¸€æ­¥éå¸¸é‡è¦ï¼Œé‚£å°±æ˜¯ä»ç”¨æˆ·çš„è®¾å¤‡ä¸Šè·å–WhatsAppçš„çŠ¶æ€ã€‚æˆ‘ä»¬éœ€è¦è®¿é—®å­˜å‚¨çŠ¶æ€çš„ç›®å½•ã€‚è¿™ä¸ªç›®å½•æ˜¯/storage/emulated/0/WhatsApp/Media/ã€‚çŠ¶æ€</p><p id="e217" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•è·å–å’Œæ˜¾ç¤ºå›¾åƒå‘¢ï¼Ÿè¿™é‡Œä½¿ç”¨çš„é€»è¾‘æ˜¯:åˆ›å»ºä¸€ä¸ªåˆ—è¡¨ï¼ŒæŸ¥æ‰¾å…¨éƒ¨ã€‚jpgæ–‡ä»¶ï¼Œå¹¶å°†è¿™äº›æ–‡ä»¶é™„åŠ åˆ°è¯¥åˆ—è¡¨ä¸­ï¼Œç„¶åæˆ‘ä»¬åœ¨StaggeredGridViewä¸­ä½¿ç”¨è¯¥åˆ—è¡¨æ¥æ˜¾ç¤ºæ‰€æœ‰å›¾åƒã€‚ğŸ˜ ğŸ˜ ğŸ˜</p><p id="f6fd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ‰€ä»¥è¯´åˆ°ä»£ç ã€‚UI/imageScreen.dart</p><pre class="kn ko kp kq gt kz la lb lc aw ld bi"><span id="c085" class="le lf iq la b gy lg lh l li lj">import 'package:flutter/material.dart';<br/>import 'dart:io';<br/>import 'package:flutter_staggered_grid_view/flutter_staggered_grid_view.dart';<br/>import 'package:wa_status_saver/ui/viewphotos.dart';</span><span id="483e" class="le lf iq la b gy lk lh l li lj">final Directory _photoDir =<br/>    new Directory('/storage/emulated/0/WhatsApp/Media/.Statuses');</span><span id="56a7" class="le lf iq la b gy lk lh l li lj">class ImageScreen extends StatefulWidget {<br/>  @override<br/>  ImageScreenState createState() =&gt; new ImageScreenState();<br/>}</span><span id="8306" class="le lf iq la b gy lk lh l li lj">class ImageScreenState extends State&lt;ImageScreen&gt; {<br/>  @override<br/>  void initState() {<br/>    super.initState();<br/>  }</span><span id="47c4" class="le lf iq la b gy lk lh l li lj">  @override<br/>  Widget build(BuildContext context) {<br/>    if (!Directory("${_photoDir.path}").existsSync()) {<br/>      return Container(<br/>        padding: EdgeInsets.only(bottom: 60.0),<br/>        child: Center(<br/>          child: Text(<br/>            "Install WhatsApp\nYour Friend's Status Will Show Here",<br/>            style: TextStyle(fontSize: 18.0),<br/>          ),<br/>        ),<br/>      );<br/>    } else {<br/>      var imageList = _photoDir<br/>          .listSync()<br/>          .map((item) =&gt; item.path)<br/>          .where((item) =&gt; item.endsWith(".jpg"))<br/>          .toList(growable: false);<br/>      if (imageList.length &gt; 0) {<br/>        return Container(<br/>          padding: EdgeInsets.only(bottom: 60.0),<br/>          child: StaggeredGridView.countBuilder(<br/>            padding: EdgeInsets.all(8.0),<br/>            itemCount: imageList.length,<br/>            crossAxisCount: 4,<br/>            itemBuilder: (context, index) {<br/>              String imgPath = imageList[index];<br/>              return Material(<br/>                elevation: 8.0,<br/>                borderRadius: BorderRadius.all(Radius.circular(8)),<br/>                child: InkWell(<br/>                  onTap: () {<br/>                    Navigator.push(<br/>                        context,<br/>                        new MaterialPageRoute(<br/>                            builder: (context) =&gt; new ViewPhotos(imgPath)));<br/>                  },<br/>                  child: Hero(<br/>                      tag: imgPath,<br/>                      child: Image.file(<br/>                        File(imgPath),<br/>                        fit: BoxFit.cover,<br/>                      )),<br/>                ),<br/>              );<br/>            },<br/>            staggeredTileBuilder: (i) =&gt;<br/>                StaggeredTile.count(2, i.isEven ? 2 : 3),<br/>            mainAxisSpacing: 8.0,<br/>            crossAxisSpacing: 8.0,<br/>          ),<br/>        );<br/>      } else {<br/>        return Scaffold(<br/>          body: Center(<br/>            child: new Container(<br/>                padding: EdgeInsets.only(bottom: 60.0),<br/>                child: Text('No Image Found!', style: TextStyle(fontSize: 18.0),)),<br/>          ),<br/>        );<br/>      }<br/>    }<br/>  }<br/>}</span></pre><p id="2f26" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ˜¯çš„ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥åœ¨å±å¹•ä¸Šä»¥ä¸€ç§ç½‘æ ¼çš„å½¢å¼çœ‹åˆ°WhatsAppçš„çŠ¶æ€(å›¾ç‰‡)ğŸ˜ƒ ğŸ˜ƒ ğŸ˜ƒã€‚ä½†æ˜¯ç­‰ç­‰ï¼Œå¦‚æœæˆ‘ä»¬æƒ³æŸ¥çœ‹ä¸€å¼ å›¾ç‰‡æˆ–è€…ä¸‹è½½å®ƒå‘¢ï¼Ÿæˆ‘ä»¬è¯¥æ€ä¹ˆåšå‘¢ï¼ŸğŸ˜ ğŸ˜ ğŸ˜</p><p id="78e9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ–‡ä»¶:UI/viewphotos.dart</p><pre class="kn ko kp kq gt kz la lb lc aw ld bi"><span id="66b9" class="le lf iq la b gy lg lh l li lj">import 'dart:io';<br/>import 'dart:typed_data';<br/>import 'package:flutter/material.dart';<br/>import 'package:image_gallery_saver/image_gallery_saver.dart';<br/>import 'package:flutter_fab_dialer/flutter_fab_dialer.dart';<br/></span><span id="9eda" class="le lf iq la b gy lk lh l li lj">class ViewPhotos extends StatefulWidget {<br/>  final String imgPath;<br/>  ViewPhotos(this.imgPath);</span><span id="ea69" class="le lf iq la b gy lk lh l li lj">  @override<br/>  _ViewPhotosState createState() =&gt; _ViewPhotosState();<br/>}</span><span id="4d7d" class="le lf iq la b gy lk lh l li lj">class _ViewPhotosState extends State&lt;ViewPhotos&gt; {<br/>  var filePath;<br/>  final String imgShare = "Image.file(File(widget.imgPath),)";</span><span id="3ee6" class="le lf iq la b gy lk lh l li lj">  final LinearGradient backgroundGradient = new LinearGradient(<br/>    colors: [<br/>      Color(0x00000000),<br/>      Color(0x00333333),<br/>    ],<br/>    begin: Alignment.<em class="ll">topLeft</em>,<br/>    end: Alignment.<em class="ll">bottomRight</em>,<br/>  );</span><span id="e655" class="le lf iq la b gy lk lh l li lj">  void _onLoading(bool t, String str) {<br/>    if (t) {<br/>      showDialog(<br/>          context: context,<br/>          barrierDismissible: false,<br/>          builder: (BuildContext context) {<br/>            return SimpleDialog(<br/>              children: &lt;Widget&gt;[<br/>                Center(<br/>                  child: Container(<br/>                      padding: EdgeInsets.all(10.0),<br/>                      child: CircularProgressIndicator()),<br/>                ),<br/>              ],<br/>            );<br/>          });<br/>    } else {<br/>      Navigator.<em class="ll">pop</em>(context);<br/>      showDialog(<br/>          context: context,<br/>          barrierDismissible: false,<br/>          builder: (BuildContext context) {<br/>            return Padding(<br/>              padding: const EdgeInsets.all(8.0),<br/>              child: SimpleDialog(<br/>                children: &lt;Widget&gt;[<br/>                  Center(<br/>                    child: Container(<br/>                      padding: EdgeInsets.all(15.0),<br/>                      child: Column(<br/>                        children: &lt;Widget&gt;[<br/>                          Text(<br/>                            "Great, Saved in Gallary",<br/>                            style: TextStyle(<br/>                                fontSize: 20, fontWeight: FontWeight.<em class="ll">bold</em>),<br/>                          ),<br/>                          Padding(<br/>                            padding: EdgeInsets.all(10.0),<br/>                          ),<br/>                          Text(str,<br/>                              style: TextStyle(<br/>                                fontSize: 16.0,<br/>                              )),<br/>                          Padding(<br/>                            padding: EdgeInsets.all(10.0),<br/>                          ),<br/>                          Text("FileManager &gt; Downloaded Status",<br/>                              style: TextStyle(<br/>                                  fontSize: 16.0, color: Colors.<em class="ll">teal</em>)),<br/>                          Padding(<br/>                            padding: EdgeInsets.all(10.0),<br/>                          ),<br/>                          MaterialButton(<br/>                            child: Text("Close"),<br/>                            color: Colors.<em class="ll">teal</em>,<br/>                            textColor: Colors.<em class="ll">white</em>,<br/>                            onPressed: () =&gt; Navigator.<em class="ll">pop</em>(context),<br/>                          )<br/>                        ],<br/>                      ),<br/>                    ),<br/>                  ),<br/>                ],<br/>              ),<br/>            );<br/>          });<br/>    }<br/>  }</span><span id="9eee" class="le lf iq la b gy lk lh l li lj">  @override<br/>  Widget build(BuildContext context) {<br/>    //The list of FabMiniMenuItems that we are going to use<br/>    var _fabMiniMenuItemList = [<br/>      new FabMiniMenuItem.withText(<br/>          new Icon(Icons.<em class="ll">sd_storage</em>), Colors.<em class="ll">teal</em>, 4.0, "Button menu",<br/>          () async {<br/>        _onLoading(true, "");</span><span id="bc33" class="le lf iq la b gy lk lh l li lj">        Uri myUri = Uri.<em class="ll">parse</em>(widget.imgPath);<br/>        File originalImageFile = new File.fromUri(myUri);<br/>        Uint8List bytes;<br/>        await originalImageFile.readAsBytes().then((value) {<br/>          bytes = Uint8List.fromList(value);<br/>          print('reading of bytes is completed');<br/>        }).catchError((onError) {<br/>          print('Exception Error while reading audio from path:' +<br/>              onError.toString());<br/>        });<br/>        final result =<br/>            await ImageGallerySaver.<em class="ll">saveImage</em>(Uint8List.fromList(bytes));<br/>        print(result);<br/>        _onLoading(false,<br/>            "If Image not available in gallary\n\nYou can find all images at");<br/>      }, "Save", Colors.<em class="ll">black</em>, Colors.<em class="ll">white</em>, true),<br/>      new FabMiniMenuItem.withText(new Icon(Icons.<em class="ll">share</em>), Colors.<em class="ll">teal</em>, 4.0,<br/>          "Button menu", () {}, "Share", Colors.<em class="ll">black</em>, Colors.<em class="ll">white</em>, true),<br/>      new FabMiniMenuItem.withText(new Icon(Icons.<em class="ll">reply</em>), Colors.<em class="ll">teal</em>, 4.0,<br/>          "Button menu", () {}, "Repost", Colors.<em class="ll">black</em>, Colors.<em class="ll">white</em>, true),<br/>      new FabMiniMenuItem.withText(new Icon(Icons.<em class="ll">wallpaper</em>), Colors.<em class="ll">teal</em>, 4.0,<br/>          "Button menu", () {}, "Set As", Colors.<em class="ll">black</em>, Colors.<em class="ll">white</em>, true),<br/>      new FabMiniMenuItem.withText(<br/>          new Icon(Icons.<em class="ll">delete_outline</em>),<br/>          Colors.<em class="ll">teal</em>,<br/>          4.0,<br/>          "Button menu",<br/>          () {},<br/>          "Delete",<br/>          Colors.<em class="ll">black</em>,<br/>          Colors.<em class="ll">white</em>,<br/>          true),<br/>    ];</span><span id="1209" class="le lf iq la b gy lk lh l li lj">    return Scaffold(<br/>      backgroundColor: Colors.<em class="ll">black12</em>,<br/>      appBar: AppBar(<br/>        elevation: 0.0,<br/>        backgroundColor: Colors.<em class="ll">transparent</em>,<br/>        leading: IconButton(<br/>          color: Colors.<em class="ll">indigo</em>,<br/>          icon: Icon(<br/>            Icons.<em class="ll">close</em>,<br/>            color: Colors.<em class="ll">white</em>,<br/>          ),<br/>          onPressed: () =&gt; Navigator.<em class="ll">of</em>(context).pop(),<br/>        ),<br/>      ),<br/>      body: SizedBox.expand(<br/>        child: Stack(<br/>          children: &lt;Widget&gt;[<br/>            Align(<br/>              alignment: Alignment.<em class="ll">center</em>,<br/>              child: Hero(<br/>                tag: widget.imgPath,<br/>                child: Image.file(<br/>                  File(widget.imgPath),<br/>                  fit: BoxFit.cover,<br/>                ),<br/>              ),<br/>            ),<br/>            new FabDialer(<br/>                _fabMiniMenuItemList, Colors.<em class="ll">teal</em>, new Icon(Icons.<em class="ll">add</em>)),<br/>          ],<br/>        ),<br/>      ),<br/>    );<br/>  }<br/>}</span></pre><p id="2fba" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">OnTapï¼Œå›¾åƒè°ƒç”¨UI/viewphotos.dartæ–‡ä»¶ä¸­çš„ViewPhotosç±»ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åœ¨ä¸€ä¸ªæ”¯æ¶ä¸­æ˜¾ç¤ºå›¾åƒï¼ŒappBaræœ‰ä¸€ä¸ªå‰å¯¼å›¾æ ‡(x)æ¥å…³é—­è¿™ä¸ªç‰¹å®šçš„å›¾åƒã€‚æˆ‘è¿˜æ·»åŠ äº†ä¸€ä¸ªæµ®åŠ¨çš„åŠ¨ä½œæŒ‰é’®æ‹¨å·å™¨åˆ°è¿™ä¸ªé¡µé¢ï¼Œä»¥é˜²ä¸‡ä¸€ä½ æƒ³åœ¨å›¾åƒä¸Šæ‰§è¡Œå¤šä¸ªåŠ¨ä½œã€‚è¿™æ˜¯ä¸€ä¸ªä¸ºé»˜è®¤èœå•æä¾›æ›¿ä»£é€‰é¡¹çš„å°éƒ¨ä»¶ã€‚ä½ å¯ä»¥åœ¨<a class="ae kl" href="https://pub.dev/packages/flutter_fab_dialer" rel="noopener ugc nofollow" target="_blank">é…’å§</a>æŸ¥çœ‹flutter_fab_dialerã€‚ç›®å‰ï¼Œåªæœ‰saveæŒ‰é’®è¢«èµ‹äºˆäº†onPressedæ–¹æ³•ã€‚å…¶ä»–çš„éƒ½æ˜¯ç©ºçš„ã€‚ä½ å¯ä»¥åœ¨å®ƒä»¬å‘¨å›´ç©è€ã€‚ğŸ˜‰ ğŸ˜‰ ğŸ˜‰</p><p id="3c76" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¿™å°±æ˜¯å…³äºå›¾åƒå±å¹•çš„å…¨éƒ¨å†…å®¹ã€‚æˆ‘å°†ç»§ç»­åœ¨å¦ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†å¤„ç†è§†é¢‘çŠ¶æ€çš„åº”ç”¨ç¨‹åºã€‚è¿™æ˜¯https://github.com/mastersam07/wa_status_saver Githubå›è´­<a class="ae kl" href="https://github.com/mastersam07/wa_status_saver" rel="noopener ugc nofollow" target="_blank">çš„é“¾æ¥ã€‚å¦‚æœä½ é‡åˆ°é—®é¢˜ï¼Œä½ å¯ä»¥è”ç³»GitHubæˆ–è€…åœ¨GitHubä¸Šæ‰“å¼€ä¸€ä¸ªé—®é¢˜ğŸ˜€ ğŸ˜€ ğŸ˜€ã€‚</a></p><p id="6887" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ•¬è¯·å…³æ³¨ã€‚</p></div></div>    
</body>
</html>