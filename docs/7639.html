<html>
<head>
<title>Kubernetes Cluster Configuration and Vulnerability Scan</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Kubernetesé›†ç¾¤é…ç½®å’Œæ¼æ´æ‰«æ</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://itnext.io/kubernetes-cluster-configuration-and-vulnerability-scan-52450aad7c58?source=collection_archive---------2-----------------------#2022-12-05">https://itnext.io/kubernetes-cluster-configuration-and-vulnerability-scan-52450aad7c58?source=collection_archive---------2-----------------------#2022-12-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/189a78b6e5fa78bb3214f26278dee280.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SgyotAjhya-0RBWdbLPGmA.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">ç…§ç‰‡ç”±<a class="ae kf" href="https://www.threatstack.com/blog/3-things-to-know-about-kubernetes-security" rel="noopener ugc nofollow" target="_blank">threatstack.com</a>æ‹æ‘„</figcaption></figure><p id="c60c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Kuberneteså·²ç»æˆä¸ºç®¡ç†åŸºäºå®¹å™¨çš„åŸºç¡€è®¾æ–½çš„é¦–é€‰å·¥å…·ï¼Œå¹¶ä¸”æ˜¯æ¯ä¸ªå·¥ç¨‹å¸ˆæ—¥å¸¸ç”Ÿæ´»çš„ä¸€éƒ¨åˆ†ã€‚</p><p id="ebf5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“ç®¡ç†æœåŠ¡å™¨å’Œå®¹å™¨é›†ç¾¤(æ— è®ºå¤§å°)æ„å‘³ç€ä»€ä¹ˆã€‚é€šè¿‡å¤„ç†ç½‘ç»œé€šä¿¡ã€éƒ¨ç½²ã€å­˜å‚¨ã€podç­‰ç­‰ï¼Œå®ƒè®©æˆ‘ä»¬çš„ç”Ÿæ´»å˜å¾—æ›´åŠ è½»æ¾ã€‚</p><p id="0487" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä¸ç®¡Kubernetesçš„èƒ½åŠ›å’Œå®ƒæ‰€åšçš„ä¸€åˆ‡ï¼Œä½œä¸ºå·¥ç¨‹å¸ˆï¼Œæˆ‘ä»¬ä»ç„¶éœ€è¦è€ƒè™‘å®‰å…¨æ€§ã€æ­£ç¡®çš„é…ç½®ã€ä½¿ç”¨æ­£ç¡®çš„dockeræ˜ åƒç­‰ç­‰ã€‚</p><p id="4c59" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å°½ç®¡æˆ‘ä»¬å°½äº†æœ€å¤§åŠªåŠ›ï¼Œä½†æˆ‘ä»¬æ— æ³•è®°ä½å¹¶æ‰‹åŠ¨å¤„ç†æ‰€æœ‰è¿™äº›äº‹æƒ…ï¼Œä¹Ÿæ— æ³•ç¡®ä¿æˆ‘ä»¬åšå‡ºäº†æ­£ç¡®çš„å†³å®šï¼Œå¹¶ä½¿ç”¨äº†æ­£ç¡®çš„è®¾ç½®æˆ–å›¾åƒã€‚æ¯•ç«Ÿï¼Œæˆ‘ä»¬åªæ˜¯äººç±»ï¼Œæˆ‘ä»¬åªèƒ½åšè¿™ä¹ˆå¤šã€‚</p><p id="d769" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœæˆ‘ä»¬æç ¸äº†ï¼Œå¹¶ä½¿ç”¨ä¸€ä¸ªdockerå›¾åƒï¼Œæ²¡æœ‰éªŒè¯å’Œå®¡è®¡ï¼Œå®‰å…¨æ–¹é¢ã€‚æˆ‘ä»¬å¯ä»¥ä¸ºæ”»å‡»è€…åˆ›é€ æ½œåœ¨çš„æ¼æ´ï¼Œä»–ä»¬å¯ä»¥åˆ©ç”¨è¿™äº›æ¼æ´æ¥å…³é—­æˆ‘ä»¬çš„åŸºç¡€æ¶æ„æˆ–éƒ¨ç½²å‹’ç´¢è½¯ä»¶ã€‚</p><p id="39c6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘ä»¬éœ€è¦å·¥å…·æ¥å¸®åŠ©æˆ‘ä»¬ä¼˜åŒ–æµç¨‹ï¼Œè‡ªåŠ¨åŒ–æˆ‘ä»¬éœ€è¦è¿è¡Œçš„æ‰€æœ‰å®‰å…¨æ£€æŸ¥å’Œé…ç½®éªŒè¯ï¼Œå¹¶ä½¿æˆ‘ä»¬åœ¨æµç¨‹ä¸­çš„ç”Ÿæ´»æ›´åŠ è½»æ¾ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æ™šä¸Šç¡ä¸ªå¥½è§‰ğŸ˜‰ã€‚</p><p id="ca5e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æœ‰å¾ˆå¤šå·¥å…·å¯ä»¥å¸®åŠ©æˆ‘ä»¬å¤„ç†è¿™äº›æ£€æŸ¥ï¼Œç”šè‡³ä½¿å®ƒä»¬è‡ªåŠ¨åŒ–ï¼Œæ¯”å¦‚<a class="ae kf" href="https://github.com/aquasecurity/kube-bench" rel="noopener ugc nofollow" target="_blank"> Kube-bench </a>ã€<a class="ae kf" href="https://github.com/tenable/terrascan" rel="noopener ugc nofollow" target="_blank"> terrascan </a>ã€<a class="ae kf" href="https://github.com/aquasecurity/kube-hunter/" rel="noopener ugc nofollow" target="_blank"> Kube-hunter </a>ç­‰ã€‚ä½ å¯ä»¥åœ¨è¿™ç¯‡ç”±<a class="le lf ep" href="https://medium.com/u/23b3a82550cd?source=post_page-----52450aad7c58--------------------------------" rel="noopener" target="_blank"> Gupta Bless </a>æ’°å†™çš„<a class="ae kf" href="https://medium.com/codex/5-kubernetes-security-tools-every-developer-should-use-de5f52362499" rel="noopener">æ–‡ç« </a>ä¸­é˜…è¯»æ›´å¤šå…³äºè¿™äº›å·¥å…·çš„å†…å®¹ã€‚æˆ‘æ›´å–œæ¬¢çš„ï¼Œä¹Ÿæ˜¯è¿™ç¯‡æ–‡ç« å°†è¦æè¿°çš„æ˜¯<a class="ae kf" href="https://cloud.armosec.io/account/sign-up" rel="noopener ugc nofollow" target="_blank">åº“è´è¥¿äº‘</a>ã€‚</p><p id="799c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Kubescapeå¯ä»¥é…ç½®ä¸åŒçš„CI/CDå¹³å°ï¼Œå¦‚GitHubã€Gitlabã€CircleCIå’ŒJenkinsï¼Œå¯ä»¥é›†æˆVSCodeå’Œ<a class="ae kf" href="https://k8slens.dev/" rel="noopener ugc nofollow" target="_blank"> Kubernetes Lens </a>æˆ–<a class="ae kf" href="https://prometheus.io/" rel="noopener ugc nofollow" target="_blank"> Prometheus </a>è¿›è¡Œç›‘æ§ã€‚å®ƒä¹Ÿå¯ä»¥ä¸Slackå’Œå‰æ‹‰é›†æˆã€‚</p><figure class="lh li lj lk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi lg"><img src="../Images/285453db8583cee970b2fac4cfc6a6fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QTypl4O4w7hwhlETRyZ7cA.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">ç¬¬ä¸‰æ–¹é›†æˆ</figcaption></figure><p id="6a65" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Kubescapeç”¨ä¸åŒçš„æ§åˆ¶æ£€æŸ¥æ‰«æé›†ç¾¤ã€ä»£ç åº“æ˜ åƒå’Œæ³¨å†Œä¸­å¿ƒã€‚ä¸€äº›æ¡†æ¶æ˜¯<a class="ae kf" href="https://www.armosec.io/blog/armobest-kubernetes-framework/" rel="noopener ugc nofollow" target="_blank"> ArmoBest </a>ã€<a class="ae kf" href="https://www.cisecurity.org/insights/blog/how-to-get-up-and-running-with-cis-workbench" rel="noopener ugc nofollow" target="_blank">äº’è”ç½‘å®‰å…¨ä¸­å¿ƒ(CIS) </a>ã€<a class="ae kf" href="https://www.microsoft.com/en-us/security/blog/2020/04/02/attack-matrix-kubernetes/" rel="noopener ugc nofollow" target="_blank"> MITRE </a>å’Œ<a class="ae kf" href="https://kubernetes.io/blog/2021/10/05/nsa-cisa-kubernetes-hardening-guidance/" rel="noopener ugc nofollow" target="_blank"> NSA </a>ã€‚æ‰€æœ‰è¿™äº›æ¡†æ¶éƒ½æœ‰å‡ ä¸ªæ§åˆ¶æ£€æŸ¥ï¼ŒKubescapeä½¿ç”¨è¿™äº›æ£€æŸ¥ä½œä¸ºæ‰«ææˆ‘ä»¬çš„é…ç½®å’Œè¿è¡ŒæœåŠ¡çš„è§„åˆ™ã€‚è¿™äº›æ§ä»¶å¯ä»¥åœ¨<a class="ae kf" href="https://hub.armosec.io/docs/controls" rel="noopener ugc nofollow" target="_blank">è¿™é‡Œ</a>æ‰¾åˆ°ï¼Œå¹¶æœ‰éå¸¸è¯¦ç»†çš„è§£é‡Šã€‚æˆ‘ä»¬ç”šè‡³å¯ä»¥åˆ›å»ºä¸€ä¸ªå¸¦æœ‰è‡ªå·±çš„æ§ä»¶é›†çš„è‡ªå®šä¹‰æ¡†æ¶ï¼Œè¿™å°†åœ¨<a class="ae kf" href="https://hub.armosec.io/docs/customization" rel="noopener ugc nofollow" target="_blank">è¿™é‡Œ</a>æè¿°ã€‚</p><p id="cb35" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Kubescapeæ—¢å¯ä»¥åœ¨æœ¬åœ°æ‰§è¡Œï¼Œä¹Ÿå¯ä»¥åœ¨éƒ¨ç½²çš„é›†ç¾¤ä¸­æ‰§è¡Œã€‚</p><p id="264c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åœ¨æœ¬åœ°ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ‰§è¡Œå®ƒï¼Œè¿™äº›å‘½ä»¤æœ‰æ—¶ä¼šå¯¹æœªå®‰è£…çš„ä¸»æœºæ‰«æå™¨å‘å‡ºè­¦å‘Šã€‚è¿™å¯ä»¥é€šè¿‡å¯ç”¨ä¸»æœºæ‰«ææ ‡å¿—æ¥ä¿®å¤ï¼Œå¦‚ä¸‹æ‰€ç¤º</p><pre class="lh li lj lk gt ll lm ln bn lo lp bi"><span id="5034" class="lq lr it lm b be ls lt l lu lv">curl -s https://raw.githubusercontent.com/armosec/kubescape/master/install.sh | /bin/bash<br/>kubescape scan --submit --account=YOUR_ACCOUNT_TOKEN --enable-host-scan</span></pre><p id="a2dc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åœ¨é›†ç¾¤ä¸­ï¼Œå¯ä»¥é€šè¿‡ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†èˆµå›¾åº”ç”¨äºéƒ¨ç½²æ¥æ‰§è¡Œã€‚</p><pre class="lh li lj lk gt ll lm ln bn lo lp bi"><span id="cf7c" class="lq lr it lm b be ls lt l lu lv">helm repo add kubescape https://kubescape.github.io/helm-charts/<br/>helm repo update<br/>helm upgrade --install kubescape kubescape/kubescape-cloud-operator -n kubescape --create-namespace --set account=YOUR_ACCOUNT_TOKEN --set clusterName=`kubectl config current-context`</span></pre><p id="5130" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä¸ºäº†å±•ç¤ºè¿™ä¸ªå·¥å…·çš„è¿è¡Œï¼Œæˆ‘åœ¨è¿è¡Œhello minikubeæœåŠ¡çš„æœ¬åœ°é›†ç¾¤ä¸Šæœ¬åœ°æ‰§è¡Œäº†è¿™äº›å‘½ä»¤ã€‚</p><p id="78a6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åœ¨æ‰§è¡Œå®Œæˆåï¼Œæˆ‘èƒ½å¤Ÿåœ¨<a class="ae kf" href="https://cloud.armosec.io/dashboard" rel="noopener ugc nofollow" target="_blank">kubisce UIä»ªè¡¨æ¿</a>ä¸­çœ‹åˆ°ç»“æœã€‚</p><h2 id="ccad" class="lw lr it bd lx ly lz dn ma mb mc dp md kr me mf mg kv mh mi mj kz mk ml mm mn bi translated">ä»ªè¡¨ç›˜</h2><figure class="lh li lj lk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi lg"><img src="../Images/2950505b6d5826bdbc725a1cb8b95a8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*PYS-xvg6uMMAh2sqxug8Pw.gif"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">å¸¦æœ‰å¿«é€Ÿæ¦‚è§ˆçš„ä¸»ä»ªè¡¨æ¿</figcaption></figure><p id="b51a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä¸Šé¢çš„ä¸»æ§åˆ¶é¢æ¿æ˜¾ç¤ºäº†æˆ‘ä»¬å·²ç»æ‰«æçš„é›†ç¾¤ï¼Œå½“é¼ æ ‡æ‚¬åœåœ¨é›†ç¾¤ä¸Šæ—¶ï¼Œå®ƒä¼šæ˜¾ç¤ºæµ‹è¯•é›†ç¾¤æ‰€ä¾æ®çš„æ¡†æ¶ã€‚åœ¨å³ä¾§çš„é¡¶éƒ¨é¢æ¿ä¸­ï¼Œå®ƒæ˜¾ç¤ºäº†å‰5ä¸ªå¤±è´¥çš„é…ç½®æ§åˆ¶æˆ–éªŒè¯ï¼Œä»¥åŠä¸€ä¸ªç”¨äºæ·»åŠ æ›´å¤šé›†ç¾¤çš„é“¾æ¥ï¼Œè¯¥é“¾æ¥å°†æ˜¾ç¤ºä¸€ä¸ªå¸¦æœ‰ä¸Šè¿°å‘½ä»¤çš„å¼¹å‡ºçª—å£ã€‚åº•éƒ¨é¢æ¿æ ¹æ®é£é™©çº§åˆ«æ˜¾ç¤ºäº†è¯¥ç¾¤é›†æ‰€æœ‰å®‰å…¨æ¼æ´çš„å›¾è¡¨ï¼Œå¹¶åˆ—å‡ºäº†å‘ç”Ÿé¢‘ç‡æœ€é«˜çš„å‰5ä¸ªä¸­ã€é«˜å’Œä¸¥é‡é—®é¢˜ã€‚</p><h2 id="32de" class="lw lr it bd lx ly lz dn ma mb mc dp md kr me mf mg kv mh mi mj kz mk ml mm mn bi translated">é…ç½®æ‰«æ</h2><figure class="lh li lj lk gt ju"><div class="bz fp l di"><div class="mo mp l"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">Kubescapeé…ç½®æ‰«ææŠ¥å‘Š</figcaption></figure><p id="ff3c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å¦‚ä¸Šé¢çš„è§†é¢‘æ‰€ç¤ºï¼Œé…ç½®æ‰«æéƒ¨åˆ†æ˜¾ç¤ºäº†æœ‰å…³æˆ‘ä»¬çš„ç¾¤é›†é…ç½®çš„æ‰€æœ‰é—®é¢˜çš„æŠ¥å‘Šï¼Œä»¥åŠæˆ‘ä»¬éœ€è¦åšäº›ä»€ä¹ˆæ¥ä¿®å¤è¿™äº›é—®é¢˜ã€‚æˆ‘ä»¬å¯ä»¥å°†æŠ¥å‘Šå¯¼å‡ºä¸ºCSVæ–‡ä»¶ï¼Œä»ç”¨æˆ·ç•Œé¢å†æ¬¡è¿è¡Œæ‰«æï¼Œç”šè‡³å¯ä»¥å®šæœŸå°†å…¶å®‰æ’ä¸ºcronä½œä¸šã€‚</p><figure class="lh li lj lk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi lg"><img src="../Images/1c53ed571d7bab22d0767f8b245bfa1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8_l6288Bs8ZwJgyhh66c3Q.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">çªå‡ºæ˜¾ç¤ºçš„é…ç½®é—®é¢˜</figcaption></figure><p id="a3c5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä¸Šå›¾æ˜¾ç¤ºäº†å½“æˆ‘ä»¬å•å‡»è§†é¢‘ä¸­æåˆ°çš„ä¿®å¤å›¾æ ‡æ—¶ï¼Œèµ„æºçš„é…ç½®é—®é¢˜æ˜¯å¦‚ä½•çªå‡ºæ˜¾ç¤ºçš„ã€‚å¦‚æœæˆ‘ä»¬å°†é¼ æ ‡æ‚¬åœåœ¨é—®å·å›¾æ ‡ä¸Šï¼Œæˆ‘ä»¬è¿˜ä¼šçœ‹åˆ°ä¸€æ¡æ¶ˆæ¯ï¼Œè¯´æ˜é—®é¢˜æ˜¯ä»€ä¹ˆä»¥åŠæˆ‘ä»¬éœ€è¦ä¿®å¤ä»€ä¹ˆã€‚</p><h2 id="ab6d" class="lw lr it bd lx ly lz dn ma mb mc dp md kr me mf mg kv mh mi mj kz mk ml mm mn bi translated">å›¾åƒå’Œæ³¨å†Œè¡¨æ‰«æ</h2><figure class="lh li lj lk gt ju"><div class="bz fp l di"><div class="mo mp l"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">å›¾åƒå®‰å…¨æ‰«æ</figcaption></figure><p id="471d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä¸Šé¢çš„è§†é¢‘æ˜¾ç¤ºäº†æˆ‘ä»¬çš„dockerå›¾åƒçš„æ¼æ´æ‰«ææŠ¥å‘Šã€‚æ³¨å†Œè¡¨æ‰«ææŠ¥å‘Šä¸æ­¤ç±»ä¼¼ï¼Œè¿™ä¹Ÿæ˜¯å®ƒåŒ…å«åœ¨æœ¬èŠ‚ä¸­çš„åŸå› ã€‚</p><p id="bbe1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åœ¨è¿™é‡Œï¼Œä½œä¸ºé…ç½®æ‰«æï¼Œæˆ‘ä»¬å¯ä»¥ä»UIè¿è¡Œæ‰«æï¼Œå¹¶å®‰æ’ä¸€ä¸ªå¸¸è§„çš„cronä½œä¸šæ¥æŒç»­æ£€æŸ¥æˆ‘ä»¬çš„æ˜ åƒã€‚</p><p id="a952" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘ä»¬å¯ä»¥æ ¹æ®å·¦ä¾§é¢æ¿ä¸­çš„ä¸¥é‡æ€§ç­›é€‰é—®é¢˜ï¼Œåœ¨å³ä¾§é¢æ¿ä¸­å¯ä»¥çœ‹åˆ°æ¯ä¸ªä¸¥é‡æ€§çš„å›¾è¡¨ã€‚severitiesè¡¨ä¹Ÿæœ‰è‡ªå·±çš„è¿‡æ»¤å™¨ï¼Œæˆ‘ä»¬å¯ä»¥å°†æŠ¥å‘Šå¯¼å‡ºä¸ºCSVæ–‡ä»¶ã€‚</p><h2 id="6c11" class="lw lr it bd lx ly lz dn ma mb mc dp md kr me mf mg kv mh mi mj kz mk ml mm mn bi translated">å­˜å‚¨åº“æ‰«æ</h2><figure class="lh li lj lk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi lg"><img src="../Images/85ee3d7c43e891a08fe4cddecd8e2f34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*gAGMufa9anwTJ4t5M4BTfw.gif"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">å­˜å‚¨åº“æ‰«æ</figcaption></figure><p id="14df" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å€ŸåŠ©å­˜å‚¨åº“æ‰«æåŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä»å­˜å‚¨æ–‡ä»¶çš„å­˜å‚¨åº“æ£€æŸ¥é›†ç¾¤é…ç½®å’Œå®‰å…¨æ€§ï¼Œè€Œæ— éœ€å°†å…¶éƒ¨ç½²åˆ°ä»»ä½•åœ°æ–¹ã€‚è¿™å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤æ¥å®Œæˆã€‚</p><pre class="lh li lj lk gt ll lm ln bn lo lp bi"><span id="3713" class="lq lr it lm b be ls lt l lu lv">kubescape scan https://github.com/kubescape/kubescape --submit</span></pre><p id="5f1f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æ‰§è¡Œè¯¥å‘½ä»¤åï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°ä¸Šé¢GIFä¸­æ˜¾ç¤ºçš„æŠ¥å‘Šï¼Œå…¶ä¸­æ˜¾ç¤ºäº†æˆ‘ä»¬æ‹¥æœ‰çš„æ‰€æœ‰é…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰ä¸¥é‡æ€§è¿‡æ»¤æŠ¥å‘Šç»“æœã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æ ¹æ®æŠ¥å‘Šè¡¨æä¾›çš„è¿‡æ»¤å™¨è¿›è¡Œè¿‡æ»¤ã€‚æˆ‘ä»¬ç”šè‡³å¯ä»¥ç›´æ¥å¯¼èˆªåˆ°é…ç½®æ–‡ä»¶ï¼Œå¹¶åœ¨â€œæäº¤è€…â€åˆ—ä¸­æŸ¥çœ‹æ˜¯è°å¯¼è‡´äº†é—®é¢˜ã€‚</p><p id="5be1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">è¿™æ˜¯é€šè¿‡åœ¨æœ¬åœ°è¿è¡Œå­˜å‚¨åº“æ‰«æå‘½ä»¤ç”Ÿæˆçš„æŠ¥å‘Šã€‚</p><pre class="lh li lj lk gt ll lm ln bn lo lp bi"><span id="6779" class="lq lr it lm b be ls lt l lu lv">Controls: 69 (Failed: 47, Excluded: 0, Skipped: 0)<br/>Failed Resources by Severity: Critical â€” 0, High â€” 29, Medium â€” 158, Low â€” 58<br/><br/>+----------+-------------------------------------------------------------------------------------+------------------+--------------------+---------------+--------------+<br/>| SEVERITY |                                    CONTROL NAME                                     | FAILED RESOURCES | EXCLUDED RESOURCES | ALL RESOURCES | % RISK-SCORE |<br/>+----------+-------------------------------------------------------------------------------------+------------------+--------------------+---------------+--------------+<br/>| High     | Apply Security Context to Your Pods and Containers                                  |        14        |         2          |      16       |     88%      |<br/>| High     | Host PID/IPC privileges                                                             |        1         |         0          |      16       |      6%      |<br/>| High     | HostNetwork access                                                                  |        1         |         0          |      16       |      6%      |<br/>| High     | List Kubernetes secrets                                                             |        6         |         0          |       6       |     100%     |<br/>| High     | Minimize the admission of Windows HostProcess Containers                            |        1         |         2          |       3       |     33%      |<br/>| High     | Minimize the admission of privileged containers                                     |        1         |         2          |       3       |     33%      |<br/>| High     | Privileged container                                                                |        1         |         0          |      16       |      6%      |<br/>| High     | Resource limits                                                                     |        1         |         0          |      16       |      6%      |<br/>| High     | Resources CPU limit and request                                                     |        1         |         0          |      16       |      6%      |<br/>| High     | Resources memory limit and request                                                  |        1         |         0          |      16       |      6%      |<br/>| High     | Writable hostPath mount                                                             |        1         |         0          |      16       |      6%      |<br/>| Medium   | Access container service account                                                    |        4         |         0          |       4       |     100%     |<br/>| Medium   | Allow privilege escalation                                                          |        14        |         2          |      16       |     88%      |<br/>| Medium   | Automatic mapping of service account                                                |        2         |         2          |      19       |     11%      |<br/>| Medium   | CVE-2022-0492-cgroups-container-escape                                              |        13        |         2          |      16       |     81%      |<br/>| Medium   | Cluster internal networking                                                         |        1         |         2          |       3       |     33%      |<br/>| Medium   | Configured liveness probe                                                           |        3         |         0          |      16       |     19%      |<br/>| Medium   | Container hostPort                                                                  |        1         |         0          |      16       |      6%      |<br/>| Medium   | Create administrative boundaries between resources using namespaces                 |        1         |         2          |       3       |     33%      |<br/>| Medium   | Ensure that Service Account Tokens are only mounted where necessary                 |        2         |         2          |      19       |     11%      |<br/>| Medium   | Ensure that all Namespaces have Network Policies defined                            |        1         |         2          |       3       |     33%      |<br/>| Medium   | Ensure that default service accounts are not actively used                          |        1         |         0          |       3       |     33%      |<br/>| Medium   | Ensure that the cluster has at least one active policy control mechanism in place   |        1         |         2          |       3       |     33%      |<br/>| Medium   | Ensure that the seccomp profile is set to docker/default in your pod definitions    |        14        |         2          |      16       |     88%      |<br/>| Medium   | Images from allowed registry                                                        |        14        |         2          |      16       |     88%      |<br/>| Medium   | Ingress and Egress blocked                                                          |        14        |         2          |      16       |     88%      |<br/>| Medium   | Linux hardening                                                                     |        14        |         2          |      16       |     88%      |<br/>| Medium   | Minimize access to secrets                                                          |        6         |         0          |       6       |     100%     |<br/>| Medium   | Minimize the admission of HostPath volumes                                          |        1         |         2          |       3       |     33%      |<br/>| Medium   | Minimize the admission of containers which use HostPorts                            |        1         |         2          |       3       |     33%      |<br/>| Medium   | Minimize the admission of containers wishing to share the host IPC namespace        |        1         |         2          |       3       |     33%      |<br/>| Medium   | Minimize the admission of containers wishing to share the host network namespace    |        1         |         2          |       3       |     33%      |<br/>| Medium   | Minimize the admission of containers wishing to share the host process ID namespace |        1         |         2          |       3       |     33%      |<br/>| Medium   | Minimize the admission of containers with added capabilities                        |        1         |         2          |       3       |     33%      |<br/>| Medium   | Minimize the admission of containers with allowPrivilegeEscalation                  |        1         |         2          |       3       |     33%      |<br/>| Medium   | Minimize the admission of containers with capabilities assigned                     |        1         |         2          |       3       |     33%      |<br/>| Medium   | Minimize the admission of containers with the NET_RAW capability                    |        1         |         2          |       3       |     33%      |<br/>| Medium   | Minimize the admission of root containers                                           |        1         |         2          |       3       |     33%      |<br/>| Medium   | Non-root containers                                                                 |        14        |         2          |      16       |     88%      |<br/>| Medium   | The default namespace should not be used                                            |        28        |         0          |      35       |     80%      |<br/>| Low      | Configured readiness probe                                                          |        2         |         0          |      16       |     13%      |<br/>| Low      | Immutable container filesystem                                                      |        13        |         2          |      16       |     81%      |<br/>| Low      | K8s common labels usage                                                             |        14        |         2          |      16       |     88%      |<br/>| Low      | Kubernetes CronJob                                                                  |        1         |         0          |       1       |     100%     |<br/>| Low      | Label usage for resources                                                           |        14        |         0          |      16       |     88%      |<br/>| Low      | Network mapping                                                                     |        1         |         2          |       3       |     33%      |<br/>| Low      | Pods in default namespace                                                           |        13        |         0          |      16       |     81%      |<br/>+----------+-------------------------------------------------------------------------------------+------------------+--------------------+---------------+--------------+<br/>|          |                                  RESOURCE SUMMARY                                   |        38        |         4          |      45       |    29.98%    |<br/>+----------+-------------------------------------------------------------------------------------+------------------+--------------------+---------------+--------------+<br/>FRAMEWORKS: DevOpsBest (risk: 20.27), ArmoBest (risk: 30.79), MITRE (risk: 10.48), CIS (risk: 44.16), NSA (risk: 29.12), AllControls (risk: 25.57)</span></pre><h2 id="38f0" class="lw lr it bd lx ly lz dn ma mb mc dp md kr me mf mg kv mh mi mj kz mk ml mm mn bi translated">RBAC(åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶)å¯è§†åŒ–å™¨</h2><p id="584c" class="pw-post-body-paragraph kg kh it ki b kj mq kl km kn mr kp kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">è¿™ä¸ªå¯è§†åŒ–å·¥å…·æ˜¾ç¤ºäº†æˆ‘ä»¬é›†ç¾¤ä¸­çš„æ‰€æœ‰èµ„æºã€‚å®ƒç›´è§‚åœ°æ˜¾ç¤ºäº†å“ªä¸ªèµ„æºå¯ä»¥è®¿é—®ä»€ä¹ˆä»¥åŠæ‹¥æœ‰ä»€ä¹ˆç‰¹æƒï¼Œå¹¶å¯ç”¨äºæ‰§è¡Œä¸åŒç±»å‹çš„æŸ¥è¯¢ï¼Œä»è€Œè®©æˆ‘ä»¬æ›´å¥½åœ°äº†è§£æˆ‘ä»¬çš„èµ„æºåŸºäºæ¯ä¸ªè§’è‰²æ‰€æ‹¥æœ‰çš„æƒé™ã€‚æ‰€æœ‰å¯èƒ½çš„é€‰é¡¹éƒ½æ˜¾ç¤ºåœ¨ä¸‹é¢çš„è§†é¢‘ä¸­ï¼Œåœ¨æˆ‘çœ‹æ¥ï¼Œè¿™æ˜¯è¿™ä¸ªå·¥å…·çš„ä¸€ä¸ªéå¸¸å¼ºå¤§çš„åŠŸèƒ½ã€‚</p><figure class="lh li lj lk gt ju"><div class="bz fp l di"><div class="mv mp l"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">RBACè§†è§‰ä»ª</figcaption></figure><blockquote class="mw"><p id="9b9f" class="mx my it bd mz na nb nc nd ne nf ld dk translated">é¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œè¿™ä¸ªå·¥å…·æ˜¯å…è´¹å’Œå¼€æºçš„ã€‚å¯ä»¥åœ¨è¿™ä¸ªGitHub <a class="ae kf" href="https://github.com/kubescape/kubescape" rel="noopener ugc nofollow" target="_blank">èµ„æºåº“</a>ä¸­æ‰¾åˆ°ã€‚</p></blockquote><p id="43d9" class="pw-post-body-paragraph kg kh it ki b kj ng kl km kn nh kp kq kr ni kt ku kv nj kx ky kz nk lb lc ld im bi translated">åœ¨ä¸‹é¢çš„è¦ç‚¹ä¸­ï¼Œè¿˜æœ‰ä¸€ä¸ªå…³äºåœ¨minikubeé›†ç¾¤ä¸Šæœ¬åœ°æ‰§è¡Œkubispectæ‰«æç¨‹åºçš„è¯¦ç»†æ—¥å¿—ã€‚å®ƒæ‰«æé…ç½®å’Œæ¼æ´ï¼Œå¹¶å¯è§†åŒ–RBACã€‚</p><figure class="lh li lj lk gt ju"><div class="bz fp l di"><div class="nl mp l"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">æœ¬åœ°æ‰§è¡Œçš„è¯¦ç»†æ—¥å¿—</figcaption></figure></div><div class="ab cl nm nn hx no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="im in io ip iq"><p id="9c46" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å¸Œæœ›ä½ è§‰å¾—è¿™äº›ä¿¡æ¯æœ‰ç”¨ï¼Œå¹¶éšæ—¶è®©æˆ‘çŸ¥é“ä½ çš„æƒ³æ³•ã€‚</p><p id="766c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å¦‚æœæ‚¨æƒ³ä¸æˆ‘è”ç³»ï¼Œæ‚¨å¯ä»¥å…³æ³¨æˆ–è”ç³»æˆ‘çš„ä»»ä½•ç¤¾äº¤ç½‘ç«™ï¼Œæˆ–è€…é€šè¿‡æˆ‘çš„<a class="ae kf" href="https://abame.github.io/" rel="noopener ugc nofollow" target="_blank">ä¸ªäººç½‘ç«™</a>ä¸Šçš„è”ç³»æ–¹å¼ã€‚</p></div></div>    
</body>
</html>