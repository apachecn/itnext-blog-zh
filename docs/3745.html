<html>
<head>
<title>Quick Yet NOT dirty â€” lazy form of the Observer Pattern</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å¿«é€Ÿä½†ä¸è„â€”â€”è§‚å¯Ÿè€…æ¨¡å¼çš„æ‡’æƒ°å½¢å¼</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://itnext.io/quick-yet-not-dirty-lazy-form-of-the-observer-pattern-6d2672ead884?source=collection_archive---------5-----------------------#2020-02-15">https://itnext.io/quick-yet-not-dirty-lazy-form-of-the-observer-pattern-6d2672ead884?source=collection_archive---------5-----------------------#2020-02-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="5f28" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">è®©æˆ‘ä»¬ç”¨å‡ è¡Œä»£ç å¼•èµ·ä¸€äº›ååº”å¹¶è½»æ¾åœ°å…±äº«çŠ¶æ€ã€‚</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/0ab6b437e4b4b55a05ffc6c4b8de1310.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WF93v5J36teO3M6b9lj49A.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://www.flaticon.com/free-icon/design_1792026?term=observer%20eye&amp;page=1&amp;position=13" rel="noopener ugc nofollow" target="_blank">https://www.flaticon.com/free-icon/design_1792026?term = observer % 20 eye&amp;page = 1&amp;position = 13</a></figcaption></figure><p id="ae1b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">å£°æ˜:æœ¬å¸–ä¸ä¼šæ•™ä½ â€œè§‚å¯Ÿè€…æ¨¡å¼â€ã€‚</p><p id="7359" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">åœ¨è¿™ç¯‡çŸ­æ–‡ä¸­ï¼Œæˆ‘å°†åˆ†äº«æˆ‘çš„ä¸€ä¸ªç”¨ä¾‹ï¼Œä»¥åŠæˆ‘æ˜¯å¦‚ä½•åœ¨ä¸å¼•å…¥å¤–éƒ¨å·¥å…·çš„æƒ…å†µä¸‹è§£å†³è¿™ä¸ªé—®é¢˜çš„ã€‚</p><p id="8573" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">åœ¨æˆ‘çš„ä¸€ä¸ªé¡¹ç›®ä¸­ï¼Œ(ä»¿çœŸå›è·¯)ï¼Œæ¯å½“çŠ¶æ€æ”¹å˜æ—¶ï¼Œ<strong class="ky ir">è§†å›¾å±‚</strong>(å‡ ä¸ªæŒ‰é’®)å¿…é¡»æ›´æ–°<strong class="ky ir">é€»è¾‘å±‚</strong>ã€‚</p><p id="e69d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">é€»è¾‘å±‚</strong>ä¼šåšå‡ºç›¸åº”çš„ååº”ã€‚</p><p id="3861" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">è¿™æ˜¯ä¸€ä¸ªTypescripté¡¹ç›®ï¼Œæˆ‘æ²¡æœ‰ä½¿ç”¨ä»»ä½•æ¡†æ¶ï¼Œåªæœ‰DOMå’Œæˆ‘ã€‚</p><p id="4f77" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘çœ‹ä¸å‡ºä½¿ç”¨å¤–éƒ¨å·¥å…·çš„ä»»ä½•æ„ä¹‰â€”â€”(é¡ºä¾¿è¯´ä¸€å¥ï¼Œæˆ‘å–œæ¬¢ä½¿ç”¨rxjsä¸»é¢˜ï¼ŒçœŸæ£’libğŸ˜ ğŸ‘ ).</p><p id="49ea" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://github.com/LironHazan/rocking-looper/blob/master/src/looper-view.ts#L32" rel="noopener ugc nofollow" target="_blank">ä¸‹é¢æ˜¯ä»£ç </a>ï¼</p><h2 id="c4d9" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated"><a class="ae kv" href="https://en.wikipedia.org/wiki/Observer_pattern" rel="noopener ugc nofollow" target="_blank">è§‚å¯Ÿè€…æ¨¡å¼</a></h2><p id="c679" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">è§‚å¯Ÿè€…æ¨¡å¼æ˜¯ä¸€ç§éå¸¸å¸¸è§çš„è½¯ä»¶è®¾è®¡æ¨¡å¼ã€‚å®ƒçš„å®ç°é€šå¸¸éšè—åœ¨ç¬¬ä¸‰æ–¹åº“ä¸­ï¼Œæ‰€ä»¥æ‚¨å¯èƒ½åœ¨è¿‡å»å¤šæ¬¡ä½¿ç”¨è¿‡å®ƒï¼Œç”šè‡³æ²¡æœ‰æ„è¯†åˆ°å®ƒ..</p><p id="0e25" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ç”±ä¸€ä¸ª<a class="ae kv" href="https://github.com/gztchan/design-patterns-in-typescript/blob/master/observer/observer.ts#L29" rel="noopener ugc nofollow" target="_blank">ä¸“ç”¨ç±»</a>ç”Ÿæˆä¸€ä¸ªå¯é‡ç”¨çš„é€šç”¨â€œä¸»é¢˜â€çš„å¸¸è§å®ç°ã€‚</p><p id="6b63" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æˆ‘è§‰å¾—æˆ‘ç”šè‡³ä¸éœ€è¦å®ƒï¼Œæˆ‘çš„é¡¹ç›®åªæœ‰2ä¸ªç»„ä»¶ï¼Œæ‰€ä»¥æˆ‘åªå†™äº†ä¸‹é¢14è¡Œ:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="5733" class="ls lt iq mr b gy mv mw l mx my"><strong class="mr ir">static viewInteractionSubject</strong>: ObserverType = {<br/>  <strong class="mr ir">observers</strong>: [],<br/><br/>  on: (action: { <strong class="mr ir">name</strong>: <strong class="mr ir">string</strong>, <strong class="mr ir">fn</strong>: Function}) =&gt; {<br/>    LooperViewLayer.viewInteractionSubject.<strong class="mr ir">observers</strong>.push(action);<br/>  },<br/><br/>  dispatch: &lt;T&gt;(name: <strong class="mr ir">string</strong>, arg?: T) =&gt; {<br/>    <strong class="mr ir">if </strong>(LooperViewLayer.viewInteractionSubject.<strong class="mr ir">observers</strong>.<strong class="mr ir">length </strong>=== 0) <strong class="mr ir">return</strong>;<br/>    <strong class="mr ir">const </strong>exec = LooperViewLayer.viewInteractionSubject.<strong class="mr ir">observers<br/>      </strong>.find((event) =&gt; event.<strong class="mr ir">name </strong>=== name);<br/>    exec.fn(arg);<br/>  }<br/>};</span></pre><p id="74aa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æˆ‘ä¸ä¼šåœ¨å¤§å‹é¡¹ç›®ä¸­ä½¿ç”¨å®ƒ(ä¾‹å¦‚ï¼Œåœ¨å·¥ä½œä¸­)ï¼Œå®ƒè¿˜æ²¡æœ‰å®Œå…¨æ‰©å±•ï¼Œæˆ‘å¯ä»¥åšä¸€äº›æ”¹è¿›â€”â€”ä¾‹å¦‚ï¼Œæ·»åŠ <strong class="ky ir">å–æ¶ˆè®¢é˜…</strong>åŠŸèƒ½ï¼Œä½¿ç”¨<strong class="ky ir">å”¯ä¸€æ ‡è¯†ç¬¦</strong>åƒç¬¦å·è€Œä¸æ˜¯â€œåç§°â€å­—ç¬¦ä¸²ç­‰..ä½†æ˜¯å¯¹äºç‰¹å®šæƒ…å†µæ¥è¯´ï¼Œè¿™æ˜¯å¯ä»¥çš„ã€‚</p><p id="6f3b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ä¸‹é¢æ˜¯ä½¿ç”¨from whereverå®ä½“å“åº”è§†å›¾çš„æ–¹æ³•(å¸Œæœ›åªæœ‰ä¸€ä¸ª)ã€‚</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="a14b" class="ls lt iq mr b gy mv mw l mx my"><em class="mz">// Subscribe to view interactions<br/></em>LooperViewLayer.viewInteractionSubject<br/>  .on({<strong class="mr ir">name</strong>: <strong class="mr ir">'startRecording'</strong>, fn: () =&gt; <strong class="mr ir">this</strong>.mediaRecorder &amp;&amp; <strong class="mr ir">this</strong>.mediaRecorder.start()});<br/><br/>LooperViewLayer.viewInteractionSubject<br/>  .on({<strong class="mr ir">name</strong>: <strong class="mr ir">'stopRecording'</strong>, fn: () =&gt; <strong class="mr ir">this</strong>.mediaRecorder &amp;&amp; <strong class="mr ir">this</strong>.mediaRecorder.stop()});</span></pre><p id="95f6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æˆ‘è¦æ„Ÿè°¢<a class="na nb ep" href="https://medium.com/u/355b1dfe86ae?source=post_page-----6d2672ead884--------------------------------" rel="noopener" target="_blank"> Uri Shaked </a>è®¤ä¸ºè¿™ä¸ªè¯é¢˜å€¼å¾—ä¸€æï¼Œå¹¶ä¸ºæˆ‘å®¡é˜…äº†è¿™ç¯‡å¸–å­:)</p><p id="d492" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ä»…æ­¤è€Œå·²ï¼Œ</p><p id="22e7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">å¹²æ¯ï¼Œå‹’è£ã€‚</p></div></div>    
</body>
</html>