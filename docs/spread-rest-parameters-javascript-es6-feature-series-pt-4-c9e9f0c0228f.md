# Spread & Rest å‚æ•°:JavaScript ES6 ç‰¹æ€§ç³»åˆ—(ç¬¬ 4 éƒ¨åˆ†)

> åŸæ–‡ï¼š<https://itnext.io/spread-rest-parameters-javascript-es6-feature-series-pt-4-c9e9f0c0228f?source=collection_archive---------2----------------------->

# è¯­æ³•å¤ªå¥½äº†ï¼ŒES6 ç”¨äº†ä¸¤æ¬¡

![](img/cf81030f5bebfb47f5a4a0f8e014249f.png)

ç”±[å¨å»‰Â·è‰¾æ–‡](https://unsplash.com/@firmbee?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)åœ¨ [Unsplash](https://unsplash.com/search/photos/learning?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) ä¸Šæ‹æ‘„

# ä»‹ç»

è¿™äº›å¸–å­èƒŒåçš„çµæ„Ÿå¾ˆç®€å•:å¯¹äºå¾ˆå¤šå¼€å‘äººå‘˜æ¥è¯´ï¼ŒJavaScript æ²¡æœ‰ä»»ä½•æ„ä¹‰â€”â€”å› ä¸ºå®ƒçš„å¼‚æ­¥è¡Œä¸ºå’Œè§£é‡Šè¯­è¨€ç­‰ç­‰ã€‚

å†åŠ ä¸Š ECMAScript å§”å‘˜ä¼šå‘å¸ƒçš„å¹´åº¦æ›´æ–°ï¼Œæœ‰å¾ˆå¤šä¿¡æ¯éœ€è¦åŠæ—¶äº†è§£ã€‚ğŸ¤¯çœ‹çœ‹ç»´åŸºç™¾ç§‘ä¸‹é¢çš„ç»Ÿè®¡æ•°æ®ã€‚

> æˆªè‡³ 2017 å¹´ 5 æœˆï¼Œ1000 ä¸‡ä¸ªæœ€å—æ¬¢è¿çš„ç½‘é¡µä¸­æœ‰ 94.5%ä½¿ç”¨äº† JavaScriptã€‚â€” JavaScriptï¼Œç»´åŸºç™¾ç§‘

ç”±äº JS å¯¹ web çš„è´¡çŒ®å¦‚æ­¤ä¹‹å¤§ï¼Œæˆ‘æƒ³æä¾›ä¸€äº›æˆ‘ç»å¸¸ä½¿ç”¨çš„ ES6+ç‰¹æ€§çš„æ–‡ç« å’Œä¾‹å­ï¼Œä¾›å…¶ä»–å¼€å‘äººå‘˜å‚è€ƒã€‚

æˆ‘ä»¬çš„ç›®æ ‡æ˜¯è®©è¿™äº›æ–‡ç« ç®€çŸ­ã€æ·±å…¥åœ°è§£é‡Šè¯¥è¯­è¨€çš„å„ç§æ”¹è¿›ï¼Œæˆ‘å¸Œæœ›è¿™äº›æ–‡ç« èƒ½å¯å‘æ‚¨ä½¿ç”¨ JS ç¼–å†™ä¸€äº›çœŸæ­£é…·çš„ä¸œè¥¿ã€‚è°çŸ¥é“å‘¢ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä½ å¯èƒ½ä¼šå­¦åˆ°ä¸€äº›æ–°ä¸œè¥¿ã€‚ğŸ˜„

> åœ¨æˆ‘çš„ç¬¬å››ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†è®¨è®º rest å‚æ•°å’Œ spread è¯­æ³•:è½»æ¾å‹ç¼©æˆ–æ‰©å±•å‚æ•°ã€å…ƒç´ å’Œå¯¹è±¡å€¼çš„æœ€ç®€æ´çš„æ–¹æ³•ã€‚

# â€¦ä¼‘æ¯å‚æ•°

åœ¨æ·±å…¥ç ”ç©¶ rest å‚æ•°ä¹‹å‰ï¼Œæˆ‘å»ºè®®æ‚¨ç†Ÿæ‚‰ JavaScript ä¸­ç›®å‰ä½¿ç”¨çš„ä¸‰ç§ä¸»è¦å‡½æ•°ç±»å‹:å‡½æ•°å£°æ˜ã€å‡½æ•°è¡¨è¾¾å¼å’Œç®­å¤´å‡½æ•°ã€‚ä¸ºäº†å¿«é€Ÿå¤ä¹ ï¼Œæˆ‘å†™äº†ä¸€ç¯‡å…³äºä»–ä»¬çš„åšæ–‡ã€‚

ç°åœ¨æˆ‘ä»¬åœ¨åŒä¸€é¡µä¸Šï¼Œè®©æˆ‘ä»¬è¿›å…¥åˆ°åº•ä»€ä¹ˆæ˜¯ rest å‚æ•°ã€‚

[Rest å‚æ•°](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters)æ˜¯ä¸€ç§æ–°çš„è¯­æ³•ï¼Œå®ƒå…è®¸æˆ‘ä»¬å°†ä¼ é€’ç»™å‡½æ•°çš„ä¸å®šæ•°é‡çš„å‚æ•°è¡¨ç¤ºä¸ºæ•°ç»„ã€‚æœ‰é“ç†å—ï¼Ÿä¸å®Œå…¨æ˜¯ï¼ŸğŸ¤”æ²¡é—®é¢˜ï¼Œä»£ç ç¤ºä¾‹é€šå¸¸ä¹Ÿèƒ½å¸®åŠ©æˆ‘æ›´å®¹æ˜“åœ°ç†è§£æ¦‚å¿µã€‚

## è§£æå‡½æ•°å£°æ˜ä¸­çš„ Rest å‚æ•°

```
function f (x, y, ...a) {
  return (x + y) * a.length;
}console.log(f( 1, 2, â€œhelloâ€, true, 7)) // prints: 9
```

å½“ä½ çœ‹ä¸Šé¢çš„ä¾‹å­æ—¶ï¼Œé™¤äº†æœ€åä¸€ä¸ªå‚æ•°å£°æ˜çš„ï¼Œå‚æ•°`a`å‰é¢æœ‰ä¸€ä¸ªå¯ç–‘çš„`...`ï¼Œå…¶ä»–çš„éƒ½å’Œæ™®é€šçš„å‡½æ•°å£°æ˜*ä¸€æ ·ã€‚è¿™æ˜¯ä¸€ä¸ª rest å‚æ•°çš„ä¾‹å­ã€‚*

è¿™æ„å‘³ç€å½“å‡½æ•°æ‰§è¡Œæ—¶ï¼Œâ€œå°†ä¼ é€’ç»™è¯¥å‡½æ•°çš„æ‰€æœ‰å‰©ä½™å‚æ•°éƒ½æ”¾å…¥ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œå¹¶æŒ‰ç…§å‡½æ•°ä½“åœ¨å…¶è¯­å¥ä½“ä¸­çš„æŒ‡ç¤ºæ¥å¤„ç†å®ƒä»¬ã€‚â€

è¿™æ˜¯å¦ä¸€ä¸ªä¾‹å­ï¼Œä½†æ˜¯è¿™æ¬¡ä½¿ç”¨äº†ä¸€ä¸ªç®­å¤´å‡½æ•°(ä¹Ÿå¾ˆå®¹æ˜“è½¬æ¢æˆé ES6 è¯­æ³•ä¸­çš„å‡½æ•°è¡¨è¾¾å¼)ã€‚

## ç®­å¤´å‡½æ•°ä¸­çš„å…¶ä½™å‚æ•°

```
const product = (e, f, ...g) => {
  return e * f + g.length; 
}console.log(product(4, 7, 2, 6, 3)); // prints: 31
```

ç°åœ¨ï¼Œæ‚¨å¯èƒ½å¯¹å¦‚ä½•ä½¿ç”¨ rest å‚æ•°æœ‰ä¸€äº›ç–‘é—®ï¼Œ(æˆ‘çŸ¥é“æˆ‘è‚¯å®šæœ‰)ï¼Œæ‰€ä»¥è®©æˆ‘ä¸ºæ‚¨åˆ—å‡ºè§„åˆ™ã€‚

# Rest å‚æ•°è§„åˆ™ã€ç‰¹å¾å’Œç”¨é€”

## åªæœ‰æœ€åä¸€ä¸ªå‚æ•°å¯ä»¥æœ‰â€¦

ä¸ï¼Œæˆ‘æ²¡æœ‰å¤±å»æˆ‘çš„æ€è·¯ï¼Œæˆ‘è¯´çš„æ˜¯:åªæœ‰å‡½æ•°ä¸­å®šä¹‰çš„æœ€åä¸€ä¸ªå‚æ•°ï¼Œå¯ä»¥åŠ ä¸Šå‰ç¼€`...`ï¼Œä½¿å®ƒæˆä¸ºä¸€ä¸ª rest å‚æ•°ã€‚

å½“æœ€åä¸€ä¸ªå‚æ•°ä»¥`...`ä¸ºå‰ç¼€æ—¶ï¼Œæ‰€æœ‰å‰©ä½™çš„(ç”¨æˆ·æä¾›çš„)å‚æ•°éƒ½æ”¾åœ¨ä¸€ä¸ªâ€œæ ‡å‡†â€Javascript æ•°ç»„ä¸­ã€‚

**è¾“å‡ºå¸¦æœ‰ Rest å‚æ•°çš„è‡ªå˜é‡**

è¿™æ˜¯å½“æ‚¨å°† rest å‚æ•°ä½œä¸ºå‡½æ•°è°ƒç”¨ä¸­çš„æœ€åä¸€ä¸ªå‚æ•°æ—¶ï¼Œæ‚¨å°†çœ‹åˆ°çš„è¾“å‡ºã€‚å¦‚æ‚¨æ‰€è§ï¼Œä¼ é€’ç»™`myNumberFunction`ã€`1`ã€`2`å’Œ`3`çš„å‰ä¸‰ä¸ªå‚æ•°è¢«å•ç‹¬æ‰“å°å‡ºæ¥ï¼Œä½œä¸ºå‡½æ•°ä¸­å®šä¹‰çš„å‰ä¸‰ä¸ªå‚æ•°:`a`ã€`b`å’Œ`c`ã€‚ç„¶è€Œï¼Œä¼ é€’ç»™ rest å‚æ•°`d`çš„æ‰€æœ‰å‰©ä½™æ•°å­—éƒ½ä½œä¸ºæ•°ç»„`[4, 5, 6, 7, 8]`æ‰“å°å‡ºæ¥ã€‚

```
function myNumberFunction(a, b, c, ...d) {
  console.log("a", a);  // a 1
  console.log("b", b); // b 2
  console.log("c", c); // c 3
  console.log("...d", d); //...d [ 4, 5, 6, 7, 8]
}myNumberFunction(1, 2, 3, 4, 5, 6, 7, 8);
```

## Rest å‚æ•°ä¸ä»…ä»…æ˜¯ Arguments å¯¹è±¡

åœ¨`arguments`å¯¹è±¡å’Œæ–°çš„ rest å‚æ•°ä¹‹é—´æœ‰ä¸‰ä¸ªä¸»è¦åŒºåˆ«éœ€è¦äº†è§£ã€‚

*   rest å‚æ•°åªæ˜¯é‚£äº›æ²¡æœ‰è¢«å•ç‹¬å‘½åçš„å‚æ•°(å³åœ¨å‡½æ•°è¡¨è¾¾å¼ä¸­æ­£å¼å®šä¹‰çš„)ï¼Œè€Œ`arguments`å¯¹è±¡åŒ…å«ä¼ é€’ç»™å‡½æ•°çš„æ‰€æœ‰å‚æ•°ã€‚
*   `arguments`å¯¹è±¡ä¸æ˜¯ä¸€ä¸ªçœŸæ­£çš„æ•°ç»„ï¼Œå…¶ä½™çš„å‚æ•°éƒ½æ˜¯`Array`å®ä¾‹ï¼Œä¹Ÿå°±æ˜¯è¯´`sort()`ã€`map()`ã€`forEach()`æˆ–`pop()`ç­‰æ–¹æ³•å¯ä»¥ç›´æ¥åº”ç”¨åœ¨ä¸Šé¢ã€‚
*   `arguments`å¯¹è±¡å…·æœ‰ç‰¹å®šäºè‡ªèº«çš„é™„åŠ åŠŸèƒ½(å¦‚`callee`å±æ€§)ã€‚

æœ€åˆå¼•å…¥ Rest å‚æ•°æ˜¯ä¸ºäº†å‡å°‘ç”±`arguments`å¼•èµ·çš„æ ·æ¿ä»£ç ã€‚ä¹‹å‰ï¼Œå°†`arguments`è½¬æ¢ä¸ºâ€œæ™®é€šæ•°ç»„â€æ˜¯ä¸€å¤§ç—›è‹¦ã€‚ç°åœ¨ï¼Œå®ƒä»¬å¯ä»¥è¢«ç®€å•åœ°ä¼ å…¥ï¼Œç„¶åè¢«æ‰§è¡Œã€‚

**å¯¹å…¶ä½™å‚æ•°æ•°ç»„çš„ç®€å•æ“ä½œ**

```
function doubleUp(...simpleArgs){
  const arr = simpleArgs;
  const secondArr = arr.map(num => num * 2);
  return secondArr;
}console.log(doubleUp(2, 6, 12, 18)); // [ 4, 12, 24, 36 ]
```

## Rest å‚æ•°å¯ä»¥è¢«ææ„

å…³äº ES6ï¼Œæˆ‘æœ€å–œæ¬¢çš„æ–°ä¸œè¥¿ä¹‹ä¸€æ˜¯æ•°ç»„å’Œå¯¹è±¡ææ„ã€‚æˆ‘è¿˜æ²¡æœ‰è¯¦ç»†ä»‹ç»ææ„ï¼Œä½†æ˜¯åœ¨è¿™ä¸€ç³»åˆ—æ–‡ç« ç»“æŸä¹‹å‰ï¼Œæˆ‘ä¼šä»‹ç»çš„ã€‚

ç®€è€Œè¨€ä¹‹ï¼Œææ„ä½¿å¾—å°†æ•°ç»„ä¸­çš„å€¼æˆ–å¯¹è±¡ä¸­çš„å±æ€§è§£åŒ…åˆ°ä¸åŒçš„å˜é‡ä¸­æˆä¸ºå¯èƒ½ã€‚å¦‚æœä½ åŒæ—¶æ¸´æœ›äº†è§£æ›´å¤šï¼Œè¿™é‡Œæœ‰ä¸€ä¸ª[é“¾æ¥](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment)è®©ä½ æ›´ç†Ÿæ‚‰ææ„æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚

ç»§ç»­è®¨è®ºè¿™ç¯‡æ–‡ç« çš„ç›®çš„ï¼Œè¿™é‡Œæ˜¯ rest å‚æ•°å’Œææ„åœ¨èµ·ä½œç”¨ã€‚

**ç”¨ Rest å‚æ•°ææ„æ•°ç»„**

```
const [captain, coCaptain, ...devs] = [ â€œBridgetâ€, â€œJoeâ€, â€œKyleâ€, â€œDrewâ€, â€œPatrickâ€, â€œFranciscoâ€];console.log(captain); // â€˜Bridgetâ€™
console.log(coCaptain); // â€˜Joeâ€™
console.log(devs); // [ â€˜Kyleâ€™, â€˜Drewâ€™, â€˜Patrickâ€™, â€˜Franciscoâ€™ ]
```

åœ¨ä¸Šé¢å£°æ˜çš„å˜é‡æ•°ç»„`captain`ã€`coCaptain`ã€`devs`ä¸­ï¼Œå…¶ä½™çš„å‚æ•°åº”ç”¨äº`devs`ï¼Œæ‰€ä»¥å½“æ•°ç»„åä¼ å…¥æ—¶ï¼Œ`'Bridget'`å˜æˆäº†`captain`ã€`'Joe'`æ˜¯`coCaptain`ã€`devs`æ˜¯`[ 'Kyle', 'Drew', 'Patrick', 'Francisco' ]`ã€‚

å¾—å¿ƒåº”æ‰‹ï¼Œå¯¹å§ï¼Ÿæƒ³è±¡ä¸€ä¸‹æ‚¨é‡åˆ°çš„åœºæ™¯ï¼Œæ‚¨è¦ä¹ˆéœ€è¦å–å‡ºæ•°ç»„çš„å„ä¸ªéƒ¨åˆ†ï¼Œè¦ä¹ˆéœ€è¦å°†å…¶ä»–éƒ¨åˆ†æ”¾åœ¨ä¸€èµ·ã€‚ç›¸ä¿¡æˆ‘ï¼Œå½“ä½ è¿™ä¹ˆåšçš„æ—¶å€™ï¼Œä½ ä¼šéå¸¸æ„Ÿè°¢ææ„å’Œä¼‘æ¯å‚æ•°ã€‚

åŒæ ·çš„äº‹æƒ…ä¹Ÿå¯ä»¥ç”¨å¯¹è±¡ææ„æ¥å®Œæˆã€‚

**ä½¿ç”¨å‰©ä½™å‚æ•°è¿›è¡Œå¯¹è±¡ææ„**

```
const {pm1, pm2, ...restOfTeam} = {
  pm1: "Jeremy",
  pm2: "Tung",
  developer1: "Casey",
  developer2: "Mark",
  ux: "Christina"
};console.log(pm1); // Jeremy
console.log(pm2); // Tung
console.log(restOfTeam); // { developer1: 'Casey', developer2: 'Mark', ux: 'Christina' }
```

æœ¬ä¾‹ä»å¯¹è±¡ä¸­çš„å…¶ä½™å›¢é˜Ÿæˆå‘˜ä¸­è§£æ„å‡º`pm1`å’Œ`pm2`ï¼Œå…¶ä½™çš„å¯¹è±¡å±æ€§:`developer1`ã€`developer2`å’Œ`ux`è¢«ç»„åˆåœ¨ä¸€ä¸ªåä¸º`restOfTeam`çš„æ–°å¯¹è±¡å˜é‡ä¸­ã€‚

å†ä¸€æ¬¡ï¼Œè€ƒè™‘ä½¿ç”¨è¿™ç§ç±»å‹çš„è¯­æ³•æ¥åˆ›å»ºæ–°çš„å˜é‡ã€å¯¹è±¡ï¼Œå°†å¯¹è±¡å±æ€§åˆ†æˆå•ç‹¬çš„éƒ¨åˆ†ï¼Œç­‰ç­‰ã€‚

è¿™äº›æ˜¯æ‚¨éœ€è¦äº†è§£çš„å…³äº rest å‚æ•°çš„ä¸»è¦å†…å®¹ã€‚è‡³æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç»§ç»­è®¨è®º JavaScript ä¸­`...`çš„å¦ä¸€ç§ç”¨æ³•ï¼Œå³ spread è¯­æ³•ã€‚

# å±•å¼€è¯­æ³•â€¦

è™½ç„¶å®ƒä¸ rest å‚æ•°éå¸¸ç›¸ä¼¼ï¼Œä½†æ˜¯ spread è¯­æ³•æœ‰ç€å®Œå…¨ä¸åŒçš„ç”¨é€”ã€‚

[æ‰©å±•è¯­æ³•](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax)å…è®¸åœ¨éœ€è¦é›¶ä¸ªæˆ–å¤šä¸ªå‚æ•°(ç”¨äºå‡½æ•°è°ƒç”¨)æˆ–å…ƒç´ (ç”¨äºæ•°ç»„æ–‡å­—)çš„åœ°æ–¹æ‰©å±•ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œæˆ–è€…åœ¨éœ€è¦é›¶ä¸ªæˆ–å¤šä¸ªé”®å€¼å¯¹(ç”¨äºå¯¹è±¡æ–‡å­—)çš„åœ°æ–¹æ‰©å±•ä¸€ä¸ªå¯¹è±¡è¡¨è¾¾å¼ã€‚

å‘ƒâ€¦ç°åœ¨æ€ä¹ˆåŠï¼Ÿ

å¥½å§ï¼Œè¿™ä¸ªå®šä¹‰å¬èµ·æ¥å¾ˆä¸“ä¸šï¼Œæˆ‘çŸ¥é“ï¼Œç›¸ä¿¡æˆ‘ã€‚ä½†è¿™åœ¨å®è·µä¸­æ„å‘³ç€ä»€ä¹ˆ:

> å¦‚æœä½ æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²ã€ä¸€ä¸ªæ•°ç»„æˆ–ä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶ä¸”ä½ æƒ³ä½¿ç”¨æ‰€æœ‰çš„å€¼ï¼Œä½ å¯ä»¥ç”¨ä¸€ä¸ªéå¸¸ç®€æ´çš„è¯­æ³•æŠŠæ‰€æœ‰çš„å€¼*åˆ†æ•£åˆ°å‡½æ•°è°ƒç”¨ã€æ–°æ•°ç»„æˆ–æ–°å¯¹è±¡ä¸­ã€‚*

## å‡½æ•°ã€æ•°ç»„ã€å­—ç¬¦ä¸²å’Œå¯¹è±¡ä¸­çš„å±•å¼€è¯­æ³•

```
// For function calls:
function multiply(x, y, z) {
  return x * y * z;
}
const args = [1, 2, 3];
console.log(multiply(...args)); // 6// For array literals or strings:
const iterableObj = [ {protein: "steak"}, {carb: "potato"}, 'milkshake'];
const randomList = [...iterableObj, '4', 'five', 6];
console.log(randomList); // [ { protein: 'steak' }, { carb: 'potato' }, 'milkshake', '4', 'five', 6 ]const str = "foo"
const chars = [ ...str ] 
console.log(chars); // [ "f", "o", "o" ]// For object literals (new in ECMAScript 2018):
const powerTool = { skuNumber: â€˜996655â€™, skuDescription: â€˜Drill Bitâ€™ };let secondPowerTool = { ...powerTool, toolDepartment: 25, toolClass: 7 };
console.log(secondPowerTool); // { skuNumber: â€˜996655â€™, skuDescription: â€˜Drill Bitâ€™, toolDepartment: 25, toolClass: 7 }
```

ä¸Šé¢ä¸åŒçš„ä¾‹å­æ˜¾ç¤ºäº†å½“ä½ åˆ†æ•£ä¸åŒçš„ç‰©å“æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆã€‚

å¯¹äºç¬¬ä¸€ä¸ªä¾‹å­ï¼Œå³`multiply()`å‡½æ•°ï¼Œæˆ‘å°†æˆ‘çš„`args`æ•°ç»„æ‰©å±•åˆ°å‡½æ•°è°ƒç”¨ä¸­ï¼Œè¯¥å‡½æ•°è°ƒç”¨ç®€å•åœ°ä»æ•°ç»„ä¸­å–å‡ºä¸‰ä¸ªå€¼(`1`ã€`2`å’Œ`3`)ï¼Œå¹¶å°†å®ƒä»¬æ”¾åœ¨å‡½æ•°æ¥å—çš„å‚æ•°`x`ã€`y`å’Œ`z`çš„ä½ç½®ã€‚

åœ¨ç¬¬äºŒä¸ªå’Œç¬¬ä¸‰ä¸ªä¾‹å­ä¸­ï¼Œæ‰©å±•æ•°ç»„å’Œå­—ç¬¦ä¸²ï¼ŒåŸå§‹åˆ—è¡¨`iterableObj`å’ŒåŸå§‹å­—ç¬¦ä¸²`"foo"`éƒ½è¢«åˆ†åˆ«æ‰©å±•åˆ°æ–°å˜é‡`randomList`å’Œ`chars`ä¸­ã€‚

`iterableObj`ä¸­çš„æ‰€æœ‰å€¼ä¸ä¸“é—¨åˆ†é…ç»™`randomList`çš„æ–°å€¼ä¸€èµ·è¢«æ·»åŠ åˆ°æ–°çš„`randomList`æ•°ç»„ä¸­ã€‚å¹¶ä¸”åŸæ¥çš„å­—ç¬¦ä¸²`"foo"`è¢«ä¸€ä¸ªå­—ç¬¦ä¸€ä¸ªå­—ç¬¦åœ°åˆ†æ•£åˆ°æ–°çš„`chars`æ•°ç»„ä¸­ã€‚

æœ€åä¸€ä¸ªä¾‹å­ï¼Œè‡ª ECMAScript 2018 å‘å¸ƒä»¥æ¥å”¯ä¸€å¯èƒ½çš„ï¼Œæ˜¯å°†å¯¹è±¡`powerTool`çš„å±æ€§æ‰©å±•åˆ°ä¸€ä¸ªåä¸º`secondPowerTool`çš„æ–°å¯¹è±¡ä¸­ï¼Œå¹¶å‘è¯¥å¯¹è±¡æ·»åŠ ä¸¤ä¸ªæ–°å±æ€§:`toolDepartment`å’Œ`toolClass`ã€‚

# ä¼ æ’­è¯­æ³•è§„åˆ™ã€ç‰¹å¾å’Œç”¨é€”

å°±åƒ rest å‚æ•°ä¸€æ ·ï¼Œspread è¯­æ³•æ˜¯ä¸€ç§è¯­æ³•ç³–ï¼Œå®ƒå–ä»£äº†å¤æ‚çš„æ–¹æ³•å’Œå……æ»¡æ ·æ¿ä»£ç çš„åšäº‹æ–¹å¼ï¼Œè€Œè¿™äº›åº”è¯¥æ˜¯ç›¸å¯¹å®¹æ˜“çš„ã€‚

ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ éœ€è¦çŸ¥é“ä¸€äº›å…³äºä¼ æ’­çš„äº‹æƒ…ã€‚

## å‡½æ•°è°ƒç”¨ä¸­çš„ Spread æ›¿æ¢ Apply

åˆ°ç›®å‰ä¸ºæ­¢ï¼Œåœ¨æ‚¨æƒ³è¦ä½¿ç”¨æ•°ç»„å…ƒç´ ä½œä¸ºå‡½æ•°å‚æ•°çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨`Function.prototype.apply()`æ˜¯å¾ˆå¸¸è§çš„ã€‚

**åœ¨å‡½æ•°è°ƒç”¨**ä¸­ä½¿ç”¨ `**apply()**` **ç»™æ•°ç»„å…ƒç´ èµ‹å€¼**

```
function myFunction(x, y, z) { }
var args = [0, 1, 2];
myFunction.apply(null, args);
```

æœ‰äº† spreadï¼Œè¯­æ³•å°±å¹²å‡€å¤šäº†ã€‚

**å°†æ•°ç»„å…ƒç´ åˆ—è¡¨å±•å¼€æˆå‡½æ•°è°ƒç”¨**

```
function myFunction(x, y, z) { }
var args = [0, 1, 2];
myFunction(...args);
```

è¿˜æœ‰ä¸€ä»¶å¾ˆé…·çš„äº‹æƒ…:å‚æ•°åˆ—è¡¨ä¸­çš„ä»»ä½•å‚æ•°éƒ½å¯ä»¥ä½¿ç”¨ spread è¯­æ³•ï¼Œå¹¶ä¸”å¯ä»¥å¤šæ¬¡ä½¿ç”¨ã€‚

**å•ä¸ªå‡½æ•°è°ƒç”¨ä¸­çš„å¤šæ¬¡æ‰©å±•**

```
function myFunction(v, w, x, y, z) { }
var args = [0, 1];
myFunction(-1, ...args, 2, ...[3]);
```

## æ‰©å±•è¯­æ³•å¯ä»¥ä¸ new å…³é”®å­—ä¸€èµ·ä½¿ç”¨

ä¸åƒä½¿ç”¨`new`è°ƒç”¨æ„é€ å‡½æ•°æ—¶ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨æ•°ç»„ï¼Œè€Œä½¿ç”¨`apply`ï¼Œä½¿ç”¨`new`å¯ä»¥å¾ˆå®¹æ˜“åœ°ä½¿ç”¨æ•°ç»„ã€‚

**å±•å¼€è¯­æ³•åŒ** `**new**` **æ„é€ å‡½æ•°**

```
var dateFields = [1989, 3, 13];
var d = new Date(...dateFields);console.log(d); // 13 Apr 1989
```

## åœ¨æ•°ç»„æ–‡å­—ä¸­å±•å¼€

Spread ä½¿å¾—æ•°ç»„æ“ä½œå˜å¾—æ›´åŠ å®¹æ˜“ï¼Œåƒ`push()`ã€`concat()`å’Œ`splice()`è¿™æ ·çš„æ–¹æ³•ä¹Ÿå˜å¾—ä¸é‚£ä¹ˆå¿…è¦äº†ã€‚è®©æˆ‘ä»¬æ¥çœ‹çœ‹å®ƒèƒ½å¸®ä½ åšä»€ä¹ˆã€‚

**åˆ›å»ºæ–°çš„æ•°ç»„æ–‡å­—å¾ˆå®¹æ˜“**

ä½¿ç”¨ç°æœ‰æ•°ç»„ä½œä¸ºå…¶ä¸€éƒ¨åˆ†æ¥åˆ›å»ºæ–°æ•°ç»„ï¼Œä¸éœ€è¦åƒè¿‡å»é‚£æ ·ä½¿ç”¨é¢å¤–çš„æ•°ç»„æ–¹æ³•ã€‚

**å°†ä¸€ä¸ªæ•°ç»„æ‰©å±•åˆ°å¦ä¸€ä¸ªæ–°æ•°ç»„**

```
const fruits = ['watermelon', 'peaches'];
const fruitBasket = ['apples', 'grapes', ...fruits, 'bananas', 'kiwis', 'mango'];console.log(fruitBasket); // [ 'apples', 'grapes', 'watermelon', 'peaches', 'bananas', 'kiwis', 'mango' ]
```

å°†`fruits`æ•°ç»„æ·»åŠ åˆ°`fruitsBasket`æœ‰å¤šç®€å•ï¼Ÿè¶…çº§ç®€å•ã€‚

**å¤åˆ¶æ•°ç»„ä¹Ÿæ˜¯è½»è€Œæ˜“ä¸¾çš„äº‹æƒ…**

ä½¿ç”¨ spreadï¼Œå°†ä¸€ä¸ªæ•°ç»„çš„å€¼å¤åˆ¶åˆ°å¦ä¸€ä¸ªæ•°ç»„æ˜¯å°èœä¸€ç¢Ÿã€‚ç„¶åï¼Œæ‚¨å¯ä»¥ç»§ç»­ä¿®æ”¹æ–°å¤åˆ¶çš„æ•°ç»„ï¼Œè€Œä¸ä¼šå½±å“åŸå§‹æ•°ç»„(è¿™éå¸¸é€‚åˆä¸å¯å˜çš„å‡½æ•°å¼ç¼–ç¨‹é£æ ¼ï¼Œè¿™ç§é£æ ¼åœ¨ React ç­‰æ¡†æ¶å’Œ Redux ç­‰çŠ¶æ€ç®¡ç†å·¥å…·ä¸­éå¸¸æµè¡Œ)ã€‚

```
const arr1 = [1, 2, 3];
const arr2 = [...arr1];console.log(arr2); // [1, 2, 3]arr2.push(4);console.log(arr1); // [1, 2, 3]
console.log(arr2); // [1, 2, 3, 4]
```

åœ¨æˆ‘æŠŠ`4`æ¨åˆ°`arr2`ä¹‹å‰ï¼Œå½“æ•°å€¼æ‰“å°å‡ºæ¥çš„æ—¶å€™ï¼Œå’Œ`arr1`ä¸€æ¨¡ä¸€æ ·ã€‚åŒæ ·ï¼Œå³ä½¿åœ¨`4`æ·»åŠ åˆ°`arr2`ä¹‹åï¼Œ`arr1`ä¹Ÿä¿æŒä¸å˜ã€‚

**æ³¨æ„:** Spread è¯­æ³•ä»…åœ¨å¤åˆ¶æ•°ç»„æ—¶æ‰æœ‰æ•ˆã€‚å› æ­¤ï¼Œå®ƒå¯èƒ½ä¸é€‚åˆå¤åˆ¶å¤šç»´æ•°ç»„ï¼Œå› ä¸ºå®ƒä½¿ç”¨äº†ç±»ä¼¼ lodash çš„[è¿™æ ·çš„å‡½æ•°ã€‚æ¨è cloneDeep()](https://lodash.com/docs/4.17.15#cloneDeep) ã€‚

**ä¸²è”æ•°ç»„ä»æœªå¦‚æ­¤ç®€å•è¿‡**

`[Array.prototype.concat()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/concat)`æ˜¯å°†ä¸€ä¸ªæ•°ç»„è¿æ¥åˆ°ç°æœ‰æ•°ç»„æœ«å°¾æ—¶çš„é¦–é€‰ã€‚å¦‚æœæ²¡æœ‰æ‰©å±•è¯­æ³•ï¼Œè¿™å°†æŒ‰å¦‚ä¸‹æ–¹å¼å®Œæˆ:

`**.concat()**` **æ•°ç»„ç»„åˆåœ¨ä¸€èµ·**

```
const germanCars = [ 'BMW', 'Audi', 'Mercedes' ];
const japaneseCars = [ 'Honda', 'Toyota', 'Datsun' ];
const concatCarMakers = germanCars.concat(japaneseCars);console.log(concatCarMakers); // [ 'BMW', 'Audi', 'Mercedes', 'Honda', 'Toyota', 'Datsun' ]
```

ä½¿ç”¨æ‰©å±•è¯­æ³•ï¼Œè¿™å˜æˆ:

**å°†é˜µåˆ—åˆ†æ•£åœ¨ä¸€èµ·**

```
const germanCars = [ 'BMW', 'Audi', 'Mercedes' ];
const japaneseCars = [ 'Honda', 'Toyota', 'Datsun' ];
const carMakers = [...germanCars, ...japaneseCars];console.log(carMakers); // [ 'BMW', 'Audi', 'Mercedes', 'Honda', 'Toyota', 'Datsun' ]
```

Spread è¯­æ³•ä¹Ÿå¯ä»¥å–ä»£`unshift()`ï¼Œä½¿å¾—åœ¨æ•°ç»„å‰é¢æ·»åŠ æ–°å…ƒç´ æ¯”ä»¥å‰ç®€å•å¾—å¤šã€‚

**å°†å…ƒç´ åˆ†æ•£åˆ°æ•°ç»„çš„å¼€å¤´**

```
let numbers = [ 6, 5, 4 ];
const moreNumbers = [ 1, 2, 3 ];
numbers = [...moreNumbers, ...numbers];console.log(numbers); // [ 1, 2, 3, 6, 5, 4 ]
```

## åœ¨å¯¹è±¡æ–‡å­—ä¸­ä¼ æ’­

æˆªè‡³ ECMAScript 2018ï¼Œspread å±æ€§æ¥åˆ°äº†[å¯¹è±¡æ–‡å­—](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Object_initializer)ã€‚è¿™å…è®¸å¯¹è±¡å°†å…¶è‡ªèº«çš„å¯æšä¸¾å±æ€§ä»æä¾›çš„å¯¹è±¡å¤åˆ¶åˆ°æ–°çš„å¯¹è±¡ä¸Šã€‚

**æµ…å±‚å…‹éš†å’Œåˆå¹¶å¯¹è±¡å¾ˆç®€å•**

è™½ç„¶`Object.assign()`ä½¿å¾—æµ…å±‚å…‹éš†å’Œåˆå¹¶å¯¹è±¡æˆä¸ºå¯èƒ½ï¼Œä½†æ˜¯ä½¿ç”¨ spread è¯­æ³•æ›´åŠ ç®€æ´ã€‚

```
// duplicate object properties
const markerSet = { copicMarkers: ['green', 'blue', 'red']};
const duplicateMarkerSet = {...markerSet};console.log(duplicateMarkerSet); // { copicMarkers: [ 'green', 'blue', 'red' ] }// merge two objects into a new one
const markerSet2 = { copicSketchMarkers: ['pink', 'yellow', 'orange']};
const giantMarkerSet = { ...markerSet, ...markerSet2 };console.log(giantMarkerSet); // { copicMarkers: [ 'green', 'blue', 'red' ], copicSketchMarkers: [ 'pink', 'yellow', 'orange' ] }
```

è¿˜å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ`Object.assign()`è§¦å‘äº†`setters`ï¼Œå®ƒå°†ä¸€ä¸ªå¯¹è±¡å±æ€§ç»‘å®šåˆ°ä¸€ä¸ªå‡½æ•°ï¼Œå½“è¯•å›¾è®¾ç½®è¯¥å±æ€§æ—¶ï¼Œè¯¥å‡½æ•°å°†è¢«è°ƒç”¨ï¼Œè€Œ spread è¯­æ³•åˆ™æ²¡æœ‰ã€‚

## Spread(é™¤äº†å¯¹è±¡å±æ€§ä¹‹å¤–)ä»…é€‚ç”¨äº Iterables

æ‰©å±•è¯­æ³•(é™¤äº†åœ¨æ‰©å±•å±æ€§çš„æƒ…å†µä¸‹)åªèƒ½*åº”ç”¨äº*å¯è¿­ä»£å¯¹è±¡:æ•°ç»„ã€æ˜ å°„ã€é›†åˆã€å­—ç¬¦ä¸²ç­‰ç­‰ã€‚

```
// spreading in an object to an array does NOT work
const obj = { key1: 'value1'};
let array = [...obj];console.log(array); // []// spreading an array of objects into another array does work
const objInArray = [ { key2: 'value2'}];
array = [...objInArray];console.log(array); // [ { key2: 'value2' } ]
```

è¿™å°±æ˜¯ä¸ºäº†æœ‰æ•ˆåœ°ä½¿ç”¨å®ƒï¼Œæ‚¨éœ€è¦äº†è§£çš„ spread è¯­æ³•ç»†èŠ‚çš„å¤§è‡´å†…å®¹ã€‚

# ç»“è®º

ä¹ä¸€çœ‹ï¼Œä¸€äº›æœ€æ–°çš„ JS è¯­æ³•ä¼¼ä¹å®Œå…¨é™Œç”Ÿâ€”â€”å³ä½¿å¯¹äºå·²ç»ç¼–å†™ JavaScript ä»£ç å¤šå¹´çš„äººæ¥è¯´ä¹Ÿæ˜¯å¦‚æ­¤ã€‚è™½ç„¶æ˜¯çš„ï¼Œå®ƒæ˜¯ä¸åŒçš„ï¼Œä½†å®ƒä¹Ÿéå¸¸å¼ºå¤§ï¼Œä½¿æˆ‘ä»¬çš„å·¥ä½œæ¯”å‡ å¹´å‰å®¹æ˜“å¾—å¤šã€‚

æˆ‘è¿™ä¸ªåšå®¢ç³»åˆ—çš„ç›®çš„æ˜¯è§£é‡Šä¸€äº›æ—¥å¸¸ä½¿ç”¨çš„ JavaScript å’Œ ES6 è¯­æ³•ï¼Œå¹¶å‘æ‚¨å±•ç¤ºå¦‚ä½•å……åˆ†åˆ©ç”¨ JavaScript è¯­è¨€çš„æœ€æ–°éƒ¨åˆ†ã€‚

Rest è¯­æ³•çœ‹èµ·æ¥ä¸ spread è¯­æ³•(`â€¦`)å®Œå…¨ä¸€æ ·ï¼Œä½†æ˜¯ç”¨äºææ„æ•°ç»„å’Œå¯¹è±¡ã€‚åœ¨æŸç§ç¨‹åº¦ä¸Šï¼Œrest è¯­æ³•ä¸ spread è¯­æ³•ç›¸å:spread å°†ä¸€ä¸ªæ•°ç»„â€œæ‰©å±•â€æˆå®ƒçš„å…ƒç´ ï¼Œè€Œ rest æ”¶é›†å¤šä¸ªå…ƒç´ å¹¶å°†å®ƒä»¬â€œå‹ç¼©â€æˆä¸€ä¸ªå…ƒç´ ã€‚å®ƒåœ¨è®¸å¤šå¸¸è§çš„ç¼–ç¨‹ç¯å¢ƒä¸­éå¸¸æœ‰ç”¨ï¼Œæˆ‘ç›¸ä¿¡æ‚¨å·²ç»å¯ä»¥æƒ³è±¡åˆ°äº†ã€‚

è¿‡å‡ å‘¨å†æ¥çœ‹çœ‹ï¼Œæˆ‘ä¼šå†™æ›´å¤šå…³äº JavaScript å’Œ ES6 æˆ–å…¶ä»–ä¸ web å¼€å‘ç›¸å…³çš„ä¸œè¥¿ï¼Œæ‰€ä»¥è¯·å…³æ³¨æˆ‘ï¼Œè¿™æ ·ä½ å°±ä¸ä¼šé”™è¿‡äº†ã€‚

æ„Ÿè°¢æ‚¨çš„é˜…è¯»ï¼Œæˆ‘å¸Œæœ›æ‚¨å°†æ¥ä¼šå¼€å§‹çœ‹åˆ°åœ¨ä»£ç ä¸­ä½¿ç”¨ rest å‚æ•°å’Œ spread è¯­æ³•çš„å¯èƒ½æ€§â€”â€”å®ƒä»¬è®©æ— æ•°äº‹æƒ…å˜å¾—è½»è€Œæ˜“ä¸¾ã€‚å¦‚æœä½ è§‰å¾—æœ‰å¸®åŠ©ï¼Œè¯·ä¸ä½ çš„æœ‹å‹åˆ†äº«ï¼

**å¦‚æœä½ å–œæ¬¢è¯»è¿™ç¯‡æ–‡ç« ï¼Œä½ å¯èƒ½ä¹Ÿä¼šå–œæ¬¢æˆ‘çš„å…¶ä»–åšå®¢:**

*   [é»˜è®¤å‡½æ•°å‚æ•°å€¼:JavaScript ES6 ç‰¹æ€§ç³»åˆ—(Pt 3)](/default-function-parameter-values-javascript-es6-feature-series-pt-3-bd8392a88a12)
*   [ç®­å¤´åŠŸèƒ½:JavaScript ES6 ç‰¹æ€§ç³»åˆ—(Pt 2)](/arrow-functions-javascript-es6-feature-series-pt-2-e8c31c823392)
*   [Varï¼ŒLet & Const: JavaScript ES6 ç‰¹æ€§ç³»åˆ—(Pt 1)](/var-let-const-javascript-es6-feature-series-pt-1-fa603567809e)

**å‚è€ƒèµ„æ–™å’Œæ›´å¤šèµ„æº:**

*   Rest å‚æ•°ï¼ŒMDN æ–‡æ¡£:[https://developer . Mozilla . org/en-US/Docs/Web/JavaScript/Reference/Functions/rest _ Parameters](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters)
*   Spread è¯­æ³•ï¼ŒMDN Docs:[https://developer . Mozilla . org/en-US/Docs/Web/JavaScript/Reference/Operators/Spread _ Syntax](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax)
*   JavaScriptï¼Œç»´åŸºç™¾ç§‘:[https://en.wikipedia.org/wiki/JavaScript#Use_in_Web_pages](https://en.wikipedia.org/wiki/JavaScript#Use_in_Web_pages)
*   destructingï¼ŒMDN Docs:[https://developer . Mozilla . org/en-US/Docs/Web/JavaScript/Reference/Operators/destructing _ assignment](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment)