# é¢¤æŒ¯ä¸­çš„æ•°ç‹¬è§£ç®—å™¨â€”â€”é€šè¿‡å®ä¾‹ç†è§£é¢¤æŒ¯çŠ¶æ€ç®¡ç†â€”â€”ç¬¬ä¸€éƒ¨åˆ†

> åŸæ–‡ï¼š<https://itnext.io/sudoku-solver-in-flutter-understanding-flutter-state-management-by-example-part-1-6977c4f4e48f?source=collection_archive---------4----------------------->

![](img/bba82a94a0f57eca9af111f41141fb41.png)

> **è­¦å‘Š:**è¿™äº›â€œç³»åˆ—â€æ–‡ç« å‡è®¾å¯¹ flutter æœ‰ä¸€ä¸ªåŸºæœ¬çš„äº†è§£ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªæ•™ç¨‹(flutter [æ–‡æ¡£](http://www.flutter.dev)å¯¹æ­¤å¾ˆæœ‰ç”¨)ï¼Œè¿™æ›´å¤šçš„æ˜¯æˆ‘ä½œä¸ºåˆå­¦è€…å¯¹ Flutter çš„æ¢ç´¢â€”â€”å°éƒ¨ä»¶ã€å¸ƒå±€ã€ä¸€äº›è®¾è®¡æ¦‚å¿µï¼Œä»¥åŠä¸»è¦æ˜¯å…³äºçŠ¶æ€ç®¡ç†çš„ä¸œè¥¿ã€‚
> 
> PS:è¿™ç¯‡æ–‡ç« æ¯”æˆ‘æƒ³è±¡çš„è¦é•¿ï¼â€”æ‰€ä»¥æ‹†åˆ†å¤šç¯‡æ–‡ç« ï¼

å˜¿ä¼™è®¡ä»¬ï¼

æˆ‘é‡åˆ°äº† flutterï¼Œå®ƒæ‰€æä¾›çš„ä¸œè¥¿ç»™æˆ‘ç•™ä¸‹äº†æ·±åˆ»çš„å°è±¡â€”â€”åœ¨å¤šä¸ªå¹³å°ä¸Šæ„å»ºåº”ç”¨ç¨‹åºçš„å•ä¸€æ¡†æ¶ï¼æ‰€ä»¥æ€æƒ³ä¼šæ¢ç´¢å®ƒã€‚

æµè§ˆäº†ä¸€äº›æ•™ç¨‹ï¼Œé˜…è¯»äº† Dart(éå¸¸ç®€å•)ï¼Œåœ¨ flutter ä¸Šæ„å»ºäº†ä¸€ä¸ªç¤ºä¾‹åº”ç”¨ç¨‹åºï¼Œå¹¶ä¸”å¯¹ flutter æ¦‚å¿µæœ‰äº†åŸºæœ¬çš„äº†è§£â€”â€”flutter CLIã€å°éƒ¨ä»¶(æœ‰çŠ¶æ€å’Œæ— çŠ¶æ€)ã€å°éƒ¨ä»¶æ ‘ã€åŸºæœ¬å¸ƒå±€ç­‰ã€‚

åœ¨ç†Ÿæ‚‰äº† flutter ä¹‹åï¼Œæˆ‘å¼€å§‹æ„å»ºä¸€ä¸ªå®é™…çš„åº”ç”¨ç¨‹åºâ€”â€”è¿™éš¾é“ä¸æ˜¯é‡ç‚¹å—ï¼

èŠ±äº†ä¸€ä¸ªå‘¨æœ«åœ¨ Flutter ä¸­æ„å»ºäº†ä¸€ä¸ªåŸºæœ¬çš„åº”ç”¨ç¨‹åºï¼Œé‡åˆ°äº†å¾ˆå¤šæ¦‚å¿µï¼Œåªæ˜¯ä¸å¾—ä¸åˆ†äº«ä¸€ä¸‹ã€‚

è¿™ç¯‡æ–‡ç« åˆ†ä¸º 4 ç¯‡ï¼Œå¦‚æœä½ å¯¹æŸä¸ªç‰¹å®šçš„æ¦‚å¿µæ„Ÿå…´è¶£â€”â€”å‘å‰è·³ï¼â€”

**ç¬¬ä¸€éƒ¨åˆ†**:ç®€ä»‹â€”â€”è®¨è®ºå¸ƒå±€ã€éƒ¨ä»¶ã€åŠŸèƒ½å’Œå…±äº«çŠ¶æ€ã€‚

[**ç¬¬ 2 éƒ¨åˆ†**](https://medium.com/@nikhilheda96/sudoku-solver-in-flutter-understanding-flutter-state-management-by-example-part-2-4ef78fe5d815) :ä½¿ç”¨åŸºæœ¬çš„æœ‰çŠ¶æ€éƒ¨ä»¶è¿›è¡ŒçŠ¶æ€ç®¡ç†ã€‚

[**ç¬¬ 3 éƒ¨åˆ†**](https://medium.com/@nikhilheda96/sudoku-solver-in-flutter-understanding-flutter-state-management-by-example-part-3-d9486e94f8c5) :ä½¿ç”¨ç»§æ‰¿çš„å°éƒ¨ä»¶ç®¡ç†çŠ¶æ€

[**ç¬¬å››éƒ¨åˆ†**](https://medium.com/@nikhilheda96/sudoku-solver-in-flutter-understanding-flutter-state-management-by-example-part-4-53b01bc1f924) :æä¾›å•†ï¼

# åº”ç”¨ç¨‹åº

æˆ‘ä»¬å°†å»ºç«‹ä¸€ä¸ªæ•°ç‹¬è§£ç®—å™¨(æˆ‘å·²ç»åœ¨ Android ä¸­å»ºç«‹äº†è¿™ä¸ªâ€”â€”Java/XML/è‡ªå®šä¹‰ drawables/adapters å’Œæ‰€æœ‰é‚£äº›â€œæ£’æäº†â€çš„ä¸œè¥¿ğŸ™‚).å¾ˆé«˜å…´åœ°è¯´ï¼Œflutter éå¸¸ç¥å¥‡ï¼Œæˆ‘èŠ±äº†å¤§çº¦ä¸€å‘¨æ—¶é—´åœ¨ Android ä¸Šå¼€å‘çš„åº”ç”¨ç¨‹åºï¼Œåœ¨ Flutter ä¸ŠåªèŠ±äº†å‡ å¤©æ—¶é—´ã€‚

# å®ƒæ˜¯åšä»€ä¹ˆçš„ï¼Ÿ

![](img/35bc810169c181a0611be247065ce0ef.png)

å®ƒåšåˆ°äº†å®ƒæ‰€è¯´çš„â€”â€”å®ƒè§£å†³äº†æ•°ç‹¬éš¾é¢˜ï¼é¦–å…ˆï¼Œæˆ‘ä»¬çš„æ•°ç‹¬æ±‚è§£å™¨æœ‰ä»¥ä¸‹ç»„ä»¶:

1.  æ•°ç‹¬æ¿â€”â€”æ•°ç‹¬å•å…ƒçš„ç½‘æ ¼
2.  æ•°ç‹¬å•å…ƒæ ¼-å¸¦æœ‰æ•°å­—/ç©ºç™½çš„å•å…ƒæ ¼
3.  é”®ç›˜â€”é€‰æ‹©è¦å¡«å…¥çº¸æ¿çš„æ•°å­—ã€‚

# åŸºæœ¬ç”¨æˆ·äº¤äº’

![](img/3a8ebb01781651ca940a66ef85b9a17f.png)

> æˆ‘ä½¿ç”¨äº†æˆ‘çš„æœ€ç»ˆåº”ç”¨ç¨‹åºçš„å¿«ç…§ï¼Œå…¶ä¸­åŒ…æ‹¬æ›´å¤šçš„å¸ƒå±€è°ƒæ•´ï¼Œä¸åœ¨æœ¬æ–‡ä¸­è®¨è®ºã€‚

å¾ˆç®€å•ã€‚æˆ‘ä»¬å¼€å§‹å§ã€‚

# å¸ƒå±€å’Œéƒ¨ä»¶ï¼

æˆ‘ä»¬éœ€è¦åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯å»ºç«‹ä¸€ä¸ªåŸºæœ¬çš„å¸ƒå±€â€”â€”å¤–è§‚å’Œæ„Ÿè§‰ã€‚ä¸€ä¸ªè™šæ‹Ÿçš„åº”ç”¨ç¨‹åºï¼Œæ²¡æœ‰åŠŸèƒ½ï¼Œä½†ä¾§é‡äºå¸ƒå±€è®¾è®¡ã€‚

![](img/49be6f1d74f2c72c08f27bdb4b37a79c.png)

æ•°ç‹¬æ¿å°å·¥å…·

## æ•°ç‹¬æ¿

æœ€æ˜æ˜¾çš„å°éƒ¨ä»¶æ˜¯ GridView å°éƒ¨ä»¶ã€‚å®ƒçœ‹èµ·æ¥ä¸é”™ï¼Œç½‘æ ¼è§†å›¾å”¯ä¸€çš„ç‰¹ç‚¹æ˜¯å®ƒæ˜¯å¯æ»šåŠ¨çš„ï¼Œè¿™å‡ ä¹ä¸æ˜¯ä½ åœ¨æ•°ç‹¬ç½‘æ ¼ä¸­æƒ³è¦çš„åŠŸèƒ½ã€‚è¾“å…¥â€¦è¡¨æ ¼ï¼

è¡¨æ ¼ç›¸å½“ä¸é”™ï¼Œæ²¡æœ‰æ»šåŠ¨ï¼Œå¯ä»¥æ§åˆ¶è¾¹æ¡†ï¼Œæ•°å€¼ï¼Œå•å…ƒæ ¼å¸ƒå±€ç­‰ã€‚æ‰€ä»¥èµ¢å®¶ï¼

![](img/3168a98bd2345af61d86d7508996b0e3.png)

SudokuCell éƒ¨ä»¶

## æ•°ç‹¬ç»†èƒ

è¿™ä¸éœ€è¦ç‰¹å®šçš„å¸ƒå±€ï¼Œåªéœ€ç»§ç»­ä½¿ç”¨å®¹å™¨å°éƒ¨ä»¶ã€‚

éœ€è¦ä¸€ä¸ªå•å‡»å¤„ç†ç¨‹åº(å› ä¸ºå•å…ƒæ ¼å°†è¢«å•å‡»ä»¥å°†å€¼è®¾ç½®ä¸ºä»é”®ç›˜ä¸­é€‰æ‹©çš„æŸä¸ªæ•°å­—)ï¼Œæ‰€ä»¥åªéœ€å°†æ­¤å°éƒ¨ä»¶åŒ…è£…åœ¨ InkResponse å°éƒ¨ä»¶å‘¨å›´ã€‚

å¦å¤–ï¼Œæ•è·è¡Œå·å’Œåˆ—å·å¯èƒ½ä¼šæœ‰æ‰€å¸®åŠ©ã€‚

![](img/797fc3fe79a7b930a1632bf3504cbd37.png)

é”®ç›˜éƒ¨ä»¶

## é”®åº§

å¾ˆç®€å•ï¼Œéœ€è¦ä¸€ä¸ªç”± 10 ä¸ªæ•°å­—ç»„æˆçš„ç½‘æ ¼(0 åˆ° 9ï¼Œç”¨ 0 åšæ©¡çš®æ“¦)ã€‚

ç½‘æ ¼è§†å›¾æ²¡æœ‰å¸®åŠ©ï¼Œå†æ¬¡ä½¿ç”¨è¡¨æ ¼éƒ¨ä»¶ã€‚

![](img/4c8649cea102890ce99a1d4a01e62d86.png)

KeyPadCell å°éƒ¨ä»¶

## é”®ç›˜å•å…ƒ

å•å…ƒæ ¼ä½œä¸ºå¹³é¢æŒ‰é’®ï¼Œå› ä¸ºæˆ‘æƒ³æ³¨å†Œç‚¹å‡»å¤„ç†ç¨‹åºã€‚

æ­¤å¤–ï¼Œè·å–ä¸è¯¥å•å…ƒæ ¼ç›¸å…³è”çš„æ•°å­—ã€‚

å¸ƒå±€å·®ä¸å¤šå°±æ˜¯è¿™æ ·ã€‚

## å°éƒ¨ä»¶æ ‘

è®©æˆ‘ä»¬çœ‹çœ‹éƒ¨ä»¶æ ‘ï¼Œè¿™ä¼šè®©æˆ‘ä»¬æ›´å¥½åœ°ç†è§£éƒ¨ä»¶ä¹‹é—´çš„å…³ç³»ã€‚

![](img/c07553601cc9c102e133f00eed71f071.png)

## æœ€ç»ˆå±å¹•

![](img/4374f8203cd7f92c49f296403dc2b095.png)

æˆ‘ç©äº†æ›´å¤šçš„å¸ƒå±€

1.  æ·»åŠ äº†è¡Œã€åˆ—å’Œå¡«å……ï¼Œä»¥è·å¾—æ›´å¥½çš„å¯¹é½å’Œé—´è·ã€‚
2.  æ·»åŠ äº†è¡¨æ ¼è¾¹æ¡†å’Œå•å…ƒæ ¼è¾¹æ¡†â€”â€”è¿™éœ€è¦ä¸€ç‚¹é€»è¾‘æ¥å¤„ç†ç»†è¾¹æ¡†å’Œç²—è¾¹æ¡†ã€‚ä¸æ˜¯ç«ç®­ç§‘å­¦ã€‚
3.  å¢åŠ äº†æ±‚è§£å’Œé‡ç½®æŒ‰é’®ã€‚

ä¸æ¶‰åŠç»†èŠ‚â€”â€”è¿™é‡Œæ²¡æœ‰ä»€ä¹ˆä»¤äººå…´å¥‹çš„ï¼Œåªæ˜¯ä¸â€œä¸é‚£ä¹ˆæ–¹ä¾¿â€çš„åŸå§‹ android xml å¸ƒå±€ç›¸æ¯”ï¼Œå®ƒéå¸¸å®¹æ˜“ã€‚å¦‚æœä½ ä»¬æƒ³è®©æˆ‘è¯¦ç»†è¯´æ˜å¸ƒå±€è®¾è®¡ï¼Œè¯·å‘Šè¯‰æˆ‘ï¼

# åŠŸèƒ½æ€§ï¼

è¿™æ˜¯åœ¨ Flutter ä¸­æµ‹è¯•åŸºæœ¬çŠ¶æ€ç®¡ç†çš„ä¸€ä¸ªéå¸¸å¥½çš„å€™é€‰ï¼Œå› ä¸ºåœ¨è¿™ä¸ªåº”ç”¨ç¨‹åºä¸­åˆ°å¤„éƒ½æœ‰çŠ¶æ€â€”

1.  å¤„ç†å°éƒ¨ä»¶ä¸­çš„çŠ¶æ€(æ•°ç‹¬å•å…ƒ/æ•°ç‹¬æ¿)
2.  çŠ¶æ€å½±å“å…¶ä»–éƒ¨ä»¶çš„çŠ¶æ€(é”®ç›˜æ•°å­—å½±å“æ•°ç‹¬å•å…ƒçš„çŠ¶æ€)
3.  ç”±äºä¸ä¸šåŠ¡é€»è¾‘(è§£å†³éš¾é¢˜çš„é€»è¾‘)çš„äº¤äº’è€Œå¯¼è‡´çš„çŠ¶æ€å˜åŒ–ã€‚

æœ‰æ•ˆåœ°å¤„ç†çŠ¶æ€åœ¨è¿™é‡Œæ˜¯å¿…ä¸å¯å°‘çš„ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬å¼€å§‹å§ã€‚

# å¤„ç†å…±äº«çŠ¶æ€ï¼

> æˆ‘å°†è¯¦ç»†è¯´æ˜è¿™ä¸€éƒ¨åˆ†ï¼Œå› ä¸ºè¿™æ˜¯ä»¤äººå…´å¥‹çš„ä¸œè¥¿ï¼

æ‰€ä»¥æˆ‘ç»å†äº†å¾ˆå¤šä»¤äººæ²®ä¸§çš„æ–¹æ³•æ¥è®©å®ƒå·¥ä½œï¼Œå­¦ä¹ äº†å¾ˆå¤šå…³äºåº”ç”¨ç¨‹åºè®¾è®¡çš„çŸ¥è¯†(å¯æ‚²çš„æ˜¯ï¼Œæ¡†æ¶ä¸èƒ½ä¸ºä½ åšè¿™äº›ï¼)

åœ¨å¤„ç†å…±äº«çŠ¶æ€æ—¶ï¼Œä¸¤ä¸ªé—®é¢˜éå¸¸é‡è¦â€”

1.  ä»€ä¹ˆæ˜¯å…±äº«çŠ¶æ€ï¼Ÿ
2.  å“ªé‡Œ/è°åº”è¯¥è´Ÿè´£å®ƒï¼Œä»¥å®ç°ç®€å•çš„äº¤äº’ï¼Ÿ

## ä»€ä¹ˆæ˜¯å…±äº«çŠ¶æ€ï¼Ÿ

åœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸­æœ‰ä¸¤ä»¶äº‹æ˜¯å…±äº«çš„:

1.  **æ•°ç‹¬æ£‹ç›˜**:ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œç”¨æ¥è®°å½•æ£‹ç›˜çŠ¶æ€ã€‚è¿™å°†è¢«*æ•°ç‹¬å•å…ƒ*å°å·¥å…·è¯»å–å’Œä¿®æ”¹ã€‚
2.  **æœ‰æ•ˆæ•°å­—**:è®°å½•è¦å†™å…¥æ¿ä¸Šçš„æ•°å­—ã€‚è¯¥å€¼ç”± *KeyPadCell* å†™å…¥ï¼Œç”± *SudokuCell* è¯»å–ã€‚

è¿™æ˜¯æ‰€æœ‰æ–¹æ³•çš„å…±åŒç‚¹ã€‚è¿™å°±æ˜¯**å…±äº«çŠ¶æ€**ã€‚

è¿™æ˜¯è°çš„è´£ä»»ï¼Ÿâ€”æˆ‘å°†å›é¡¾æˆ‘åœ¨è¿™ä¸ªç³»åˆ—ä¸­å°è¯•çš„è®¾è®¡ï¼Œå¹¶ä»¥ä¸åŒçš„æ–¹å¼å›ç­”è¿™ä¸ªé—®é¢˜ã€‚

# åº”ç”¨ç¨‹åºä¸­çš„å…¶ä»–å†…å®¹ï¼Œä¸åŒ…æ‹¬åœ¨è¿™ç¯‡æ–‡ç« ä¸­

## å¸ƒå±€è°ƒæ•´

1.  æ·»åŠ è¾¹æ¡†/è¡¨æ ¼è¾¹æ¡†ï¼Œä½¿ç½‘æ ¼çœ‹èµ·æ¥åƒæ•°ç‹¬æ¿ã€‚
2.  çªå‡ºæ˜¾ç¤ºé¢œè‰²â€”çªå‡ºæ˜¾ç¤ºé”®ç›˜ä¸Šçš„é€‰å®šæ•°å­—å’Œæ•°ç‹¬å•å…ƒæ ¼ä¸Šçš„å¡«å……æ•°å­—ã€‚
3.  éªŒè¯-éªŒè¯éƒ¨åˆ†å¡«å……çš„æ¿æ˜¯å¦æ˜¯æœ‰æ•ˆçš„æ•°ç‹¬æ¸¸æˆã€‚

## æ•°ç‹¬æ±‚è§£é€»è¾‘ï¼

ç”¨äºè§£å†³éƒ¨åˆ†å¡«å……çš„æ•°ç‹¬éš¾é¢˜çš„é€»è¾‘ï¼

å¦‚æœä½ æƒ³è®©æˆ‘è¯¦ç»†è¯´æ˜è¿™ä¸ªåº”ç”¨ç¨‹åºçš„è¿™äº›æ–¹é¢ï¼Œè¯·å‘Šè¯‰æˆ‘ï¼å¾ˆä¹æ„åœ¨å¦ä¸€ç¯‡æ–‡ç« ä¸Šåˆ†äº«ï¼

# è¯¥ç³»åˆ—ï¼

1.  [ç®€ä»‹](https://medium.com/@nikhilheda96/sudoku-solver-in-flutter-understanding-flutter-state-management-by-example-part-1-6977c4f4e48f)
2.  [è®¾è®¡ 1â€”â€”ä¸ºä»€ä¹ˆæœ‰çŠ¶æ€çª—å£å°éƒ¨ä»¶ä¸æ˜¯ä¸€ä¸ªå¥½ä¸»æ„](https://medium.com/@nikhilheda96/sudoku-solver-in-flutter-understanding-flutter-state-management-by-example-part-2-4ef78fe5d815)
3.  [è®¾è®¡ 2 â€”ä½¿ç”¨ç»§æ‰¿çš„å®½åº¦](https://medium.com/@nikhilheda96/sudoku-solver-in-flutter-understanding-flutter-state-management-by-example-part-3-d9486e94f8c5)
4.  [è®¾è®¡ 3â€”â€”ä½¿ç”¨ä¾›åº”å•†ï¼](https://medium.com/@nikhilheda96/sudoku-solver-in-flutter-understanding-flutter-state-management-by-example-part-4-53b01bc1f924)

**æœ€ç»ˆä»£ç **:[https://github.com/NikhilHeda/SudokuSolver](https://github.com/NikhilHeda/SudokuSolver)