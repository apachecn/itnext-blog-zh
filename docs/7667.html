<html>
<head>
<title>AdMob Banner &amp; Interstitial Ads in Jetpack Compose</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Jetpackä¸­çš„AdMobæ¨ªå¹…å’Œé—´éš™å¹¿å‘Šæ„æˆ</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://itnext.io/admob-banner-interstitial-in-jetpack-compose-47a1b700198c?source=collection_archive---------0-----------------------#2022-12-13">https://itnext.io/admob-banner-interstitial-in-jetpack-compose-47a1b700198c?source=collection_archive---------0-----------------------#2022-12-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/eec51e8399e8d8523a84d010ab88f73b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xadnwdROWhFJF189D4ksSA.png"/></div></div></figure><p id="b548" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ä¸å¹¸çš„æ˜¯ï¼ŒJetpack Composeè¿˜ä¸æ”¯æŒAdMobï¼Œä½†è¿™å¹¶ä¸æ„å‘³ç€æˆ‘ä»¬ä¸èƒ½æ·»åŠ AdMobã€‚</p><h1 id="23b7" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">å…¥é—¨æŒ‡å—</h1><p id="3ff9" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">æˆ‘å‡è®¾ä½ å·²ç»å‘AdMobæ³¨å†Œäº†ä½ çš„åº”ç”¨ã€‚æ‰€ä»¥ï¼Œä½ è¦å‡†å¤‡å¥½ä½ çš„<a class="ae lz" href="https://support.google.com/admob/answer/7356431?utm_source=developers.google.com" rel="noopener ugc nofollow" target="_blank"> AdMob App ID </a>ã€‚</p><p id="e5db" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æˆ‘ä»¬éœ€è¦é¦–å…ˆæ·»åŠ æ’­æ”¾æœåŠ¡ä¾èµ–ã€‚</p><pre class="ma mb mc md gt me mf mg bn mh mi bi"><span id="e8b5" class="mj kx iq mf b be mk ml l mm mn">implementation 'com.google.android.gms:play-services-ads:21.3.0'</span></pre><p id="d476" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬éœ€è¦AdMobåº”ç”¨ç¨‹åºIDã€‚æ‰“å¼€<code class="fe mo mp mq mf b">AndroidManifest.xml</code>æ–‡ä»¶å¹¶æ·»åŠ è¿™ä¸€è¡Œã€‚</p><pre class="ma mb mc md gt me mf mg bn mh mi bi"><span id="98b7" class="mj kx iq mf b be mk ml l mm mn">&lt;manifest&gt;<br/>    &lt;application&gt;<br/>        &lt;!-- Sample AdMob app ID: ca-app-pub-3940256099942544~3347511713 --&gt;<br/>        &lt;meta-data<br/>            android:name="com.google.android.gms.ads.APPLICATION_ID"<br/>            android:value="ca-app-pub-xxxxxxxxxxxxxxxx~yyyyyyyyyy"/&gt;<br/>    &lt;/application&gt;<br/>&lt;/manifest&gt;</span></pre><p id="c623" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æœ€åï¼Œåˆå§‹åŒ–å¹¿å‘Šã€‚(å¯ä»¥åœ¨<code class="fe mo mp mq mf b">MainActivity</code> <code class="fe mo mp mq mf b">onCreate</code>ä¸­åˆå§‹åŒ–)</p><pre class="ma mb mc md gt me mf mg bn mh mi bi"><span id="3bfa" class="mj kx iq mf b be mk ml l mm mn">MobileAds.initialize(this)<br/>//Optional if you want to add test device<br/>val configuration = RequestConfiguration.Builder()<br/>            .setTestDeviceIds(Collections.singletonList("DEVICE ID"))<br/>            .build()<br/>MobileAds.setRequestConfiguration(configuration)</span></pre><h1 id="c5a1" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">æ——å¸œ</h1><pre class="ma mb mc md gt me mf mg bn mh mi bi"><span id="9bec" class="mj kx iq mf b be mk ml l mm mn">@Composable<br/>fun BannerAdView() {<br/>    AndroidView(<br/>        modifier = Modifier<br/>            .fillMaxWidth(),<br/>        factory = { context -&gt;<br/>            AdView(context).apply {<br/>                setAdSize(AdSize.BANNER)<br/>                // Add your adUnitID, this is for testing.<br/>                adUnitId = "ca-app-pub-3940256099942544/6300978111"<br/>                loadAd(AdRequest.Builder().build())<br/>            }<br/>        }<br/>    )<br/>}</span></pre><p id="1f54" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ç”±äºæˆ‘ä»¬æ²¡æœ‰æœ¬åœ°æ”¯æŒï¼Œæˆ‘ä»¬å°†æŠŠ<code class="fe mo mp mq mf b">AdView</code>åŒ…è£…åœ¨<code class="fe mo mp mq mf b"><a class="ae lz" href="https://developer.android.com/reference/kotlin/androidx/compose/ui/viewinterop/package-summary#AndroidView(kotlin.Function1,androidx.compose.ui.Modifier,kotlin.Function1)" rel="noopener ugc nofollow" target="_blank">AndroidView</a></code>ä¸­ã€‚ä½ å¯ä»¥å†ä»<a class="ae lz" href="https://support.google.com/admob/answer/7356431?utm_source=developers.google.com" rel="noopener ugc nofollow" target="_blank">è¿™ä¸ªé“¾æ¥</a>æ‰¾åˆ°ä½ çš„<code class="fe mo mp mq mf b">adUnitId</code>ã€‚</p><p id="df28" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ç­çº³åˆ°æ­¤ä¸ºæ­¢ã€‚</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mr"><img src="../Images/b26b8cd4d2e1c6fff2276e20f616c6e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YJQHqm5e0xFotnER-qaQnw.png"/></div></div></figure><h1 id="886a" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">ç©ºéš™çš„</h1><p id="9f25" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated"><em class="ms">æˆ‘å·²ç»æƒ³å‡ºäº†æˆ‘çš„æ–¹æ³•ï¼Œä½ å¯ä»¥ä¿®æ”¹å’Œä¼˜åŒ–å®ƒã€‚</em></p><p id="85ed" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">è¿™ä¸ªä¸åŒäºæ¨ªå¹…å¹¿å‘Šï¼Œéœ€è¦ä¸åŒçš„é€»è¾‘ã€‚æˆ‘ä»¬å°†ä¸ºInterstitialåˆ›å»ºå•ç‹¬æ–‡ä»¶ã€‚</p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="c652" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe mo mp mq mf b">loadInterstitial</code>åŠŸèƒ½åŠ è½½é—´éš™å¹¿å‘Šã€‚</p><p id="c3e6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe mo mp mq mf b">showInterstitial</code>åŠŸèƒ½å°†æ˜¾ç¤ºå¹¿å‘Šã€‚å¹¿å‘Šè¢«ç”¨æˆ·å–æ¶ˆåï¼Œå®ƒä¼šé‡æ–°åŠ è½½å¹¿å‘Šã€‚<code class="fe mo mp mq mf b">onAdDismissed</code>åŠŸèƒ½å¯é€‰ã€‚å½“ç”¨æˆ·å–æ¶ˆå¹¿å‘Šæ—¶ï¼Œå®ƒå°†è¢«è§¦å‘ã€‚</p><p id="834b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe mo mp mq mf b">removeInterstitial</code>ç”¨äºé˜²æ­¢å†…å­˜æ³„æ¼ã€‚</p><p id="e88b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">å¦å¤–ï¼Œ<code class="fe mo mp mq mf b">findActivity</code>æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰æ‰©å±•å‡½æ•°ã€‚</p><pre class="ma mb mc md gt me mf mg bn mh mi bi"><span id="e868" class="mj kx iq mf b be mk ml l mm mn">fun Context.findActivity(): Activity? = when (this) {<br/>    is Activity -&gt; this<br/>    is ContextWrapper -&gt; baseContext.findActivity()<br/>    else -&gt; null<br/>}</span></pre><p id="1df0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ç°åœ¨ï¼Œè®©æˆ‘ä»¬åœ¨UIå†…éƒ¨å®ç°å®ƒã€‚åœ¨<code class="fe mo mp mq mf b">MainActivity</code>ä¸­ï¼Œ</p><pre class="ma mb mc md gt me mf mg bn mh mi bi"><span id="8f69" class="mj kx iq mf b be mk ml l mm mn">class MainActivity : ComponentActivity() {<br/>    override fun onCreate(savedInstanceState: Bundle?) {<br/>        //...<br/>        loadInterstitial(this)<br/>    }<br/><br/>    override fun onDestroy() {<br/>        removeInterstitial()<br/>        super.onDestroy()<br/>    }<br/>}</span></pre><p id="e803" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æœ€åï¼Œæ‚¨å¯ä»¥ä»ä»»ä½•æƒ³è¦çš„ç»„åˆä¸­è°ƒç”¨<code class="fe mo mp mq mf b">showInterstitial</code>,</p><pre class="ma mb mc md gt me mf mg bn mh mi bi"><span id="806a" class="mj kx iq mf b be mk ml l mm mn">showInterstitial(context) {<br/>    //On Ad Dismiss Lambda Function<br/>    //e.g. you can show dialog to the user or redirect them etc.<br/>}</span></pre><p id="3f40" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">å°±æ˜¯è¿™æ ·ï¼æˆ‘å¸Œæœ›å®ƒæ˜¯æœ‰ç”¨çš„ã€‚ğŸ‘‹ğŸ‘‹</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/78d4c3afe4868bae5333f1caa73929d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:462/format:webp/1*hfRspjhn1vXxtSC4RSr6tw.png"/></div></figure><h2 id="1a6e" class="mw kx iq bd ky mx my dn lc mz na dp lg kj nb nc lk kn nd ne lo kr nf ng ls nh bi translated">æ¥æº:</h2><ul class=""><li id="4c27" class="ni nj iq ka b kb lu kf lv kj nk kn nl kr nm kv nn no np nq bi translated"><a class="ae lz" href="https://developers.google.com/admob/android/quick-start" rel="noopener ugc nofollow" target="_blank">å…¥é—¨|å®‰å“|è°·æ­Œå¼€å‘è€…</a></li><li id="2ba3" class="ni nj iq ka b kb nr kf ns kj nt kn nu kr nv kv nn no np nq bi translated"><a class="ae lz" href="https://andresand.medium.com/add-admob-ad-banner-using-android-compose-9ba78c8f1591" rel="noopener">ä½¿ç”¨Android Composeæ·»åŠ AdMobå¹¿å‘Šæ¨ªå¹…| Andres Sandoval | Medium</a></li></ul></div><div class="ab cl nw nx hu ny" role="separator"><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob"/></div><div class="ij ik il im in"><p id="7a3c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ä½ å¯ä»¥è”ç³»æˆ‘ï¼Œ</p><ul class=""><li id="7c55" class="ni nj iq ka b kb kc kf kg kj od kn oe kr of kv nn no np nq bi translated"><a class="ae lz" href="https://www.linkedin.com/in/burak-fidan/" rel="noopener ugc nofollow" target="_blank">é¢†è‹±</a></li><li id="07d3" class="ni nj iq ka b kb nr kf ns kj nt kn nu kr nv kv nn no np nq bi translated"><a class="ae lz" href="https://github.com/MrNtlu" rel="noopener ugc nofollow" target="_blank"> Github </a></li><li id="cf46" class="ni nj iq ka b kb nr kf ns kj nt kn nu kr nv kv nn no np nq bi translated"><a class="ae lz" href="https://twitter.com/BurakFNtlu" rel="noopener ugc nofollow" target="_blank">æ¨ç‰¹</a></li></ul></div></div>    
</body>
</html>