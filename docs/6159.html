<html>
<head>
<title>Flutter Performance Tips</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">é¢¤æŒ¯æ€§èƒ½æç¤º</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://itnext.io/flutter-performance-tips-4580b2491da8?source=collection_archive---------1-----------------------#2021-09-05">https://itnext.io/flutter-performance-tips-4580b2491da8?source=collection_archive---------1-----------------------#2021-09-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/507e80f5c1af75bdcf2b71234f4c5274.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HBnMM753zH-b-e1QyXTyOw.jpeg"/></div></div></figure><div class=""/><h1 id="5092" class="kb kc je bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">1.åœ¨åŠŸèƒ½ä¸Šä½¿ç”¨å°éƒ¨ä»¶</h1><figure class="la lb lc ld gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi kz"><img src="../Images/8bb9466f28d1f5c358da6099c9fc5944.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zYLNbNibiCTXbF6M7wgWdg.jpeg"/></div></div></figure><h2 id="b1c4" class="le kc je bd kd lf lg dn kh lh li dp kl lj lk ll kp lm ln lo kt lp lq lr kx ls bi translated">ç®€çŸ­è§£é‡Š</h2><p id="f0a9" class="pw-post-body-paragraph lt lu je lv b lw lx ly lz ma mb mc md lj me mf mg lm mh mi mj lp mk ml mm mn im bi translated">æ‚¨å¯ä»¥èŠ‚çœCPUå‘¨æœŸï¼Œå¹¶ä½¿ç”¨constæ„é€ å‡½æ•°è¿›è¡Œé‡å»ºæ—¶ï¼Œåªéœ€è¦å’Œæ›´å¤šçš„å¥½å¤„(é‡ç”¨ç­‰)..ã€‚)</p><h2 id="c8f9" class="le kc je bd kd lf lg dn kh lh li dp kl lj lk ll kp lm ln lo kt lp lq lr kx ls bi translated">å†—é•¿çš„è§£é‡Š</h2><div class="is it gp gr iu mo"><a href="https://blog.codemagic.io/how-to-improve-the-performance-of-your-flutter-app./#dont-split-your-widgets-into-methods" rel="noopener  ugc nofollow" target="_blank"><div class="mp ab fo"><div class="mq ab mr cl cj ms"><h2 class="bd jf gy z fp mt fr fs mu fu fw jd bi translated">å¦‚ä½•æé«˜ä½ çš„Flutteråº”ç”¨ç¨‹åºçš„æ€§èƒ½</h2><div class="mv l"><h3 class="bd b gy z fp mt fr fs mu fu fw dk translated">ç”±Diego VelÃ¡squezæ’°å†™å…³äºå¦‚ä½•æé«˜æˆ‘ä»¬çš„æ€§èƒ½ï¼Œæœ‰è®¸å¤šç–‘é—®å’Œé—®é¢˜â€¦</h3></div><div class="mw l"><p class="bd b dl z fp mt fr fs mu fu fw dk translated">blog.codemagic.io</p></div></div><div class="mx l"><div class="my l mz na nb mx nc ja mo"/></div></div></a></div><div class="is it gp gr iu mo"><a href="https://stackoverflow.com/questions/53234825/what-is-the-difference-between-functions-and-classes-to-create-reusable-widgets" rel="noopener  ugc nofollow" target="_blank"><div class="mp ab fo"><div class="mq ab mr cl cj ms"><h2 class="bd jf gy z fp mt fr fs mu fu fw jd bi translated">åˆ›å»ºå¯é‡ç”¨å°éƒ¨ä»¶çš„å‡½æ•°å’Œç±»æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2><div class="mv l"><h3 class="bd b gy z fp mt fr fs mu fu fw dk translated">è®©æˆ‘ä»å¤´å¼€å§‹è§£é‡Šå§ã€‚ğŸ™‚(ä»…å…³äºå‘½ä»¤å¼)ç¼–ç¨‹å†å²ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“å§‹äºâ€¦</h3></div><div class="mw l"><p class="bd b dl z fp mt fr fs mu fu fw dk translated">stackoverflow.com</p></div></div><div class="mx l"><div class="nd l mz na nb mx nc ja mo"/></div></div></a></div><div class="is it gp gr iu mo"><a href="https://iiro.dev/splitting-widgets-to-methods-performance-antipattern/" rel="noopener  ugc nofollow" target="_blank"><div class="mp ab fo"><div class="mq ab mr cl cj ms"><h2 class="bd jf gy z fp mt fr fs mu fu fw jd bi translated">å°†å°éƒ¨ä»¶æ‹†åˆ†æˆæ–¹æ³•æ˜¯ä¸€ç§åæ¨¡å¼</h2><div class="mv l"><h3 class="bd b gy z fp mt fr fs mu fu fw dk translated">å¤§çº¦6ä¸ªæœˆå‰ï¼Œæˆ‘å»ºè®®æ‚¨å°†é•¿çš„æ„å»ºæ–¹æ³•æ‹†åˆ†æˆå¤šä¸ªè¾ƒå°çš„æ–¹æ³•ã€‚ç»“æœå‘ç°æˆ‘æ˜¯â€¦</h3></div><div class="mw l"><p class="bd b dl z fp mt fr fs mu fu fw dk translated">iiro.dev</p></div></div></div></a></div><h1 id="f6f2" class="kb kc je bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">2.<strong class="ak">å°½å¯èƒ½ä½¿ç”¨å¸¸é‡</strong></h1><pre class="la lb lc ld gt ne nf ng nh aw ni bi"><span id="dff6" class="le kc je nf b gy nj nk l nl nm">x = Container();<br/>y = Container();<br/>x == y // false</span><span id="efea" class="le kc je nf b gy nn nk l nl nm">x = const Container();<br/>y = const Container();<br/>x == y // true</span></pre><h2 id="a41d" class="le kc je bd kd lf lg dn kh lh li dp kl lj lk ll kp lm ln lo kt lp lq lr kx ls bi translated">è¯´æ˜</h2><p id="23ee" class="pw-post-body-paragraph lt lu je lv b lw lx ly lz ma mb mc md lj me mf mg lm mh mi mj lp mk ml mm mn im bi translated">å¦‚æœå·²ç»å®šä¹‰äº†ï¼Œä½ å¯ä»¥ä½¿ç”¨åŒæ ·çš„å°éƒ¨ä»¶æ¥èŠ‚çœå†…å­˜</p><h1 id="0ba1" class="kb kc je bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated"><strong class="ak"> 3ã€‚å°½å¯èƒ½ä½¿ç”¨å¸¸é‡æ„é€ å‡½æ•°</strong></h1><pre class="la lb lc ld gt ne nf ng nh aw ni bi"><span id="d73e" class="le kc je nf b gy nj nk l nl nm">class CustomWidget extends StatelessWidget {<br/>  <strong class="nf jf">const CustomWidget();<br/>  </strong>@override<br/>  Widget build(BuildContext context) {<br/>    ...<br/>  }<br/>}</span></pre><h2 id="de08" class="le kc je bd kd lf lg dn kh lh li dp kl lj lk ll kp lm ln lo kt lp lq lr kx ls bi translated">ç®€çŸ­è§£é‡Š</h2><p id="89f7" class="pw-post-body-paragraph lt lu je lv b lw lx ly lz ma mb mc md lj me mf mg lm mh mi mj lp mk ml mm mn im bi translated">å½“æ„å»ºè‡ªå·±çš„å°éƒ¨ä»¶æˆ–ä½¿ç”¨Flutterå°éƒ¨ä»¶æ—¶ã€‚è¿™æœ‰åŠ©äºFlutteråªé‡å»ºåº”è¯¥æ›´æ–°çš„å°éƒ¨ä»¶ã€‚</p><h1 id="2a81" class="kb kc je bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">4.ä½¿ç”¨nilä»£æ›¿const Container()</h1><pre class="la lb lc ld gt ne nf ng nh aw ni bi"><span id="5c8c" class="le kc je nf b gy nj nk l nl nm"><strong class="nf jf">// good<br/></strong>text != null ? Text(text) : const Container()</span><span id="c001" class="le kc je nf b gy nn nk l nl nm"><strong class="nf jf">// Better<br/></strong>text != null ? Text(text) : const SizedBox()</span><span id="14c7" class="le kc je nf b gy nn nk l nl nm"><strong class="nf jf">// BEST<br/></strong>text != null ? Text(text) : nil<br/>or<br/>if (text != null) Text(text)</span></pre><h2 id="f532" class="le kc je bd kd lf lg dn kh lh li dp kl lj lk ll kp lm ln lo kt lp lq lr kx ls bi translated">ç®€çŸ­è§£é‡Š</h2><p id="0c35" class="pw-post-body-paragraph lt lu je lv b lw lx ly lz ma mb mc md lj me mf mg lm mh mi mj lp mk ml mm mn im bi translated">å®ƒåªæ˜¯ä¸€ä¸ªåŸºæœ¬çš„å…ƒç´ å°éƒ¨ä»¶ï¼Œå‡ ä¹ä¸éœ€è¦ä»»ä½•æˆæœ¬ã€‚</p><h2 id="430f" class="le kc je bd kd lf lg dn kh lh li dp kl lj lk ll kp lm ln lo kt lp lq lr kx ls bi translated">å†—é•¿çš„è§£é‡Š</h2><div class="is it gp gr iu mo"><a href="https://pub.dev/packages/nil" rel="noopener  ugc nofollow" target="_blank"><div class="mp ab fo"><div class="mq ab mr cl cj ms"><h2 class="bd jf gy z fp mt fr fs mu fu fw jd bi translated">æ— |é¢¤åŠ¨ç»„ä»¶</h2><div class="mv l"><h3 class="bd b gy z fp mt fr fs mu fu fw dk translated">å½“æ‚¨ä¸æƒ³æ˜¾ç¤ºä»»ä½•å†…å®¹æ—¶ï¼Œå¯ä»¥åœ¨å°éƒ¨ä»¶æ ‘ä¸­æ·»åŠ ä¸€ä¸ªç®€å•çš„å°éƒ¨ä»¶ï¼Œå¯¹æ€§èƒ½çš„å½±å“æå°ã€‚æœ‰æ—¶å€™â€¦</h3></div><div class="mw l"><p class="bd b dl z fp mt fr fs mu fu fw dk translated">å…¬å…±å¼€å‘</p></div></div><div class="mx l"><div class="no l mz na nb mx nc ja mo"/></div></div></a></div><h1 id="3eaf" class="kb kc je bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">5.å°½å¯èƒ½ä½¿ç”¨çŠ¶æ€ç®¡ç†å·¥å…·</h1><h2 id="a207" class="le kc je bd kd lf lg dn kh lh li dp kl lj lk ll kp lm ln lo kt lp lq lr kx ls bi translated">ç®€çŸ­è§£é‡Š</h2><p id="4817" class="pw-post-body-paragraph lt lu je lv b lw lx ly lz ma mb mc md lj me mf mg lm mh mi mj lp mk ml mm mn im bi translated">çŠ¶æ€ç®¡ç†å·¥å…·å¸®åŠ©æ‚¨è¿›è¡Œç²’åº¦æ›´æ–°ï¼Œè€Œä¸æ˜¯é‡å»ºæ‰€æœ‰å°éƒ¨ä»¶ã€‚æœ‰çŠ¶æ€çš„å°éƒ¨ä»¶æœ‰æ—¶çœŸçš„å¾ˆæœ‰å®³</p><h2 id="bb8f" class="le kc je bd kd lf lg dn kh lh li dp kl lj lk ll kp lm ln lo kt lp lq lr kx ls bi translated">å†—é•¿çš„è§£é‡Š</h2><div class="is it gp gr iu mo"><a href="https://blog.codemagic.io/how-to-improve-the-performance-of-your-flutter-app./#avoid-rebuilding-all-the-widgets-repetitively" rel="noopener  ugc nofollow" target="_blank"><div class="mp ab fo"><div class="mq ab mr cl cj ms"><h2 class="bd jf gy z fp mt fr fs mu fu fw jd bi translated">å¦‚ä½•æé«˜ä½ çš„Flutteråº”ç”¨ç¨‹åºçš„æ€§èƒ½</h2><div class="mv l"><h3 class="bd b gy z fp mt fr fs mu fu fw dk translated">ç”±Diego VelÃ¡squezæ’°å†™å…³äºå¦‚ä½•æé«˜æˆ‘ä»¬çš„æ€§èƒ½ï¼Œæœ‰è®¸å¤šç–‘é—®å’Œé—®é¢˜â€¦</h3></div><div class="mw l"><p class="bd b dl z fp mt fr fs mu fu fw dk translated">blog.codemagic.io</p></div></div><div class="mx l"><div class="np l mz na nb mx nc ja mo"/></div></div></a></div><h1 id="eea9" class="kb kc je bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">6.åœ¨ListViewä¸­ä¸ºé•¿åˆ—è¡¨ä½¿ç”¨<code class="fe nq nr ns nf b">itemExtent</code></h1><h2 id="53a1" class="le kc je bd kd lf lg dn kh lh li dp kl lj lk ll kp lm ln lo kt lp lq lr kx ls bi translated">ç®€çŸ­è§£é‡Š</h2><p id="83f2" class="pw-post-body-paragraph lt lu je lv b lw lx ly lz ma mb mc md lj me mf mg lm mh mi mj lp mk ml mm mn im bi translated">è¿™æœ‰åŠ©äºFlutterè®¡ç®—ListViewæ»šåŠ¨ä½ç½®ï¼Œè€Œä¸æ˜¯è®¡ç®—æ¯ä¸ªå°éƒ¨ä»¶çš„é«˜åº¦ï¼Œå¹¶ä½¿æ»šåŠ¨åŠ¨ç”»æ›´å…·æ€§èƒ½</p><h2 id="8b09" class="le kc je bd kd lf lg dn kh lh li dp kl lj lk ll kp lm ln lo kt lp lq lr kx ls bi translated">å†—é•¿çš„è§£é‡Š</h2><div class="is it gp gr iu mo"><a href="https://blog.codemagic.io/how-to-improve-the-performance-of-your-flutter-app./#use-itemextent-in-listview-for-long-lists" rel="noopener  ugc nofollow" target="_blank"><div class="mp ab fo"><div class="mq ab mr cl cj ms"><h2 class="bd jf gy z fp mt fr fs mu fu fw jd bi translated">å¦‚ä½•æé«˜ä½ çš„Flutteråº”ç”¨ç¨‹åºçš„æ€§èƒ½</h2><div class="mv l"><h3 class="bd b gy z fp mt fr fs mu fu fw dk translated">ç”±Diego VelÃ¡squezæ’°å†™å…³äºå¦‚ä½•æé«˜æˆ‘ä»¬çš„æ€§èƒ½ï¼Œæœ‰è®¸å¤šç–‘é—®å’Œé—®é¢˜â€¦</h3></div><div class="mw l"><p class="bd b dl z fp mt fr fs mu fu fw dk translated">blog.codemagic.io</p></div></div><div class="mx l"><div class="nt l mz na nb mx nc ja mo"/></div></div></a></div><h1 id="ed7f" class="kb kc je bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">7.é¿å…å°†AnimationControllerä¸setStateä¸€èµ·ä½¿ç”¨</h1><pre class="la lb lc ld gt ne nf ng nh aw ni bi"><span id="c297" class="le kc je nf b gy nj nk l nl nm">void initState<em class="nu">() {<br/>  </em>_controller = AnimationController<em class="nu">(<br/>    </em>vsync: this,<br/>    duration: Duration<em class="nu">(</em>seconds: 1<em class="nu">)</em>,<br/>  <em class="nu">)<br/>  </em><strong class="nf jf">..addListener<em class="nu">(() </em>=&gt; setState<em class="nu">(() {}))</em></strong>;<br/><em class="nu">}</em></span><span id="a66e" class="le kc je nf b gy nn nk l nl nm">Column<em class="nu">(<br/>  </em>children: <em class="nu">[<br/>    </em>Placeholder<em class="nu">()</em>, // rebuilds<br/>    Placeholder<em class="nu">()</em>, // rebuilds<br/>    Placeholder<em class="nu">()</em>, // rebuilds<br/>    <strong class="nf jf">Transform.translate<em class="nu">(</em></strong> // rebuilds<em class="nu"><br/></em><strong class="nf jf"><em class="nu">      </em>offset: Offset<em class="nu">(</em>100 * _controller.value, 0<em class="nu">)</em>,<br/>      child: Placeholder<em class="nu">()</em>,<br/>    <em class="nu">)</em>,</strong><br/>  <em class="nu">]</em>,<br/><em class="nu">)</em>,</span></pre><p id="2510" class="pw-post-body-paragraph lt lu je lv b lw nv ly lz ma nw mc md lj nx mf mg lm ny mi mj lp nz ml mm mn im bi translated">åˆ°</p><pre class="la lb lc ld gt ne nf ng nh aw ni bi"><span id="7785" class="le kc je nf b gy nj nk l nl nm">void initState<em class="nu">() {<br/>  </em>_controller = AnimationController<em class="nu">(<br/>    </em>vsync: this,<br/>    duration: Duration<em class="nu">(</em>seconds: 1<em class="nu">)</em>,<br/>  <em class="nu">); <br/>  </em><strong class="nf jf">// No</strong><em class="nu"> </em><strong class="nf jf">addListener(...)<br/></strong><em class="nu">}</em></span><span id="8aad" class="le kc je nf b gy nn nk l nl nm"><strong class="nf jf">AnimatedBuilder<em class="nu">(<br/>  </em>animation: _controller,<br/>  builder: <em class="nu">(</em>_, child<em class="nu">) { </em></strong><em class="nu"><br/>    </em>return<strong class="nf jf"> </strong>Transform.translate<em class="nu">(<br/>      </em>offset: Offset<em class="nu">(</em>100 * _controller.value, 0<em class="nu">)</em>,<br/>      child: child,<br/>    <em class="nu">)</em>;<br/><strong class="nf jf">  <em class="nu">}</em>,</strong><br/>  child: Placeholder<em class="nu">()</em>,<br/><strong class="nf jf"><em class="nu">)</em>,</strong></span></pre><h2 id="b6f3" class="le kc je bd kd lf lg dn kh lh li dp kl lj lk ll kp lm ln lo kt lp lq lr kx ls bi translated">ç®€çŸ­è§£é‡Š</h2><p id="4597" class="pw-post-body-paragraph lt lu je lv b lw lx ly lz ma mb mc md lj me mf mg lm mh mi mj lp mk ml mm mn im bi translated">è¿™å¯¼è‡´é‡æ–°æ„å»ºæ•´ä¸ªç”¨æˆ·ç•Œé¢ï¼Œä¸ä»…åŠ¨ç”»éƒ¨ä»¶å’ŒåŠ¨ç”»æ»å</p><h2 id="35fa" class="le kc je bd kd lf lg dn kh lh li dp kl lj lk ll kp lm ln lo kt lp lq lr kx ls bi translated">å†—é•¿çš„è§£é‡Š</h2><div class="is it gp gr iu mo"><a href="https://medium.com/flutter-community/flutter-laggy-animations-how-not-to-setstate-f2dd9873b8fc" rel="noopener follow" target="_blank"><div class="mp ab fo"><div class="mq ab mr cl cj ms"><h2 class="bd jf gy z fp mt fr fs mu fu fw jd bi translated">é¢¤åŠ¨æ»ååŠ¨ç”»:å¦‚ä½•ä¸è®¾ç½®çŠ¶æ€</h2><div class="mv l"><h3 class="bd b gy z fp mt fr fs mu fu fw dk translated">åœ¨Flutterä¸­åˆ›å»ºåŠ¨ç”»çœŸçš„å¾ˆæœ‰è¶£ä¹Ÿå¾ˆå®¹æ˜“ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªä¸å¥½çš„åšæ³•å¯èƒ½ä¼šä½¿è¿™äº›åŠ¨ç”»â€¦</h3></div><div class="mw l"><p class="bd b dl z fp mt fr fs mu fu fw dk translated">medium.com</p></div></div><div class="mx l"><div class="oa l mz na nb mx nc ja mo"/></div></div></a></div><h1 id="f2c5" class="kb kc je bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">8.é¿å…å¯¹AnimatedBuilderä½¿ç”¨ä¸é€æ˜åº¦</h1><pre class="la lb lc ld gt ne nf ng nh aw ni bi"><span id="46f1" class="le kc je nf b gy nj nk l nl nm">// BAD</span><span id="c9ae" class="le kc je nf b gy nn nk l nl nm">AnimatedBuilder<em class="nu">(<br/>  </em>animation: _controller,<br/>  builder: <em class="nu">(</em>_, child<em class="nu">) {<br/></em><strong class="nf jf"><em class="nu">    </em>return Opacity<em class="nu">(<br/>      </em>opacity: _controller.value,<br/>      child: child,<br/>    <em class="nu">)</em>;</strong><br/>  <em class="nu">}</em>,<br/>  child: Placeholder<em class="nu">()</em>, <br/><em class="nu">)</em>,</span><span id="b56f" class="le kc je nf b gy nn nk l nl nm"><strong class="nf jf">// GOOD</strong></span><span id="0161" class="le kc je nf b gy nn nk l nl nm"><strong class="nf jf">FadeTransition<em class="nu">(<br/>  </em>opacity: _controller,</strong><br/>  child: Placeholder<em class="nu">()</em>,<br/><strong class="nf jf"><em class="nu">)</em>,</strong></span><span id="85c9" class="le kc je nf b gy nn nk l nl nm"><strong class="nf jf"><em class="nu">// OR ALTERNATIVELY</em></strong></span><span id="0b6f" class="le kc je nf b gy nn nk l nl nm"><strong class="nf jf">AnimatedOpacity(<br/>   opacity: opacity,<br/>   duration: duration,<br/>   </strong>child: <!-- -->Placeholder<em class="nu">()</em>,<strong class="nf jf"><br/>),</strong></span></pre><h2 id="df3a" class="le kc je bd kd lf lg dn kh lh li dp kl lj lk ll kp lm ln lo kt lp lq lr kx ls bi translated">ç®€çŸ­è§£é‡Š</h2><p id="ceda" class="pw-post-body-paragraph lt lu je lv b lw lx ly lz ma mb mc md lj me mf mg lm mh mi mj lp mk ml mm mn im bi translated">æ”¹å˜ä¸é€æ˜åº¦æ˜¯ä¸€ä¸ªç›¸å½“æ˜‚è´µçš„åŠ¨ç”»ï¼Œé¢¤æŒ¯ç»™æˆ‘ä»¬æä¾›äº†æ›´å¥½çš„è§£å†³æ–¹æ¡ˆ</p><h2 id="cbb4" class="le kc je bd kd lf lg dn kh lh li dp kl lj lk ll kp lm ln lo kt lp lq lr kx ls bi translated">å†—é•¿çš„è§£é‡Š</h2><div class="is it gp gr iu mo"><a href="https://medium.com/flutter-community/flutter-laggy-animations-how-not-to-setstate-f2dd9873b8fc" rel="noopener follow" target="_blank"><div class="mp ab fo"><div class="mq ab mr cl cj ms"><h2 class="bd jf gy z fp mt fr fs mu fu fw jd bi translated">é¢¤åŠ¨æ»ååŠ¨ç”»:å¦‚ä½•ä¸è®¾ç½®çŠ¶æ€</h2><div class="mv l"><h3 class="bd b gy z fp mt fr fs mu fu fw dk translated">åœ¨Flutterä¸­åˆ›å»ºåŠ¨ç”»çœŸçš„å¾ˆæœ‰è¶£ä¹Ÿå¾ˆå®¹æ˜“ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªä¸å¥½çš„åšæ³•å¯èƒ½ä¼šä½¿è¿™äº›åŠ¨ç”»â€¦</h3></div><div class="mw l"><p class="bd b dl z fp mt fr fs mu fu fw dk translated">medium.com</p></div></div><div class="mx l"><div class="oa l mz na nb mx nc ja mo"/></div></div></a></div><h1 id="0b48" class="kb kc je bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">9.ç”¨é”®åŠ é€Ÿé¢¤æŒ¯æ€§èƒ½</h1><pre class="la lb lc ld gt ne nf ng nh aw ni bi"><span id="053a" class="le kc je nf b gy nj nk l nl nm">// FROM<br/>return value<br/>  ? const SizedBox<em class="nu">()<br/>  </em>: const Placeholder<em class="nu">()</em>,</span><span id="c424" class="le kc je nf b gy nn nk l nl nm">// TO<br/>return value<br/>  ? const SizedBox<em class="nu">(</em><strong class="nf jf">key: ValueKey<em class="nu">(</em>'SizedBox'<em class="nu">)</em></strong><em class="nu">)<br/>  </em>: const Placeholder<em class="nu">(</em><strong class="nf jf">key: ValueKey<em class="nu">(</em>'Placeholder'<em class="nu">)</em></strong><em class="nu">)</em>,</span><span id="c468" class="le kc je nf b gy nn nk l nl nm">----------------------------------------------<br/>// FROM<br/>final inner = SizedBox<em class="nu">();</em><strong class="nf jf"><br/></strong>return value ? SizedBox<em class="nu">(</em>child: inner<em class="nu">) </em>: inner,</span><span id="6b9b" class="le kc je nf b gy nn nk l nl nm">//<strong class="nf jf"> </strong>TO<strong class="nf jf"><br/>final global = GlobalKey<em class="nu">()</em>;<br/></strong>final inner = SizedBox<em class="nu">(</em><strong class="nf jf">key: global</strong><em class="nu">);</em><strong class="nf jf"><br/></strong>return value ? SizedBox<em class="nu">(</em>child: inner<em class="nu">) </em>: inner,</span></pre><h2 id="93a4" class="le kc je bd kd lf lg dn kh lh li dp kl lj lk ll kp lm ln lo kt lp lq lr kx ls bi translated">ç®€çŸ­è§£é‡Š</h2><p id="96f8" class="pw-post-body-paragraph lt lu je lv b lw lx ly lz ma mb mc md lj me mf mg lm mh mi mj lp mk ml mm mn im bi translated">ä½¿ç”¨æŒ‰é”®æ—¶ï¼ŒFlutterå¯ä»¥æ›´å¥½åœ°è¯†åˆ«å°éƒ¨ä»¶ã€‚è¿™ä½¿æˆ‘ä»¬çš„æ€§èƒ½æé«˜äº†4å€</p><p id="bd23" class="pw-post-body-paragraph lt lu je lv b lw nv ly lz ma nw mc md lj nx mf mg lm ny mi mj lp nz ml mm mn im bi translated"><strong class="lv jf">å°å¿ƒ</strong></p><ul class=""><li id="e641" class="ob oc je lv b lw nv ma nw lj od lm oe lp of mn og oh oi oj bi translated">ä¼šè®©ä½ çš„ä»£ç çœ‹èµ·æ¥æœ‰ç‚¹è‡ƒè‚¿</li><li id="a3d2" class="ob oc je lv b lw ok ma ol lj om lm on lp oo mn og oh oi oj bi translated"><code class="fe nq nr ns nf b">GlobalKey</code>æœ‰ç‚¹å±é™©ï¼Œä½†æœ‰æ—¶å€¼å¾—ã€‚</li></ul><h2 id="2e9d" class="le kc je bd kd lf lg dn kh lh li dp kl lj lk ll kp lm ln lo kt lp lq lr kx ls bi translated">å†—é•¿çš„è§£é‡Š</h2><div class="is it gp gr iu mo"><a href="https://medium.com/flutter-community/elements-keys-and-flutters-performance-3ef15c90f607" rel="noopener follow" target="_blank"><div class="mp ab fo"><div class="mq ab mr cl cj ms"><h2 class="bd jf gy z fp mt fr fs mu fu fw jd bi translated">å…ƒç´ ã€é”®å’ŒFlutterçš„æ€§èƒ½</h2><div class="mv l"><h3 class="bd b gy z fp mt fr fs mu fu fw dk translated">TLï¼›DR: Widget Keyså¯ä»¥æé«˜æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºçš„æ€§èƒ½ï¼Œåœ¨é‚£äº›ä½ ä¸èƒ½å¾—åˆ°æ‰¿è¯ºçš„60 FPSçš„åœ°æ–¹ã€‚</h3></div><div class="mw l"><p class="bd b dl z fp mt fr fs mu fu fw dk translated">medium.com</p></div></div><div class="mx l"><div class="op l mz na nb mx nc ja mo"/></div></div></a></div><h1 id="8087" class="kb kc je bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">10.ä½¿ç”¨å›¾åƒåˆ—è¡¨è§†å›¾æ—¶ä¼˜åŒ–å†…å­˜</h1><pre class="la lb lc ld gt ne nf ng nh aw ni bi"><span id="2666" class="le kc je nf b gy nj nk l nl nm">ListView.builder(<br/>  ...<br/>  addAutomaticKeepAlives: false (true by default)<br/>  addRepaintBoundaries: false (true by default)<br/>);</span></pre><h2 id="e1db" class="le kc je bd kd lf lg dn kh lh li dp kl lj lk ll kp lm ln lo kt lp lq lr kx ls bi translated">ç®€çŸ­è§£é‡Š</h2><p id="a499" class="pw-post-body-paragraph lt lu je lv b lw lx ly lz ma mb mc md lj me mf mg lm mh mi mj lp mk ml mm mn im bi translated">ListViewæ— æ³•åˆ é™¤å®ƒçš„å­©å­åœ¨å±å¹•ä¸Šä¸å¯è§ã€‚å¦‚æœå„¿ç«¥æ‹¥æœ‰é«˜åˆ†è¾¨ç‡çš„å›¾åƒï¼Œä¼šæ¶ˆè€—å¤§é‡å†…å­˜ã€‚</p><p id="ee19" class="pw-post-body-paragraph lt lu je lv b lw nv ly lz ma nw mc md lj nx mf mg lm ny mi mj lp nz ml mm mn im bi translated">å¦‚æœå°†è¿™äº›é€‰é¡¹è®¾ç½®ä¸ºfalseï¼Œå¯èƒ½ä¼šå¯¼è‡´ä½¿ç”¨æ›´å¤šçš„GPUå’ŒCPUå·¥ä½œï¼Œä½†å®ƒå¯ä»¥è§£å†³æˆ‘ä»¬çš„å†…å­˜é—®é¢˜ï¼Œå¹¶ä¸”æ‚¨å°†è·å¾—ä¸€ä¸ªéå¸¸é«˜æ€§èƒ½çš„è§†å›¾ï¼Œè€Œæ²¡æœ‰æ˜æ˜¾çš„é—®é¢˜ã€‚</p><h2 id="03db" class="le kc je bd kd lf lg dn kh lh li dp kl lj lk ll kp lm ln lo kt lp lq lr kx ls bi translated">å†—é•¿çš„è§£é‡Š</h2><div class="is it gp gr iu mo"><a href="https://devmuaz.medium.com/flutter-memory-optimization-series-8c4a73f3ea81" rel="noopener follow" target="_blank"><div class="mp ab fo"><div class="mq ab mr cl cj ms"><h2 class="bd jf gy z fp mt fr fs mu fu fw jd bi translated">é¢¤æŒ¯è®°å¿†ä¼˜åŒ–ç³»åˆ—</h2><div class="mv l"><h3 class="bd b gy z fp mt fr fs mu fu fw dk translated">æ­£å¦‚ä½ å¯èƒ½å·²ç»çŸ¥é“çš„ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒFlutterä¸­çš„å‡ ä¹æ‰€æœ‰ä¸œè¥¿éƒ½å¾—åˆ°äº†ä¼˜åŒ–å’Œå¢å¼ºï¼Œè¿™è¦æ„Ÿè°¢â€¦</h3></div><div class="mw l"><p class="bd b dl z fp mt fr fs mu fu fw dk translated">devmuaz.medium.com</p></div></div><div class="mx l"><div class="oq l mz na nb mx nc ja mo"/></div></div></a></div></div><div class="ab cl or os hx ot" role="separator"><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow"/></div><div class="im in io ip iq"><h1 id="b94d" class="kb kc je bd kd ke oy kg kh ki oz kk kl km pa ko kp kq pb ks kt ku pc kw kx ky bi translated">æ„Ÿè°¢æ‚¨çš„é˜…è¯»ï¼</h1><p id="0a66" class="pw-post-body-paragraph lt lu je lv b lw lx ly lz ma mb mc md lj me mf mg lm mh mi mj lp mk ml mm mn im bi translated">æˆ‘è¯•å›¾å°½å¯èƒ½ç®€å•åœ°è§£é‡Šå®ƒï¼Œæˆ‘å¸Œæœ›ä½ å–œæ¬¢å®ƒã€‚</p><p id="958a" class="pw-post-body-paragraph lt lu je lv b lw nv ly lz ma nw mc md lj nx mf mg lm ny mi mj lp nz ml mm mn im bi translated">å¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œè¯·ç‚¹å‡»ğŸ‘æŒ‰é’®(ä½ çŸ¥é“ä½ å¯ä»¥å‡åˆ°50å—ï¼Ÿ)</p></div></div>    
</body>
</html>