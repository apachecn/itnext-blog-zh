<html>
<head>
<title>ngRx/Store and 5 silly mistakes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ngRx/Storeå’Œ5ä¸ªæ„šè ¢çš„é”™è¯¯</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://itnext.io/ngrx-store-and-5-silly-mistakes-780ae2f961d0?source=collection_archive---------2-----------------------#2020-03-03">https://itnext.io/ngrx-store-and-5-silly-mistakes-780ae2f961d0?source=collection_archive---------2-----------------------#2020-03-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="03cb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">å­¦ä¹ å¦‚ä½•é¿å…å®ƒä»¬</em></p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/895350abe11860a284de784202da6815.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p-m8joe-7CQY9aXyoc2K3w.jpeg"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">ä¸å…¶èŠ±æ—¶é—´åœ¨è°ƒè¯•ä¸Šï¼Œä¸å¦‚èŠ±æ—¶é—´å’Œå®¶äººåœ¨ä¸€èµ·:-)</figcaption></figure><p id="23c1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†å‘Šè¯‰ä½ å¦‚ä½•åœ¨ä½¿ç”¨ngRxæ¥æ”¹å–„ä½ çš„å®¶åº­ä¸å·¥ä½œå¹³è¡¡æ—¶é¿å…ç®€å•çš„é™·é˜±:-) </em></p><h2 id="cdcb" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">ä»‹ç»</h2><p id="4efa" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">å¦‚æœä½ å’ŒAngularä¸€èµ·å·¥ä½œï¼Œä½ è‚¯å®šçŸ¥é“Angularåº”ç”¨æœ€æµè¡Œçš„çŠ¶æ€ç®¡ç†ç³»ç»Ÿ<a class="ae ma" href="https://ngrx.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> ngRx/Store </strong> </a>ã€‚</p><p id="8e70" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è®©æˆ‘ä»¬å›å¿†ä¸€ä¸‹ä»€ä¹ˆæ˜¯åœ¨åŒä¸€é¡µä¸Š:</p><blockquote class="mb mc md"><p id="fb1b" class="jn jo kl jp b jq jr js jt ju jv jw jx me jz ka kb mf kd ke kf mg kh ki kj kk ij bi translated"><strong class="jp ir"> @ngrx/store </strong></p><p id="561a" class="jn jo kl jp b jq jr js jt ju jv jw jx me jz ka kb mf kd ke kf mg kh ki kj kk ij bi translated">â€¦æ˜¯RxJSä¾›ç”µçš„çŠ¶æ€ç®¡ç†ï¼Œç”¨äºè§’åº¦åº”ç”¨ï¼Œçµæ„Ÿæ¥è‡ªReduxã€‚Storeæ˜¯ä¸€ä¸ªå—æ§çŠ¶æ€å®¹å™¨ï¼Œæ—¨åœ¨å¸®åŠ©åœ¨Angularä¸Šç¼–å†™é«˜æ€§èƒ½ã€ä¸€è‡´çš„åº”ç”¨ç¨‹åºã€‚</p></blockquote><p id="9161" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä»¥ä¸‹æ˜¯å®˜æ–¹æ–‡æ¡£ä¸­æè¿°å…¶å·¥ä½œåŸç†çš„æµç¨‹å›¾:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi mh"><img src="../Images/6dc868861a0e05205bf7ae478f483295.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*F1zvhLBSOjf9HVRa.png"/></div></div></figure><p id="5ae6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç»„ä»¶å‘é€<strong class="jp ir">åŠ¨ä½œ</strong>ï¼Œè¿™æ˜¯ä¸€ä¸ªå…·æœ‰å¼ºåˆ¶å±æ€§<em class="kl">ç±»å‹</em>å’Œå¯é€‰çš„å…¶ä»–å±æ€§çš„å¯¹è±¡ï¼Œå…¶æ•°æ®å°†è¢«å­˜å‚¨åˆ°ä¸­å¿ƒå¯¹è±¡â€”â€”å­˜å‚¨ã€‚åŠ¨ä½œç”±<strong class="jp ir"><em class="kl">reducer</em></strong><em class="kl"/>å¤„ç†ï¼Œè¿™æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å‡½æ•°ï¼Œå®ƒä»åŠ¨ä½œä¸­äº§ç”Ÿæ•°æ®å¹¶æŠŠå®ƒä»¬å­˜å‚¨(æˆ–ä¿®æ”¹å­˜å‚¨)ã€‚å…¶ä»–ç»„ä»¶å¯ä»¥ä½¿ç”¨<strong class="jp ir">é€‰æ‹©å™¨</strong>è®¢é˜…å­˜å‚¨æ›´æ–°(åˆ°å­˜å‚¨çš„ç‰¹å®šéƒ¨åˆ†)(å®é™…ä¸Šé€‰æ‹©å™¨å†³å®šäº†æ‚¨æƒ³è¦ç›‘æ§å­˜å‚¨æ›´æ–°çš„å“ªä¸€éƒ¨åˆ†)ã€‚åœ¨ç®€å•çš„æƒ…å†µä¸‹ï¼Œé€‰æ‹©å™¨æ¥æ”¶çŠ¶æ€å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›çŠ¶æ€å¯¹è±¡çš„ä¸€äº›å±æ€§:</p><pre class="kn ko kp kq gt mi mj mk ml aw mm bi"><span id="9354" class="lc ld iq mj b gy mn mo l mp mq">(state) =&gt; state.prop1</span></pre><p id="55cd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">åœ¨æˆ‘å¼€å§‹å ç”¨ä½ çš„æ—¶é—´ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹æœ€ç®€å•çš„ä¾‹å­ã€‚ä¸ºäº†ä¸é‡å¤å‘æ˜è‡ªè¡Œè½¦ï¼Œæˆ‘å°†ä½¿ç”¨<a class="ae ma" href="https://ngrx.io/guide/store" rel="noopener ugc nofollow" target="_blank">å®˜æ–¹æ–‡ä»¶</a>ä¸­çš„ç®€åŒ–ç¤ºä¾‹ã€‚</p><p id="efc4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªå¸¦æœ‰è®¡æ•°å™¨å€¼çš„å­˜å‚¨ï¼Œä»¥åŠå¢åŠ è¯¥è®¡æ•°å™¨å€¼çš„æ“ä½œ/ç¼©å‡å™¨ã€‚</p><p id="25ba" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ“ä½œ:</p><pre class="kn ko kp kq gt mi mj mk ml aw mm bi"><span id="e961" class="lc ld iq mj b gy mn mo l mp mq">// src/app/counter.actions.ts</span><span id="eef0" class="lc ld iq mj b gy mr mo l mp mq"><a class="ae ma" href="https://ngrx.io/api/store-devtools/DevToolsFeatureOptions#import" rel="noopener ugc nofollow" target="_blank">import</a> { <a class="ae ma" href="https://ngrx.io/api/store/createAction" rel="noopener ugc nofollow" target="_blank">createAction</a> } from '@ngrx/store';</span><span id="af27" class="lc ld iq mj b gy mr mo l mp mq"><a class="ae ma" href="https://ngrx.io/api/store-devtools/DevToolsFeatureOptions#export" rel="noopener ugc nofollow" target="_blank">export</a> const increment = <a class="ae ma" href="https://ngrx.io/api/store/createAction" rel="noopener ugc nofollow" target="_blank">createAction</a>('[Counter Component] Increment');</span></pre><p id="650b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å‡é€Ÿå™¨:</p><pre class="kn ko kp kq gt mi mj mk ml aw mm bi"><span id="cdd5" class="lc ld iq mj b gy mn mo l mp mq">//src/app/counter.reducer.ts</span><span id="b25c" class="lc ld iq mj b gy mr mo l mp mq">import { createReducer, on } from '@ngrx/store';<br/>import { increment } from './counter.actions';</span><span id="8783" class="lc ld iq mj b gy mr mo l mp mq">export const initialState = 0;<br/>const _counterReducer = createReducer(initialState,<br/>   on(increment, state =&gt; state + 1)<br/>);</span><span id="f29b" class="lc ld iq mj b gy mr mo l mp mq">export function counterReducer(state, action) {<br/>   return _counterReducer(state, action);<br/>}</span></pre><p id="97f5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å°†StoreModuleæ¨¡å—æ·»åŠ åˆ°app.module.ts</p><pre class="kn ko kp kq gt mi mj mk ml aw mm bi"><span id="37a2" class="lc ld iq mj b gy mn mo l mp mq">import { BrowserModule } from '@angular/platform-browser';<br/>import { NgModule } from '@angular/core';<br/>import { AppComponent } from './app.component';</span><span id="d93c" class="lc ld iq mj b gy mr mo l mp mq">import { StoreModule } from '@ngrx/store';</span><span id="3e96" class="lc ld iq mj b gy mr mo l mp mq">import { counterReducer } from './counter.reducer';</span><span id="43b8" class="lc ld iq mj b gy mr mo l mp mq">@NgModule({<br/>  declarations: [AppComponent],<br/>  imports: [<br/>    BrowserModule,<br/>    StoreModule.forRoot({ count: counterReducer })<br/>  ],<br/>  providers: [],<br/>  bootstrap: [AppComponent],<br/>})</span><span id="a88b" class="lc ld iq mj b gy mr mo l mp mq">export class AppModule {}</span></pre><p id="0fe4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ‚¨å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬åœ¨è¿™ä¸€è¡Œä¸­æŒ‡å®šäº†æˆ‘ä»¬çš„å‡é€Ÿå™¨</p><pre class="kn ko kp kq gt mi mj mk ml aw mm bi"><span id="11bb" class="lc ld iq mj b gy mn mo l mp mq">StoreModule.forRoot({ count: counterReducer })</span></pre><p id="637c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¦è¯»å–è®¡æ•°å€¼æˆ‘ä»¬åªéœ€è¦ä½¿ç”¨<a class="ae ma" href="https://ngrx.io/api/store/select" rel="noopener ugc nofollow" target="_blank"> <em class="kl">é€‰æ‹©</em> </a>åŠŸèƒ½ä¸­çš„ä¸€ä¸ªç»„ä»¶:</p><pre class="kn ko kp kq gt mi mj mk ml aw mm bi"><span id="5e4c" class="lc ld iq mj b gy mn mo l mp mq">// in some component<br/>import { Store, select } from '@ngrx/store'<br/>...</span><span id="938a" class="lc ld iq mj b gy mr mo l mp mq">constructor(private store: Store&lt;{ count: number }&gt;) {</span><span id="031b" class="lc ld iq mj b gy mr mo l mp mq">this.count$ = store.pipe(<strong class="mj ir">select</strong>('count')); <br/>// now we have observable that will emit values on each count update</span><span id="e5c9" class="lc ld iq mj b gy mr mo l mp mq">// old school approach<br/>//this.count$ = store.pipe(<strong class="mj ir">select</strong>(state =&gt; state.count));</span><span id="55e1" class="lc ld iq mj b gy mr mo l mp mq">}</span></pre><p id="32f3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¦‚æœæˆ‘ä»¬ä¸æƒ³åœ¨ä¸»åº”ç”¨ç¨‹åºæ¨¡å—ä¸­ç»§ç»­è®¡æ•°æ€ä¹ˆåŠï¼Ÿæˆ‘ä»¬å¯ä»¥æŠŠå®ƒæ”¾åˆ°ä¸€ä¸ªç‰¹å¾æ¨¡å—ä¸­ã€‚</p><pre class="kn ko kp kq gt mi mj mk ml aw mm bi"><span id="57c1" class="lc ld iq mj b gy mn mo l mp mq">@NgModule({<br/>  declarations: [AppComponent],<br/>  imports: [<br/>    BrowserModule,<br/>    StoreModule.forRoot({}),<br/>    StoreModule.forFeature('featureName', { count: counterReducer })<br/>  ],<br/>  providers: [],<br/>  bootstrap: [AppComponent],<br/>})</span><span id="0d0a" class="lc ld iq mj b gy mr mo l mp mq">export class AppModule {}</span></pre><p id="425a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬ä»å•†åº—çŠ¶æ€çš„ç‰¹å¾åˆ†æ”¯è·å–å€¼çš„é€‰æ‹©å™¨å°†æ˜¯:</p><pre class="kn ko kp kq gt mi mj mk ml aw mm bi"><span id="4566" class="lc ld iq mj b gy mn mo l mp mq">// count.selectors.ts<br/>export const selectFeature = createFeatureSelector&lt;FeatureState&gt;('featureName');</span><span id="3cde" class="lc ld iq mj b gy mr mo l mp mq">export const countSelector = createSelector(selectFeature, (state) =&gt; state.count);<br/></span><span id="965d" class="lc ld iq mj b gy mr mo l mp mq">// And in some component<br/>this.count$ = store.pipe(<strong class="mj ir">select</strong>(countSelector));</span></pre><p id="47bb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨è®©æˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸€åˆ‡æ˜¯å¦‚ä½•å·¥ä½œçš„:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi ms"><img src="../Images/1e7aeba60b229bdf9b5848e74219a98f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*m_qx6oiKiKYvBCxghwtqJg.gif"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">ä¸€ä¸ªç»„ä»¶å¢åŠ state.countï¼Œå¦ä¸€ä¸ªç»„ä»¶æ˜¾ç¤ºçŠ¶æ€å€¼ã€‚</figcaption></figure><p id="79b9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬æ‰€æœ‰çš„åŠ¨ä½œå’Œå•†åº—çŠ¶æ€çš„å˜åŒ–éƒ½å¯ä»¥é€šè¿‡Chromeæ’ä»¶è§‚å¯Ÿåˆ°:<a class="ae ma" href="https://chrome.google.com/webstore/detail/redux-devtools/lmhkpmbekcpmknklioeibfkpmmfibljd?hl=ru" rel="noopener ugc nofollow" target="_blank"> Redux DevTools </a> : <br/> 1ã€‚åœ¨Chome <br/> 2ä¸­å®‰è£…ä¸€ä¸ªæ’ä»¶ã€‚å°†<a class="ae ma" href="https://ngrx.io/api/store-devtools" rel="noopener ugc nofollow" target="_blank"> @ngrx/store-devtools </a>æ¨¡å—å®‰è£…åˆ°æ‚¨çš„Angular app:<br/>â€”<strong class="jp ir">ng add @ ngrx/store-devtools</strong><br/>â€”æˆ–<strong class="jp ir"><em class="kl">NPM I @ ngrx/store-devtools</em></strong>(åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨åº”è¯¥æ‰‹åŠ¨å°†StoreDevtoolsModuleæ·»åŠ åˆ°AppModuleä¸­)</p><p id="ad7c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">3.åœ¨Chromeå¼€å‘å·¥å…·ä¸­ç›‘æ§ä½ çš„å•†åº—(Reduxæ ‡ç­¾)</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi mt"><img src="../Images/b383baccb346178c1634c886c648ba6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*HF8QV6G3oodF_PUilE4OTw.gif"/></div></div></figure><p id="e464" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç®€å•å§ï¼Ÿ</p><p id="91a7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ­¤æ—¶ï¼Œæ‚¨å¯èƒ½ä¼šé—®è‡ªå·±ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ä¸€ç¯‡ä»…ä»…ä»£è¡¨å®˜æ–¹æ–‡æ¡£ç¤ºä¾‹çš„æ–‡ç« ï¼Ÿå› ä¸ºå³ä½¿æœ‰äº†è¿™äº›ç®€å•çš„æµç¨‹ï¼Œå¦‚æœæœ‰äº›ä¸œè¥¿ä¸èƒ½åƒé¢„æœŸçš„é‚£æ ·å·¥ä½œï¼Œæ‚¨ä¹Ÿå¯èƒ½ä¼šèŠ±è´¹æ•°å°æ—¶è¿›è¡Œè°ƒè¯•ã€‚</p><p id="800e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">æˆ‘åœ¨æˆ‘(å’Œæˆ‘çš„å¼€å‘ä¼™ä¼´)çš„å®è·µä¸­æ­éœ²äº†5ä¸ªå¸¸è§çš„é”™è¯¯ã€‚</strong></p><h2 id="9bd8" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated"><strong class="ak"> #1ã€‚Redux-DevToolsä¸æ˜¾ç¤ºåŠ¨ä½œä¸­æœªå®šä¹‰çš„é“å…·</strong></h2><p id="e426" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªåŠ¨ä½œï¼Œå®ƒä¸ä»…å‘é€å”¯ä¸€ç±»å‹çš„æ¶ˆæ¯ï¼Œè¿˜å‘é€ä¸€äº›é™„åŠ ä¿¡æ¯:</p><pre class="kn ko kp kq gt mi mj mk ml aw mm bi"><span id="4d65" class="lc ld iq mj b gy mn mo l mp mq">{<br/> type: SOME_TYPE,<br/> value: this.someProp<br/>}</span></pre><p id="babd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä¸ºæ­¤ï¼Œè®©æˆ‘ä»¬ç¨å¾®ä¿®æ”¹ä¸€ä¸‹ä»£ç :</p><pre class="kn ko kp kq gt mi mj mk ml aw mm bi"><span id="6e3e" class="lc ld iq mj b gy mn mo l mp mq"><strong class="mj ir">// counter.actions.ts</strong><br/>...<br/>export const increment = createAction('[Counter Component] Increment', props&lt;{value: number}&gt;());</span><span id="b163" class="lc ld iq mj b gy mr mo l mp mq"><strong class="mj ir">// counter.reducer.ts</strong><br/>const counterReducerFunc = createReducer(initialState,<br/>  on(increment, (<em class="kl">state</em>, {<em class="kl">value</em>}) =&gt; <em class="kl">state </em>+ 1 + <em class="kl">value</em>)<br/>);</span><span id="9ea6" class="lc ld iq mj b gy mr mo l mp mq"><strong class="mj ir">//app.component.ts</strong><br/>public value;<br/>...</span><span id="a387" class="lc ld iq mj b gy mr mo l mp mq">increment() {<br/>// provide additional value to actionCreator function  this.store.dispatch(increment({value: this.value})); <br/>}</span></pre><p id="fd7c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨æˆ‘ä»¬çš„å‡é€Ÿå™¨åº”è¯¥å°†çŠ¶æ€å€¼å¢åŠ 1ï¼Œå¹¶æ·»åŠ <em class="kl">å€¼ã€‚</em></p><p id="ded3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä½†æ˜¯ï¼Œæœ‰äº›åœ°æ–¹å‡ºé”™äº†ï¼Œæ‚¨æƒ³åœ¨Redux Devå·¥å…·ä¸­è°ƒè¯•è¿™äº›æ“ä½œã€‚</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi mu"><img src="../Images/bffbc47c37d8e236684a56c238666ceb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*IJ4-k05xAchgK_0dfYz3rg.gif"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">è°ƒè¯•é—®é¢˜</figcaption></figure><p id="f318" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¥½å§ï¼Œ<em class="kl">ç®—</em>å¾—äº†æ¥ å€¼ï¼Œè¿™æ˜¯ä¸æ­£ç¡®çš„ã€‚è¿˜æœ‰ä¸ºä»€ä¹ˆæˆ‘ä»¬åœ¨ReduxDevToolsçš„åŠ¨ä½œæ ‡ç­¾å†…å®¹ä¸­çœ‹ä¸åˆ°<em class="kl">å€¼</em>é“å…·ï¼Ÿåªæœ‰<em class="kl">ç±»å‹çš„</em>å­—æ®µå­˜åœ¨ã€‚</p><p id="915f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç­”æ¡ˆæ˜¯<strong class="jp ir"> a) </strong>æˆ‘ä»¬å¿˜è®°ç»™<em class="kl"> value </em>å±æ€§èµ‹å€¼äº†ï¼ŒChromeæ’ä»¶ä¸èƒ½å¾—åˆ°æœªå®šä¹‰çš„å€¼ ï¼Œå› ä¸ºå®ƒä¸èƒ½è¢«å­—ç¬¦ä¸²åŒ–ã€‚</p><p id="85ba" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è®©æˆ‘ä»¬å°†<em class="kl">å€¼</em>èµ‹å€¼ä¸º0 <strong class="jp ir"> <em class="kl">ã€‚</em>T41ã€‘</strong></p><pre class="kn ko kp kq gt mi mj mk ml aw mm bi"><span id="8382" class="lc ld iq mj b gy mn mo l mp mq"><strong class="mj ir">//app.component.ts</strong><br/>public value = 0; // or other number value</span></pre><p id="d275" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨æˆ‘ä»¬å¯ä»¥åœ¨ReduxDevToolsä¸­è§‚å¯Ÿè¿™ä¸ªé“å…·:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi mu"><img src="../Images/e039e53bc1e3804b31c1226bec429671.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*zuMWdDe3s6tMJRy-cS2grw.gif"/></div></div></figure><p id="0a20" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘èŠ±ä¸€ä¸ªå°æ—¶æ¥æ­ç¤ºå®ƒã€‚ä¹Ÿè®¸çœ‹å®Œè¿™ä¸ªä½ ä¼šå°‘æµªè´¹ç‚¹æ—¶é—´:)</p><p id="1a0f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä½ å¯ä»¥çœ‹ä¸€ä¸‹<a class="ae ma" href="https://github.com/kievsash/ngrx-store-and5sillyMistakes/tree/pitfall_1_ReduxDevTools_Doesnt_display_undefined" rel="noopener ugc nofollow" target="_blank">è¿™ä¸ªåˆ†æ”¯ä¸­çš„ä»£ç æ–‡ç« GitHub repo </a>ã€‚æˆ–è€…åœ¨ng-run.comæ¸¸ä¹åœºæ£€æŸ¥ä¸€ä¸‹ã€‚</p><p id="516e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">è¦ç‚¹:</strong>å¦‚æœæ‚¨éœ€è¦æŒ‡å®šç©ºå€¼ï¼Œæœ€å¥½ä½¿ç”¨<strong class="jp ir"> null </strong>ï¼Œå› ä¸ºnullå¯ä»¥è¢«å­—ç¬¦ä¸²åŒ–å¹¶æ˜¾ç¤ºåœ¨ReduxDevToolsä¸­ã€‚</p><h2 id="6b50" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated"><strong class="ak"> #2ã€‚StoreDevModuleå¯èƒ½ä¼šé™ä½åº”ç”¨ç¨‹åºçš„é€Ÿåº¦</strong></h2><p id="d5d6" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">å¾ˆä¹…ä»¥å‰ï¼Œæˆ‘åœ¨ä¸€å®¶å•†åº—é‡Œæœ‰ä¸€å¤§å †ç‰©å“ã€‚ä¸€äº›ç”¨æˆ·æ“ä½œä¿®æ”¹äº†ç‰¹å®šåŠ¨ä½œç±»å‹çš„æ•°æ®ï¼Œå¹¶å°†å®ƒä»¬æ”¾å›å­˜å‚¨å™¨ï¼Œç„¶åç»„ä»¶æ˜¾ç¤ºè¿™äº›æ•°æ®ã€‚</p><p id="ba68" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬çš„æµ‹è¯•äººå‘˜è§‚å¯Ÿåˆ°ï¼Œä»åˆ—è¡¨ä¸­çš„å‡ ç™¾ä¸ªé¡¹ç›®å¼€å§‹ï¼Œæ¯ä¸ªç”¨æˆ·æ“ä½œéƒ½ä¼šå¯¼è‡´å¾®å°ä½†æ˜æ˜¾çš„UIæ›´æ–°å»¶è¿Ÿã€‚è¿™ä¸æ˜¯æ¸²æŸ“ï¼Œè€Œæ˜¯JSé—®é¢˜ã€‚</p><p id="f202" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">åœ¨æ€§èƒ½æ ‡ç­¾ä¸Šç”¨ChromeDevToolsæ£€æŸ¥å(ä½ å¯ä»¥åœ¨è¿™é‡Œé˜…è¯»æ›´å¤šä¿¡æ¯)ï¼Œæˆ‘å¾—åˆ°äº†è¿™å¼ å›¾ç‰‡:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/e0eeb8f358026c3bdeb218a2d744d459.png" data-original-src="https://miro.medium.com/v2/resize:fit:1124/format:webp/1*fO3bfV3jShQmUiRHPxc8Cg.png"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">7.8%çš„Javascriptæ´»åŠ¨è¢«stringifyå‡½æ•°æ•è·</figcaption></figure><p id="d795" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä½ è®°å¾—ä¸ºä»€ä¹ˆä¼šè¿™æ ·å—ï¼Ÿæ˜¯çš„ï¼Œå› ä¸ºæˆ‘ä»¬å°†æ•°æ®å‘é€åˆ°ReduxDevToolsæ’ä»¶ï¼Œä»¥ä¾¿èƒ½å¤Ÿç›‘æ§å­˜å‚¨æ“ä½œå’ŒçŠ¶æ€ã€‚</p><p id="46f6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç”±äºæˆ‘ä»¬æ‰‹åŠ¨å°†StoreDevToolsModuleæ·»åŠ åˆ°AppModuleï¼Œå› æ­¤æˆ‘ä»¬é”™è¿‡äº†ä¸ºäº§å“æ„å»ºå…³é—­å®ƒçš„é€‰é¡¹:</p><pre class="kn ko kp kq gt mi mj mk ml aw mm bi"><span id="0cd6" class="lc ld iq mj b gy mn mo l mp mq">imports: [<br/>  StoreModule.forRoot({}),<br/>  StoreModule.forFeature(featureKey, {items: itemsReducer}),<br/>  BrowserModule,<br/>  // StoreDevtoolsModule.instrument({ maxAge: 25, <strong class="mj ir">logOnly: environment.production</strong> }), <strong class="mj ir">// missed logOnly option</strong><br/>  EffectsModule.forRoot([AppEffects])<br/>],</span></pre><p id="b9a1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">åœ¨æˆ‘æ·»åŠ å®ƒä¹‹åâ€” UIå¼€å§‹æ„Ÿè§‰å¥½å¤šäº†:-)</p><p id="8513" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">è¦ç‚¹:</strong>å½“æ‚¨ä½¿ç”¨StoreDevtoolsModuleç›‘æ§æ‚¨çš„ngrx/Storeæ´»åŠ¨æ—¶ï¼Œä¸è¦å¿˜è®°<strong class="jp ir"> logOnly </strong>é€‰é¡¹ã€‚å®é™…ä¸Šï¼Œå¦‚æœä½ ç”¨<strong class="jp ir">ng add @ ngrx/store-dev tools</strong>å®‰è£…ï¼Œé‚£ä¹ˆè¿™ä¸ªé€‰é¡¹ä¼šè‡ªåŠ¨æ·»åŠ ã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œé˜…è¯»æ›´å¤šå…³äº<em class="kl">logon only</em>T10ã€‘çš„å†…å®¹ã€‚</p><p id="5388" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¯ä»¥ç©GitHubå›è´­åˆ†æ”¯ä¸­çš„ä»£ç <a class="ae ma" href="https://github.com/kievsash/ngrx-store-and5sillyMistakes/tree/pitfall_2_StoreDevtoolsModule_slow_down" rel="noopener ugc nofollow" target="_blank">ã€‚æˆ–è€…åœ¨</a><a class="ae ma" href="https://ng-run.com/" rel="noopener ugc nofollow" target="_blank">ng-run.com</a>Angularæ¸¸ä¹åœºç”±<a class="mw mx ep" href="https://medium.com/u/d59a9e801370?source=post_page-----780ae2f961d0--------------------------------" rel="noopener" target="_blank"> Alexey Zuev </a>å¼€å§‹è¿™ä¸ªåˆ†æ”¯ã€‚ä¸ºæ­¤ï¼Œåªéœ€å¤åˆ¶GitHubåˆ†æ”¯é“¾æ¥ï¼Œå¹¶æ·»åŠ ng-run.com/github/&lt;your link&gt;ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p><pre class="kn ko kp kq gt mi mj mk ml aw mm bi"><span id="6f01" class="lc ld iq mj b gy mn mo l mp mq"><strong class="mj ir">Branch link:</strong> <br/>https://github.com/kievsash/ngrx-store-and5sillyMistakes/tree/pitfall_2_StoreDevtoolsModule_slow_down</span><span id="8cf4" class="lc ld iq mj b gy mr mo l mp mq">Now lets start it on ng-run.com</span><span id="06da" class="lc ld iq mj b gy mr mo l mp mq"><a class="ae ma" href="https://ng-run.com/github/kievsash/ngrx-store-and5sillyMistakes/tree/pitfall_2_StoreDevtoolsModule_slow_down" rel="noopener ugc nofollow" target="_blank">https://ng-run.com/github/<strong class="mj ir">kievsash/ngrx-store-and5sillyMistakes/tree/pitfall_2_StoreDevtoolsModule_slow_down</strong></a></span></pre></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><p id="562c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Ÿ<a class="ae ma" href="https://buymeacoffee.com/nqypxi6" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">ç»™æˆ‘ä¹°æ¯å’–å•¡</strong> </a> :-)</p></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><p id="f9f5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> #3ã€‚æ‚¨å¯¼å…¥äº†åŠŸèƒ½æ¨¡å—ï¼Œä½†å®ƒä¸å·¥ä½œ</strong></p><p id="935d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> a) </strong>å¥½äº†ï¼Œä½ æœ‰äº†æ¼‚äº®çš„ç‰¹å¾è§’åº¦æ¨¡å—ï¼Œä½ æŠŠ:</p><pre class="kn ko kp kq gt mi mj mk ml aw mm bi"><span id="4404" class="lc ld iq mj b gy mn mo l mp mq">// feature.module.ts</span><span id="f99e" class="lc ld iq mj b gy mr mo l mp mq">...</span><span id="90b5" class="lc ld iq mj b gy mr mo l mp mq">imports: [<br/>   StoreModule.forFeature(featureKey, {items: itemsReducer}),<br/>...</span></pre><p id="dff6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å½“æ‚¨å°†å®ƒæ·»åŠ åˆ°app.module.ts AppModule importsæ—¶ï¼Œæ‚¨å¸Œæœ›å®ƒåº”è¯¥å¯ä»¥å·¥ä½œã€‚ä½†æ˜¯â€¦å®ƒæ²¡æœ‰)ä½ æ‰“å¼€ä¸€ä¸ªChromeDevToolsæ§åˆ¶å°ï¼Œçœ‹åˆ°:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi nf"><img src="../Images/0534bc86cd18e770dc1f7c62bceb3127.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HHzO9DIpC3hu77-mVP1zSw.png"/></div></div></figure><p id="365d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¥½ï¼Œé‚£ä¹ˆæˆ‘ä»¬è½¬åˆ°<a class="ae ma" href="https://github.com/ngrx/platform/search?q=ReducerManager&amp;unscoped_q=ReducerManager" rel="noopener ugc nofollow" target="_blank"> ngrx/platform GitHub repo </a>å¹¶æœç´¢'<em class="kl"> ReducerManager </em>å®ä½“ã€‚å¹¶ä¸”çœ‹åˆ°å®ƒæ˜¯ç”±StoreModule.forRoot(â€¦)åœ¨è¿™é‡Œè°ƒç”¨<a class="ae ma" href="https://github.com/ngrx/platform/blob/8.6.0/modules/store/src/store_module.ts#L164" rel="noopener ugc nofollow" target="_blank"/>ä½œä¸ºREDUCER_MANAGER_PROVIDERSæä¾›çš„ã€‚ç­”æ¡ˆæ˜¯æ˜¾è€Œæ˜“è§çš„:æˆ‘ä»¬å¿˜è®°åœ¨out AppModuleä¸­åŒ…å«StoreModule.forRoot({})ã€‚</p><pre class="kn ko kp kq gt mi mj mk ml aw mm bi"><span id="7ed2" class="lc ld iq mj b gy mn mo l mp mq">// app.module.ts<br/>imports: [<br/>  StoreModule.forRoot({}),<br/>  StoreModule.forFeature(featureKey, {items: itemsReducer}),</span></pre><p id="d137" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨å®ƒå·¥ä½œå¾—å¾ˆå¥½ã€‚</p><p id="3ef8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="kl"> b) </em> </strong> <em class="kl">æˆ‘å‘ç°äº†ä¸€ä¸ªæ›´æœ‰è¶£çš„è¡Œä¸ºï¼Œä½†æ˜¯ä½¿ç”¨äº†StoreDevtoolsModule </em></p><p id="2732" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¥½çš„ï¼Œé‚£ä¹ˆæ‚¨å°†å®ƒæ·»åŠ åˆ°AppModule:</p><pre class="kn ko kp kq gt mi mj mk ml aw mm bi"><span id="b6c1" class="lc ld iq mj b gy mn mo l mp mq">imports: [<br/>  StoreDevtoolsModule.instrument({ maxAge: 25, logOnly: environment.production }),<br/>  StoreModule.forRoot({}),<br/>  StoreModule.forFeature(featureKey, {items: itemsReducer}),</span></pre><p id="36d4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä½†æ˜¯å½“ä½ åœ¨ChromeDevToolsä¸­æ‰“å¼€Reduxæ ‡ç­¾æ—¶ï¼Œä½ ä¼šçœ‹åˆ°è¿™ä¸ª:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi ng"><img src="../Images/fd6e5c6197d690628212f1b45005ce78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ska_gpHACxP_7o8O4c0VLA.png"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">æ‰¾ä¸åˆ°å•†åº—ã€‚</figcaption></figure><p id="e4e2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä¸ºä»€ä¹ˆï¼Ÿï¼Ÿ</p><p id="9de8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å› ä¸ºæˆ‘åªæ˜¯æŠŠStoreDevtoolsModuleæ”¾åœ¨StoreModule.forRootä¹‹å‰çš„<em class="kl"> imports </em>æ•°ç»„ä¸­ï¼Œæ‰€ä»¥çœ‹èµ·æ¥Angularè¯•å›¾åœ¨åˆ›å»ºä»»ä½•å­˜å‚¨ä¹‹å‰å®ä¾‹åŒ–å®ƒã€‚åªéœ€å°†StoreDevtoolsModuleæ”¾åœ¨app module decorator<em class="kl">imports</em>æ•°ç»„ä¸­StoreModule.forRootä¹‹åå³å¯ä¿®å¤é—®é¢˜ã€‚</p><pre class="kn ko kp kq gt mi mj mk ml aw mm bi"><span id="b7e1" class="lc ld iq mj b gy mn mo l mp mq">imports: [<br/>  StoreModule.forFeature(featureKey, {items: itemsReducer}),<br/>  StoreModule.forRoot({}),<br/>  StoreDevtoolsModule.instrument({ maxAge: 25, logOnly: environment.production }),</span></pre><p id="0712" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨å®ƒè¿è¡Œè‰¯å¥½:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi nh"><img src="../Images/6f499615cae1573fb48b41a8b2770368.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1ezAkljV6o4xcjknLBzOlw.png"/></div></div></figure><p id="f0fa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æœ‰è¶£çš„æ˜¯ï¼Œåœ¨Angular 9ä¸­ï¼Œå°†<em class="kl"> StoreModule.forFeature </em>æ”¾åœ¨StoreModule.forRootä¹‹å‰ä¸ä¼šäº§ç”Ÿä»»ä½•<a class="ae ma" href="https://github.com/ngrx/platform/issues/400" rel="noopener ugc nofollow" target="_blank">é—®é¢˜</a>ã€‚</p><p id="92d6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä½ å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°å’Œ<a class="ae ma" href="https://github.com/kievsash/ngrx-store-and5sillyMistakes/tree/pitfall_3_StoreDevtoolsModule_before_StoreModule.forRoot" rel="noopener ugc nofollow" target="_blank">ä¸€èµ·ç©çš„ä»£ç </a>ã€‚</p><p id="d063" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> #4ã€‚å¯¼å‡ºçš„ç¼©å‡å™¨å‡½æ•°æ˜¯å¿…è¦çš„ï¼Œå› ä¸ºAOTç¼–è¯‘å™¨ä¸æ”¯æŒå‡½æ•°è°ƒç”¨(åœ¨Angular 8ä¸­)ã€‚</strong></p><p id="8a2e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¿™ä¸ªé™·é˜±çš„åç§°å¬èµ·æ¥ä¸æ¸…æ¥šï¼Œä½†å®é™…ä¸Šéå¸¸ç®€å•ã€‚ä½ æœ‰å‡é€Ÿå™¨:</p><pre class="kn ko kp kq gt mi mj mk ml aw mm bi"><span id="7ce4" class="lc ld iq mj b gy mn mo l mp mq">export const counterReducer = createReducer(initialState,<br/>  on(increment, <em class="kl">state </em>=&gt; <em class="kl">state </em>+ 1),<br/>  on(decrement, <em class="kl">state </em>=&gt; <em class="kl">state </em>- 1),<br/>  on(reset, <em class="kl">state </em>=&gt; 0),<br/>);</span><span id="bc94" class="lc ld iq mj b gy mr mo l mp mq">@NgModule({<br/>  declarations: [],<br/>  imports: [<br/>    StoreModule.forRoot({ count: counterReducer })<br/>  ],<br/>  providers: [],<br/>})<br/>export class CounterStateModule { }</span></pre><p id="9bb2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å®ƒå·¥ä½œå¾—éå¸¸å¥½â€¦ç›´åˆ°æˆ‘ä»¬å°è¯•æ„å»ºäº§å“ä»£ç :</p><pre class="kn ko kp kq gt mi mj mk ml aw mm bi"><span id="73c0" class="lc ld iq mj b gy mn mo l mp mq">ERROR in Error during template compile of 'CounterStateModule'<br/>  Function calls are not supported in decorators but 'createReducer' was called in 'counterReducer'<br/>    'counterReducer' calls 'createReducer' at app/counter.state.ts</span></pre><p id="edcd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¿™æ˜¯ä¸€ä¸ªä¼—æ‰€å‘¨çŸ¥çš„é—®é¢˜ï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œé˜…è¯»æ›´å¤šå…³äºå®ƒçš„å†…å®¹ã€‚</p><p id="6753" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¹¸è¿çš„æ˜¯ï¼Œå½“æˆ‘ç”¨Ivy (ngRx/Store 8.6)åœ¨Angular 9é¡¹ç›®ä¸Šæµ‹è¯•çš„æ—¶å€™â€”â€”å·²ç»è§£å†³äº†ï¼ä½ å¯ä»¥åœ¨æœ¬æœŸ<a class="ae ma" href="https://github.com/ngrx/platform/issues/2241" rel="noopener ugc nofollow" target="_blank">ä¸­è¯»åˆ°æ›´å¤šç»†èŠ‚ã€‚</a></p><p id="94de" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä½ å¯ä»¥åœ¨è¿™é‡ŒæŸ¥çœ‹ä»£ç <a class="ae ma" href="https://github.com/kievsash/ngrx-store-and5sillyMistakes/tree/pitfall4_no_need_to_export_function_for_reducer" rel="noopener ugc nofollow" target="_blank">ã€‚</a></p><p id="7c1b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">å¤–å–:</strong>T33ã€‘æ›´æ–°åˆ°Angular 9 ğŸ˜</p><p id="4d2b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> #5ã€‚Action creatoræ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä½†æ˜¯å¦‚æœä½ å¿˜è®°æ”¾æ‹¬å·ï¼ŒngRxä¼šä¿æŒæ²‰é»˜ã€‚</strong></p><p id="6fb8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä¸‹é¢æ˜¯ä¸€ä¸ªå¯èƒ½çš„é™·é˜±é‡ç°ä»£ç :</p><pre class="kn ko kp kq gt mi mj mk ml aw mm bi"><span id="c264" class="lc ld iq mj b gy mn mo l mp mq">constructor(private store: Store&lt;{ count: number }&gt;) {<br/>}<br/><br/>selectAll() {<br/>  this.store.dispatch(select);//should be select() but no type error<br/>}<br/>unselectAll() {<br/>  this.store.dispatch(unselect()); // correct<br/>}</span></pre><p id="b75c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Typescriptåœ¨è¿™é‡Œå¸®ä¸äº†ä½ ã€‚ä½†å¹¸è¿çš„æ˜¯ï¼Œä½ ä¼šåœ¨ChromeDevToolsæ§åˆ¶å°ä¸­æ‰¾åˆ°æç¤º:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi ni"><img src="../Images/a59d30eeb81ac8675bba605ec83e0f1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M2RdZeTXQl0fbSOR5Xmv6g.png"/></div></div></figure><p id="7025" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¦ç‚¹:ä¸è¦æŠŠæ‰€æœ‰çš„é¸¡è›‹éƒ½æ”¾åœ¨æ‰“å­—ç­é‡ŒğŸ“æœ‰æ—¶å€™å¯èƒ½å¯¹ä½ æ²¡ä»€ä¹ˆå¸®åŠ©ã€‚</p><h2 id="d9fd" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">ç»“è®º</h2><p id="2a05" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">å¥½ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä»è¿™ç¯‡æ–‡ç« ä¸­å­¦åˆ°äº†ä»€ä¹ˆï¼Ÿ</p><ol class=""><li id="1f9e" class="nj nk iq jp b jq jr ju jv jy nl kc nm kg nn kk no np nq nr bi translated">ä½¿ç”¨<strong class="jp ir"> null </strong>è€Œä¸æ˜¯<strong class="jp ir"> undefined </strong>ä½œä¸º<em class="kl"> noValue </em>ä»¥ä¾¿èƒ½å¤Ÿåœ¨ReduxDevTools Chromeæ’ä»¶ä¸­è§‚å¯Ÿåˆ°ã€‚</li><li id="508c" class="nj nk iq jp b jq ns ju nt jy nu kc nv kg nw kk no np nq nr bi translated">StoreDevModuleå¯èƒ½ä¼šé™ä½åº”ç”¨ç¨‹åºçš„é€Ÿåº¦ã€‚ä¸ºé˜²æ­¢è¿™ç§æƒ…å†µå‘ç”Ÿï¼Œå°†<em class="kl">ä»…ç™»å½•</em>é€‰é¡¹è®¾ç½®ä¸º<em class="kl">çœŸã€‚</em></li><li id="7dd4" class="nj nk iq jp b jq ns ju nt jy nu kc nv kg nw kk no np nq nr bi translated">å½“æ‚¨è¿æ¥å…¶ä»–ngrx/StoreåŠŸèƒ½æ¨¡å—æ—¶ï¼Œä¸è¦å¿˜è®°å°†StoreModule.forRoot({})æ”¾åœ¨AppModuleä¸­ã€‚</li><li id="1d25" class="nj nk iq jp b jq ns ju nt jy nu kc nv kg nw kk no np nq nr bi translated">åœ¨Angular 9ä¸­ä¸éœ€è¦å¯¼å‡ºå‡é€Ÿå™¨åŠŸèƒ½ã€‚</li><li id="53e9" class="nj nk iq jp b jq ns ju nt jy nu kc nv kg nw kk no np nq nr bi translated">ä¸è¦å¿˜è®°åœ¨ä½ çš„è°ƒç”¨åŠ¨ä½œåˆ›å»ºå‡½æ•°ä¸­ä½¿ç”¨åœ†æ‹¬å·ã€‚</li></ol><p id="aa44" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨ä½ å¯ä»¥èŠ±æ›´å¤šçš„æ—¶é—´å’Œå®¶äººåœ¨ä¸€èµ·ï¼Œè€Œä¸æ˜¯è°ƒè¯•sessionsâ›·</p><p id="948b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è®©æˆ‘ä»¬åœ¨<a class="ae ma" href="https://twitter.com/El_Extremal" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">æ¨ç‰¹</strong> </a>ä¸Šä¿æŒè”ç³»å§ï¼</p><blockquote class="nx"><p id="4c25" class="ny nz iq bd oa ob oc od oe of og kk dk translated">é¡ºä¾¿è¯´ä¸€å¥ã€‚æˆ‘åœ¨Youtubeä¸Šå¼€å§‹äº†ä¸€ä¸ªè§†é¢‘æ•™ç¨‹ç³»åˆ—â€œ<a class="ae ma" href="https://www.youtube.com/watch?v=HI5f6naJdJ8&amp;list=PLNadw4d8-KMVSOffiYBuOlzvF38sO9pdu&amp;utm_content=educational&amp;utm_campaign=2019-11-13&amp;utm_source=email-sendgrid&amp;utm_term=8565702&amp;utm_medium=2586716" rel="noopener ugc nofollow" target="_blank"> <strong class="ak">æœ‰æ£±è§’å¯ä»¥æµªè´¹ä½ çš„æ—¶é—´</strong> </a>â€ã€‚åœ¨é‚£é‡Œï¼Œæˆ‘å°†å‘å¸ƒå…³äºç”¨Angularå’ŒRxJSè§£å†³æ£˜æ‰‹é—®é¢˜çš„è§†é¢‘ã€‚<a class="ae ma" href="https://www.youtube.com/watch?v=HI5f6naJdJ8&amp;list=PLNadw4d8-KMVSOffiYBuOlzvF38sO9pdu&amp;utm_content=educational&amp;utm_campaign=2019-11-13&amp;utm_source=email-sendgrid&amp;utm_term=8565702&amp;utm_medium=2586716" rel="noopener ugc nofollow" target="_blank"> <strong class="ak">çœ‹ä¸€çœ‹ï¼</strong> </a></p></blockquote><figure class="oi oj ok ol om kr gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/7e4179075ae6d7346e2e909726bef05b.png" data-original-src="https://miro.medium.com/v2/resize:fit:120/0*LVFcHyxCkdrmIg-T"/></div></figure><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi on"><img src="../Images/a127efd75f27954377d204aa15545c43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1188/format:webp/0*_mYOWVBC882P8ClS.png"/></div></figure><p id="5f8f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¹²æ¯ï¼</p></div></div>    
</body>
</html>