<html>
<head>
<title>NextJS + StorybookJS + Material-UI + Jest + SWR</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">next js+storybook js+Material-UI+Jest+SWR</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://itnext.io/nextjs-storybookjs-material-ui-jest-swr-fe2ff5cb9af8?source=collection_archive---------3-----------------------#2021-08-10">https://itnext.io/nextjs-storybookjs-material-ui-jest-swr-fe2ff5cb9af8?source=collection_archive---------3-----------------------#2021-08-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="0b0c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">è¿™æ˜¯æˆ‘æœ€å–œæ¬¢çš„æ–°åº”ç”¨ç¨‹åºè®¾ç½®ï¼Œæˆ‘æƒ³ä½ ä¹Ÿä¼šå–œæ¬¢çš„ã€‚</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/afca586f6186b934132abced44edbb3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gqD0B88-KfRdtrAYotR8Yw.jpeg"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">ç±³æ ¼å°”Â·Ãæ‹æ‘„çš„ç…§ç‰‡ã€‚å¸•å¾·é‡Œçº³æ¥è‡ª<a class="ae le" href="https://www.pexels.com/photo/paper-boats-on-solid-surface-194094/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">æ´¾å…‹æ–¯</a></figcaption></figure><p id="aa12" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">åƒNextJS(<a class="ae le" href="https://nextjs.org/" rel="noopener ugc nofollow" target="_blank">https://nextjs.org/</a>)è¿™æ ·çš„æ¡†æ¶å¯ä»¥å¸®åŠ©ä½ åœ¨å‡ ç§’é’Ÿå†…å¯åŠ¨ä¸€ä¸ªReactåº”ç”¨ç¨‹åºã€‚æ‚¨åªéœ€å®‰è£…å‡ ä¸ªNPMè½¯ä»¶åŒ…ï¼Œåˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œç§ï¼Œæ‚¨å°±æ‹¥æœ‰äº†Reactåº”ç”¨ç¨‹åºï¼Œå®ƒå…·æœ‰å“è¶Šçš„åŠŸèƒ½æ”¯æŒï¼Œä»¥åŠä¸€ä¸ªç”±è§£å†³æ–¹æ¡ˆã€ç¤ºä¾‹ã€æ–‡æ¡£å’Œå¼€å‘äººå‘˜ç»„æˆçš„åºå¤§ç”Ÿæ€ç³»ç»Ÿï¼Œéšæ—¶å¯ä»¥å¸®åŠ©æ‚¨æ„å»ºæ‚¨æ¢¦æƒ³ä¸­çš„SaaSåº”ç”¨ç¨‹åºæˆ–åª’ä½“ç½‘ç«™ã€‚</p><p id="0ef3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">å¯¹æˆ‘æ¥è¯´ï¼Œè¿™æ˜¯ç†æƒ³çš„å †æ ˆ(æˆªè‡³2021å¹´8æœˆ):</p><ul class=""><li id="ee1c" class="lf lg it js b jt ju jx jy kb lh kf li kj lj kn lk ll lm ln bi translated">NextJS:(<a class="ae le" href="https://nextjs.org/" rel="noopener ugc nofollow" target="_blank">https://nextjs.org/</a>)å¯¹æ‰€æœ‰ç°ä»£Reactç‰¹æ€§å’Œå·¥å…·æ— ä¸ä¼¦æ¯”çš„æ”¯æŒã€‚</li><li id="5ccc" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn lk ll lm ln bi translated">TypeScript:(<a class="ae le" href="https://www.typescriptlang.org/" rel="noopener ugc nofollow" target="_blank">https://www.typescriptlang.org/</a>)åŠæ—©å‘ç°ä¸€ç³»åˆ—å¯èƒ½ä¼šå›°æ‰°ä½ çš„åº”ç”¨ç¨‹åºçš„é”™è¯¯ã€‚</li><li id="3969" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn lk ll lm ln bi translated">material UI:(<a class="ae le" href="https://material-ui.com/" rel="noopener ugc nofollow" target="_blank">https://material-ui.com/</a>)è¿™ä¸ªUIå¥—ä»¶æœ‰å®Œæ•´çš„ç±»å‹è„šæœ¬æ”¯æŒå’Œä¸€å¥—éå¸¸å®Œæ•´çš„ç»„ä»¶ï¼Œè¿˜æœ‰ä¸€ä¸ªå¾ˆæ£’çš„ä¸»é¢˜APIå’Œé€šç”¨çš„<code class="fe lt lu lv lw b">Box</code>å’Œ<code class="fe lt lu lv lw b">Grid</code>ç»„ä»¶ã€‚</li><li id="926d" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn lk ll lm ln bi translated">storybook js:(<a class="ae le" href="https://storybook.js.org/" rel="noopener ugc nofollow" target="_blank">https://storybook.js.org/</a>)åœ¨Reactåº”ç”¨ä¸­ï¼Œæ²¡æœ‰æ›´å¥½æ›´ç®€å•çš„æ–¹æ³•æ¥æ„å»ºç•Œé¢äº†ã€‚</li><li id="70f9" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn lk ll lm ln bi translated">ç¬‘è¯:(<a class="ae le" href="https://jestjs.io/" rel="noopener ugc nofollow" target="_blank">https://jestjs.io/</a>)æµ‹è¯•ï¼Ÿè‚¯å®šçš„ï¼å¦åˆ™ä½ æ€ä¹ˆçŸ¥é“ä½ çš„ä»£ç æ˜¯æ­£ç¡®çš„ã€‚ä»å°å•å…ƒæµ‹è¯•å¼€å§‹ï¼Œç„¶åè¿›è¡Œæ›´å¤æ‚çš„é›†æˆæµ‹è¯•ã€‚</li><li id="68ef" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn lk ll lm ln bi translated">SWR:(<a class="ae le" href="https://swr.vercel.app/" rel="noopener ugc nofollow" target="_blank">https://swr.vercel.app/</a>)æˆ‘ä»¬å–œæ¬¢è¿™å¥—ç”¨äºè·å–æ•°æ®çš„å°é’©å­ã€‚æœ‰è¶³å¤Ÿå¤šçš„ä¸å¯çŸ¥è®ºè€…ï¼Œå¦‚æœæˆ‘ä»¬æ„¿æ„ï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒä¸RESTæˆ–GraphQLä¸€èµ·ä½¿ç”¨ã€‚(æˆ‘ç”¨<code class="fe lt lu lv lw b">axios</code>åšHTTPå®¢æˆ·ç«¯)</li></ul><h2 id="86e2" class="lx ly it bd lz ma mb dn mc md me dp mf kb mg mh mi kf mj mk ml kj mm mn mo mp bi translated">å¼•å¯¼NextJSåº”ç”¨ç¨‹åºã€‚</h2><p id="5520" class="pw-post-body-paragraph jq jr it js b jt mq jv jw jx mr jz ka kb ms kd ke kf mt kh ki kj mu kl km kn im bi translated">è®©æˆ‘ä»¬ä¸ºæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå¼•å¯¼ä¸€ä¸ªsaas-appæ–‡ä»¶å¤¹ï¼Œå¹¶å®‰è£…æ‰€æœ‰çš„NextJSä¾èµ–é¡¹ï¼ŒåŒ…æ‹¬TypeScriptã€‚</p><pre class="kp kq kr ks gt mv lw mw mx aw my bi"><span id="1d8a" class="lx ly it lw b gy mz na l nb nc"><strong class="lw iu">$ mkdir saas-app<br/>$ cd saas-app<br/>$ yarn init -y</strong><br/>yarn init v1.22.11</span><span id="2274" class="lx ly it lw b gy nd na l nb nc">warning The yes flag has been set. This will automatically answer yes to all questions, which may have security implications.</span><span id="d647" class="lx ly it lw b gy nd na l nb nc">success Saved package.json</span><span id="5385" class="lx ly it lw b gy nd na l nb nc">âœ¨  Done in 0.05s.</span><span id="4780" class="lx ly it lw b gy nd na l nb nc"><strong class="lw iu">$ yarn add next react react-dom</strong><br/>yarn add v1.22.11<br/>info No lockfile found.<br/>[1/4] ğŸ”  Resolving packages...<br/>warning next &gt; native-url &gt; querystring@0.2.1: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.<br/>warning next &gt; node-libs-browser &gt; url &gt; querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.<br/>[2/4] ğŸšš  Fetching packages...<br/>[3/4] ğŸ”—  Linking dependencies...<br/>[4/4] ğŸ”¨  Building fresh packages...</span><span id="645d" class="lx ly it lw b gy nd na l nb nc">success Saved lockfile.<br/>success Saved 197 new dependencies.<br/>info Direct dependencies<br/>â”œâ”€ next@11.0.1<br/>â”œâ”€ react-dom@17.0.2<br/>â””â”€ react@17.0.2<br/>info All dependencies<br/>â”œâ”€ <a class="ae le" href="http://twitter.com/babel/code-frame" rel="noopener ugc nofollow" target="_blank">@babel/code-frame</a>@7.12.11<br/>â”œâ”€ <a class="ae le" href="http://twitter.com/babel/helper-validator-identifi" rel="noopener ugc nofollow" target="_blank">@babel/helper-validator-identifi</a>er@7.14.9<br/>...</span></pre><p id="8705" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">ä¸‹ä¸€æ­¥æ˜¯åœ¨<code class="fe lt lu lv lw b">package.json</code>æ–‡ä»¶ä¸Šä¸º<code class="fe lt lu lv lw b">dev</code>ã€<code class="fe lt lu lv lw b">build</code>ã€<code class="fe lt lu lv lw b">start</code>å’Œ<code class="fe lt lu lv lw b">lint</code>åˆ›å»ºå¿…è¦çš„è„šæœ¬(æœ€è¿‘åœ¨v11ä¸Šæ”¯æŒ)ã€‚</p><pre class="kp kq kr ks gt mv lw mw mx aw my bi"><span id="ebc5" class="lx ly it lw b gy mz na l nb nc">{<br/>  "name": "saas-app",<br/>  "version": "1.0.0",<br/>  "main": "index.js",<br/>  "license": "MIT",<br/>  <strong class="lw iu">"scripts": {<br/>    "dev": "next",<br/>    "build": "next build",<br/>    "start": "next start",<br/>    "lint": "next lint"<br/>  },</strong><br/>  "dependencies": {<br/>    "next": "^11.0.1",<br/>    "react": "^17.0.2",<br/>    "react-dom": "^17.0.2"<br/>  }<br/>}</span></pre><p id="4b0e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">ç”¨TypeScriptåœ¨<code class="fe lt lu lv lw b">src/pages/index.tsx</code>åˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ªé¡µé¢(è¿™å°†å‘Šè¯‰NextJSæˆ‘ä»¬æƒ³è¦ä½¿ç”¨å®ƒï¼Œæ‰€ä»¥å®ƒå¯ä»¥æ¨èå¿…è¦çš„ä¾èµ–é¡¹)ã€‚</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="e76e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">è¿è¡Œ<code class="fe lt lu lv lw b">yarn dev</code></p><pre class="kp kq kr ks gt mv lw mw mx aw my bi"><span id="d341" class="lx ly it lw b gy mz na l nb nc"><strong class="lw iu">$ yarn dev</strong><br/>yarn run v1.22.11<br/>$ next<br/>ready - started server on 0.0.0.0:3000, url: <a class="ae le" href="http://localhost:3000" rel="noopener ugc nofollow" target="_blank">http://localhost:3000</a><br/>info  - Using webpack 5. Reason: Enabled by default <a class="ae le" href="https://nextjs.org/docs/messages/webpack5" rel="noopener ugc nofollow" target="_blank">https://nextjs.org/docs/messages/webpack5</a><br/>It looks like you're trying to use TypeScript but do not have the required package(s) installed.</span><span id="c863" class="lx ly it lw b gy nd na l nb nc">Please install typescript and <a class="ae le" href="http://twitter.com/types/react" rel="noopener ugc nofollow" target="_blank">@types/react</a> by running:</span><span id="7fdd" class="lx ly it lw b gy nd na l nb nc">yarn add --dev typescript <a class="ae le" href="http://twitter.com/types/react" rel="noopener ugc nofollow" target="_blank">@types/react</a></span><span id="0e02" class="lx ly it lw b gy nd na l nb nc">If you are not trying to use TypeScript, please remove the tsconfig.json file from your package root (and any TypeScript files in your pages directory).</span><span id="b9ad" class="lx ly it lw b gy nd na l nb nc">error Command failed with exit code 1.<br/>info Visit <a class="ae le" href="https://yarnpkg.com/en/docs/cli/run" rel="noopener ugc nofollow" target="_blank">https://yarnpkg.com/en/docs/cli/run</a> for documentation about this command.</span></pre><p id="7b3b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">å¦‚ä½ æ‰€è§ï¼Œè¦æ±‚æˆ‘ä»¬å®‰è£…TypeScriptä¾èµ–é¡¹ï¼Œç„¶åå†æ¬¡è¿è¡Œ<code class="fe lt lu lv lw b">yarn dev</code>ã€‚</p><pre class="kp kq kr ks gt mv lw mw mx aw my bi"><span id="4c9d" class="lx ly it lw b gy mz na l nb nc"><strong class="lw iu">$ yarn add --dev typescript </strong><a class="ae le" href="http://twitter.com/types/react" rel="noopener ugc nofollow" target="_blank"><strong class="lw iu">@types/react</strong></a><br/>yarn add v1.22.11<br/>[1/4] ğŸ”  Resolving packages...<br/>[2/4] ğŸšš  Fetching packages...<br/>[3/4] ğŸ”—  Linking dependencies...<br/>[4/4] ğŸ”¨  Building fresh packages...<br/>success Saved lockfile.<br/>success Saved 5 new dependencies.<br/>info Direct dependencies<br/>â”œâ”€ <a class="ae le" href="http://twitter.com/types/react" rel="noopener ugc nofollow" target="_blank">@types/react</a>@17.0.16<br/>â””â”€ typescript@4.3.5<br/>info All dependencies<br/>â”œâ”€ <a class="ae le" href="http://twitter.com/types/prop-types" rel="noopener ugc nofollow" target="_blank">@types/prop-types</a>@15.7.4<br/>â”œâ”€ <a class="ae le" href="http://twitter.com/types/react" rel="noopener ugc nofollow" target="_blank">@types/react</a>@17.0.16<br/>â”œâ”€ <a class="ae le" href="http://twitter.com/types/scheduler" rel="noopener ugc nofollow" target="_blank">@types/scheduler</a>@0.16.2<br/>â”œâ”€ csstype@3.0.8<br/>â””â”€ typescript@4.3.5<br/>âœ¨  Done in 1.65s.</span><span id="e85f" class="lx ly it lw b gy nd na l nb nc"><strong class="lw iu">$ yarn dev</strong><br/>yarn run v1.22.11<br/>$ next<br/>ready - started server on 0.0.0.0:3000, url: <a class="ae le" href="http://localhost:3000" rel="noopener ugc nofollow" target="_blank">http://localhost:3000</a><br/>info  - Using webpack 5. Reason: Enabled by default <a class="ae le" href="https://nextjs.org/docs/messages/webpack5" rel="noopener ugc nofollow" target="_blank">https://nextjs.org/docs/messages/webpack5</a><br/>event - compiled successfully</span></pre><p id="6509" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">å¯¼èˆªè‡³<code class="fe lt lu lv lw b"><a class="ae le" href="http://localhost:3000" rel="noopener ugc nofollow" target="_blank">http://localhost:3000</a></code>æ‚¨å°†çœ‹åˆ°â€¦</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ng"><img src="../Images/a7058f5af8e076c44caca95f009284fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K7SROrnU6AeO9K4MSAw8Sw.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">NextJSåº”ç”¨ç¨‹åºæ­£åœ¨è¿è¡Œ</figcaption></figure><p id="61f7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">è®¾ç½®NextJSçš„æœ€åä¸€æ­¥æ˜¯è¿è¡Œlinter(åŒ…å«åœ¨v11ä¸­):</p><pre class="kp kq kr ks gt mv lw mw mx aw my bi"><span id="0f1e" class="lx ly it lw b gy mz na l nb nc"><strong class="lw iu">$ yarn lint</strong><br/>yarn run v1.22.11<br/>$ next lint<br/>To use ESLint, additional required package(s) must be installed.</span><span id="8f43" class="lx ly it lw b gy nd na l nb nc">Please install eslint and eslint-config-next by running:</span><span id="851c" class="lx ly it lw b gy nd na l nb nc">yarn add --dev eslint eslint-config-next</span><span id="09ac" class="lx ly it lw b gy nd na l nb nc">Once installed, run next lint again.</span><span id="a70c" class="lx ly it lw b gy nd na l nb nc">error Command failed with exit code 1.<br/>info Visit <a class="ae le" href="https://yarnpkg.com/en/docs/cli/run" rel="noopener ugc nofollow" target="_blank">https://yarnpkg.com/en/docs/cli/run</a> for documentation about this command.</span></pre><p id="0d2f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">NextJSå†æ¬¡è¦æ±‚æˆ‘ä»¬å®‰è£…æ‰€éœ€çš„ä¾èµ–é¡¹:</p><pre class="kp kq kr ks gt mv lw mw mx aw my bi"><span id="2d4c" class="lx ly it lw b gy mz na l nb nc"><strong class="lw iu">$ yarn add --dev eslint eslint-config-next</strong><br/>yarn add v1.22.11<br/>[1/4] ğŸ”  Resolving packages...<br/>[2/4] ğŸšš  Fetching packages...<br/>[3/4] ğŸ”—  Linking dependencies...<br/>[4/4] ğŸ”¨  Building fresh packages...<br/>success Saved lockfile.<br/>success Saved 137 new dependencies.<br/>info Direct dependencies<br/>â”œâ”€ eslint-config-next@11.0.1<br/>â””â”€ eslint@7.32.0<br/>info All dependencies<br/>â”œâ”€ <a class="ae le" href="http://twitter.com/babel/runtime-corejs3" rel="noopener ugc nofollow" target="_blank">@babel/runtime-corejs3</a>@7.14.9<br/>â”œâ”€ <a class="ae le" href="http://twitter.com/babel/runtime" rel="noopener ugc nofollow" target="_blank">@babel/runtime</a>@7.14.8<br/>...</span></pre><p id="9811" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">å®‰è£…åï¼Œæˆ‘ä»¬å¯ä»¥:</p><pre class="kp kq kr ks gt mv lw mw mx aw my bi"><span id="d49c" class="lx ly it lw b gy mz na l nb nc"><strong class="lw iu">$ yarn lint</strong><br/>yarn run v1.22.11<br/>$ next lint<br/>We created the .eslintrc file for you and included the base Next.js ESLint configuration.<br/>info  - Using webpack 5. Reason: Enabled by default <a class="ae le" href="https://nextjs.org/docs/messages/webpack5" rel="noopener ugc nofollow" target="_blank">https://nextjs.org/docs/messages/webpack5</a><br/>âœ” No ESLint warnings or errors<br/>âœ¨  Done in 1.67s.</span></pre><p id="fa68" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">è€¶ï¼æ²¡æœ‰é”™è¯¯æˆ–è­¦å‘Š</p><p id="3371" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æˆ‘ä»¬å°†åœ¨NextJS configä¸Šä¸ºTypeScriptæ›´æ”¹çš„æœ€åä¸€ä¸ªè®¾ç½®æ˜¯ä¿®æ”¹tsconfig.jsonæ–‡ä»¶ä¸Šçš„baseUrlå±æ€§ï¼Œä»¥å°†æ‰€æœ‰ä»£ç çš„åŸºæœ¬è·¯å¾„æ›´æ”¹ä¸ºä»srcæ–‡ä»¶å¤¹å¼€å§‹ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥é¿å…å¯¼å…¥ç›¸å¯¹è·¯å¾„ï¼Œè€Œæ€»æ˜¯ä½¿ç”¨ä»srcæ–‡ä»¶å¤¹å¼€å§‹çš„ç»å¯¹è·¯å¾„ã€‚</p><pre class="kp kq kr ks gt mv lw mw mx aw my bi"><span id="3e37" class="lx ly it lw b gy mz na l nb nc">{<br/>  "compilerOptions": {<br/>    "target": "es5",<br/>    "lib": [<br/>      "dom",<br/>      "dom.iterable",<br/>      "esnext"<br/>    ],<br/>    "allowJs": true,<br/>    "skipLibCheck": true,<br/>    "strict": false,<br/>    "forceConsistentCasingInFileNames": true,<br/>    "noEmit": true,<br/>    "esModuleInterop": true,<br/>    "module": "esnext",<br/>    "moduleResolution": "node",<br/>    "resolveJsonModule": true,<br/>    "isolatedModules": true,<br/>    "jsx": "preserve",<br/>    <strong class="lw iu">"baseUrl": "./src"</strong><br/>  },<br/>  "include": [<br/>    "next-env.d.ts",<br/>    "**/*.ts",<br/>    "**/*.tsx"<br/>  ],<br/>  "exclude": [<br/>    "node_modules"<br/>  ]<br/>}</span></pre><h2 id="86ba" class="lx ly it bd lz ma mb dn mc md me dp mf kb mg mh mi kf mj mk ml kj mm mn mo mp bi translated">ä½¿ç”¨MaterialUIåˆ›å»ºç»„ä»¶</h2><p id="d752" class="pw-post-body-paragraph jq jr it js b jt mq jv jw jx mr jz ka kb ms kd ke kf mt kh ki kj mu kl km kn im bi translated">å®‰è£…MaterialUIæ ¸å¿ƒæ¨¡å—å’Œå›¾æ ‡æ¨¡å—ã€‚</p><pre class="kp kq kr ks gt mv lw mw mx aw my bi"><span id="d6a1" class="lx ly it lw b gy mz na l nb nc"><strong class="lw iu">$ yarn add </strong><a class="ae le" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank"><strong class="lw iu">@material</strong></a><strong class="lw iu">-ui/core </strong><a class="ae le" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank"><strong class="lw iu">@material</strong></a><strong class="lw iu">-ui/icons</strong><br/>yarn add v1.22.11<br/>[1/4] ğŸ”  Resolving packages...<br/>[2/4] ğŸšš  Fetching packages...<br/>[3/4] ğŸ”—  Linking dependencies...<br/>[4/4] ğŸ”¨  Building fresh packages...</span><span id="a898" class="lx ly it lw b gy nd na l nb nc">success Saved lockfile.<br/>success Saved 19 new dependencies.<br/>info Direct dependencies<br/>â”œâ”€ <a class="ae le" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core@4.12.3<br/>â””â”€ <a class="ae le" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/icons@4.11.2<br/>info All dependencies<br/>â”œâ”€ <a class="ae le" href="http://twitter.com/emotion/hash" rel="noopener ugc nofollow" target="_blank">@emotion/hash</a>@0.8.0<br/>â”œâ”€ <a class="ae le" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core@4.12.3<br/>...</span></pre><p id="0976" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">ä¸ºäº†è®©MaterialUIåœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“(SSR)åº”ç”¨ç¨‹åºå’ŒåŸºäºå®¢æˆ·ç«¯çš„åº”ç”¨ç¨‹åºä¸Šéƒ½èƒ½å¾ˆå¥½åœ°å·¥ä½œï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹æˆ‘ä»¬çš„NextJSåº”ç”¨ç¨‹åºä¸Šçš„ä¸¤ä¸ªæ–‡ä»¶:<code class="fe lt lu lv lw b">src/pages/_app.tsx</code>å’Œ<code class="fe lt lu lv lw b">src/pages/_document.tsx</code></p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="ne nf l"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">src/pages/_app.tsxæ–‡ä»¶</figcaption></figure><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="ne nf l"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">src/pages/_document.tsxæ–‡ä»¶</figcaption></figure><p id="98d3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æœ‰äº†è¿™äº›æ–‡ä»¶ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥ä¿®æ”¹index.tsxé¡µé¢ä»¥åŒ…å«å®é™…çš„MaterialUIç»„ä»¶:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="ne nf l"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">å¸¦æœ‰MaterialUIç»„ä»¶çš„src/pages/index.tsxæ–‡ä»¶</figcaption></figure><p id="9ba1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">ä½¿ç”¨yarn devè¿è¡Œæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå°†ä¸ºæˆ‘ä»¬å¸¦æ¥:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ng"><img src="../Images/955027e316b83135849444dfcae62570.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HXHKFQAYE8eR-S7Vnn79Og.png"/></div></div></figure><h2 id="797b" class="lx ly it bd lz ma mb dn mc md me dp mf kb mg mh mi kf mj mk ml kj mm mn mo mp bi translated">åœ¨StorybookJSä¸Šåˆ›å»ºç»„ä»¶</h2><p id="82e5" class="pw-post-body-paragraph jq jr it js b jt mq jv jw jx mr jz ka kb ms kd ke kf mt kh ki kj mu kl km kn im bi translated">æ¥è‡ªStorybookJSç½‘ç«™:</p><blockquote class="nh ni nj"><p id="3c5d" class="jq jr nk js b jt ju jv jw jx jy jz ka nl kc kd ke nm kg kh ki nn kk kl km kn im bi translated">Storybookæ˜¯ä¸€ä¸ªUIå¼€å‘å·¥å…·ã€‚å®ƒé€šè¿‡éš”ç¦»ç»„ä»¶ä½¿å¼€å‘æ›´å¿«æ›´å®¹æ˜“ã€‚è¿™å…è®¸æ‚¨ä¸€æ¬¡å¤„ç†ä¸€ä¸ªç»„ä»¶ã€‚æ‚¨å¯ä»¥å¼€å‘æ•´ä¸ªuiï¼Œè€Œä¸éœ€è¦å¯åŠ¨å¤æ‚çš„å¼€å‘å †æ ˆã€å°†æŸäº›æ•°æ®å¼ºåˆ¶è¾“å…¥æ•°æ®åº“æˆ–åœ¨åº”ç”¨ç¨‹åºä¸­å¯¼èˆªã€‚</p></blockquote><p id="6f75" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">è¦åœ¨æ‚¨çš„é¡¹ç›®ä¸­å®‰è£…å®ƒï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ“ä½œ:</p><pre class="kp kq kr ks gt mv lw mw mx aw my bi"><span id="7172" class="lx ly it lw b gy mz na l nb nc"><strong class="lw iu">$ npx sb init</strong></span><span id="5e37" class="lx ly it lw b gy nd na l nb nc">sb init - the simplest way to add a Storybook to your project.</span><span id="0e74" class="lx ly it lw b gy nd na l nb nc">â€¢ Detecting project type. âœ“<br/>yarn add v1.22.11<br/>[1/4] ğŸ”  Resolving packages...<br/>[2/4] ğŸšš  Fetching packages...<br/>[3/4] ğŸ”—  Linking dependencies...<br/>[4/4] ğŸ”¨  Building fresh packages...<br/>success Saved lockfile.<br/>success Saved 552 new dependencies.<br/>info Direct dependencies<br/>â”œâ”€ <a class="ae le" href="http://twitter.com/babel/core" rel="noopener ugc nofollow" target="_blank">@babel/core</a>@7.15.0<br/>â”œâ”€ <a class="ae le" href="http://twitter.com/storybook/addon-actions" rel="noopener ugc nofollow" target="_blank">@storybook/addon-actions</a>@6.3.7<br/>â”œâ”€ <a class="ae le" href="http://twitter.com/storybook/addon-essentials" rel="noopener ugc nofollow" target="_blank">@storybook/addon-essentials</a>@6.3.7<br/>â”œâ”€ <a class="ae le" href="http://twitter.com/storybook/addon-links" rel="noopener ugc nofollow" target="_blank">@storybook/addon-links</a>@6.3.7<br/>â””â”€ <a class="ae le" href="http://twitter.com/storybook/react" rel="noopener ugc nofollow" target="_blank">@storybook/react</a>@6.3.7<br/>info All dependencies<br/>â”œâ”€ <a class="ae le" href="http://twitter.com/babel/code-frame" rel="noopener ugc nofollow" target="_blank">@babel/code-frame</a>@7.14.5<br/>â”œâ”€ <a class="ae le" href="http://twitter.com/babel/compat-data" rel="noopener ugc nofollow" target="_blank">@babel/compat-data</a>@7.15.0<br/>...<br/>â””â”€ yargs@16.2.0<br/>âœ¨  Done in 35.16s.<br/>. âœ“<br/> â€¢ Preparing to install dependencies. âœ“</span><span id="be0b" class="lx ly it lw b gy nd na l nb nc">yarn install v1.22.11<br/>[1/4] ğŸ”  Resolving packages...<br/>success Already up-to-date.<br/>âœ¨  Done in 0.58s.<br/>. âœ“</span><span id="2152" class="lx ly it lw b gy nd na l nb nc">To run your Storybook, type:</span><span id="5012" class="lx ly it lw b gy nd na l nb nc">yarn storybook</span><span id="08fc" class="lx ly it lw b gy nd na l nb nc">For more information visit: <a class="ae le" href="https://storybook.js.org" rel="noopener ugc nofollow" target="_blank">https://storybook.js.org</a></span></pre><p id="14aa" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">å®‰è£…å®Œæˆåï¼Œæˆ‘ä»¬å·²ç»å¯ä»¥è¿è¡Œ<code class="fe lt lu lv lw b">yarn storybook</code>æ¥æŸ¥çœ‹æ•…äº‹ä¹¦å’Œè‡ªåŠ¨å®‰è£…çš„ä¾‹å­ã€‚</p><pre class="kp kq kr ks gt mv lw mw mx aw my bi"><span id="4697" class="lx ly it lw b gy mz na l nb nc">$ yarn storybook<br/>...<br/>â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®<br/>â”‚                                                    â”‚<br/>â”‚   Storybook 6.3.7 started                          â”‚<br/>â”‚   7.7 s for preview                                â”‚<br/>â”‚                                                    â”‚<br/>â”‚    Local:            <a class="ae le" href="http://localhost:6006/" rel="noopener ugc nofollow" target="_blank">http://localhost:6006/</a>        â”‚<br/>â”‚    On your network:  <a class="ae le" href="http://10.183.191.72:6006/" rel="noopener ugc nofollow" target="_blank">http://10.183.191.72:6006/</a>    â”‚<br/>â”‚                                                    â”‚<br/>â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ng"><img src="../Images/d7cad91c213b1eb3f403c89bf9b823e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fS0WLYY8TPHKU0jNLTZs3g.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">æ•…äº‹ä¹¦</figcaption></figure><p id="a4a3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æˆ‘ä»¬éœ€è¦ä¿®æ”¹ä¸€äº›ä¸œè¥¿ï¼Œä½¿è¿™æœ¬æ•…äº‹ä¹¦ä¸æˆ‘ä»¬çš„NextJSå’ŒMaterialUIè®¾ç½®å…¼å®¹ã€‚é¦–å…ˆï¼Œè®©æˆ‘ä»¬å®‰è£…<code class="fe lt lu lv lw b">storybook-addon-material-ui addon</code>å¹¶åœ¨æ•…äº‹ä¹¦è®¾ç½®æ–‡ä»¶ä¸­é…ç½®å®ƒã€‚</p><pre class="kp kq kr ks gt mv lw mw mx aw my bi"><span id="1da7" class="lx ly it lw b gy mz na l nb nc"><strong class="lw iu">$ yarn add --dev storybook-addon-material-ui</strong><br/>yarn add v1.22.11<br/>[1/4] ğŸ”  Resolving packages...<br/>[2/4] ğŸšš  Fetching packages...<br/>[3/4] ğŸ”—  Linking dependencies...<br/>[4/4] ğŸ”¨  Building fresh packages...<br/>success Saved lockfile.<br/>success Saved 12 new dependencies.<br/>info Direct dependencies<br/>â””â”€ storybook-addon-material-ui@0.9.0-alpha.24<br/>info All dependencies<br/>â”œâ”€ <a class="ae le" href="http://twitter.com/usulpro/color-picker" rel="noopener ugc nofollow" target="_blank">@usulpro/color-picker</a>@1.1.4<br/>â”œâ”€ abbrev@1.1.1<br/>â”œâ”€ babel-runtime@6.26.0<br/>...<br/>âœ¨  Done in 7.15s.</span></pre><p id="6243" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe lt lu lv lw b">.storybook/main.js</code>åº”ä¿®æ”¹ä¸ºåŒ…æ‹¬ä»¥ä¸‹è¡Œ(ç²—ä½“):</p><pre class="kp kq kr ks gt mv lw mw mx aw my bi"><span id="eda8" class="lx ly it lw b gy mz na l nb nc"><strong class="lw iu">const path = require('path')</strong></span><span id="5d6f" class="lx ly it lw b gy nd na l nb nc">module.exports = {<br/>  <strong class="lw iu">webpackFinal: async config =&gt; {<br/>    config.resolve.modules.push(path.resolve(__dirname, '../src'))<br/>    return config<br/>  },</strong><br/>  stories: [<br/>    '../src/**/*.stories.mdx', <br/>    '../src/**/*.stories.@(js|jsx|ts|tsx)'<br/>  ],<br/>  addons: [<br/>    '<a class="ae le" href="http://twitter.com/storybook/addon-links" rel="noopener ugc nofollow" target="_blank">@storybook/addon-links</a>', <br/>    '<a class="ae le" href="http://twitter.com/storybook/addon-essentials" rel="noopener ugc nofollow" target="_blank">@storybook/addon-essentials</a>', <br/>    <strong class="lw iu">'storybook-addon-material-ui'</strong><br/>  ]<br/>}</span></pre><p id="8fd9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">åœ¨<code class="fe lt lu lv lw b">.storybook/preview.js</code>æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬åº”è¯¥åŒ…å«MaterialUIä¸»é¢˜æ’ä»¶è£…é¥°å™¨:</p><pre class="kp kq kr ks gt mv lw mw mx aw my bi"><span id="17aa" class="lx ly it lw b gy mz na l nb nc"><strong class="lw iu">import { muiTheme } from 'storybook-addon-material-ui'</strong></span><span id="46b1" class="lx ly it lw b gy nd na l nb nc"><strong class="lw iu">export const decorators = [muiTheme()]</strong></span><span id="9476" class="lx ly it lw b gy nd na l nb nc">export const parameters = {<br/>  actions: { argTypesRegex: '^on[A-Z].*' },<br/>  controls: {<br/>    matchers: {<br/>      color: /(background|color)$/i,<br/>      date: /Date$/<br/>    }<br/>  }<br/>}</span></pre><p id="84fd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">åˆ é™¤src/storybookæ–‡ä»¶å¤¹ï¼Œå…¶ä¸­åŒ…å«storybookå®‰è£…ä¸­çš„æ¼”ç¤ºç¤ºä¾‹ã€‚è®©æˆ‘ä»¬åˆ›å»ºè‡ªå·±çš„ç»„ä»¶ï¼Œå¹¶æŠŠå®ƒæ”¾åœ¨æ•…äº‹ä¹¦é‡Œã€‚</p><p id="bff1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">ç»„ä»¶æ˜¯åœ¨src/componentsæ–‡ä»¶å¤¹ä¸­è‡ªå·±çš„æ–‡ä»¶å¤¹ä¸­åˆ›å»ºçš„:<code class="fe lt lu lv lw b">src/components/SubscribeHero/SubscribeHero.tsx</code></p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="ne nf l"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">src/components/subscribe hero/subscribe hero . tsx</figcaption></figure><p id="b092" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">è¿™ä¸ªç»„ä»¶çš„æ•…äº‹ä¹¦:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="ne nf l"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">src/components/subscribe hero/subscribe hero . stories . tsx</figcaption></figure><p id="ea47" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">è¿è¡Œæ•…äº‹ä¹¦å¹¶æ£€æŸ¥æ‚¨çš„æ–°æ•…äº‹ã€‚</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi no"><img src="../Images/24dd24861433572e819aecb9e8cf6c3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7bPV03PIbYsY1VN1-MjuiA.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">è®¢æˆ·ç»„ä»¶</figcaption></figure><h2 id="dba4" class="lx ly it bd lz ma mb dn mc md me dp mf kb mg mh mi kf mj mk ml kj mm mn mo mp bi translated">ç”¨ç¬‘è¯æµ‹è¯•å¾ˆå®¹æ˜“ã€‚</h2><p id="c99c" class="pw-post-body-paragraph jq jr it js b jt mq jv jw jx mr jz ka kb ms kd ke kf mt kh ki kj mu kl km kn im bi translated">å•å…ƒæµ‹è¯•åº”è¯¥å¾ˆå®¹æ˜“æ·»åŠ åˆ°æ‚¨çš„é¡¹ç›®ä¸­ã€‚æˆ‘çŸ¥é“å¯¹äºä¸€ä¸ªSaaS MVPæ¥è¯´ï¼Œè¿™å¬èµ·æ¥æœ‰ç‚¹è¿‡å¤´äº†ã€‚æˆ‘çš„æ–¹æ³•æ˜¯ä¸ºä¸€äº›æ§åˆ¶æˆ‘çš„åº”ç”¨ç¨‹åºé€»è¾‘çš„é‡è¦éƒ¨åˆ†çš„å‡½æ•°åˆ›å»ºå®ƒä»¬ã€‚</p><p id="4fa7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">ä¸ºäº†åœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­å¢åŠ å¯¹Jestæµ‹è¯•çš„æ”¯æŒï¼Œæˆ‘ä»¬å®‰è£…äº†:</p><pre class="kp kq kr ks gt mv lw mw mx aw my bi"><span id="27be" class="lx ly it lw b gy mz na l nb nc"><strong class="lw iu">$ yarn add --dev jest </strong><a class="ae le" href="http://twitter.com/types/jest" rel="noopener ugc nofollow" target="_blank"><strong class="lw iu">@types/jest</strong></a><strong class="lw iu"> ts-jest      </strong><br/>yarn add v1.22.11<br/>[1/4] ğŸ”  Resolving packages...<br/>[2/4] ğŸšš  Fetching packages...<br/>[3/4] ğŸ”—  Linking dependencies...<br/>[4/4] ğŸ”¨  Building fresh packages...<br/>success Saved lockfile.<br/>success Saved 77 new dependencies.<br/>info Direct dependencies<br/>â”œâ”€ <a class="ae le" href="http://twitter.com/types/jest" rel="noopener ugc nofollow" target="_blank">@types/jest</a>@26.0.24<br/>â”œâ”€ jest@27.0.6<br/>â””â”€ ts-jest@27.0.4<br/>info All dependencies<br/>â”œâ”€ <a class="ae le" href="http://twitter.com/babel/plugin-syntax-bigint" rel="noopener ugc nofollow" target="_blank">@babel/plugin-syntax-bigint</a>@7.8.3<br/>â”œâ”€ <a class="ae le" href="http://twitter.com/babel/plugin-syntax-import-meta" rel="noopener ugc nofollow" target="_blank">@babel/plugin-syntax-import-meta</a>@7.10.4<br/>...<br/>âœ¨  Done in 9.09s.</span></pre><p id="82c2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">ä¿®æ”¹<code class="fe lt lu lv lw b">package.json</code>æ–‡ä»¶ï¼Œæ·»åŠ <code class="fe lt lu lv lw b">test</code>è„šæœ¬:</p><pre class="kp kq kr ks gt mv lw mw mx aw my bi"><span id="d785" class="lx ly it lw b gy mz na l nb nc">{<br/>  "name": "saas-app",<br/>  "version": "1.0.0",<br/>  "main": "index.js",<br/>  "license": "MIT",<br/>  "scripts": {<br/>    ...<br/>    <strong class="lw iu">"test": "jest"</strong><br/>  },<br/>  "dependencies": {<br/>    ...<br/>  },<br/>  "devDependencies": {<br/>    ...<br/>  }<br/>}</span></pre><p id="23de" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">åœ¨è¿™ä¹‹åï¼Œæˆ‘ä»¬åˆ›å»ºäº†<code class="fe lt lu lv lw b">jest.config.js</code>æ–‡ä»¶:</p><pre class="kp kq kr ks gt mv lw mw mx aw my bi"><span id="2d2f" class="lx ly it lw b gy mz na l nb nc">module.exports = {<br/>  modulePaths: ['&lt;rootDir&gt;/src'],<br/>  testPathIgnorePatterns: [<br/>    '&lt;rootDir&gt;/.next/', <br/>    '&lt;rootDir&gt;/node_modules/'<br/>  ]<br/>}</span></pre><p id="6404" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">ä¸ºäº†ç¡®ä¿æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨TypeScriptç¼–å†™æµ‹è¯•ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æ ¹æ–‡ä»¶å¤¹ä¸Šæ·»åŠ ä¸€ä¸ª<code class="fe lt lu lv lw b">.babelrc</code>ã€‚</p><pre class="kp kq kr ks gt mv lw mw mx aw my bi"><span id="5d63" class="lx ly it lw b gy mz na l nb nc">{<br/>  "presets": ["next/babel"]<br/>}</span></pre><p id="6e10" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">å¹¶ç”¨ä¸€ä¸ªç®€å•çš„å‡½æ•°åŠå…¶æµ‹è¯•æ¥å°è¯•è¿™ä¸€åˆ‡ã€‚</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="ne nf l"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">src/lib/email.ts</figcaption></figure><p id="819b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æµ‹è¯•å°†åœ¨åµŒå¥—æ–‡ä»¶å¤¹<code class="fe lt lu lv lw b">__tests__</code>ä¸Šåˆ›å»º</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="ne nf l"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">src/lib/_ _ tests _ _/email . test . ts</figcaption></figure><p id="4854" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">è¿è¡Œæµ‹è¯•å°†ä¸ºæˆ‘ä»¬æä¾›:</p><pre class="kp kq kr ks gt mv lw mw mx aw my bi"><span id="d463" class="lx ly it lw b gy mz na l nb nc"><strong class="lw iu">$ yarn test</strong><br/>yarn run v1.22.11<br/>$ jest<br/> PASS  src/lib/__tests__/email.test.ts<br/>  isValidEmail<br/>    âœ“ valid email (1 ms)<br/>    âœ“ invalid email</span><span id="8d1b" class="lx ly it lw b gy nd na l nb nc">Test Suites: 1 passed, 1 total<br/>Tests:       2 passed, 2 total<br/>Snapshots:   0 total<br/>Time:        0.687 s, estimated 1 s<br/>Ran all test suites.<br/>âœ¨  Done in 1.77s.</span></pre><p id="0fbd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">å…¨ç»¿ï¼ï¼</p><h1 id="78c6" class="np ly it bd lz nq nr ns mc nt nu nv mf nw nx ny mi nz oa ob ml oc od oe mo of bi translated">APIå’Œæ•°æ®è·å–å®Œæˆæ‚¨çš„è®¾ç½®ã€‚</h1><p id="35c3" class="pw-post-body-paragraph jq jr it js b jt mq jv jw jx mr jz ka kb ms kd ke kf mt kh ki kj mu kl km kn im bi translated">SaaS MVPä¸éœ€è¦å¤æ‚çš„å¾®æœåŠ¡æ¶æ„ã€‚å½“ç„¶æœ‰äº›äººä¼šï¼Œä½†å¤§å¤šæ•°äººä¸ä¼šã€‚</p><p id="f6c6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">NextJSè¿˜æ”¯æŒåˆ›å»ºAPIï¼Œå› æ­¤æˆ‘ä»¬å°†ä½¿ç”¨å®ƒæ¥åˆ›å»ºä¸€ä¸ªæ³¨å†ŒAPIåç«¯ï¼Œå¹¶åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨å®ƒæ¥:</p><ol class=""><li id="fdc3" class="lf lg it js b jt ju jx jy kb lh kf li kj lj kn og ll lm ln bi translated">æäº¤è®¢é˜…çš„ç”µå­é‚®ä»¶åœ°å€</li><li id="a503" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn og ll lm ln bi translated">æŸ¥è¯¢è®¢é˜…çš„ç”µå­é‚®ä»¶åœ°å€ä»¥æ˜¾ç¤ºåœ¨ç½‘æ ¼ç»„ä»¶ä¸Š</li></ol><p id="8144" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">ä¸ºäº†æäº¤æ•°æ®ï¼Œæˆ‘å–œæ¬¢ä½¿ç”¨ä¸€ä¸ªå®šåˆ¶çš„é’©å­æ¥åŒ…è£…<code class="fe lt lu lv lw b">axios</code>å®¢æˆ·æœºï¼Œä»¥ä¾¿å‘æœåŠ¡å™¨APIå‘é€POSTè¯·æ±‚ã€‚</p><p id="1802" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">ä¸ºäº†è·å–æ•°æ®ï¼ŒSWRè·å–æŒ‚é’©æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ã€‚react-query(<a class="ae le" href="https://react-query.tanstack.com/" rel="noopener ugc nofollow" target="_blank">https://react-query.tanstack.com/</a>)ä¹Ÿæ˜¯ä¸€ä¸ªä¸é”™çš„è§£å†³æ–¹æ¡ˆã€‚</p><p id="44af" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">next-connect(<a class="ae le" href="https://www.npmjs.com/package/next-connect" rel="noopener ugc nofollow" target="_blank">https://www.npmjs.com/package/next-connect</a>)æ˜¯ä¸€ä¸ªæ¼‚äº®çš„å°NPMæ¨¡å—ï¼Œå¸®åŠ©ä½ åœ¨NextJSä¸Šæ„å»ºAPIç«¯ç‚¹</p><pre class="kp kq kr ks gt mv lw mw mx aw my bi"><span id="f43f" class="lx ly it lw b gy mz na l nb nc"><strong class="lw iu">$ yarn add axios swr next-connect</strong><br/>yarn add v1.22.11<br/>[1/4] ğŸ”  Resolving packages...<br/>[2/4] ğŸšš  Fetching packages...<br/>[3/4] ğŸ”—  Linking dependencies...<br/>[4/4] ğŸ”¨  Building fresh packages...<br/>success Saved lockfile.<br/>success Saved 4 new dependencies.<br/>info Direct dependencies<br/>â”œâ”€ axios@0.21.1<br/>â”œâ”€ next-connect@0.10.2<br/>â””â”€ swr@0.5.6<br/>info All dependencies<br/>â”œâ”€ axios@0.21.1<br/>...<br/>âœ¨  Done in 6.83s.</span></pre><h2 id="5a19" class="lx ly it bd lz ma mb dn mc md me dp mf kb mg mh mi kf mj mk ml kj mm mn mo mp bi translated">é¦–å…ˆæ˜¯å‡ ä¸ªAPIã€‚</h2><p id="1c46" class="pw-post-body-paragraph jq jr it js b jt mq jv jw jx mr jz ka kb ms kd ke kf mt kh ki kj mu kl km kn im bi translated">æˆ‘ä»¬çš„ä¸¤ä¸ªç«¯ç‚¹å°†:</p><ol class=""><li id="796b" class="lf lg it js b jt ju jx jy kb lh kf li kj lj kn og ll lm ln bi translated">POST <code class="fe lt lu lv lw b">/api/subscriptions</code>åˆ›å»ºä¸€ä¸ªæ–°çš„è®¢é˜…ï¼Œåªåœ¨JSONå¯¹è±¡ä¸­ä¼ é€’ç”µå­é‚®ä»¶ã€‚ç”µå­é‚®ä»¶å°†ä½¿ç”¨æˆ‘ä»¬åœ¨ä¸Šä¸€æ­¥ä¸­åˆ›å»ºçš„å‡½æ•°è¿›è¡ŒéªŒè¯ã€‚</li><li id="c50c" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn og ll lm ln bi translated">è·å–<code class="fe lt lu lv lw b">/api/subscriptions</code>ä»¥æŸ¥è¯¢æ‰€æœ‰ç°æœ‰è®¢é˜…</li></ol><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="ne nf l"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">src/pages/api/subscriptions.ts</figcaption></figure><p id="f015" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æœ‰äº†æ–‡ä»¶å’Œè¿è¡Œçš„åº”ç”¨ç¨‹åºï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡ŒæŸ¥è¯¢:</p><pre class="kp kq kr ks gt mv lw mw mx aw my bi"><span id="d69f" class="lx ly it lw b gy mz na l nb nc"><strong class="lw iu">$ curl -X POST </strong><a class="ae le" href="http://localhost:3000/api/subscriptions" rel="noopener ugc nofollow" target="_blank"><strong class="lw iu">http://localhost:3000/api/subscriptions</strong></a><strong class="lw iu"> \<br/>-H 'content-type: application/json' \<br/>-d '{"email": "john@gmail.com"}'</strong></span><span id="7ae7" class="lx ly it lw b gy nd na l nb nc"><strong class="lw iu">$ curl </strong><a class="ae le" href="http://localhost:3000/api/subscriptions" rel="noopener ugc nofollow" target="_blank"><strong class="lw iu">http://localhost:3000/api/subscriptions</strong></a><br/>[{"email":"john@gmail.com","updated":1628614626605}]</span><span id="89c0" class="lx ly it lw b gy nd na l nb nc"><strong class="lw iu">$ curl -X POST </strong><a class="ae le" href="http://localhost:3000/api/subscriptions" rel="noopener ugc nofollow" target="_blank"><strong class="lw iu">http://localhost:3000/api/subscriptions</strong></a><strong class="lw iu"> \<br/>-H 'content-type: application/json' \<br/>-d '{"email": "johngmail.com"}'<br/></strong>{"error":"invalid-email"}</span></pre><h2 id="97f4" class="lx ly it bd lz ma mb dn mc md me dp mf kb mg mh mi kf mj mk ml kj mm mn mo mp bi translated">è®¢é˜…åˆ—è¡¨ç»„ä»¶</h2><p id="3ec1" class="pw-post-body-paragraph jq jr it js b jt mq jv jw jx mr jz ka kb ms kd ke kf mt kh ki kj mu kl km kn im bi translated">å¦ä¸€ä¸ªå¯è§†ç»„ä»¶:<code class="fe lt lu lv lw b">SubscriptionList</code></p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="ne nf l"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">src/components/subscription list/subscription list . tsx</figcaption></figure><p id="32b4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æ•…äº‹ä¹Ÿæ˜¯ï¼Œä¸ºäº†æ•…äº‹ä¹¦ã€‚</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="ne nf l"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">src/components/subscription list/subscription list . stories . tsx</figcaption></figure><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi no"><img src="../Images/5c88f9a641497388faa9f8f5b159cd3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jDnAGdn1TP5bdoPlBFXSkA.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">æ•…äº‹ä¹¦ä¸Šçš„è®¢é˜…åˆ—è¡¨ç»„ä»¶</figcaption></figure><p id="194f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æˆ‘ç”¨æ¥å‘åç«¯APIè·å–å’Œå‘é€æ•°æ®çš„å®šåˆ¶é’©å­å¦‚ä¸‹:</p><ol class=""><li id="24c0" class="lf lg it js b jt ju jx jy kb lh kf li kj lj kn og ll lm ln bi translated"><code class="fe lt lu lv lw b">useAPIPost</code>:å‘APIå‘é€POSTè¯·æ±‚çš„è‡ªå®šä¹‰é’©å­ã€‚æ”¯æŒï¼ŒåŠ è½½ï¼Œé‡ç½®ï¼Œæœ€åå‘å¸ƒï¼Œå®Œå…¨é”®å…¥ã€‚</li><li id="88a4" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn og ll lm ln bi translated"><code class="fe lt lu lv lw b">secureLoader</code>:æ¥æ”¶ä¸€ä¸ª<code class="fe lt lu lv lw b">apiURL</code>åŸºå‡½æ•°å’Œä¸€ä¸ªå¼‚æ­¥<code class="fe lt lu lv lw b">getToken</code>å‡½æ•°ï¼Œå¹¶ä¸ºSWRé’©å­è¿”å›ä¸€ä¸ªfetcherå‡½æ•°ã€‚ä¹Ÿæ˜¯å…¨æ‰“ã€‚</li></ol><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="ne nf l"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">src/lib/api.ts</figcaption></figure><p id="f69e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æœ€åæ˜¯æˆ‘ä»¬åœ¨<code class="fe lt lu lv lw b">index.tsx</code>é¡µé¢ä¸Šçš„ä»£ç ã€‚</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="1111" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">åœ¨æµè§ˆå™¨ä¸Šï¼Œæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå°†å¦‚ä¸‹æ‰€ç¤º:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi no"><img src="../Images/7f72ab96ae187d55cdf9de88d6e5fd30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4eOxWT_sP4SXUfC5jr7o2g.png"/></div></div></figure><h1 id="951e" class="np ly it bd lz nq nr ns mc nt nu nv mf nw nx ny mi nz oa ob ml oc od oe mo of bi translated">æœ€åâ€¦</h1><ul class=""><li id="58db" class="lf lg it js b jt mq jx mr kb oh kf oi kj oj kn lk ll lm ln bi translated">æ£€æŸ¥StorybookJSçš„Storyshotæ’ä»¶æ¥æ‰§è¡Œè§†è§‰æµ‹è¯•:<a class="ae le" href="https://www.npmjs.com/package/@storybook/addon-storyshots" rel="noopener ugc nofollow" target="_blank">https://www.npmjs.com/package/@storybook/addon-storyshots</a></li><li id="4599" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn lk ll lm ln bi translated">ä½œä¸ºä¸€ä¸ªSaaSåº”ç”¨ç¨‹åºï¼Œé›†æˆStripeå¯èƒ½æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ã€‚æŸ¥çœ‹æ­¤æŠ¥å‘Šä»¥äº†è§£å¦‚ä½•:<a class="ae le" href="https://github.com/stripe-samples/nextjs-typescript-react-stripe-js" rel="noopener ugc nofollow" target="_blank">https://github . com/stripe-samples/nextjs-typescript-react-stripe-js</a></li><li id="6825" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn lk ll lm ln bi translated">ç”¨èµ›æ™®æ‹‰æ–¯(<a class="ae le" href="https://www.cypress.io/" rel="noopener ugc nofollow" target="_blank">https://www.cypress.io/</a>)è¿›è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•æ˜¯ä¸€ä»¶è½»è€Œæ˜“ä¸¾çš„äº‹æƒ…ï¼Œå¹¶ä¸”åœ¨äº¤ä»˜ç»™å®¢æˆ·ä¹‹å‰è‚¯å®šæœ‰å¾ˆå¤šä»·å€¼è¦æµ‹è¯•ã€‚</li><li id="f391" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn lk ll lm ln bi translated">ä½ å¯ä»¥å°†è¿™æ®µä»£ç ä½œä¸ºä½ ä¸‹ä¸€ä¸ªåº”ç”¨çš„æ¨¡æ¿:<a class="ae le" href="https://github.com/outsrc/next-mui" rel="noopener ugc nofollow" target="_blank">https://github.com/outsrc/next-mui</a></li><li id="3868" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn lk ll lm ln bi translated">æŸ¥çœ‹è¿è¡Œäº:<a class="ae le" href="https://next-mui-two.vercel.app/" rel="noopener ugc nofollow" target="_blank">https://next-mui-two.vercel.app/</a>çš„æœ€ç»ˆåº”ç”¨(å°†åœ¨3ä¸ªæœˆåæˆ–2021å¹´11æœˆ10æ—¥ç§»é™¤)</li></ul><h2 id="fc19" class="lx ly it bd lz ma mb dn mc md me dp mf kb mg mh mi kf mj mk ml kj mm mn mo mp bi translated">é˜…è¯»ç¬¬2éƒ¨åˆ†:NextJS + API Routes + MongoDB</h2><div class="ok ol gp gr om on"><a rel="noopener  ugc nofollow" target="_blank" href="/part-2-nextjs-api-routes-mongodb-b6895232c27"><div class="oo ab fo"><div class="op ab oq cl cj or"><h2 class="bd iu gy z fp os fr fs ot fu fw is bi translated">ç¬¬2éƒ¨åˆ†:NextJS + API Routes + MongoDB</h2><div class="ou l"><h3 class="bd b gy z fp os fr fs ot fu fw dk translated">å°†MongoDBæ•°æ®åº“æ·»åŠ åˆ°æˆ‘ä»¬åœ¨æœ¬åšå®¢ç³»åˆ—çš„ç¬¬ä¸€éƒ¨åˆ†ä¸­æ„å»ºçš„SaaS MVPåº”ç”¨ç¨‹åºä¸­ã€‚</h3></div><div class="ov l"><p class="bd b dl z fp os fr fs ot fu fw dk translated">itnext.io</p></div></div><div class="ow l"><div class="ox l oy oz pa ow pb ky on"/></div></div></a></div><p id="84a5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">é»‘å®¢å¿«ä¹â€¦</p></div></div>    
</body>
</html>