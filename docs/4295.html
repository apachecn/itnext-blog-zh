<html>
<head>
<title>Easy Peasy the React Redux wrapper</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ç®€å•çš„ååº”ReduxåŒ…è£…</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://itnext.io/easy-peasy-the-react-redux-wrapper-b31a5911c5e3?source=collection_archive---------4-----------------------#2020-06-01">https://itnext.io/easy-peasy-the-react-redux-wrapper-b31a5911c5e3?source=collection_archive---------4-----------------------#2020-06-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/9ca7736032e324daf5db74e9db2f0c1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QgGGzwcXpPsixPJamBrWgg.jpeg"/></div></div></figure><div class=""/><div class=""><h2 id="a496" class="pw-subtitle-paragraph jy ja jb bd b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp dk translated">å¦‚ä½•ä½¿ç”¨ç®€å•çš„å…¨å±€çŠ¶æ€å’Œååº”</h2></div></div><div class="ab cl kq kr hu ks" role="separator"><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv"/></div><div class="ij ik il im in"><blockquote class="kx ky kz"><p id="e9f6" class="la lb lc ld b le lf kc lg lh li kf lj lk ll lm ln lo lp lq lr ls lt lu lv lw ij bi translated">è¿™ç¯‡æ–‡ç« å‡è®¾è¯»è€…å¯¹æ–°çš„React Hooksç‰¹æ€§æœ‰ä¸€äº›åŸºæœ¬çš„äº†è§£ã€‚</p></blockquote><p id="b610" class="pw-post-body-paragraph la lb jb ld b le lf kc lg lh li kf lj lx ll lm ln ly lp lq lr lz lt lu lv lw ij bi translated">æœ€è¿‘å‘å¸ƒçš„<a class="ae ma" href="https://reactjs.org/docs/hooks-intro.html" rel="noopener ugc nofollow" target="_blank">é’©å­</a>å¹èµ°äº†å¤æ‚æ€§ï¼Œå®Œå…¨é‡æ–°æ¿€å‘äº†æˆ‘å¯¹Reactçš„çƒ­çˆ±ã€‚æœ‰äº†è¿™äº›æ–°å·¥å…·ï¼Œæˆ‘å†³å®šé‡æ–°è¯„ä¼°æˆ‘æ‰€æ¥è§¦çš„åº“å’Œæ¨¡å¼ï¼Œçœ‹çœ‹æ˜¯å¦å¯ä»¥ç”¨æœ¬æœºå®ç°æ¥ä»£æ›¿å®ƒä»¬ã€‚</p><p id="0538" class="pw-post-body-paragraph la lb jb ld b le lf kc lg lh li kf lj lx ll lm ln ly lp lq lr lz lt lu lv lw ij bi translated">ä¸€ä¸ªç›´æ¥çš„è€ƒè™‘æ˜¯å…¨çƒå›½å®¶ã€‚ä¸€äº›å†…ç½®çš„ReactæŒ‚é’©åŒ…æ‹¬<code class="fe mb mc md me b"><a class="ae ma" href="https://reactjs.org/docs/hooks-reference.html#usereducer" rel="noopener ugc nofollow" target="_blank">useReducer</a></code>å’Œ<code class="fe mb mc md me b"><a class="ae ma" href="https://reactjs.org/docs/hooks-reference.html#usecontext" rel="noopener ugc nofollow" target="_blank">useContext</a></code>ã€‚è¿™äº›éƒ½æ˜¯å¼ºå¤§çš„åŸè¯­ï¼Œå¦‚æœæœ‰äººè¯´æœè‡ªå·±ä¸å†éœ€è¦ç¬¬ä¸‰æ–¹å·ç«‹å›¾ä¹¦é¦†ï¼Œé‚£ä¹Ÿæƒ…æœ‰å¯åŸã€‚</p><p id="c935" class="pw-post-body-paragraph la lb jb ld b le lf kc lg lh li kf lj lx ll lm ln ly lp lq lr lz lt lu lv lw ij bi translated">é’©å­å¾ˆæ£’ï¼Œè¿™æ˜¯å¿…é¡»è¦è¯´çš„ã€‚éšç€æ—¶é—´çš„æ¨ç§»ï¼Œæ›´å¤æ‚çš„çŠ¶æ€ç®¡ç†ç»„ä»¶(ä¾‹å¦‚å¼‚æ­¥æµå’Œæ´¾ç”ŸçŠ¶æ€)å¼€å§‹å‡ºç°ã€‚è¿™äº›é—®é¢˜éœ€è¦è‡ªåˆ¶çš„è§£å†³æ–¹æ¡ˆæˆ–ç¬¬ä¸‰æ–¹åº“â€”â€”å†²æ·¡äº†æˆ‘çš„ä½“éªŒã€‚</p><p id="fa81" class="pw-post-body-paragraph la lb jb ld b le lf kc lg lh li kf lj lx ll lm ln ly lp lq lr lz lt lu lv lw ij bi translated">æˆ‘è¯•å›¾ç»§ç»­è¿›è¡Œè¿ç§»ï¼Œä½†æ˜¯æˆ‘çš„å…¨å±€çŠ¶æ€çš„å¤æ‚æ€§ç»§ç»­å¢é•¿ï¼Œæœ€ç»ˆæˆ‘è¾¾åˆ°äº†ä¸€ä¸ªä¸´ç•Œç‚¹ï¼Œåœ¨è¿™ä¸ªä¸´ç•Œç‚¹ä¸Šï¼Œæˆ‘éå¸¸æ¸´æœ›ä¸€ä¸ªæ›´å¥å£®ã€æ›´åŒ…å®¹çš„çŠ¶æ€è§£å†³æ–¹æ¡ˆã€‚bugåœ¨è”“å»¶ï¼Œæˆ‘å‘ç°è¯†åˆ«å’Œè§£å†³å®ƒä»¬éå¸¸å›°éš¾â€”â€”æˆ‘çš„è°ƒè¯•å·¥å…·å·²ç»ä»ä»¤äººéš¾ä»¥ç½®ä¿¡çš„<a class="ae ma" href="https://github.com/zalmoxisus/redux-devtools-extension" rel="noopener ugc nofollow" target="_blank"> Redux Dev Toolsæ‰©å±•</a>å‡å°‘åˆ°æ˜æ˜¾æ›´ç®€å•çš„<code class="fe mb mc md me b">console.log</code>ã€‚</p><p id="15db" class="pw-post-body-paragraph la lb jb ld b le lf kc lg lh li kf lj lx ll lm ln ly lp lq lr lz lt lu lv lw ij bi translated">æˆ‘ç»ƒä¹ çš„ç»“æœæ˜¯ä¸€ä¸ªç»“è®ºï¼Œé’©å­å¾ˆæ£’ï¼Œä½†æ˜¯å®ƒä»¬åªèƒ½å¸¦ä½ åˆ°è¿™é‡Œã€‚ä»ç„¶å­˜åœ¨å¤æ‚çš„åº”ç”¨ç¨‹åºçŠ¶æ€ç»“æ„ï¼ŒReduxç­‰å°†æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚</p><p id="28e0" class="pw-post-body-paragraph la lb jb ld b le lf kc lg lh li kf lj lx ll lm ln ly lp lq lr lz lt lu lv lw ij bi translated">å¦ä¸€ä¸ªç»“æœæ˜¯ï¼Œæˆ‘æ— æ„ä¸­é‡æ–°ç‚¹ç‡ƒäº†å¯¹ReduxåŠå…¶æˆç†Ÿç”Ÿæ€ç³»ç»Ÿçš„æ¬£èµã€‚é‰´äºæœ€è¿‘ç¤¾åŒº(åŒ…æ‹¬æˆ‘è‡ªå·±)å¯¹å®ƒçš„æŠµåˆ¶ï¼Œè¿™æ˜¯ä¸€ä¸ªæœ‰è¶£çš„åœ°æ–¹ã€‚</p><p id="e0c7" class="pw-post-body-paragraph la lb jb ld b le lf kc lg lh li kf lj lx ll lm ln ly lp lq lr lz lt lu lv lw ij bi translated">è¿‡å»æœ‰ä¸€ç§æ•™æ¡å¼çš„ä¿¡å¿µï¼Œè®¤ä¸ºReduxæ˜¯ä»»ä½•â€œå€¼å¾—å°Šæ•¬çš„â€åº”ç”¨ç¨‹åºçš„ä¸€ä¸ªè¦æ±‚ã€‚ä»¤äººé¼“èˆçš„æ˜¯ï¼Œç¤¾åŒºæ­£åœ¨æ‘†è„±è¿™ç§æ€ç»´ï¼Œä½†æ˜¯ï¼Œæˆ‘ä»¬åº”è¯¥æ³¨æ„ä¸è¦æŠŠé’Ÿæ‘†æ‘†å‘å¦ä¸€ç«¯ã€‚å®£ç§°æ²¡æœ‰Reduxçš„ä½ç½®ä¹ŸåŒæ ·æ˜¯ä¸è´Ÿè´£ä»»çš„ã€‚æˆ‘ä»¬æ›´åº”è¯¥é€‰æ‹©ä¸€ä¸ªå®ç”¨çš„ä¸­é—´åœ°å¸¦ï¼Œä¸€ä¸ªæˆ‘ä»¬èŠ±æ—¶é—´è€ƒè™‘æ·»åŠ Reduxåˆ°é¡¹ç›®ä¸­æ˜¯å¦ä¼šå¸¦æ¥ä»·å€¼çš„åœ°æ–¹ã€‚</p><p id="c190" class="pw-post-body-paragraph la lb jb ld b le lf kc lg lh li kf lj lx ll lm ln ly lp lq lr lz lt lu lv lw ij bi translated">å°±æˆ‘è€Œè¨€ï¼Œæˆ‘è§‰å¾—æˆ‘çš„é¡¹ç›®è‚¯å®šéœ€è¦ä¸€ä¸ªæ›´å¼ºå¤§çš„å›½å®¶ç³»ç»Ÿã€‚æˆ‘ä¸‹å®šå†³å¿ƒï¼Œæˆ‘å°†å…è®¸ç¬¬ä¸‰æ–¹åº“å†æ¬¡ç®¡ç†æˆ‘çš„çŠ¶æ€ã€‚</p><p id="5ef5" class="pw-post-body-paragraph la lb jb ld b le lf kc lg lh li kf lj lx ll lm ln ly lp lq lr lz lt lu lv lw ij bi translated">Reduxåœ¨å«æˆ‘ã€‚</p><p id="3aeb" class="pw-post-body-paragraph la lb jb ld b le lf kc lg lh li kf lj lx ll lm ln ly lp lq lr lz lt lu lv lw ij bi translated">æ‰€æœ‰è¿™äº›æ ·æ¿æ–‡ä»¶è™½ç„¶â€¦</p><h1 id="110f" class="mf mg jb bd mh mi mj mk ml mm mn mo mp kh mq ki mr kk ms kl mt kn mu ko mv mw bi translated">å®¹æ˜“çš„äº‹</h1><p id="a7b8" class="pw-post-body-paragraph la lb jb ld b le mx kc lg lh my kf lj lx mz lm ln ly na lq lr lz nb lu lv lw ij bi translated">è¿™æ˜¯å›´ç»•reduxçš„ç¬¬ä¸‰æ–¹åŒ…è£…ã€‚è¿™æ˜¯ä¸€ä¸ªä¸€ä½“åŒ–ï¼Œé›¶é…ç½®ï¼Œå…¨å±€çŠ¶æ€åº“ï¼æœ€é‡è¦çš„æ˜¯ï¼Œå®ƒä½¿ç”¨é’©å­ä½œä¸ºä¸ç»„ä»¶é›†æˆçš„æœºåˆ¶ã€‚</p><p id="18c4" class="pw-post-body-paragraph la lb jb ld b le lf kc lg lh li kf lj lx ll lm ln ly lp lq lr lz lt lu lv lw ij bi translated">æˆ‘å·²ç»ç§¯æåœ°ä½¿ç”¨å®ƒä¸€ä¸ªå¤šæ˜ŸæœŸäº†ï¼Œè§£å†³äº†æœ€åˆçš„é”™è¯¯å’Œæ€§èƒ½é—®é¢˜ã€‚æˆ‘çš„è§‚ç‚¹è‚¯å®šæœ‰å¾ˆå¤§çš„åè§ï¼Œä½†æˆ‘å¿…é¡»è¯´ï¼Œæˆ‘è§‰å¾—è¿™æ˜¯ä¸€è‚¡æ–°é²œç©ºæ°”ã€‚æˆ‘çš„é€Ÿåº¦å’Œå¿«ä¹æ°´å¹³æ­£åœ¨é£™å‡ï¼Œå› ä¸ºæˆ‘æ­£åœ¨å¼€å‘<a class="ae ma" href="https://comickult.com/" rel="noopener ugc nofollow" target="_blank"> ComicKult </a>ã€‚</p><p id="35a3" class="pw-post-body-paragraph la lb jb ld b le lf kc lg lh li kf lj lx ll lm ln ly lp lq lr lz lt lu lv lw ij bi translated">ä½ éœ€è¦åšçš„å°±æ˜¯å®‰è£…ä¸€ä¸ªè½¯ä»¶åŒ…ã€‚æ‚¨éœ€è¦çš„ä¸€åˆ‡éƒ½åŒ…æ‹¬åœ¨å†…ï¼Œä¸éœ€è¦é¢å¤–çš„é…ç½®ã€‚</p><p id="7f63" class="pw-post-body-paragraph la lb jb ld b le lf kc lg lh li kf lj lx ll lm ln ly lp lq lr lz lt lu lv lw ij bi translated"><code class="fe mb mc md me b">npm install easy-peasy</code></p></div><div class="ab cl kq kr hu ks" role="separator"><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv"/></div><div class="ij ik il im in"><blockquote class="kx ky kz"><p id="d249" class="la lb lc ld b le lf kc lg lh li kf lj lk ll lm ln lo lp lq lr ls lt lu lv lw ij bi translated"><em class="jb">è®°ä½ï¼Œè¿™ä¸ªåŒ…ä¾èµ–äºReact Hooksç‰¹æ€§ï¼Œå®ƒåªåœ¨React/React-DOM-v 16 . 7 . 0-alpha . 0çš„alphaç‰ˆæœ¬ä¸­å¯ç”¨ã€‚æˆ‘å½“ç„¶ä¸å»ºè®®ä½ åœ¨ç”Ÿäº§ä¸­ä½¿ç”¨å®ƒï¼Œä½†æ˜¯å¦‚æœä½ å¿…é¡»è¶³å¤Ÿè´Ÿè´£ä»»åœ°åªåœ¨ä½ çš„ä¸ªäººé¡¹ç›®ä¸­ä½¿ç”¨å®ƒã€‚</em></p></blockquote><p id="f783" class="pw-post-body-paragraph la lb jb ld b le lf kc lg lh li kf lj lx ll lm ln ly lp lq lr lz lt lu lv lw ij bi translated">ä¸»è¦çš„APIå¯ä»¥å¾ˆå®¹æ˜“åœ°é€šè¿‡ä¸‹é¢ç®€æ´çš„ä»£ç ç‰‡æ®µæ¥è¯´æ˜ã€‚</p><pre class="nc nd ne nf gt ng me nh ni aw nj bi"><span id="a0d6" class="nk mg jb me b gy nl nm l nn no">import { StoreProvider, createStore, useStore, useAction } from 'easy-peasy';</span><span id="b293" class="nk mg jb me b gy np nm l nn no">// ğŸ‘‡ firstly, create your store by providing your model<br/>const store = createStore({<br/>  todos: {<br/>    items: ['Install easy-peasy', 'Build app', 'Profit'],<br/>    // ğŸ‘‡ define actions<br/>    add: (state, payload) =&gt; {<br/>      state.items.push(payload) // ğŸ‘ˆ you mutate state to update (we convert<br/>                                //    to immutable updates)<br/>    }<br/>  }<br/>});</span><span id="b7a7" class="nk mg jb me b gy np nm l nn no">function App() {<br/>  return (<br/>    // ğŸ‘‡ secondly, surround your app with the provider to expose the store to your app<br/>    &lt;StoreProvider store={store}&gt;<br/>      &lt;TodoList /&gt;<br/>    &lt;/StoreProvider&gt;<br/>  );<br/>}</span><span id="8100" class="nk mg jb me b gy np nm l nn no">function TodoList() {<br/>  // ğŸ‘‡ finally, use hooks to get state or actions. your component will receive<br/>  //    updated state automatically<br/>  const todos = useStore(state =&gt; state.todos.items)<br/>  const add = useAction(dispatch =&gt; dispatch.todos.add)<br/>  return (<br/>    &lt;div&gt;<br/>      {todos.map((todo, idx) =&gt; &lt;div key={idx}&gt;{todo.text}&lt;/div&gt;)}<br/>      &lt;AddTodo onAdd={add} /&gt;<br/>    &lt;/div&gt;<br/>  )<br/>}</span></pre><p id="ad0d" class="pw-post-body-paragraph la lb jb ld b le lf kc lg lh li kf lj lx ll lm ln ly lp lq lr lz lt lu lv lw ij bi translated">ä½ å¯ä»¥ç®€å•åœ°å®šä¹‰ä¸€ä¸ªæ¨¡å‹æ¥æè¿°ä½ çš„çŠ¶æ€ï¼Œè€Œä¸æ˜¯ç»˜åˆ¶å‡ºæ— å°½çš„å‡å°‘å™¨ã€åŠ¨ä½œç­‰ç­‰ã€‚è¿™ä¸ªæ¨¡å‹åªæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ—§JavaScriptå¯¹è±¡ï¼Œå¯ä»¥ç®€å•ä¹Ÿå¯ä»¥å¤æ‚ã€‚å®ƒç”¨æ¥æè¿°æ‚¨çš„çŠ¶æ€ç»“æ„åŠå…¶é»˜è®¤å€¼ã€‚åœ¨å¼•æ“ç›–ä¸‹ï¼Œæˆ‘ä»¬å°†åšæ‰€æœ‰çš„è‰°è‹¦å·¥ä½œï¼Œå°†ä½ çš„æ¨¡å‹è½¬æ¢æˆReduxæœŸæœ›çš„æƒ¯ç”¨ç»“æ„(Reduxï¼Œactionsç­‰)ã€‚</p><p id="6676" class="pw-post-body-paragraph la lb jb ld b le lf kc lg lh li kf lj lx ll lm ln ly lp lq lr lz lt lu lv lw ij bi translated">è®©æˆ‘ä»¬æŠŠAPIåˆ†æˆæ›´å°çš„éƒ¨åˆ†ã€‚é¦–å…ˆï¼Œå®šä¹‰æ‚¨çš„æ¨¡å‹â€¦</p><pre class="nc nd ne nf gt ng me nh ni aw nj bi"><span id="8873" class="nk mg jb me b gy nl nm l nn no">const model = {<br/>  todos: {<br/>    items: [],<br/>  },<br/>  session: {<br/>    user: null <br/>  }<br/>};</span></pre><p id="b594" class="pw-post-body-paragraph la lb jb ld b le lf kc lg lh li kf lj lx ll lm ln ly lp lq lr lz lt lu lv lw ij bi translated">è¦å®šä¹‰ç”¨äºæ›´æ–°çŠ¶æ€çš„åŠ¨ä½œï¼Œåªéœ€åœ¨çŠ¶æ€çš„é€‚å½“éƒ¨åˆ†æ·»åŠ ä¸€ä¸ªå‡½æ•°ã€‚</p><pre class="nc nd ne nf gt ng me nh ni aw nj bi"><span id="ffe4" class="nk mg jb me b gy nl nm l nn no">const model = {<br/>  todos: {<br/>    items: [],<br/>    // ğŸ‘‡ an action<br/>    add: (state, payload) =&gt; {<br/>      state.items.push(payload);  <br/>    }<br/>  },<br/>  session: {<br/>    user: null <br/>  }<br/>};</span></pre><p id="0886" class="pw-post-body-paragraph la lb jb ld b le lf kc lg lh li kf lj lx ll lm ln ly lp lq lr lz lt lu lv lw ij bi translated">æ³¨æ„åŠ¨ä½œæ˜¯å¦‚ä½•æ¥æ”¶çŠ¶æ€ç‰‡ä½œä¸ºå®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°çš„ï¼Œç¬¬äºŒä¸ªå‚æ•°åŒ…å«å¯èƒ½å·²ç»æä¾›ç»™åŠ¨ä½œçš„ä»»ä½•æœ‰æ•ˆè´Ÿè½½ã€‚æ‚¨è¿˜ä¼šæ³¨æ„åˆ°ï¼Œæ‚¨ç›´æ¥æ”¹å˜äº†çŠ¶æ€ã€‚æˆ‘ä»¬åœ¨è¿™é‡Œä½¿ç”¨<code class="fe mb mc md me b"><a class="ae ma" href="https://github.com/mweststrate/immer" rel="noopener ugc nofollow" target="_blank">immer</a></code>æ˜¯ä¸ºäº†è®©æˆ‘ä»¬ç†Ÿæ‚‰å’Œå®¹æ˜“ä½¿ç”¨åŸºäºçªå˜çš„APIã€‚åœ¨å¼•æ“ç›–ä¸‹ï¼Œå®ƒä¸ºæˆ‘ä»¬åšäº†æ‰€æœ‰çš„è‰°è‹¦å·¥ä½œï¼Œå°†å¯¹<code class="fe mb mc md me b">state</code>çš„ä»»ä½•ä¿®æ”¹è½¬æ¢æˆä¸€ä¸ªå•ä¸€çš„ä¸å¯å˜æ›´æ–°ã€‚</p><p id="d795" class="pw-post-body-paragraph la lb jb ld b le lf kc lg lh li kf lj lx ll lm ln ly lp lq lr lz lt lu lv lw ij bi translated">ç„¶åï¼Œæ‚¨å°†æ‚¨çš„æ¨¡å‹æä¾›ç»™<code class="fe mb mc md me b">createStore</code>ï¼Œå®ƒå°†è¾“å‡ºä¸€ä¸ªRedux storeï¼Œå®ƒä¸æ ‡å‡†Redux storeçš„å”¯ä¸€åŒºåˆ«æ˜¯ï¼ŒåŠ¨ä½œå·²ç»æ–¹ä¾¿åœ°ç»‘å®šåˆ°äº†<code class="fe mb mc md me b">dispatch</code>å±æ€§ã€‚</p><pre class="nc nd ne nf gt ng me nh ni aw nj bi"><span id="1662" class="nk mg jb me b gy nl nm l nn no">import { createStore } from 'easy-peasy';</span><span id="4e73" class="nk mg jb me b gy np nm l nn no">// Pass in your model and you get back a Redux store<br/>const store = createStore(model);</span><span id="e895" class="nk mg jb me b gy np nm l nn no">// you can query state as normal<br/>store.getState().todos.items;<br/>// ['Install easy-peasy']</span><span id="24f2" class="nk mg jb me b gy np nm l nn no">// and dispatch actions<br/>store.dispatch.todos.add('Build an app')<br/>//            |---------|<br/>//                 |- Actions are bound to a path matching model<br/>  <br/>// and access the other standard APIs of a Redux store<br/>store.listen(() =&gt; console.log('An update occurred'))</span></pre><p id="4397" class="pw-post-body-paragraph la lb jb ld b le lf kc lg lh li kf lj lx ll lm ln ly lp lq lr lz lt lu lv lw ij bi translated">ä¸ºäº†å‘æ‚¨çš„åº”ç”¨ç¨‹åºå…¬å¼€æ‚¨çš„å•†åº—ï¼Œæ‚¨å°†å®ƒæä¾›ç»™<code class="fe mb mc md me b">StoreProvider</code>ã€‚</p><pre class="nc nd ne nf gt ng me nh ni aw nj bi"><span id="3f69" class="nk mg jb me b gy nl nm l nn no">import { StoreProvider } from 'easy-peasy';</span><span id="e44f" class="nk mg jb me b gy np nm l nn no">function App() {<br/>  return (<br/>    // ğŸ‘‡ secondly, surround your app with the provider to expose the store to your app<br/>    &lt;StoreProvider store={store}&gt;<br/>      &lt;TodoList /&gt;<br/>    &lt;/StoreProvider&gt;<br/>  );<br/>}</span></pre><p id="3358" class="pw-post-body-paragraph la lb jb ld b le lf kc lg lh li kf lj lx ll lm ln ly lp lq lr lz lt lu lv lw ij bi translated">æœ€åï¼Œæ‚¨å¯ä»¥ä½¿ç”¨æä¾›çš„æŒ‚é’©ä¸æ‚¨çš„å•†åº—è¿›è¡Œäº¤äº’ã€‚</p><pre class="nc nd ne nf gt ng me nh ni aw nj bi"><span id="319e" class="nk mg jb me b gy nl nm l nn no">import { useStore, useAction } from 'easy-peasy';</span><span id="3f8c" class="nk mg jb me b gy np nm l nn no">function TodoList() {<br/>  // ğŸ‘‡ Access state<br/>  const todos = useStore(state =&gt; state.todos.items)<br/>  // ğŸ‘‡ Access actions<br/>  const add = useAction(dispatch =&gt; dispatch.todos.add)<br/>  return (<br/>    &lt;div&gt;<br/>      {todos.map((todo, idx) =&gt; &lt;div key={idx}&gt;{todo.text}&lt;/div&gt;)}<br/>      &lt;AddTodo onAdd={add} /&gt;<br/>    &lt;/div&gt;<br/>  )<br/>}</span></pre><p id="37d6" class="pw-post-body-paragraph la lb jb ld b le lf kc lg lh li kf lj lx ll lm ln ly lp lq lr lz lt lu lv lw ij bi translated">åªæœ‰å½“ç»„ä»¶è·Ÿè¸ªçš„ç›¸åº”çŠ¶æ€è¢«æ›´æ–°æ—¶ï¼Œç»„ä»¶æ‰ä¼šæ”¶åˆ°æ–°çš„çŠ¶æ€ã€‚</p><p id="5ade" class="pw-post-body-paragraph la lb jb ld b le lf kc lg lh li kf lj lx ll lm ln ly lp lq lr lz lt lu lv lw ij bi translated">éœ€è¦æ‰§è¡Œæ•°æ®æå–/æŒä¹…åŒ–ç­‰æ•ˆæœï¼Ÿç„¶åä½¿ç”¨<code class="fe mb mc md me b">effect</code>åŠ©æ‰‹ã€‚</p><pre class="nc nd ne nf gt ng me nh ni aw nj bi"><span id="4423" class="nk mg jb me b gy nl nm l nn no">import { createStore, effect } from 'easy-peasy'; // ğŸ‘ˆ import the helper</span><span id="e826" class="nk mg jb me b gy np nm l nn no">const store = createStore({<br/>  session: {<br/>    user: undefined,<br/>    // ğŸ‘‡ define your effectful action<br/>    login: effect(async (dispatch, payload, getState) =&gt; {<br/>      const user = await loginService(payload)<br/>      dispatch.session.loginSucceeded(user)<br/>    }),<br/>    loginSucceeded: (state, payload) =&gt; {<br/>      state.user = payload<br/>    }<br/>  }<br/>});</span></pre><p id="65c5" class="pw-post-body-paragraph la lb jb ld b le lf kc lg lh li kf lj lx ll lm ln ly lp lq lr lz lt lu lv lw ij bi translated">æ³¨æ„ä½ å¦‚ä½•ä½¿ç”¨async/awaitï¼Œæˆ–è€…Promisesï¼Œæˆ–è€…ä»»ä½•ä½ å–œæ¬¢çš„å¼‚æ­¥ç¼–ç¨‹é£æ ¼ã€‚æä¾›çš„<code class="fe mb mc md me b">dispatch</code>å…è®¸æ‚¨ç”¨ä»»ä½•ç»“æœæ›´æ–°æ‚¨çš„çŠ¶æ€ã€‚</p><p id="3054" class="pw-post-body-paragraph la lb jb ld b le lf kc lg lh li kf lj lx ll lm ln ly lp lq lr lz lt lu lv lw ij bi translated">æ´¾ç”ŸçŠ¶æ€å‘¢ï¼Ÿ<code class="fe mb mc md me b">select</code>å¸®æ‰‹ä¸ºä½ æ’‘è…°ã€‚</p><pre class="nc nd ne nf gt ng me nh ni aw nj bi"><span id="26b8" class="nk mg jb me b gy nl nm l nn no">import { select } from 'easy-peasy'; // ğŸ‘ˆ import the helper</span><span id="3f47" class="nk mg jb me b gy np nm l nn no">const store = createStore({<br/>  shoppingBasket: {<br/>    products: [{ name: 'Shoes', price: 123 }, { name: 'Hat', price: 75 }],<br/>    // ğŸ‘‡ define your derived state<br/>    totalPrice: select(state =&gt;<br/>      state.products.reduce((acc, cur) =&gt; acc + cur.price, 0)<br/>    )<br/>  }<br/>});</span></pre><p id="65fc" class="pw-post-body-paragraph la lb jb ld b le lf kc lg lh li kf lj lx ll lm ln ly lp lq lr lz lt lu lv lw ij bi translated">åªæœ‰å½“å®ƒæ‰€å…³å¿ƒçš„çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰ä¼šé‡æ–°è®¡ç®—æ´¾ç”ŸçŠ¶æ€ã€‚å®ƒæ˜¯å¼€ç®±è®°å¿†çš„ã€‚</p></div></div>    
</body>
</html>