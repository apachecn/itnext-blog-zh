<html>
<head>
<title>Hacking the Python syntax: Alternate lambda syntax</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ç ´è§£Pythonè¯­æ³•:å¤‡ç”¨lambdaè¯­æ³•</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://itnext.io/hacking-the-python-syntax-alternate-lambda-syntax-c87c383dd1a3?source=collection_archive---------5-----------------------#2022-01-30">https://itnext.io/hacking-the-python-syntax-alternate-lambda-syntax-c87c383dd1a3?source=collection_archive---------5-----------------------#2022-01-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/3be49c7ad5e04cef75d37fd8f99ba166.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l3j3Mos25Enb3FDsK8n2ew.jpeg"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">ç”±<a class="ae jg" href="https://unsplash.com/s/photos/jenga?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šçš„<a class="ae jg" href="https://unsplash.com/@lastnameeaster?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> La-Rel Easter </a>æ‹æ‘„çš„ç…§ç‰‡</figcaption></figure><div class=""/><div class=""><h2 id="c38b" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">åœ¨60è¡Œä»£ç ä¸­</h2></div><p id="75fd" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><a class="ae jg" href="https://remykarem.medium.com/hacking-the-python-syntax-part-0-introduction-9a1c054ec1e6" rel="noopener">ç®€ä»‹</a> | <a class="ae jg" href="https://remykarem.medium.com/hacking-the-python-syntax-part-1-ternary-operator-bbcb04aa6ecb" rel="noopener">ä¸‰å…ƒè¿ç®—ç¬¦</a> | <strong class="la jk">äº¤æ›¿lambdaè¯­æ³•</strong> |å‡½æ•°ä¸­æ— è¿”å›å…³é”®å­—(å³å°†æ¨å‡º)|åˆ—è¡¨ç†è§£++(å³å°†æ¨å‡º)</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><p id="dbed" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="mb">å˜æ›´æ—¥å¿—:<br/>2022å¹´12æœˆ31æ—¥â€”ä½¿ç”¨Mediumçš„æ–°ä»£ç å—æ¥çªå‡ºæ˜¾ç¤ºè¯­æ³•</em></p><h1 id="6d43" class="mc md jj bd me mf mg mh mi mj mk ml mm kp mn kq mo ks mp kt mq kv mr kw ms mt bi translated">ç›®å½•</h1><ol class=""><li id="4fd9" class="mu mv jj la b lb mw le mx lh my ll mz lp na lt nb nc nd ne bi translated"><a class="ae jg" href="#64cd" rel="noopener ugc nofollow">åŒ¿ååŠŸèƒ½</a></li><li id="bed0" class="mu mv jj la b lb nf le ng lh nh ll ni lp nj lt nb nc nd ne bi translated"><a class="ae jg" href="#7440" rel="noopener ugc nofollow">å½“å‰è¯­æ³•</a></li><li id="9e6e" class="mu mv jj la b lb nf le ng lh nh ll ni lp nj lt nb nc nd ne bi translated">å…¶ä»–äººæ˜¯æ€ä¹ˆåšçš„ï¼Ÿ</li><li id="fa2e" class="mu mv jj la b lb nf le ng lh nh ll ni lp nj lt nb nc nd ne bi translated"><a class="ae jg" href="#606a" rel="noopener ugc nofollow">ç›®æ ‡è¯­æ³•</a></li><li id="38d8" class="mu mv jj la b lb nf le ng lh nh ll ni lp nj lt nb nc nd ne bi translated"><a class="ae jg" href="#0198" rel="noopener ugc nofollow">æ·»åŠ ä»£å¸</a></li><li id="0e92" class="mu mv jj la b lb nf le ng lh nh ll ni lp nj lt nb nc nd ne bi translated"><a class="ae jg" href="#f443" rel="noopener ugc nofollow">æ”¹å˜è¯­æ³•</a></li><li id="1145" class="mu mv jj la b lb nf le ng lh nh ll ni lp nj lt nb nc nd ne bi translated"><a class="ae jg" href="#f88e" rel="noopener ugc nofollow">ä¾‹é¢˜</a></li></ol><p id="809e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">å…³äºç¯å¢ƒè®¾ç½®ï¼Œè¯·é˜…è¯»<em class="mb">ç®€ä»‹</em>ã€‚å®Œæ•´çš„ä»£ç ï¼Œçœ‹æˆ‘çš„åˆ†å‰<a class="ae jg" href="https://github.com/remykarem/cpython/tree/lambda-syntax" rel="noopener ugc nofollow" target="_blank">è¿™é‡Œ</a>ã€‚</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="64cd" class="mc md jj bd me mf nk mh mi mj nl ml mm kp nm kq mo ks nn kt mq kv no kw ms mt bi translated">1.åŒ¿åå‡½æ•°</h1><p id="d692" class="pw-post-body-paragraph ky kz jj la b lb mw kk ld le mx kn lg lh np lj lk ll nq ln lo lp nr lr ls lt im bi translated">è¿™æ˜¯æˆ‘çš„æœ€çˆ±(æˆ‘ç§ä¸‹å¸Œæœ›Pythonåœ¨æœªæ¥å‡ å¹´å†…ä¼šè€ƒè™‘æ”¹å˜è¿™ä¸€ç‚¹æˆ–ç±»ä¼¼çš„ä¸œè¥¿)ï¼</p><p id="851d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">ä¸€ä¸ªæ²¡æœ‰åå­—çš„å‡½æ•°ï¼Œæˆ–è€…ä¸€ä¸ª<a class="ae jg" href="https://en.wikipedia.org/wiki/Anonymous_function" rel="noopener ugc nofollow" target="_blank"> <strong class="la jk">åŒ¿åå‡½æ•°</strong> </a>ï¼Œæ˜¯ä¸€ä¸ªåœ¨<a class="ae jg" href="https://en.wikipedia.org/wiki/Functional_programming" rel="noopener ugc nofollow" target="_blank">å‡½æ•°ç¼–ç¨‹</a>èŒƒä¾‹ä¸­æ™®éä½¿ç”¨çš„æ„é€ ï¼Œå…¶ä¸­å‡½æ•°ç»å¸¸ä½œä¸ºå¯¹è±¡ä¼ é€’ã€‚</p><h1 id="7440" class="mc md jj bd me mf mg mh mi mj mk ml mm kp mn kq mo ks mp kt mq kv mr kw ms mt bi translated">2.å½“å‰è¯­æ³•</h1><p id="5ac4" class="pw-post-body-paragraph ky kz jj la b lb mw kk ld le mx kn lg lh np lj lk ll nq ln lo lp nr lr ls lt im bi translated">åœ¨Pythonä¸­ï¼Œä½ å†™ä¸€ä¸ª<a class="ae jg" href="https://docs.python.org/3/reference/expressions.html#lambda" rel="noopener ugc nofollow" target="_blank"><strong class="la jk">Î»è¡¨è¾¾å¼</strong> </a>æ¥åˆ›å»ºä¸€ä¸ªåŒ¿åå‡½æ•°:</p><pre class="ns nt nu nv gt nw nx ny bn nz oa bi"><span id="1790" class="ob md jj nx b be oc od l oe of">lambda x: x+1</span></pre><p id="b99d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬ä½¿ç”¨åŒ¿åå‡½æ•°æ ¹æ®é¡¹ç›®çš„é•¿åº¦å¯¹åˆ—è¡¨è¿›è¡Œæ’åº:</p><pre class="ns nt nu nv gt nw nx ny bn nz oa bi"><span id="d92c" class="ob md jj nx b be oc od l oe of">&gt;&gt;&gt; items = ["applesss", "apple"]<br/>&gt;&gt;&gt; sorted(items, key=lambda x: len(x))<br/>["apple", "applesss"]</span></pre><p id="c35f" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">å¥½å§ï¼Œæ‰€ä»¥æˆ‘çš„é—®é¢˜æ˜¯ä¸ºä»€ä¹ˆâ€œlambdaâ€è¿™ä¸ªè¯ï¼Ÿæ„Ÿè§‰è¿™ä¸ªå…³é”®è¯ä¸å¤Ÿç›´è§‚ã€‚</p><p id="d9c4" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">è¿™ä¸ªæƒ³æ³•å¯èƒ½æ¥è‡ª<a class="ae jg" href="https://en.wikipedia.org/wiki/Lambda_calculus" rel="noopener ugc nofollow" target="_blank">Î»æ¼”ç®—</a>ï¼Œä½†è¿™æ˜¯ä¸€ä¸ªæ·±å¥¥çš„æ¦‚å¿µ(æˆ‘æœ€è¿‘æ‰çŸ¥é“)ã€‚å®ƒä¹Ÿå¯èƒ½æ¥è‡ª<a class="ae jg" href="https://www.gnu.org/software/emacs/manual/html_node/eintr/lambda.html" rel="noopener ugc nofollow" target="_blank">Lisp</a>â€”â€”ä»–ä»¬å¯¹åŒ¿åå‡½æ•°ä½¿ç”¨<code class="fe og oh oi nx b">lambda</code>å…³é”®å­—ã€‚</p><pre class="ns nt nu nv gt nw nx ny bn nz oa bi"><span id="b30c" class="ob md jj nx b be oc od l oe of">(lambda (x) (1 + x))</span></pre><p id="6580" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">é‚£ä¹ˆæˆ‘ä»¬è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p><h1 id="aaa1" class="mc md jj bd me mf mg mh mi mj mk ml mm kp mn kq mo ks mp kt mq kv mr kw ms mt bi translated">3.å…¶ä»–äººæ˜¯æ€ä¹ˆåšçš„ï¼Ÿ</h1><p id="40b8" class="pw-post-body-paragraph ky kz jj la b lb mw kk ld le mx kn lg lh np lj lk ll nq ln lo lp nr lr ls lt im bi translated">ä½¿ç”¨Pythonå®šä¹‰å‚æ•°åŠ 3çš„æ–¹å¼ï¼Œ</p><pre class="ns nt nu nv gt nw nx ny bn nz oa bi"><span id="3090" class="ob md jj nx b be oc od l oe of">lambda x: x+3</span></pre><p id="f33d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">è®©æˆ‘ä»¬çœ‹çœ‹å…¶ä»–è¯­è¨€æ˜¯å¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹çš„(å¦‚æœæœ‰ä¸æ­¢ä¸€ç§é€‰æ‹©ï¼Œæˆ‘å°†æŒ‘é€‰å‡ºæˆ‘è®¤ä¸ºæ›´ç®€æ´çš„ä¸€ç§)ã€‚</p><p id="f62c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><a class="ae jg" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions" rel="noopener ugc nofollow" target="_blank"> JavaScript </a>(å¯¹äºå¯ä»¥æ¨æ–­ç±»å‹çš„<a class="ae jg" href="https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#anonymous-functions" rel="noopener ugc nofollow" target="_blank">ç±»å‹è„šæœ¬</a>ä¹Ÿæ˜¯å¦‚æ­¤)</p><pre class="ns nt nu nv gt nw nx ny bn nz oa bi"><span id="1422" class="ob md jj nx b be oc od l oe of">x =&gt; x+3<br/>(x) =&gt; x+3</span></pre><p id="b651" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><a class="ae jg" href="https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html" rel="noopener ugc nofollow" target="_blank"> Java 8 </a></p><pre class="ns nt nu nv gt nw nx ny bn nz oa bi"><span id="4df2" class="ob md jj nx b be oc od l oe of">(x) -&gt; x+3<br/>(x) -&gt; { x + 3}</span></pre><p id="9a90" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><a class="ae jg" href="https://kotlinlang.org/docs/lambdas.html#lambda-expressions-and-anonymous-functions" rel="noopener ugc nofollow" target="_blank">ç§‘ç‰¹æ—</a></p><pre class="ns nt nu nv gt nw nx ny bn nz oa bi"><span id="86c9" class="ob md jj nx b be oc od l oe of">{ x -&gt; x+3 }</span></pre><p id="a8ca" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><a class="ae jg" href="https://doc.rust-lang.org/rust-by-example/fn/closures.html" rel="noopener ugc nofollow" target="_blank">ç”Ÿé”ˆ</a>ğŸ¦€</p><pre class="ns nt nu nv gt nw nx ny bn nz oa bi"><span id="5317" class="ob md jj nx b be oc od l oe of">|x| x+3<br/>|x| -&gt; { x+3 }</span></pre><p id="f4b8" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">çº¢å®çŸ³</p><pre class="ns nt nu nv gt nw nx ny bn nz oa bi"><span id="0e9b" class="ob md jj nx b be oc od l oe of">{ |x| puts x+3 }</span></pre><p id="6817" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">å“ˆæ–¯å…‹å°”</p><pre class="ns nt nu nv gt nw nx ny bn nz oa bi"><span id="c338" class="ob md jj nx b be oc od l oe of">\x -&gt; x + 3</span></pre><p id="1b4e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><a class="ae jg" href="https://en.cppreference.com/w/cpp/language/lambda" rel="noopener ugc nofollow" target="_blank"> C++11 </a></p><pre class="ns nt nu nv gt nw nx ny bn nz oa bi"><span id="594e" class="ob md jj nx b be oc od l oe of">[](int value) { return x + 3; }</span></pre><p id="fd8e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">é›¨ç‡•</p><pre class="ns nt nu nv gt nw nx ny bn nz oa bi"><span id="dbd6" class="ob md jj nx b be oc od l oe of">{ $0 + 3}</span></pre><p id="86ca" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><a class="ae jg" href="https://elixir-lang.org/crash-course.html#partials-and-function-captures-in-elixir" rel="noopener ugc nofollow" target="_blank">ä»™ä¸¹</a></p><pre class="ns nt nu nv gt nw nx ny bn nz oa bi"><span id="d942" class="ob md jj nx b be oc od l oe of">&amp;(&amp;1 + 3)</span></pre><p id="8d79" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><a class="ae jg" href="https://docs.scala-lang.org/overviews/scala-book/anonymous-functions.html" rel="noopener ugc nofollow" target="_blank"> Scala </a></p><pre class="ns nt nu nv gt nw nx ny bn nz oa bi"><span id="1b38" class="ob md jj nx b be oc od l oe of">i =&gt; i + 3<br/>_ + 3  // Are you kidding me? I love this!</span></pre><p id="ce1d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Clojure(ä»¥ä¸‹æ˜¯<a class="ae jg" href="https://en.wikipedia.org/wiki/Polish_notation" rel="noopener ugc nofollow" target="_blank">å‰ç¼€æ ‡æ³¨</a>ï¼›å‡è®¾æˆ‘ä»¬æƒ³è¦ä¸€ä¸ª<a class="ae jg" href="https://en.wikipedia.org/wiki/Infix_notation" rel="noopener ugc nofollow" target="_blank">ä¸­ç¼€</a>ç‰ˆæœ¬ï¼Œå®ƒçœ‹èµ·æ¥åƒ<code class="fe og oh oi nx b">#(% + 3)</code>ã€‚)</p><pre class="ns nt nu nv gt nw nx ny bn nz oa bi"><span id="f05d" class="ob md jj nx b be oc od l oe of">#(+ % 3) </span></pre><p id="9adc" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">åŸºäºè¿™äº›è¯­è¨€ï¼Œä»¥ä¸‹æ˜¯æˆ‘è§‚å¯Ÿåˆ°çš„ä¸€äº›ç‰¹å¾(å¹¶éç›¸äº’æ’æ–¥):</p><ul class=""><li id="657b" class="mu mv jj la b lb lc le lf lh oj ll ok lp ol lt om nc nd ne bi translated">ä½¿ç”¨<code class="fe og oh oi nx b">&amp;</code>ã€<code class="fe og oh oi nx b">#</code>ã€<code class="fe og oh oi nx b">\</code>æˆ–<code class="fe og oh oi nx b">{ ... }</code>çš„åŒ¿åå‡½æ•°çš„æ˜ç¡®æŒ‡ç¤ºã€‚åœ¨Pythonä¸­ï¼Œè¿™æ˜¯<code class="fe og oh oi nx b">lambda</code>ã€‚</li><li id="e86d" class="mu mv jj la b lb nf le ng lh nh ll ni lp nj lt om nc nd ne bi translated">ä½¿ç”¨ç±»ä¼¼äº<code class="fe og oh oi nx b">-&gt;</code>æˆ–<code class="fe og oh oi nx b">=&gt;</code>çš„åˆ†éš”ç¬¦åœ¨å‚æ•°å’Œæ­£æ–‡ä¹‹é—´ä½¿ç”¨â€œåˆ†éš”ç¬¦â€,æˆ–è€…æŒ‰ç…§ç±»ä¼¼äº<code class="fe og oh oi nx b">|x|</code>æˆ–<code class="fe og oh oi nx b">(x)</code>çš„è¯­æ³•å°†å‚æ•°å’Œæ­£æ–‡åˆ†ç»„ï¼Œå¹¶å°†<code class="fe og oh oi nx b">{ ... }</code>ä½œä¸ºæ­£æ–‡ã€‚</li><li id="ff5e" class="mu mv jj la b lb nf le ng lh nh ll ni lp nj lt om nc nd ne bi translated">å¯¹å‚æ•°æˆ–ä½ç½®å‚æ•°çš„å¼•ç”¨ï¼Œå¦‚<code class="fe og oh oi nx b">_</code>ã€<code class="fe og oh oi nx b">%1</code>æˆ–<code class="fe og oh oi nx b">$0</code>ã€‚</li><li id="8ff8" class="mu mv jj la b lb nf le ng lh nh ll ni lp nj lt om nc nd ne bi translated">è¡¨ç¤ºè¿”å›å€¼çš„å…³é”®å­—ï¼Œå¦‚<code class="fe og oh oi nx b">return</code>æˆ–<code class="fe og oh oi nx b">puts</code>ã€‚</li></ul><h1 id="606a" class="mc md jj bd me mf mg mh mi mj mk ml mm kp mn kq mo ks mp kt mq kv mr kw ms mt bi translated">4.ç›®æ ‡è¯­æ³•</h1><p id="5455" class="pw-post-body-paragraph ky kz jj la b lb mw kk ld le mx kn lg lh np lj lk ll nq ln lo lp nr lr ls lt im bi translated">ä»Šå¤©ï¼Œæˆ‘ä»¬å°†åˆ é™¤å…³é”®å­—ï¼Œå¹¶ç”¨å¦ä¸€ç§è¯­æ³•æ›¿æ¢å®ƒğŸ˜ˆã€‚æˆ‘ä»¬éœ€è¦ä¸€äº›èƒ½ç«‹å³æ˜¾ç¤ºèµ·ç‚¹<code class="fe og oh oi nx b">x</code>å’Œç»“æœ<code class="fe og oh oi nx b">x+1</code>çš„ä¸œè¥¿ï¼Œå¹¶ä½¿ç”¨ä¸€äº›ç¬¦å·æ¥å»ºç«‹è¿™ç§å…³ç³»ã€‚</p><p id="3f98" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">æ‰€ä»¥æˆ‘åœ¨æƒ³â€¦</p><pre class="ns nt nu nv gt nw nx ny bn nz oa bi"><span id="60e6" class="ob md jj nx b be oc od l oe of">|x| -&gt; x+1</span></pre><ol class=""><li id="6222" class="mu mv jj la b lb lc le lf lh oj ll ok lp ol lt nb nc nd ne bi translated">åˆ é™¤åŒ¿åå‡½æ•°çš„æŒ‡ç¤º(<code class="fe og oh oi nx b">lambda</code>)</li><li id="ee06" class="mu mv jj la b lb nf le ng lh nh ll ni lp nj lt nb nc nd ne bi translated">ç”¨<code class="fe og oh oi nx b">|...|</code>å’Œ<code class="fe og oh oi nx b">-&gt;</code>æ”¹å˜å‚æ•°å’Œä¸»ä½“ä¹‹é—´çš„â€œåˆ†éš”çº¿â€,åªæ˜¯å› ä¸ºå®ƒæ›´å¸¸è§ã€‚</li></ol><p id="5f52" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">ä»¥ä¸‹æ˜¯ä¸€äº›å…¶ä»–æ³¨æ„äº‹é¡¹:</p><ul class=""><li id="49d2" class="mu mv jj la b lb lc le lf lh oj ll ok lp ol lt om nc nd ne bi translated">ç®¡é“æ“ä½œç¬¦<code class="fe og oh oi nx b">|</code>ç›®å‰åªè¢«ç”¨ä½œäºŒå…ƒæ“ä½œç¬¦(éœ€è¦LHSå’ŒRHSå‚æ•°),æ‰€ä»¥ä½¿ç”¨<code class="fe og oh oi nx b">|...|</code>åº”è¯¥å¯¹å½“å‰è§„åˆ™æ²¡æœ‰ä»€ä¹ˆå¹²æ‰°</li><li id="2363" class="mu mv jj la b lb nf le ng lh nh ll ni lp nj lt om nc nd ne bi translated"><code class="fe og oh oi nx b">=&gt;</code>ç¬¬ä¸€æ¬¡å¯¹æˆ‘æ¥è¯´å¤±è´¥äº†ï¼Œæœ‰ç‚¹å‘æ¯›ï¼Œæ‰€ä»¥<code class="fe og oh oi nx b">-&gt;</code>å°±æ˜¯äº†ï¼Œè™½ç„¶ç›®å‰æ˜¯ç”¨æ¥æ³¨é‡Š<a class="ae jg" href="https://docs.python.org/3/library/typing.html" rel="noopener ugc nofollow" target="_blank">å‡½æ•°è¿”å›ç±»å‹</a>ã€‚</li><li id="7599" class="mu mv jj la b lb nf le ng lh nh ll ni lp nj lt om nc nd ne bi translated">å¢å¼ºçš„æŒ‰ä½or <code class="fe og oh oi nx b">|=</code>ä¼šæœ‰é—®é¢˜</li></ul><h1 id="0198" class="mc md jj bd me mf mg mh mi mj mk ml mm kp mn kq mo ks mp kt mq kv mr kw ms mt bi translated">5.æ·»åŠ ä»¤ç‰Œ</h1><p id="3406" class="pw-post-body-paragraph ky kz jj la b lb mw kk ld le mx kn lg lh np lj lk ll nq ln lo lp nr lr ls lt im bi translated">ä¸éœ€è¦æ–°çš„ä»¤ç‰Œã€‚</p><ul class=""><li id="002b" class="mu mv jj la b lb lc le lf lh oj ll ok lp ol lt om nc nd ne bi translated"><code class="fe og oh oi nx b">|</code>ä»¤ç‰Œå€¼(ä»¤ç‰Œå<code class="fe og oh oi nx b">VBAR</code>)å·²ç»ç”¨äº<a class="ae jg" href="https://docs.python.org/3/library/operator.html#mapping-operators-to-functions" rel="noopener ugc nofollow" target="_blank">ä½æˆ–</a>ã€‚</li><li id="79b0" class="mu mv jj la b lb nf le ng lh nh ll ni lp nj lt om nc nd ne bi translated"><code class="fe og oh oi nx b">-&gt;</code>ä»¤ç‰Œå€¼(ä»¤ç‰Œå<code class="fe og oh oi nx b">RARROW</code>)ä¹Ÿå·²ç»è¢«ç”¨äº<a class="ae jg" href="https://docs.python.org/3/library/typing.html#module-typing" rel="noopener ugc nofollow" target="_blank">æ³¨é‡Šå‡½æ•°è¿”å›ç±»å‹</a>ã€‚</li></ul><h1 id="f443" class="mc md jj bd me mf mg mh mi mj mk ml mm kp mn kq mo ks mp kt mq kv mr kw ms mt bi translated">6.æ”¹å˜è¯­æ³•</h1><p id="10d3" class="pw-post-body-paragraph ky kz jj la b lb mw kk ld le mx kn lg lh np lj lk ll nq ln lo lp nr lr ls lt im bi translated">æ”¹å˜è¿™ç§è¯­æ³•ç¨å¾®å¤æ‚ä¸€äº›ã€‚æ‰€ä»¥å»å–æ¯å’–å•¡å§ï¼</p><h2 id="512c" class="on md jj bd me oo op dn mi oq or dp mm lh os ot mo ll ou ov mq lp ow ox ms oy bi translated">6.1 lambdef</h2><p id="4eab" class="pw-post-body-paragraph ky kz jj la b lb mw kk ld le mx kn lg lh np lj lk ll nq ln lo lp nr lr ls lt im bi translated">Î»å®šä¹‰å®šä¹‰ä¸º<code class="fe og oh oi nx b">lambdef</code>ã€‚è®©æˆ‘ä»¬åœ¨ç¬¬5â€“7è¡Œåˆ›å»ºlambdaçš„æ–°å®šä¹‰:</p><pre class="ns nt nu nv gt nw nx ny bn nz oa bi"><span id="d613" class="ob md jj nx b be oc od l oe of">lambdef[expr_ty]:<br/>    | 'lambda' a=[lambda_params] ':' b=expression {<br/>        _PyAST_Lambda(<br/>            (a) ? a : CHECK(arguments_ty, _PyPegen_empty_arguments(p)), b, EXTRA) }<br/>    | '|' a=[lambda_params_new] '|' '-&gt;' b=expression {<br/>        _PyAST_Lambda(<br/>            (a) ? a : CHECK(arguments_ty, _PyPegen_empty_arguments(p)), b, EXTRA) }</span></pre><p id="68f1" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">å®ƒéµå¾ªä»¥ä¸‹ä¼ªè¯­æ³•:</p><pre class="ns nt nu nv gt nw nx ny bn nz oa bi"><span id="4b9b" class="ob md jj nx b be oc od l oz of">| &lt;lambda_params_new&gt; | -&gt; &lt;expression&gt;</span></pre><p id="6dfa" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">ç°æœ‰çš„<code class="fe og oh oi nx b">lambda_params</code>å®šä¹‰åŠå…¶åµŒå¥—å®šä¹‰çœ‹èµ·æ¥éå¸¸å¤æ‚ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬åˆ›é€ äº†ä¸€ä¸ªæ–°çš„å®šä¹‰å«åš<code class="fe og oh oi nx b">lambda_params_new</code>ã€‚</p><h2 id="8a74" class="on md jj bd me oo op dn mi oq or dp mm lh os ot mo ll ou ov mq lp ow ox ms oy bi translated">_ params _ new</h2><p id="5b6c" class="pw-post-body-paragraph ky kz jj la b lb mw kk ld le mx kn lg lh np lj lk ll nq ln lo lp nr lr ls lt im bi translated">lambdaå‚æ•°çš„ç°æœ‰è§„åˆ™(<code class="fe og oh oi nx b">lambda_params</code>)è¿›ä¸€æ­¥å®šä¹‰äº†lambdaå‡½æ•°çš„ç»“æ„ï¼Œå¦‚æ–œçº¿ã€æ˜Ÿå·ã€é»˜è®¤å…³é”®å­—ç­‰ã€‚</p><pre class="ns nt nu nv gt nw nx ny bn nz oa bi"><span id="2536" class="ob md jj nx b be oc od l oe of">lambda_params[arguments_ty]:<br/>    | invalid_lambda_parameters<br/>    | lambda_parameters<br/><br/># lambda_parameters etc. duplicates parameters but without annotations<br/># or type comments, and if there's no comma after a parameter, we expect<br/># a colon, not a close parenthesis.  (For more, see parameters above.)<br/>#<br/>lambda_parameters[arguments_ty]:<br/>    | a=lambda_slash_no_default b[asdl_arg_seq*]=lambda_param_no_default* c=lambda_param_with_default* d=[lambda_star_etc] {<br/>        _PyPegen_make_arguments(p, a, NULL, b, c, d) }<br/>    | a=lambda_slash_with_default b=lambda_param_with_default* c=[lambda_star_etc] {<br/>        _PyPegen_make_arguments(p, NULL, a, NULL, b, c) }<br/>    | a[asdl_arg_seq*]=lambda_param_no_default+ b=lambda_param_with_default* c=[lambda_star_etc] {<br/>        _PyPegen_make_arguments(p, NULL, NULL, a, b, c) }<br/>    | a=lambda_param_with_default+ b=[lambda_star_etc] { _PyPegen_make_arguments(p, NULL, NULL, NULL, a, b)}<br/>    | a=lambda_star_etc { _PyPegen_make_arguments(p, NULL, NULL, NULL, NULL, a) }<br/><br/>lambda_slash_no_default[asdl_arg_seq*]:<br/>    | a[asdl_arg_seq*]=lambda_param_no_default+ '/' ',' { a }<br/>    | a[asdl_arg_seq*]=lambda_param_no_default+ '/' &amp;':' { a }<br/><br/>lambda_slash_with_default[SlashWithDefault*]:<br/>    | a=lambda_param_no_default* b=lambda_param_with_default+ '/' ',' { _PyPegen_slash_with_default(p, (asdl_arg_seq *)a, b) }<br/>    | a=lambda_param_no_default* b=lambda_param_with_default+ '/' &amp;':' { _PyPegen_slash_with_default(p, (asdl_arg_seq *)a, b) }<br/><br/>lambda_star_etc[StarEtc*]:<br/>    | '*' a=lambda_param_no_default b=lambda_param_maybe_default* c=[lambda_kwds] {<br/>        _PyPegen_star_etc(p, a, b, c) }<br/>    | '*' ',' b=lambda_param_maybe_default+ c=[lambda_kwds] {<br/>        _PyPegen_star_etc(p, NULL, b, c) }<br/>    | a=lambda_kwds { _PyPegen_star_etc(p, NULL, NULL, a) }<br/>    | invalid_lambda_star_etc<br/><br/>lambda_kwds[arg_ty]: '**' a=lambda_param_no_default { a }<br/><br/>lambda_param_no_default[arg_ty]:<br/>    | a=lambda_param ',' { a }<br/>    | a=lambda_param &amp;':' { a }<br/>lambda_param_with_default[NameDefaultPair*]:<br/>    | a=lambda_param c=default ',' { _PyPegen_name_default_pair(p, a, c, NULL) }<br/>    | a=lambda_param c=default &amp;':' { _PyPegen_name_default_pair(p, a, c, NULL) }<br/>lambda_param_maybe_default[NameDefaultPair*]:<br/>    | a=lambda_param c=default? ',' { _PyPegen_name_default_pair(p, a, c, NULL) }<br/>    | a=lambda_param c=default? &amp;':' { _PyPegen_name_default_pair(p, a, c, NULL) }<br/>lambda_param[arg_ty]: a=NAME { _PyAST_arg(a-&gt;v.Name.id, NULL, NULL, EXTRA) }</span></pre><p id="4608" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">æœ‰å¾ˆå¤šé€»è¾‘ã€‚ä¸ºäº†ä¸å¼„ä¹±ç°æœ‰çš„é€»è¾‘ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸Šé¢çš„å‰¯æœ¬ï¼Œå°†<code class="fe og oh oi nx b">_new</code>é™„åŠ åˆ°æ‰€æœ‰çš„è§„åˆ™ä¸Šã€‚ç„¶åï¼Œæˆ‘ä»¬åœ¨è¿™äº›ç«™ç‚¹ç”¨æ–°è¯­æ³•æ›¿æ¢æ—§è¯­æ³•(æ³¨æ„<code class="fe og oh oi nx b">'|'</code>):</p><ul class=""><li id="21b7" class="mu mv jj la b lb lc le lf lh oj ll ok lp ol lt om nc nd ne bi translated"><code class="fe og oh oi nx b">lambda_slash_no_default_new</code></li><li id="0ad4" class="mu mv jj la b lb nf le ng lh nh ll ni lp nj lt om nc nd ne bi translated"><code class="fe og oh oi nx b">lambda_slash_with_default_new</code></li><li id="bfaf" class="mu mv jj la b lb nf le ng lh nh ll ni lp nj lt om nc nd ne bi translated"><code class="fe og oh oi nx b">lambda_param_no_default_new</code></li><li id="7430" class="mu mv jj la b lb nf le ng lh nh ll ni lp nj lt om nc nd ne bi translated"><code class="fe og oh oi nx b">lambda_param_with_default_new</code></li><li id="097a" class="mu mv jj la b lb nf le ng lh nh ll ni lp nj lt om nc nd ne bi translated"><code class="fe og oh oi nx b">lambda_param_maybe_default_new</code></li></ul><pre class="ns nt nu nv gt nw nx ny bn nz oa bi"><span id="d0b5" class="ob md jj nx b be oc od l oe of"># Lambda functions new syntax<br/># ---------------------------<br/><br/>lambda_params_new[arguments_ty]:<br/>    | invalid_lambda_parameters_new<br/>    | lambda_parameters_new<br/><br/># lambda_parameters etc. duplicates parameters but without annotations<br/># or type comments, and if there's no comma after a parameter, we expect<br/># a colon, not a close parenthesis.  (For more, see parameters above.)<br/>#<br/>lambda_parameters_new[arguments_ty]:<br/>    | a=lambda_slash_no_default_new b[asdl_arg_seq*]=lambda_param_no_default_new* c=lambda_param_with_default_new* d=[lambda_star_etc_new] {<br/>        _PyPegen_make_arguments(p, a, NULL, b, c, d) }<br/>    | a=lambda_slash_with_default_new b=lambda_param_with_default_new* c=[lambda_star_etc_new] {<br/>        _PyPegen_make_arguments(p, NULL, a, NULL, b, c) }<br/>    | a[asdl_arg_seq*]=lambda_param_no_default_new+ b=lambda_param_with_default_new* c=[lambda_star_etc_new] {<br/>        _PyPegen_make_arguments(p, NULL, NULL, a, b, c) }<br/>    | a=lambda_param_with_default_new+ b=[lambda_star_etc_new] { _PyPegen_make_arguments(p, NULL, NULL, NULL, a, b)}<br/>    | a=lambda_star_etc_new { _PyPegen_make_arguments(p, NULL, NULL, NULL, NULL, a) }<br/><br/>lambda_slash_no_default_new[asdl_arg_seq*]:<br/>    | a[asdl_arg_seq*]=lambda_param_no_default_new+ '/' ',' { a }<br/>    | a[asdl_arg_seq*]=lambda_param_no_default_new+ '/' &amp;'|' { a }<br/><br/>lambda_slash_with_default_new[SlashWithDefault*]:<br/>    | a=lambda_param_no_default_new* b=lambda_param_with_default_new+ '/' ',' { _PyPegen_slash_with_default(p, (asdl_arg_seq *)a, b) }<br/>    | a=lambda_param_no_default_new* b=lambda_param_with_default_new+ '/' &amp;'|' { _PyPegen_slash_with_default(p, (asdl_arg_seq *)a, b) }<br/><br/>lambda_star_etc_new[StarEtc*]:<br/>    | '*' a=lambda_param_no_default_new b=lambda_param_maybe_default_new* c=[lambda_kwds_new] {<br/>        _PyPegen_star_etc(p, a, b, c) }<br/>    | '*' ',' b=lambda_param_maybe_default_new+ c=[lambda_kwds_new] {<br/>        _PyPegen_star_etc(p, NULL, b, c) }<br/>    | a=lambda_kwds_new { _PyPegen_star_etc(p, NULL, NULL, a) }<br/>    | invalid_lambda_star_etc_new<br/><br/>lambda_kwds_new[arg_ty]: '**' a=lambda_param_no_default_new { a }<br/><br/>lambda_param_no_default_new[arg_ty]:<br/>    | a=lambda_param_new ',' { a }<br/>    | a=lambda_param_new &amp;'|' { a }<br/>lambda_param_with_default_new[NameDefaultPair*]:<br/>    | a=lambda_param_new c=default ',' { _PyPegen_name_default_pair(p, a, c, NULL) }<br/>    | a=lambda_param_new c=default &amp;'|' { _PyPegen_name_default_pair(p, a, c, NULL) }<br/>lambda_param_maybe_default_new[NameDefaultPair*]:<br/>    | a=lambda_param_new c=default? ',' { _PyPegen_name_default_pair(p, a, c, NULL) }<br/>    | a=lambda_param_new c=default? &amp;'|' { _PyPegen_name_default_pair(p, a, c, NULL) }<br/>lambda_param_new[arg_ty]: a=NAME { _PyAST_arg(a-&gt;v.Name.id, NULL, NULL, EXTRA) }</span></pre><p id="eaa0" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">æˆ‘ä»¬è¿˜æ²¡æœ‰å®Œå…¨å®Œæˆï¼Œå› ä¸ºæˆ‘ä»¬è¿˜æ²¡æœ‰åˆ›å»ºä¸€äº›å®šä¹‰ï¼Œå³<code class="fe og oh oi nx b">invalid_lambda_</code>å®šä¹‰ã€‚</p><h2 id="af99" class="on md jj bd me oo op dn mi oq or dp mm lh os ot mo ll ou ov mq lp ow ox ms oy bi translated">6.3æ— æ•ˆçš„_lambda_*</h2><p id="d7b7" class="pw-post-body-paragraph ky kz jj la b lb mw kk ld le mx kn lg lh np lj lk ll nq ln lo lp nr lr ls lt im bi translated">å¦‚æœé‡åˆ°ä¸æ­£ç¡®çš„è¯­æ³•ï¼Œæˆ‘ä»¬å¸Œæœ›ç›¸åº”åœ°å¼•å‘é”™è¯¯ã€‚</p><p id="f22c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">å¿«é€Ÿæœç´¢<code class="fe og oh oi nx b">invalid_lambda_</code>å¯ä»¥çœ‹åˆ°ä¸‰ä¸ªç°æœ‰çš„è§„åˆ™:<code class="fe og oh oi nx b">invalid_lambda_parameters</code>ã€<code class="fe og oh oi nx b">invalid_lambda_parameters_helper</code>å’Œ<code class="fe og oh oi nx b">invalid_lambda_star_etc</code>ã€‚</p><p id="95b7" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">å› æ­¤ï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå‰¯æœ¬ï¼Œè¿›è¡Œé€‚å½“çš„ç¼–è¾‘ä»¥é€‚åº”æ–°çš„è¯­æ³•ï¼Œå¹¶å°†<code class="fe og oh oi nx b">_new</code>æ·»åŠ åˆ°è§„åˆ™åç§°ä¸­:</p><pre class="ns nt nu nv gt nw nx ny bn nz oa bi"><span id="2589" class="ob md jj nx b be oc od l oe of">invalid_lambda_parameters_new:<br/>    | lambda_param_no_default_new* invalid_lambda_parameters_helper_new a=lambda_param_no_default_new {<br/>        RAISE_SYNTAX_ERROR_KNOWN_LOCATION(a, "non-default argument follows default argument") }<br/><br/>invalid_lambda_parameters_helper_new:<br/>    | a=lambda_slash_with_default_new { _PyPegen_singleton_seq(p, a) }<br/>    | lambda_param_with_default_new+<br/><br/>invalid_lambda_star_etc_new:<br/>    | '*' ('|' | ',' ('|' | '**')) { RAISE_SYNTAX_ERROR("named arguments must follow bare *") }</span></pre><p id="8d0d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">è€Œä¸”â€¦æˆ‘ä»¬åº”è¯¥å‡†å¤‡å¥½äº†ï¼é‡æ–°ç”Ÿæˆç›¸å…³æ–‡ä»¶å¹¶è¿è¡Œè§£é‡Šå™¨:</p><pre class="ns nt nu nv gt nw nx pa pb aw pc bi"><span id="9194" class="on md jj nx b gy pd pe l oz of"><strong class="nx jk">make</strong> regen-pegen &amp;&amp; <strong class="nx jk">make</strong> -j8 -s &amp;&amp; <strong class="nx jk">./python.exe</strong></span></pre><h1 id="f88e" class="mc md jj bd me mf mg mh mi mj mk ml mm kp mn kq mo ks mp kt mq kv mr kw ms mt bi translated">7.ä¾‹å­</h1><p id="9ad7" class="pw-post-body-paragraph ky kz jj la b lb mw kk ld le mx kn lg lh np lj lk ll nq ln lo lp nr lr ls lt im bi translated">åªæœ‰ä¸€ä¸ªå‚æ•°çš„åŒ¿åå‡½æ•°:</p><pre class="ns nt nu nv gt nw nx ny bn nz oa bi"><span id="a380" class="ob md jj nx b be oc od l oe of">&gt;&gt;&gt; identity = |x| -&gt; x<br/>&gt;&gt;&gt; identity("hello")<br/>"hello'</span></pre><p id="a6d6" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">å…·æœ‰å¤šä¸ªå‚æ•°çš„åŒ¿åå‡½æ•°:</p><pre class="ns nt nu nv gt nw nx ny bn nz oa bi"><span id="ba2a" class="ob md jj nx b be oc od l oe of">&gt;&gt;&gt; product = |a, b, c| -&gt; a*b*c<br/>&gt;&gt;&gt; product(1, 8, 9)<br/>72</span></pre><p id="a157" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">æ²¡æœ‰å‚æ•°çš„åŒ¿åå‡½æ•°:</p><pre class="ns nt nu nv gt nw nx ny bn nz oa bi"><span id="3505" class="ob md jj nx b be oc od l oe of">&gt;&gt;&gt; display_hello = || -&gt; print("hello")<br/>&gt;&gt;&gt; display_hello()<br/>'hello'</span></pre><p id="22ef" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">å¸¦æœ‰é»˜è®¤å‚æ•°çš„åŒ¿åå‡½æ•°:</p><pre class="ns nt nu nv gt nw nx ny bn nz oa bi"><span id="9b27" class="ob md jj nx b be oc od l oe of">&gt;&gt;&gt; exp = |x, power=2| -&gt; x**power<br/>&gt;&gt;&gt; exp(10)<br/>100<br/>&gt;&gt;&gt; exp(3, 3)<br/>27</span></pre><p id="9dd9" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">åŒ¿åå‡½æ•°ï¼Œç”¨äºåˆ—è¡¨æ’åº:</p><pre class="ns nt nu nv gt nw nx ny bn nz oa bi"><span id="582d" class="ob md jj nx b be oc od l oe of">&gt;&gt;&gt; items = ["applesss", "apple"]<br/><br/>&gt;&gt;&gt; sorted(items, key=lambda x: len(x))<br/>["apple", "applesss"]<br/><br/>&gt;&gt;&gt; sorted(items, key=|x|-&gt;len(x))<br/>["apple", "applesss"]</span></pre><p id="b407" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œç”¨åœ¨Sparkè¿™æ ·çš„è½¬æ¢ç®¡é“ä¸­(è§<a class="ae jg" href="https://spark.apache.org/examples.html" rel="noopener ugc nofollow" target="_blank">https://spark.apache.org/examples.html</a>):</p><pre class="ns nt nu nv gt nw nx ny bn nz oa bi"><span id="a129" class="ob md jj nx b be oc od l oe of">&gt;&gt;&gt; text_file = sc.textFile("hdfs://...")<br/>&gt;&gt;&gt; counts = (<br/>...     text_file<br/>...     .flatMap(|line| -&gt; line.split(" "))<br/>...     .map(|word| -&gt; (word, 1))<br/>...     .reduceByKey(|a, b| -&gt; a + b)<br/>... )</span></pre><p id="6a74" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">æ¨¡ç³Šä¸€è¡Œç¨‹åºä¸­çš„åŒ¿åå‡½æ•°ï¼Œæ”¹ç¼–è‡ªPython docs<a class="ae jg" href="https://docs.python.org/3/faq/programming.html#is-it-possible-to-write-obfuscated-one-liners-in-python" rel="noopener ugc nofollow" target="_blank">https://docs . Python . org/3/FAQ/programming . html # is-it-possible-to-write-obfuscated-one-liners-in-Python</a>ã€‚è¿™ä¸ªç¨‹åºç”Ÿæˆå‰åä¸ªæ–æ³¢é‚£å¥‘æ•°ã€‚</p><pre class="ns nt nu nv gt nw nx ny bn nz oa bi"><span id="f89b" class="ob md jj nx b be oc od l oe of">&gt;&gt;&gt; list(map(|x,f=x,f|-&gt;(f(x-1,f)+f(x-2,f)) if x&gt;1 else 1|-&gt;f(x,f),range(10)))<br/>[1, 1, 2, 3, 5, 8, 13, 21, 34, 55]</span></pre><p id="6d2d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">é€šè¿‡ä½¿ç”¨ç¬¬1éƒ¨åˆ†ä¸­çš„ä¸‰å…ƒè¿ç®—ç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ä¸Šé¢çš„å†…å®¹æ›´åŠ ç®€æ´:</p><pre class="ns nt nu nv gt nw nx ny bn nz oa bi"><span id="4639" class="ob md jj nx b be oc od l oe of">&gt;&gt;&gt; list(map(|x,f=|x,f|-&gt;x&gt;1?f(x-1,f)+f(x-2,f):1|-&gt;f(x,f),range(10)))<br/>[1, 1, 2, 3, 5, 8, 13, 21, 34, 55]</span></pre></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><p id="1257" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">æš‚æ—¶å°±è¿™æ ·å§ï¼è°¢è°¢ä½ è®©æˆ‘å’Œä½ åˆ†äº«æˆ‘çš„é»‘å®¢ä¹‹æ—…ã€‚æ•¬è¯·å…³æ³¨å‡½æ•°ä¸­çš„<strong class="la jk">ä¸è¿”å›å…³é”®å­—å’Œ<strong class="la jk">åˆ—è¡¨ç†è§£++ </strong>ï¼</strong></p><p id="b591" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">å¦‚æœä½ æœ‰ç‚¹è¿·èŒ«ï¼Œä½ å¯èƒ½æƒ³å…ˆçœ‹çœ‹<a class="ae jg" href="https://remykarem.medium.com/hacking-the-python-syntax-part-1-ternary-operator-bbcb04aa6ecb" rel="noopener">ç ´è§£Pythonè¯­æ³•:ä¸‰å…ƒè¿ç®—ç¬¦</a>ã€‚</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><p id="cd1e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">æˆ‘å‘è¡¨å…³äºäººå·¥æ™ºèƒ½ã€æœºå™¨å­¦ä¹ ã€ç¼–ç¨‹è¯­è¨€å’Œç”Ÿäº§åŠ›çš„æ–‡ç« ã€‚</p><p id="dc0c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="mb">å¦‚æœæ‚¨å–œæ¬¢é˜…è¯»æ›´å¤šå…³äºç¼–ç¨‹è¯­è¨€çš„å†…å®¹ï¼Œæ‚¨å¯ä»¥é€šè¿‡æˆ‘çš„æ¨èé“¾æ¥</em> <a class="ae jg" href="https://remykarem.medium.com/subscribe" rel="noopener"> <em class="mb">è®¢é˜…</em> </a> <em class="mb">ä»¥æ¥æ”¶æˆ‘å‘å¸ƒçš„æ›´æ–°ï¼Œæˆ–è€…</em> <a class="ae jg" href="https://remykarem.medium.com/membership" rel="noopener"> <em class="mb">æ³¨å†Œ</em> </a> <em class="mb">ï¼è¯·æ³¨æ„ï¼Œæ‚¨çš„ä¼šå‘˜è´¹çš„ä¸€éƒ¨åˆ†å°†ä½œä¸ºä»‹ç»è´¹åˆ†æ‘Šç»™æˆ‘ã€‚</em></p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="5d85" class="mc md jj bd me mf nk mh mi mj nl ml mm kp nm kq mo ks nn kt mq kv no kw ms mt bi translated">å‚è€ƒ</h1><ul class=""><li id="d36f" class="mu mv jj la b lb mw le mx lh my ll mz lp na lt om nc nd ne bi translated">æ”¹å˜CPythonçš„è¯­æ³•(<a class="ae jg" href="https://devguide.python.org/grammar/" rel="noopener ugc nofollow" target="_blank">devguide.python.org</a>)</li><li id="446a" class="mu mv jj la b lb nf le ng lh nh ll ni lp nj lt om nc nd ne bi translated">CPythonè§£æå™¨æŒ‡å—(<a class="ae jg" href="https://devguide.python.org/parser/" rel="noopener ugc nofollow" target="_blank">devguide.python.org</a>)</li></ul></div></div>    
</body>
</html>