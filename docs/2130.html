<html>
<head>
<title>React Hooks â€” designing a simple forms API â€” part 4 â€” scaling to other input types</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">react Hooksâ€”â€”è®¾è®¡ç®€å•çš„è¡¨å•APIâ€”â€”ç¬¬4éƒ¨åˆ†â€”â€”æ‰©å±•åˆ°å…¶ä»–è¾“å…¥ç±»å‹</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://itnext.io/react-hooks-designing-a-simple-forms-api-part-4-scaling-to-other-input-types-e738db0a3fc3?source=collection_archive---------2-----------------------#2019-04-05">https://itnext.io/react-hooks-designing-a-simple-forms-api-part-4-scaling-to-other-input-types-e738db0a3fc3?source=collection_archive---------2-----------------------#2019-04-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/5c097df4430f936fba4d29ae3221e6f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*heeHCiebxY3rC44y-q6wWA.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">ä¸‹é¢æ˜¯æˆ‘ä»¬å°†åœ¨ç¬¬4éƒ¨åˆ†ä¸­æ„å»ºçš„è¡¨å•å…ƒç´ </figcaption></figure><p id="e6d7" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†å›è¿‡å¤´æ¥å›ç­”è¿™ä¸ªé—®é¢˜â€œæˆ‘ä»¬çš„è¡¨å•APIä¼šæ”¯æŒä»Šå¤©çš„å¤§å¤šæ•°æ ‡å‡†è¡¨å•å—ï¼Ÿâ€è€Œè¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆæ˜¯ï¼Œç»å¯¹ä¸è¡Œï¼å•é€‰æŒ‰é’®ã€å¤é€‰æ¡†ã€å¤šé€‰ç­‰ã€‚å°†æ— æ³•æ­£å¸¸å·¥ä½œã€‚æˆ‘ä»¬æœ‰ä¸€ä¸ªå¾ˆå¥½çš„è®¾è®¡ï¼Œä½†æˆ‘ä»¬éœ€è¦éªŒè¯å®ƒæ˜¯å¦å¯ä»¥æ‰©å±•åˆ°æ”¯æŒå…¶ä»–è¾“å…¥ç±»å‹ã€‚æ‰€ä»¥è¿™å°†æ˜¯æˆ‘ä»¬è¿™ç¯‡æ–‡ç« çš„ç›®æ ‡ã€‚</p><p id="534b" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">åœ¨æœ¬ç³»åˆ—çš„ç¬¬1éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬ç ”ç©¶äº†å¦‚ä½•ä½¿ç”¨Reacté’©å­æ¥è®¾è®¡ä¸€ä¸ªReactè¡¨å•åº“ã€‚ç¬¬1éƒ¨åˆ†ä»‹ç»äº†è¿™ä¸ªåº“çš„åŠ¨æœºå’Œä¸€äº›æ€»ä½“è®¾è®¡ç›®æ ‡ã€‚</p><p id="b83f" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">åœ¨æœ¬ç³»åˆ—çš„ç¬¬2éƒ¨åˆ†<a class="ae ld" href="https://medium.com/@shanplourde/react-hooks-designing-a-simple-forms-api-part-2-1fe5d12f23d9" rel="noopener">ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª<code class="fe le lf lg lh b">useInput</code>é’©å­ï¼Œå°†å…¶é›†æˆåˆ°æˆ‘ä»¬çš„<code class="fe le lf lg lh b">useForm</code>é’©å­ä¸­ï¼Œå›é¡¾äº†æˆ‘ä»¬çš„è§£å†³æ–¹æ¡ˆçš„çŠ¶æ€ç®¡ç†ï¼Œåˆå¹¶äº†ä¸€äº›é¢å¤–çš„æµ‹è¯•ï¼Œå¹¶ä¸”æ›´è¯¦ç»†åœ°å›é¡¾äº†æµ‹è¯•ç­–ç•¥ã€‚</a></p><p id="f5a1" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">åœ¨ç¬¬3éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬è®¨è®ºäº†éªŒè¯ã€å¼‚æ­¥éªŒè¯å’Œå¼‚æ­¥è¡¨å•æäº¤ã€‚å®ƒä¸ºæˆ‘ä»¬æä¾›äº†åŸºäºReact hooksçš„è¡¨å•APIçš„å…³é”®å…ƒç´ ã€‚</p><h1 id="4af7" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">å·¥ä½œç¤ºä¾‹</h1><p id="6098" class="pw-post-body-paragraph kf kg it kh b ki mg kk kl km mh ko kp kq mi ks kt ku mj kw kx ky mk la lb lc im bi translated">è®©æˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸€éƒ¨åˆ†å°†åŒ…å«çš„æ‰€æœ‰å†…å®¹çš„æ¼”ç¤ºã€‚</p><figure class="ml mm mn mo gt ju"><div class="bz fp l di"><div class="mp mq l"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">ç¤ºä¾‹è¡¨å•å±•ç¤ºäº†æˆ‘ä»¬å°†åœ¨ç¬¬4éƒ¨åˆ†ä¸­å¼€å‘çš„æ‰€æœ‰è¡¨å•ç‰¹æ€§</figcaption></figure><p id="26f6" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><a class="ae ld" href="https://github.com/shanplourde/react-hooks-form-util" rel="noopener ugc nofollow" target="_blank">å®Œæ•´çš„è§£å†³æ–¹æ¡ˆå¯ä»¥åœ¨æˆ‘çš„github </a>ä¸­æ‰¾åˆ°ã€‚æ¼”ç¤ºä¸­æœ‰å¾ˆå¤šæ ·æ¿æ–‡ä»¶ï¼Œä½†æˆ‘å¸Œæœ›åœ¨è¿™ä¸€ç‚¹ä¸Šæœ‰éå¸¸æ˜ç¡®çš„ä¾‹å­ã€‚è¯·æ³¨æ„ï¼Œç”±äºCodeSandboxè®¾è®¡å†³å®šä¸æ”¯æŒä»<code class="fe le lf lg lh b">package.json</code>åŠ è½½<code class="fe le lf lg lh b">devDependencies</code>ï¼Œæµ‹è¯•åœ¨æ­¤æ—¶æ²¡æœ‰é€šè¿‡CodeSandboxã€‚</p><h1 id="22cb" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">è®¾è®¡å…¬å…±APIä»¥æ”¯æŒå…¶ä»–è¾“å…¥ç±»å‹</h1><p id="8217" class="pw-post-body-paragraph kf kg it kh b ki mg kk kl km mh ko kp kq mi ks kt ku mj kw kx ky mk la lb lc im bi translated">æ­¤æ—¶ï¼Œ<code class="fe le lf lg lh b">useForm</code>åªæ”¯æŒåŸºäºæ–‡æœ¬çš„è¾“å…¥ã€‚æˆ‘è®¤ä¸ºä»¥ä¸‹æ˜¯æœ€å…³é”®çš„åç»­æ­¥éª¤:</p><ul class=""><li id="b379" class="mr ms it kh b ki kj km kn kq mt ku mu ky mv lc mw mx my mz bi translated">æ”¯æŒå•é€‰æŒ‰é’®ç»„(<code class="fe le lf lg lh b">&lt;input type=â€™radioâ€™/&gt;</code>)</li><li id="f576" class="mr ms it kh b ki na km nb kq nc ku nd ky ne lc mw mx my mz bi translated">æ”¯æŒå¤é€‰æ¡†(<code class="fe le lf lg lh b">&lt;input type=â€™checkboxâ€™/&gt;</code>)</li><li id="1148" class="mr ms it kh b ki na km nb kq nc ku nd ky ne lc mw mx my mz bi translated">æ”¯æŒå¤šå€¼é€‰æ‹©(<code class="fe le lf lg lh b">&lt;select multiple=â€™trueâ€™/&gt;</code>)</li><li id="f115" class="mr ms it kh b ki na km nb kq nc ku nd ky ne lc mw mx my mz bi translated">æ”¯æŒè‡ªå®šä¹‰è¾“å…¥ï¼Œå¦‚æ—¥æœŸé€‰æ‹©å™¨</li><li id="c1ca" class="mr ms it kh b ki na km nb kq nc ku nd ky ne lc mw mx my mz bi translated">å…è®¸è‡ªå®šä¹‰ç»„ä»¶åŸºäºç±»æˆ–åŸºäºå‡½æ•°</li><li id="d9ec" class="mr ms it kh b ki na km nb kq nc ku nd ky ne lc mw mx my mz bi translated">ç¡®ä¿éªŒè¯æ”¯æŒåº“å­˜HTMLè¾“å…¥ç±»å‹å’Œå®šåˆ¶ç»„ä»¶</li><li id="cb24" class="mr ms it kh b ki na km nb kq nc ku nd ky ne lc mw mx my mz bi translated">ç¡®ä¿æˆ‘ä»¬çš„åº“å…è®¸å®šåˆ¶ç»„ä»¶æŒ‚é’©åˆ°<code class="fe le lf lg lh b">onBlur</code>å’Œ<code class="fe le lf lg lh b">onFocus</code>ï¼Œä»¥ä¾¿å¯ä»¥è·Ÿè¸ªéªŒè¯ã€è®¿é—®çŠ¶æ€å’ŒåŸå§‹çŠ¶æ€</li></ul><p id="5e6c" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">è¡¨å•åˆ›å»ºè€…ä¸åº”è¯¥åšä»»ä½•ç‰¹æ®Šçš„äº‹æƒ…æ¥è®©æ ‡å‡†çš„HTMLè¾“å…¥å·¥ä½œï¼Œåªéœ€è¦åœ¨éœ€è¦çš„æ—¶å€™åšä¸€äº›HTMLç‰¹å®šçš„å®ç°ç»†èŠ‚ã€‚ä½†æ˜¯ä»–ä»¬ä¸åº”è¯¥æ‹…å¿ƒé‚£äº›å®ç°ç»†èŠ‚ã€‚æˆ‘ä»¬å°†åœ¨æœ¬æ–‡ä¸­å›é¡¾å®ç°ç¤ºä¾‹ã€‚</p><h2 id="25b9" class="nf lj it bd lk ng nh dn lo ni nj dp ls kq nk nl lw ku nm nn ma ky no np me nq bi translated">å®šåˆ¶è¾“å…¥è®¾è®¡è¦æ±‚</h2><p id="59a0" class="pw-post-body-paragraph kf kg it kh b ki mg kk kl km mh ko kp kq mi ks kt ku mj kw kx ky mk la lb lc im bi translated">è‡ªå®šä¹‰è¾“å…¥åº”è¯¥éµå¾ªä¸€è‡´çš„APIã€‚<code class="fe le lf lg lh b">useForm.addInput</code>ç”¨äºé…ç½®ä¸€ä¸ªæ–°çš„è¾“å…¥ï¼Œæ— è®ºæ˜¯æ ‡å‡†çš„HTMLè¾“å…¥è¿˜æ˜¯è‡ªå®šä¹‰è¾“å…¥ã€‚<code class="fe le lf lg lh b">useForm.addInput</code>è¿”å›å®šåˆ¶ç»„ä»¶åº”è¯¥æ”¯æŒçš„ä¸€å †è¾“å…¥å±æ€§ã€‚ä¸‹é¢æ˜¯è¾“å…¥å±æ€§<code class="fe le lf lg lh b">useForm.addInput</code>çš„è¿”å›ç»“æœ:</p><ul class=""><li id="d4c1" class="mr ms it kh b ki kj km kn kq mt ku mu ky mv lc mw mx my mz bi translated"><code class="fe le lf lg lh b">id</code>:è¾“å…¥idå…è®¸<code class="fe le lf lg lh b">useForm</code>è·Ÿè¸ªè¡¨å•å­—æ®µ(å¿…å¡«)</li><li id="19ed" class="mr ms it kh b ki na km nb kq nc ku nd ky ne lc mw mx my mz bi translated"><code class="fe le lf lg lh b">value</code>:è¾“å…¥å€¼(å¿…è¾“é¡¹)</li><li id="b789" class="mr ms it kh b ki na km nb kq nc ku nd ky ne lc mw mx my mz bi translated"><code class="fe le lf lg lh b">onFocus</code>:å…è®¸<code class="fe le lf lg lh b">useInput</code>è·Ÿè¸ªè¾“å…¥æ˜¯å¦è¢«è®¿é—®è¿‡</li><li id="a7b8" class="mr ms it kh b ki na km nb kq nc ku nd ky ne lc mw mx my mz bi translated"><code class="fe le lf lg lh b">onBlur</code>:å…è®¸<code class="fe le lf lg lh b">useForm</code>åœ¨æ¨¡ç³Šæ—¶éªŒè¯ç»„ä»¶</li><li id="634c" class="mr ms it kh b ki na km nb kq nc ku nd ky ne lc mw mx my mz bi translated"><code class="fe le lf lg lh b">onChange</code>:å…è®¸<code class="fe le lf lg lh b">useInput</code>è·Ÿè¸ªè¾“å…¥å€¼æ˜¯å¦å·²ç»æ”¹å˜(<code class="fe le lf lg lh b">pristine</code>)(å¿…éœ€)</li></ul><p id="500e" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">æ‰€æœ‰è¿™äº›å±æ€§éƒ½æ˜¯æ ‡å‡†çš„Reactå±æ€§å’Œäº‹ä»¶ã€‚è¿™ä½¿å¾—APIä¸Reactçš„æ¨¡å‹ä¿æŒä¸€è‡´ã€‚</p><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nr"><img src="../Images/bf3b3da741f86d2ee68953cdb4f8b39e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*icQrv9J3KvGkCSiUXt8ixA.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">å›¾1 â€”å®šåˆ¶ç»„ä»¶å’Œè¾“å…¥é“å…·</figcaption></figure><p id="fe1c" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">å¦‚å›¾1æ‰€ç¤ºï¼Œè¦æ·»åŠ ä¸€ä¸ªå®šåˆ¶ç»„ä»¶:</p><ol class=""><li id="cdbe" class="mr ms it kh b ki kj km kn kq mt ku mu ky mv lc ns mx my mz bi translated">å®šä¹‰æ‚¨çš„Reactè‡ªå®šä¹‰ç»„ä»¶</li><li id="d5f4" class="mr ms it kh b ki na km nb kq nc ku nd ky ne lc ns mx my mz bi translated">åœ¨è‡ªå®šä¹‰ç»„ä»¶ä¸­å®ç°ä»<code class="fe le lf lg lh b">addInput</code>è¿”å›çš„<code class="fe le lf lg lh b">id </code>å’Œ<code class="fe le lf lg lh b">value</code>å±æ€§</li><li id="5bd8" class="mr ms it kh b ki na km nb kq nc ku nd ky ne lc ns mx my mz bi translated">åœ¨è‡ªå®šä¹‰ç»„ä»¶ä¸­è°ƒç”¨ä»<code class="fe le lf lg lh b">addInput</code>è¿”å›çš„<code class="fe le lf lg lh b">onChange</code>äº‹ä»¶ã€‚<code class="fe le lf lg lh b">onChange</code>éœ€è¦ä¼ é€’ä¸¤ä¸ªå€¼ï¼Œäº‹ä»¶å€¼å’Œè¾“å…¥å€¼ã€‚<code class="fe le lf lg lh b">useForm</code>ä¸çŸ¥é“<code class="fe le lf lg lh b">value</code>å±æ€§åœ¨å®šåˆ¶ç»„ä»¶çš„äº‹ä»¶å¯¹è±¡ä¸­çš„ä½ç½®ï¼Œæ‰€ä»¥æ˜ç¡®è¯¥å€¼å¯ä»¥ç®€åŒ–äº‹æƒ…</li><li id="abda" class="mr ms it kh b ki na km nb kq nc ku nd ky ne lc ns mx my mz bi translated">å¯é€‰åœ°åœ¨æ‚¨çš„å®šåˆ¶ç»„ä»¶ä¸­å®ç°ä»<code class="fe le lf lg lh b">addInput</code>è°ƒç”¨è¿”å›çš„<code class="fe le lf lg lh b">onFocus</code>å’Œ<code class="fe le lf lg lh b">onBlur</code>å‡½æ•°ã€‚è¿™å…è®¸<code class="fe le lf lg lh b">useInput</code>è·Ÿè¸ªè®¿é—®è¿‡çš„å’ŒåŸå§‹çš„çŠ¶æ€ï¼Œä¹Ÿå…è®¸å¯¹æ¨¡ç³Šè¿›è¡Œè¡¨å•éªŒè¯</li></ol><h2 id="4954" class="nf lj it bd lk ng nh dn lo ni nj dp ls kq nk nl lw ku nm nn ma ky no np me nq bi translated">æ”¯æŒ<code class="fe le lf lg lh b">useForm</code>çš„å®šåˆ¶ç»„ä»¶ç¤ºä¾‹</h2><p id="0e87" class="pw-post-body-paragraph kf kg it kh b ki mg kk kl km mh ko kp kq mi ks kt ku mj kw kx ky mk la lb lc im bi translated">è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªä½¿ç”¨<a class="ae ld" href="https://github.com/gpbl/react-day-picker" rel="noopener ugc nofollow" target="_blank"> react-day-picker </a>ç»„ä»¶çš„æ ·æœ¬æ—¥æœŸé€‰æ‹©å™¨ç»„ä»¶ã€‚æˆ‘ä»¬çš„ç»„ä»¶æ”¯æŒæ‰€æœ‰<code class="fe le lf lg lh b">useForm</code>æ”¯æŒçš„å±æ€§ã€‚ä¾‹å¦‚ï¼Œæœ‰è‡ªå®šä¹‰æ¨¡ç³Šå’Œå¯¹ç„¦åŠŸèƒ½ã€‚è¯·æ³¨æ„ï¼Œæˆ‘ä»¬çš„ç»„ä»¶æ˜¯ä¸€ä¸ªç±»ç»„ä»¶ã€‚ä½¿ç”¨<code class="fe le lf lg lh b">useForm</code>çš„ç»„ä»¶å¯ä»¥æ˜¯åŸºäºç±»æˆ–å‡½æ•°çš„ï¼Œæ²¡æœ‰é™åˆ¶ã€‚</p><p id="b7ae" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">æˆ‘ä»¬çš„å®šåˆ¶ç»„ä»¶æ²¡æœ‰ä»»ä½•æ˜¾å¼çš„<code class="fe le lf lg lh b">useForm</code>ä¾èµ–å…³ç³»ã€‚è¿™ä½¿å¾—å®šåˆ¶ç»„ä»¶å¾ˆå¥½åœ°ä¸<code class="fe le lf lg lh b">useForm</code>åº“è§£è€¦ï¼Œè€Œä¸æ˜¯è°ƒç”¨<code class="fe le lf lg lh b">props.onChange</code>ã€<code class="fe le lf lg lh b">props.onBlur</code>å’Œ<code class="fe le lf lg lh b">props.onFocus</code>(å¦‚æœå®ƒä»¬å­˜åœ¨çš„è¯)ã€‚è¿™äº›æ˜¯<code class="fe le lf lg lh b">useForm</code>åº“ä½¿ç”¨çš„äº‹ä»¶ã€‚</p><p id="a6a7" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">åœ¨<code class="fe le lf lg lh b">render</code>ä¸­ï¼Œ<code class="fe le lf lg lh b">&lt;DayPicker {â€¦this.props} /&gt;</code>å±•å¼€ä¼ é€’ç»™ç»„ä»¶çš„æ‰€æœ‰<code class="fe le lf lg lh b">useForm</code>å±æ€§ã€‚</p><pre class="ml mm mn mo gt nt lh nu nv aw nw bi"><span id="1f4f" class="nf lj it lh b gy nx ny l nz oa">import React from "react";<br/>import DayPicker from "react-day-picker";<br/>import "react-day-picker/lib/style.css";</span><span id="c2d1" class="nf lj it lh b gy ob ny l nz oa">export class DatePicker extends React.Component {<br/>  handleOnDayClick = (value, modifiers, event) =&gt; {<br/>    console.log("custom change code...");<br/>    this.props.onChange &amp;&amp; this.props.onChange(event, value);<br/>  };<br/>  handleOnBlur = event =&gt; {<br/>    console.log("custom blur code...");<br/>    this.props.onBlur &amp;&amp; this.props.onBlur(event, this.props.value);<br/>  };<br/>  handleOnFocus = event =&gt; {<br/>    console.log("custom focus code...");<br/>    this.props.onFocus &amp;&amp; this.props.onFocus(event);<br/>  };</span><span id="3b00" class="nf lj it lh b gy ob ny l nz oa">render() {<br/>    const { value } = this.props;</span><span id="36b6" class="nf lj it lh b gy ob ny l nz oa">return (<br/>      &lt;React.Fragment&gt;<br/>        &lt;DayPicker<br/>          onDayClick={this.handleOnDayClick}<br/>          {...this.props}<br/>          onBlur={this.handleOnBlur}<br/>          onFocus={this.handleOnFocus}<br/>        /&gt;<br/>        {value &amp;&amp; &lt;p&gt;You clicked {value.toLocaleDateString()}&lt;/p&gt;}<br/>      &lt;/React.Fragment&gt;<br/>    );<br/>  }<br/>}</span></pre><p id="909a" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh iu">ä½¿ç”¨è‡ªå®šä¹‰ç»„ä»¶å’Œä½¿ç”¨è¡¨å•</strong></p><p id="646a" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">ä½¿ç”¨å®šåˆ¶ç»„ä»¶ä¸ä½¿ç”¨æ™®é€šHTMLç»„ä»¶æ˜¯ä¸€æ ·çš„ã€‚åœ¨ä¸‹é¢çš„ç¤ºä¾‹è¡¨å•ä»£ç ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªå®šåˆ¶éªŒè¯ï¼Œå¹¶ä½¿ç”¨<code class="fe le lf lg lh b">api.addInput</code>å‡½æ•°æ¥é…ç½®æˆ‘ä»¬çš„å®šåˆ¶ç»„ä»¶å¹¶è¿æ¥éªŒè¯ã€‚</p><p id="6014" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">æˆ‘ä»¬çœ‹åˆ°ä»è¡¨å•çš„<code class="fe le lf lg lh b">useForm</code>è°ƒç”¨ä¸­è¿”å›äº†<code class="fe le lf lg lh b">api</code>ã€‚è¿™ä¸ªAPIå…è®¸è¡¨å•åˆ›å»ºè€…ä¸ºä»–ä»¬çš„è¡¨å•å®šä¹‰è¾“å…¥ã€‚ä»£ç ç„¶åè°ƒç”¨<code class="fe le lf lg lh b">api.addInput</code>æ¥æ³¨å†Œæ–°çš„<code class="fe le lf lg lh b">preferredDate</code>æ—¥æœŸå­—æ®µã€‚å½“è°ƒç”¨<code class="fe le lf lg lh b">api.addInput</code>æ—¶ï¼Œæ–°çš„<code class="fe le lf lg lh b">dateRangeValidator</code>è¢«ä¼ é€’ï¼Œè¿™å…è®¸<code class="fe le lf lg lh b">useForm</code>ä½¿ç”¨éªŒè¯å™¨ï¼Œå¹¶ä½¿ç”¨å…¶ä½™çš„æ ‡å‡†<code class="fe le lf lg lh b">useForm</code>éªŒè¯é”™è¯¯æ¥è·Ÿè¸ªéªŒè¯é”™è¯¯ã€‚è¿™åº”è¯¥ä½¿è¡¨å•éªŒè¯æ›´å®¹æ˜“æ¨ç†å’Œç»´æŠ¤ã€‚</p><p id="6101" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">æœ€åï¼Œæˆ‘ä»¬æœ‰äº†<code class="fe le lf lg lh b">&lt;DatePicker {â€¦preferredDate.getInputProps()} /&gt;</code>,è¿™å°±æ˜¯æˆ‘ä»¬å¦‚ä½•å°†æ‰€æœ‰çš„<code class="fe le lf lg lh b">api.addInput</code>å±æ€§ä¼ é€’ç»™æˆ‘ä»¬çš„å®šåˆ¶ç»„ä»¶ã€‚å°±æ˜¯è¿™æ ·ï¼</p><pre class="ml mm mn mo gt nt lh nu nv aw nw bi"><span id="4708" class="nf lj it lh b gy nx ny l nz oa">import { DatePicker } from "./date-picker";</span><span id="5ee0" class="nf lj it lh b gy ob ny l nz oa">...</span><span id="f543" class="nf lj it lh b gy ob ny l nz oa">function KitchenSink(props) {<br/>  const { getFormProps, formValues, uiState, <strong class="lh iu">api</strong>, formValidity } = useForm(<br/>    "settingsForm",<br/>    {<br/>      firstName: "George",<br/>      lastName: "OfTheJungle",<br/>      email: "<a class="ae ld" href="mailto:george@thejungle.com" rel="noopener ugc nofollow" target="_blank">george@thejungle.com</a>",<br/>      custom: "custom",<br/>      agreeToTerms: false,<br/>      comments: "",<br/>      favouriteFlavour: "",<br/>      favouriteColours: ["red", "green"],<br/>      cookiesPerDay: null,<br/><strong class="lh iu">      preferredDate: null</strong><br/>    }<br/>  );</span><span id="6129" class="nf lj it lh b gy ob ny l nz oa">...</span><span id="bf61" class="nf lj it lh b gy ob ny l nz oa">// Not a real reference example of how to validate dates :)<br/>  const dateRangeValidator = createValidator({<br/>    validateFn: date =&gt; {<br/>      const startDate = new Date(2018, 1, 1);<br/>      const endDate = new Date(2018, 12, 33);<br/>      return date &amp;&amp; date &gt;= startDate &amp;&amp; date &lt;= endDate;<br/>    },<br/>    error: "DATE_RANGE_ERROR"<br/>  });</span><span id="6a57" class="nf lj it lh b gy ob ny l nz oa">const preferredDate = api.addInput({<br/>    id: "preferredDate",<br/>    value: formValues.preferredDate,<br/>    validators: [<br/>      { ...required, when: ["onBlur", "onSubmit"] },<br/>      { ...dateRangeValidator, when: ["onBlur", "onSubmit"] }<br/>    ]<br/>  });</span><span id="8cec" class="nf lj it lh b gy ob ny l nz oa">&lt;fieldset className="field-group"&gt;<br/>          &lt;legend&gt;Select a date from 2018&lt;/legend&gt;<br/><strong class="lh iu">          &lt;DatePicker {...preferredDate.getInputProps()} /&gt;</strong><br/>          &lt;div&gt;<br/>            {JSON.stringify(preferredDate.uiState)} --{" "}<br/>            {JSON.stringify(formValidity.preferredDate)}<br/>          &lt;/div&gt;<br/>&lt;/fieldset&gt;</span></pre><h1 id="f02b" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated"><strong class="ak">å®ç°è‚¡ç¥¨HTMLè¾“å…¥</strong></h1><h2 id="e328" class="nf lj it bd lk ng nh dn lo ni nj dp ls kq nk nl lw ku nm nn ma ky no np me nq bi translated"><strong class="ak">å¤é€‰æ¡†</strong></h2><p id="6fc8" class="pw-post-body-paragraph kf kg it kh b ki mg kk kl km mh ko kp kq mi ks kt ku mj kw kx ky mk la lb lc im bi translated">å¤é€‰æ¡†æœŸæœ›<code class="fe le lf lg lh b">value</code>ä¸ºå¸ƒå°”å€¼ã€‚åœ¨ä¸‹é¢çš„ä»£ç ç¤ºä¾‹ä¸­ï¼Œè¡¨å•ä»£ç æ·»åŠ äº†ä¸€ä¸ª<code class="fe le lf lg lh b">agreeToTerms</code>è¾“å…¥ã€‚è¾“å…¥ä½¿ç”¨è‚¡ç¥¨<code class="fe le lf lg lh b">mustBeTrue</code>éªŒè¯å™¨ï¼Œå®ƒæœŸæœ›ç»™å®šè¾“å…¥çš„<code class="fe le lf lg lh b">value</code>ç­‰äºtrueã€‚æˆ‘ä»¬è®¾ç½®éªŒè¯è¿è¡Œ<code class="fe le lf lg lh b">onBlur</code>å’Œ<code class="fe le lf lg lh b">onSubmit</code>ã€‚æˆ‘ä»¬ç”¨ä»£ç <code class="fe le lf lg lh b">&lt;input type=â€checkboxâ€ <strong class="kh iu">{â€¦agreeToTerms.getCheckProps()}</strong> /&gt;</code>æ‰©å±•ä»<code class="fe le lf lg lh b">api.addInput</code>è¿”å›çš„è¾“å…¥å±æ€§ã€‚<code class="fe le lf lg lh b">mustBeTrue</code>æ˜¯ä¸€ä¸ªæ–°çš„è‚¡ç¥¨éªŒè¯å™¨ï¼Œç”¨äºéªŒè¯å¤é€‰æ¡†æ˜¯å¦è¢«é€‰ä¸­ã€‚</p><p id="4a0d" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh iu">ä¸å¤é€‰æ¡†ç›¸å…³çš„è¡¨å•ä»£ç ç¤ºä¾‹:</strong></p><pre class="ml mm mn mo gt nt lh nu nv aw nw bi"><span id="d4ba" class="nf lj it lh b gy nx ny l nz oa">///<br/>const agreeToTerms = api.addInput({<br/>    id: "agreeToTerms",<br/>    value: formValues.agreeToTerms,<br/>    validators: [{ ...mustBeTrue, when: ["onBlur", "onSubmit"] }]<br/>  });</span><span id="e1bf" class="nf lj it lh b gy ob ny l nz oa">///<br/>&lt;input type="checkbox" {...agreeToTerms.getCheckProps()} /&gt;<br/>          &lt;label htmlFor={agreeToTerms.id}&gt;<br/>            Checkbox that must be checked *<br/>          &lt;/label&gt;</span></pre><p id="50ca" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh iu">ä¸å¤é€‰æ¡†ç›¸å…³çš„use-input.jsä»£ç :</strong></p><pre class="ml mm mn mo gt nt lh nu nv aw nw bi"><span id="b337" class="nf lj it lh b gy nx ny l nz oa">const getCheckProps = inputProps =&gt; ({<br/>    ...getSharedProps(),<br/><strong class="lh iu">    checked: value,</strong><br/>    ...(typeof inputProps === "function" ? inputProps(props) : inputProps)<br/>  });</span></pre><p id="4b66" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh iu">ä¸å¤é€‰æ¡†ç›¸å…³çš„validators.jsä»£ç </strong></p><pre class="ml mm mn mo gt nt lh nu nv aw nw bi"><span id="4753" class="nf lj it lh b gy nx ny l nz oa">validators.mustBeTrue = createValidator({<br/>  validateFn: value =&gt; value !== null &amp;&amp; value !== undefined &amp;&amp; value === true,<br/>  error: "MUST_BE_TRUE"<br/>});</span></pre><h2 id="230a" class="nf lj it bd lk ng nh dn lo ni nj dp ls kq nk nl lw ku nm nn ma ky no np me nq bi translated"><strong class="ak">å•é€‰æŒ‰é’®</strong></h2><p id="a1c6" class="pw-post-body-paragraph kf kg it kh b ki mg kk kl km mh ko kp kq mi ks kt ku mj kw kx ky mk la lb lc im bi translated">å•é€‰æŒ‰é’®éœ€è¦è·Ÿè¸ª<code class="fe le lf lg lh b">value</code>å’Œ<code class="fe le lf lg lh b">checked</code>ã€‚è¿™ä¸æ–‡æœ¬è¾“å…¥å’Œå¤é€‰æ¡†ä¸åŒï¼Œå‰è€…åªè·Ÿè¸ªå€¼ï¼Œåè€…åªè·Ÿè¸ªé€‰ä¸­çš„å€¼ã€‚è¦æ·»åŠ ä¸€ç»„å•é€‰æŒ‰é’®ï¼Œè°ƒç”¨<code class="fe le lf lg lh b">api.addRadioGroup</code>ã€‚æ²¡æœ‰å¿…è¦ä¼ é€’å•é€‰é€‰é¡¹ã€‚å¯¹äºæ¯ä¸ª<code class="fe le lf lg lh b">&lt;input type=â€radioâ€ /&gt;</code>ï¼Œæˆ‘ä»¬è°ƒç”¨<code class="fe le lf lg lh b">getInputProps</code>å¹¶ä¼ é€’ä¸€ä¸ªå”¯ä¸€çš„å•é€‰æŒ‰é’®<code class="fe le lf lg lh b">id</code>ã€‚ä½†æ˜¯æ¯ä¸ªå•é€‰æŒ‰é’®éƒ½è·å¾—ç›¸åŒçš„<code class="fe le lf lg lh b">name</code>å€¼ã€‚è¿™æ˜¯é…ç½®å•é€‰æŒ‰é’®ç»„çš„æ ‡å‡†HTMLæ–¹å¼ã€‚</p><p id="741c" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">ä¸å•é€‰æŒ‰é’®ç›¸å…³çš„è¡¨å•ä»£ç ç¤ºä¾‹:</p><pre class="ml mm mn mo gt nt lh nu nv aw nw bi"><span id="6e02" class="nf lj it lh b gy nx ny l nz oa">///</span><span id="e222" class="nf lj it lh b gy ob ny l nz oa">const cookieOptions = [<br/>    { id: "1", value: "1" },<br/>    { id: "10", value: "10" },<br/>    { id: "20", value: "20" }<br/>  ];<br/>const cookiesPerDay = api.addRadioGroup({<br/>    id: "cookiesPerDay",<br/>    value: formValues.cookiesPerDay,<br/>    validators: [{ ...required, when: ["onBlur", "onSubmit"] }]<br/>  });</span><span id="8765" class="nf lj it lh b gy ob ny l nz oa">///</span><span id="2071" class="nf lj it lh b gy ob ny l nz oa">&lt;fieldset className="field-group"&gt;<br/>          &lt;legend&gt;<br/>            How many cookies per day *<br/>            &lt;br /&gt;<br/>            {JSON.stringify(cookiesPerDay.uiState)} --{" "}<br/>            {JSON.stringify(formValidity.cookiesPerDay)}<br/>          &lt;/legend&gt;<br/>          {cookieOptions.map(cookie =&gt; (<br/>            &lt;React.Fragment key={cookie.id}&gt;<br/><strong class="lh iu">              &lt;input<br/>                {...cookiesPerDay.getInputProps({<br/>                  name: "cookiesPerDay",<br/>                  id: `cookiesPerDay_${cookie.id}`,<br/>                  value: cookie.value<br/>                })}<br/>                type="radio"<br/>                checked={cookie.value === formValues.cookiesPerDay}<br/>              /&gt;<br/></strong>              &lt;label htmlFor={`cookiesPerDay_${cookie.id}`}&gt;<br/>                {cookie.value}<br/>              &lt;/label&gt;<br/>            &lt;/React.Fragment&gt;<br/>          ))}<br/>&lt;/fieldset&gt;</span></pre><p id="c381" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh iu">ä¸å•é€‰æŒ‰é’®ç›¸å…³çš„use-form.jsä»£ç </strong></p><p id="2d74" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">æ¯å½“å•ä¸ªå•é€‰æŒ‰é’®æ¨¡ç³Šæ—¶ï¼Œå°±ä¼šè§¦å‘<code class="fe le lf lg lh b">onRadioGroupBlur</code>åŠŸèƒ½ã€‚ç„¶è€Œï¼Œå½“ç”¨æˆ·åœ¨åŒä¸€ä¸ªç»„ä¸­çš„å•é€‰æŒ‰é’®ä¹‹é—´ç§»åŠ¨æ—¶ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›å¼•å‘onBluräº‹ä»¶ã€‚å› æ­¤<code class="fe le lf lg lh b">onRadioGroupBlur</code>è°ƒç”¨<code class="fe le lf lg lh b">isBlurWithinRadioGroup</code>æ¥æŸ¥çœ‹æ¨¡ç³Šæ˜¯å¦åˆ°è¾¾åŒä¸€ä¸ªç»„ä¸­çš„å•é€‰æŒ‰é’®ï¼Œæˆ–è€…å…¶ä»–ä»€ä¹ˆåœ°æ–¹ã€‚è¿™è¦æ±‚è¡¨å•åˆ›å»ºè€…ç¡®ä¿ç»„ä¸­çš„æ¯ä¸ªå•é€‰æŒ‰é’®éƒ½æœ‰ç›¸åŒçš„<code class="fe le lf lg lh b">name</code>å±æ€§å€¼ã€‚</p><pre class="ml mm mn mo gt nt lh nu nv aw nw bi"><span id="8ffb" class="nf lj it lh b gy nx ny l nz oa">const isBlurWithinRadioGroup = (event, id) =&gt;<br/>    event.relatedTarget &amp;&amp; event.relatedTarget.getAttribute("name") === id;</span><span id="f882" class="nf lj it lh b gy ob ny l nz oa">const onRadioGroupBlur = async ({ id, value, event }) =&gt; {<br/>    if (isBlurWithinRadioGroup(event, id)) return;</span><span id="ceac" class="nf lj it lh b gy ob ny l nz oa">if (validators[id]) {<br/>      if (isValidatorAlreadyRunning(id, value)) {<br/>        // No need to do anything at this point since validator is already running<br/>        return;<br/>      }</span><span id="9a6e" class="nf lj it lh b gy ob ny l nz oa">setFormValidity({<br/>        ...formValidity,<br/>        [id]: { ...formValidity[id], isValidating: true, value }<br/>      });<br/>      const validationResults = await runValidators({<br/>        field: id,<br/>        validators: validators[id],<br/>        eventType: "onBlur",<br/>        value<br/>      });<br/>      setFormValidity({ ...formValidity, [id]: validationResults });<br/>    }<br/>  };</span></pre><h2 id="7637" class="nf lj it bd lk ng nh dn lo ni nj dp ls kq nk nl lw ku nm nn ma ky no np me nq bi translated"><strong class="ak">å¤šé€‰</strong></h2><p id="182f" class="pw-post-body-paragraph kf kg it kh b ki mg kk kl km mh ko kp kq mi ks kt ku mj kw kx ky mk la lb lc im bi translated">å¤šé‡é€‰æ‹©ä½¿ç”¨å­—ç¬¦ä¸²å€¼æ•°ç»„ã€‚åœ¨ä¸‹é¢çš„è¡¨å•ä»£ç ä¸­ï¼Œæˆ‘ä»¬å°†<code class="fe le lf lg lh b">favouriteColours</code>åˆå§‹åŒ–ä¸º<code class="fe le lf lg lh b">[â€œredâ€, â€œgreenâ€]</code>ã€‚ç„¶åæˆ‘ä»¬ç”¨<code class="fe le lf lg lh b">api.addInput</code>åˆå§‹åŒ–<code class="fe le lf lg lh b">favouriteColours</code>ã€‚ä¸å•é€‰æŒ‰é’®ç»„ä¸€æ ·ï¼Œæˆ‘ä»¬ä¸ä¼ é€’å€¼çš„é›†åˆã€‚æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨å¸¦æœ‰<code class="fe le lf lg lh b">&lt;select {â€¦favouriteColours.getInputProps()} multiple={true}&gt;</code>çš„è¾“å…¥ï¼Œè¿™ä¸æ–‡æœ¬è¾“å…¥çš„ç”¨æ³•ç›¸åŒã€‚</p><p id="df20" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">å½“æˆ‘ä»¬æ‰©å±•<code class="fe le lf lg lh b">favouriteColours.getInputProps()</code>æ—¶ï¼Œæˆ‘ä»¬å¾—åˆ°ä¸€ä¸ª<code class="fe le lf lg lh b">value=[â€œredâ€, â€œgreenâ€]</code>å±æ€§ï¼Œè¯¥å±æ€§æ‰©å±•åˆ°<code class="fe le lf lg lh b">&lt;select /&gt;</code>æ ‡ç­¾ä¸­ã€‚è¿™å°±æ˜¯ReactæœŸæœ›å°†å¤šé€‰å€¼ä¼ é€’ç»™é€‰æ‹©è¾“å…¥çš„æ–¹å¼ã€‚</p><pre class="ml mm mn mo gt nt lh nu nv aw nw bi"><span id="683e" class="nf lj it lh b gy nx ny l nz oa">const { getFormProps, formValues, uiState, api, formValidity } = useForm(<br/>    "settingsForm",<br/>    {<br/>      firstName: "George",<br/>      lastName: "OfTheJungle",<br/>      email: "<a class="ae ld" href="mailto:george@thejungle.com" rel="noopener ugc nofollow" target="_blank">george@thejungle.com</a>",<br/>      custom: "custom",<br/>      agreeToTerms: false,<br/>      comments: "",<br/>      favouriteFlavour: "",<br/><strong class="lh iu">      favouriteColours: ["red", "green"],</strong><br/>      cookiesPerDay: null,<br/>      preferredDate: null<br/>    }<br/>  );</span><span id="c9df" class="nf lj it lh b gy ob ny l nz oa">///</span><span id="6e46" class="nf lj it lh b gy ob ny l nz oa">  const favouriteColours = api.addInput({<br/>    id: "favouriteColours",<br/>    value: formValues.favouriteColours,<br/>    validators: [{ ...required, when: ["onBlur", "onSubmit"] }]<br/>  });</span><span id="eaba" class="nf lj it lh b gy ob ny l nz oa">///</span><span id="5af5" class="nf lj it lh b gy ob ny l nz oa">&lt;div className="field-group"&gt;<br/>          &lt;label htmlFor={favouriteColours.id}&gt;Your favourite colours *&lt;/label&gt;<br/>          {JSON.stringify(favouriteColours.uiState)} --{" "}<br/>          {JSON.stringify(formValidity.favouriteColours)}<br/>          &lt;select {...favouriteColours.getInputProps()} multiple={true}&gt;<br/>            &lt;option value="red"&gt;Red&lt;/option&gt;<br/>            &lt;option value="green"&gt;Green&lt;/option&gt;<br/>            &lt;option value="blue"&gt;Blue&lt;/option&gt;<br/>            &lt;option value="yellow"&gt;Yellow&lt;/option&gt;<br/>          &lt;/select&gt;<br/>        &lt;/div&gt;</span></pre><p id="847c" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh iu">å¤šé€‰ç›¸å…³çš„use-input.jsä»£ç </strong></p><p id="7276" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><code class="fe le lf lg lh b">getInputValue</code>æ˜¯ç”Ÿæˆå¤šé€‰å€¼çš„åœ°æ–¹ã€‚å¯¹äºå¤šé‡é€‰æ‹©(<code class="fe le lf lg lh b">type === â€œselect-multipleâ€</code>)ï¼Œæˆ‘ä»¬è¿­ä»£é€‰æ‹©çš„é€‰é¡¹ï¼Œæ‰¾åˆ°è¢«é€‰æ‹©çš„é€‰é¡¹ï¼Œå¹¶åŸºäºè¢«é€‰æ‹©çš„é€‰é¡¹åˆ›å»ºä¸€ä¸ªå€¼æ•°ç»„ã€‚é€‰æ‹©é€‰é¡¹ä½œä¸ºReactåˆæˆäº‹ä»¶çš„ä¸€éƒ¨åˆ†ä¼ é€’ï¼Œç”¨äºæ›´æ”¹ã€æ¨¡ç³Šå’Œèšç„¦ã€‚å› æ­¤è¡¨å•åˆ›å»ºè€…ä¸å¿…å°†é€‰æ‹©é€‰é¡¹ä¼ é€’ç»™<code class="fe le lf lg lh b">addInput</code>ã€‚</p><pre class="ml mm mn mo gt nt lh nu nv aw nw bi"><span id="891c" class="nf lj it lh b gy nx ny l nz oa">const getInputValue = ({ type, checked, value, options }) =&gt; {<br/>  if (type === "checkbox") return checked;<br/>  if (type === "select-multiple")<br/>    return [...options]<br/>      .map(option =&gt; ({<br/>        value: option.value,<br/>        selected: option.selected<br/>      }))<br/>      .filter(option =&gt; option.selected)<br/>      .map(option =&gt; option.value);<br/>  if (type === "radio") {<br/>    if (checked) return value;<br/>    return undefined;<br/>  }<br/>  return value;<br/>};</span></pre><h1 id="293a" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">ä½¿ç”¨è¡¨å•ä»£ç æ›´æ”¹æ¥æ”¯æŒè‡ªå®šä¹‰è¾“å…¥</h1><p id="a48c" class="pw-post-body-paragraph kf kg it kh b ki mg kk kl km mh ko kp kq mi ks kt ku mj kw kx ky mk la lb lc im bi translated">åœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œæ”¯æŒå®šåˆ¶è¾“å…¥ä¸éœ€è¦è¿›è¡Œå¤§çš„æ”¹å˜ã€‚ä¸ºåº“å­˜HTMLè¾“å…¥å¥ å®šçš„åŸºç¡€æ”¯æŒå®šåˆ¶è¾“å…¥ã€‚</p><h1 id="f86f" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">ç¬¬3éƒ¨åˆ†çš„é”™è¯¯ä¿®å¤</h1><p id="64a0" class="pw-post-body-paragraph kf kg it kh b ki mg kk kl km mh ko kp kq mi ks kt ku mj kw kx ky mk la lb lc im bi translated">ç¬¬3éƒ¨åˆ†ä¸­çš„ä¸€äº›é”™è¯¯å·²ç»å¾—åˆ°äº†ä¿®å¤:</p><ul class=""><li id="5bc5" class="mr ms it kh b ki kj km kn kq mt ku mu ky mv lc mw mx my mz bi translated">å¿…éœ€çš„éªŒè¯å™¨ç°åœ¨å¯ä»¥å¤„ç†ç©ºå€¼æˆ–æœªå®šä¹‰çš„å€¼</li><li id="451a" class="mr ms it kh b ki na km nb kq nc ku nd ky ne lc mw mx my mz bi translated">å³ä½¿ç¬¬ä¸€ä¸ªè¾“å…¥äº§ç”Ÿäº†éªŒè¯é”™è¯¯ï¼Œå¯¹å•ä¸ªè¾“å…¥çš„æ‰€æœ‰éªŒè¯éƒ½ä¼šè¿è¡Œã€‚æˆ‘å€¾å‘äºåœ¨å‡ºç°ç¬¬ä¸€ä¸ªéªŒè¯é”™è¯¯ååœæ­¢å¤„ç†ï¼Œä»¥é¿å…ä¸å¿…è¦çš„éªŒè¯é€»è¾‘æ£€æŸ¥ã€ç½‘ç»œå¾€è¿”ç­‰ã€‚éªŒè¯ç ä¼šæ›´æ–°ä»¥åæ˜ è¿™ä¸€ç‚¹</li><li id="3d5c" class="mr ms it kh b ki na km nb kq nc ku nd ky ne lc mw mx my mz bi translated">æˆ‘å‡ ä¹åœ¨æ‰€æœ‰åœ°æ–¹éƒ½å°†<code class="fe le lf lg lh b">name</code>é‡å‘½åä¸º<code class="fe le lf lg lh b">id</code>,å› ä¸ºè¿™ä¸ªåº“å¹¶æ²¡æœ‰çœŸæ­£å°†idæ‰©å±•ä¸º<code class="fe le lf lg lh b">name</code>å±æ€§ï¼Œè€Œ<code class="fe le lf lg lh b">id</code>æ˜¯ä¸€ä¸ªæ›´ä¸ºä¸€è‡´çš„æœ¯è¯­ï¼Œç”¨äºæè¿°äº‹ç‰©çš„å”¯ä¸€ID</li><li id="1444" class="mr ms it kh b ki na km nb kq nc ku nd ky ne lc mw mx my mz bi translated">åœ¨è¡¨å•æäº¤æœŸé—´ï¼Œ<code class="fe le lf lg lh b">useForm</code>æ²¡æœ‰éªŒè¯<code class="fe le lf lg lh b">onSubmit</code>éªŒè¯å™¨ã€‚å®ƒä¹‹å‰æ­£åœ¨éªŒè¯<code class="fe le lf lg lh b">onBlur</code>éªŒè¯å™¨</li><li id="b269" class="mr ms it kh b ki na km nb kq nc ku nd ky ne lc mw mx my mz bi translated"><code class="fe le lf lg lh b">useForm</code>é€šè¿‡å¼‚æ­¥éªŒè¯ä»¥ä¸æ­£ç¡®çš„æ–¹å¼æ”¹å˜éªŒè¯çŠ¶æ€ã€‚å®ƒç°åœ¨ä½¿ç”¨æ›´åŠ ä¸€è‡´çš„æ–¹æ³•æ¥æ”¹å˜éªŒè¯çŠ¶æ€ï¼Œä¸<a class="ae ld" href="https://reactjs.org/docs/hooks-reference.html#useref" rel="noopener ugc nofollow" target="_blank"> useRef React hook </a>åŒæ—¶è¿è¡ŒéªŒè¯ã€‚æˆ‘è®¡åˆ’å†™ä¸€ç¯‡å…³äºè¿™ä¸ªçš„æ–‡ç« ï¼Œå› ä¸ºè¿™æ˜¯ä½¿ç”¨<code class="fe le lf lg lh b">setState</code>ç®¡ç†å…±äº«çŠ¶æ€æ—¶å¯èƒ½é‡åˆ°çš„å¸¸è§é—®é¢˜ï¼Œå…±äº«çŠ¶æ€å¯èƒ½ä¼šä»¥ä¸ç¡®å®šçš„é¡ºåºå¼‚æ­¥æ›´æ–°ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ<code class="fe le lf lg lh b">useRef</code>å¯ä»¥å¸®åŠ©è§£å†³è¿™äº›é—®é¢˜ï¼Œå› ä¸º<code class="fe le lf lg lh b">useState</code>ä¿è¯äº†ä¸€ä¸ªé’©å­çš„å®Œæ•´åŠŸèƒ½æ‰§è¡Œçš„çŠ¶æ€çš„ä¸€è‡´æ‹·è´</li></ul><h1 id="2bce" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">å•å…ƒæµ‹è¯•å’Œä»£ç è¦†ç›–ç‡â€”ğŸ’¯% ?</h1><p id="92fb" class="pw-post-body-paragraph kf kg it kh b ki mg kk kl km mh ko kp kq mi ks kt ku mj kw kx ky mk la lb lc im bi translated">åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘åªæ˜¯åœ¨ç¼–å†™å•å…ƒæµ‹è¯•ï¼Œè€Œæ²¡æœ‰æ£€æŸ¥ä»£ç è¦†ç›–ç‡ã€‚æˆ‘ä»¬çš„å•å…ƒæµ‹è¯•è¦†ç›–äº†å¾ˆå¤šæ ‡å‡†è·¯å¾„ï¼Œä½†æ˜¯å®ƒä»¬æ²¡æœ‰æä¾›100%çš„è¦†ç›–ç‡ã€‚ä¸è¿‡è¯è¯´å›æ¥ï¼Œæˆ‘ä»¬å¯èƒ½ä¸éœ€è¦100%çš„è¦†ç›–ç‡ã€‚æˆ‘ä»¬ç”šè‡³å¯èƒ½ä¸éœ€è¦90%çš„è¦†ç›–ç‡ï¼Œä½†æˆ‘ä»¬å¯èƒ½åº”è¯¥æœ‰è¶…è¿‡40%æˆ–50%çš„è¦†ç›–ç‡ã€‚</p><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oc"><img src="../Images/8498221064d60a2634bdc0e9f82542a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jAlQw6AJSbYnV2pnQ4W93Q.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">ä¸é”™ï¼Œä½†æ˜¯æµ‹è¯•è¦†ç›–ç‡éœ€è¦æé«˜</figcaption></figure><p id="800c" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">Martin Fowlerå…³äºæµ‹è¯•è¦†ç›–ç‡çš„æ–‡ç« æœ‰ä¸€äº›å€¼å¾—è€ƒè™‘çš„é—®é¢˜:</p><blockquote class="od oe of"><p id="fc47" class="kf kg og kh b ki kj kk kl km kn ko kp oh kr ks kt oi kv kw kx oj kz la lb lc im bi translated">å¦‚æœä½ æŠŠä¸€å®šç¨‹åº¦çš„è¦†ç›–ç‡ä½œä¸ºä¸€ä¸ªç›®æ ‡ï¼Œäººä»¬ä¼šåŠªåŠ›å»å®ç°å®ƒã€‚é—®é¢˜æ˜¯é«˜è¦†ç›–ç‡çš„æ•°å­—å¤ªå®¹æ˜“è¢«ä½è´¨é‡çš„æµ‹è¯•æ‰€è¾¾åˆ°ã€‚</p><p id="f58c" class="kf kg og kh b ki kj kk kl km kn ko kp oh kr ks kt oi kv kw kx oj kz la lb lc im bi translated">å¦‚æœä»¥ä¸‹æ˜¯çœŸçš„ï¼Œæˆ‘ä¼šè¯´ä½ åšäº†è¶³å¤Ÿçš„æµ‹è¯•:</p><p id="7246" class="kf kg og kh b ki kj kk kl km kn ko kp oh kr ks kt oi kv kw kx oj kz la lb lc im bi translated">-ä½ å¾ˆå°‘ä¼šé‡åˆ°é€ƒè„±åˆ°äº§å“ä¸­çš„bugï¼Œå¹¶ä¸”<br/> -ä½ å¾ˆå°‘ä¼šå› ä¸ºæ‹…å¿ƒä¼šå¯¼è‡´äº§å“bugè€ŒçŠ¹è±«æ”¹å˜ä¸€äº›ä»£ç ã€‚</p></blockquote><p id="6719" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">æˆ‘è®¤è¯†çš„å¤§å¤šæ•°äººéƒ½å’Œç¦å‹’å…ˆç”Ÿæœ‰ç›¸ä¼¼çš„è§‚ç‚¹ã€‚æˆ‘ç›®ç¹è¿‡æµ‹è¯•è¦†ç›–ç‡ä½å¾—å¯æ€•çš„ç”Ÿäº§ä»£ç åº“ï¼Œä»¥åŠæµ‹è¯•è¦†ç›–ç‡é«˜çš„ç”Ÿäº§ä»£ç åº“ã€‚å‡ºäºè¾“å…¥åº“çš„ç›®çš„ï¼Œæˆ‘å€¾å‘äºç¡®ä¿æ‰€æœ‰ä»£ç è·¯å¾„éƒ½ç»è¿‡äº†æ‰€æœ‰çº§åˆ«çš„æµ‹è¯•ï¼Œå› ä¸ºå¯ä»¥ç‹¬ç«‹äºå…¶ä»–éƒ¨åˆ†ä½¿ç”¨APIçš„å„ä¸ªæ–¹é¢ã€‚</p><p id="a39d" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">ä½¿ç”¨Jestï¼Œåªéœ€æ·»åŠ <code class="fe le lf lg lh b">--coverage</code> <a class="ae ld" href="https://jestjs.io/docs/en/cli#coverage" rel="noopener ugc nofollow" target="_blank">å°±å¯ä»¥è‡ªåŠ¨è·å¾—ä»£ç è¦†ç›–æŠ¥å‘Š</a>ã€‚ç„¶åï¼Œè¿™äº›æŠ¥å‘Šå¯ä»¥åœ¨æŒç»­æ„å»º/æŒç»­é›†æˆç¯å¢ƒä¸­ä½¿ç”¨ï¼Œä½†æ˜¯ç›®å‰æµ‹è¯•å°†åœ¨å¼€å‘æœŸé—´ä»ç»ˆç«¯çª—å£è¿è¡Œã€‚</p><h1 id="7b9d" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">æ”¾å¤§æ¼”ç¤ºè¡¨å•</h1><p id="d8bf" class="pw-post-body-paragraph kf kg it kh b ki mg kk kl km mh ko kp kq mi ks kt ku mj kw kx ky mk la lb lc im bi translated">æ¼”ç¤ºè¡¨å•ç°åœ¨æ¼”ç¤ºäº†ä»¥ä¸‹å†…å®¹:</p><ul class=""><li id="aa2e" class="mr ms it kh b ki kj km kn kq mt ku mu ky mv lc mw mx my mz bi translated">æ¨¡ç³Šå’Œæäº¤æ—¶çš„å¤é€‰æ¡†å’Œâ€œå¿…é¡»é€‰ä¸­â€éªŒè¯</li><li id="1a36" class="mr ms it kh b ki na km nb kq nc ku nd ky ne lc mw mx my mz bi translated">æ¨¡ç³Šå’Œæäº¤æ—¶çš„å•é€‰æŒ‰é’®ç»„å’ŒéªŒè¯</li><li id="233f" class="mr ms it kh b ki na km nb kq nc ku nd ky ne lc mw mx my mz bi translated">æ¨¡ç³Šæ—¶é€‰æ‹©è¾“å…¥å’ŒéªŒè¯å¹¶æäº¤</li><li id="54f0" class="mr ms it kh b ki na km nb kq nc ku nd ky ne lc mw mx my mz bi translated">æ¨¡ç³Šå’Œæäº¤æ—¶çš„å¤šé€‰è¾“å…¥å’ŒéªŒè¯</li><li id="dd8b" class="mr ms it kh b ki na km nb kq nc ku nd ky ne lc mw mx my mz bi translated">è‡ªå®šä¹‰ç»„ä»¶(å³æ—¥æœŸé€‰æ‹©å™¨)å’Œæ¨¡ç³Šå’Œæäº¤æ—¶çš„éªŒè¯</li></ul><p id="8caa" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">æŸ¥çœ‹åœ¨çº¿æ¼”ç¤ºå’Œgithubèµ„æºåº“ä¸­çš„ä»£ç ï¼Œäº†è§£ä¸€åˆ‡å¦‚ä½•ååŒå·¥ä½œã€‚</p><h1 id="2978" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">æ‘˜è¦</h1><p id="f5bb" class="pw-post-body-paragraph kf kg it kh b ki mg kk kl km mh ko kp kq mi ks kt ku mj kw kx ky mk la lb lc im bi translated">åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬æ‰©å±•äº†è¡¨å•åº“ä»¥æ”¯æŒå¤§å¤šæ•°æ ‡å‡†çš„HTMLè¾“å…¥ï¼Œä»¥åŠè‡ªå®šä¹‰è¾“å…¥ã€‚æˆ‘ä»¬ä¿®å¤äº†ç¬¬3éƒ¨åˆ†ä¸­å­˜åœ¨çš„ä¸€äº›é”™è¯¯ï¼Œè®¨è®ºäº†æµ‹è¯•è¦†ç›–èŒƒå›´ï¼Œå¹¶æ‰©å±•äº†æˆ‘ä»¬çš„è¡¨å•ç¤ºä¾‹ã€‚</p><p id="0f09" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">åœ¨åé¢çš„éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å°†è®¨è®ºå…¶ä»–ä¸»é¢˜ï¼Œæ¯”å¦‚å‡å°‘æ ·æ¿æ–‡ä»¶ã€ä»JSONæ¨¡å¼æ·»åŠ éªŒè¯ã€æ‰¿è¯ºå–æ¶ˆã€å»æŠ–åŠ¨ã€é’©å­æ€§èƒ½è€ƒè™‘å’Œå…¶ä»–è®¾è®¡ä¼˜åŒ–ã€‚</p><p id="64df" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">æ­¤æ—¶ï¼Œè¯¥åº“å¯èƒ½å·²ç»â€œè¶³å¤Ÿå¥½â€å¯ä»¥ç”¨äºç”Ÿäº§äº†ğŸ˜ƒã€‚åœ¨å¼€å§‹è‡ªå·±åˆ¶ä½œè¡¨å•åº“ä¹‹å‰ï¼Œè¯·è®°ä½åˆ¶ä½œä¸€ä¸ªâ€œè¶³å¤Ÿå¥½â€çš„è¡¨å•åº“éœ€è¦ä»˜å‡ºçš„åŠªåŠ›å’Œæ€è€ƒï¼</p><p id="2455" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">é™¤éæ‚¨æœ‰ä¸€ä¸ªä¸éœ€è¦éªŒè¯é€»è¾‘çš„æå…¶ç®€å•çš„è¡¨å•ï¼Œæ˜¯çš„ï¼Œæ‚¨å¯ä»¥ç”¨Reactæ‹¼å‡‘ä¸€ä¸ªè¡¨å•ï¼Œä½†æ˜¯å®ƒä¼šéå¸¸æœ‰é™ã€‚ä¸€æ—¦ä½ éœ€è¦è¶Šè¿‡ç®€å•çš„è¡¨å•ï¼Œä½¿ç”¨è¡¨å•åº“ã€‚å¦åˆ™ä½ å¯èƒ½æ²¡æœ‰å……åˆ†åˆ©ç”¨ä½ çš„æ—¶é—´ã€‚é™¤éä½ æ˜¯å‡ºäºè‡ªå·±çš„å­¦ä¹ ç›®çš„ï¼Œå½“ç„¶ï¼Œæˆ‘æ€»æ˜¯å»ºè®®é€šè¿‡å¼€å‘ä½ æ„Ÿå…´è¶£çš„ä¸œè¥¿æ¥å­¦ä¹ ã€‚</p><p id="a8b3" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜ã€åé¦ˆæˆ–å»ºè®®ï¼Œæˆ–è€…æ‚¨å¸Œæœ›æˆ‘ä»‹ç»æœ¬ç³»åˆ—ä¸­çš„å…¶ä»–å†…å®¹ï¼Œè¯·å‘Šè¯‰æˆ‘ã€‚</p></div></div>    
</body>
</html>