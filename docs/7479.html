<html>
<head>
<title>Kubernetes: Minikube, and a LoadBalancer in the Pending status</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Kubernetes: Minikubeå’Œä¸€ä¸ªå¤„äºæŒ‚èµ·çŠ¶æ€çš„è´Ÿè½½å¹³è¡¡å™¨</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://itnext.io/kubernetes-minikube-and-a-loadbalancer-in-the-pending-status-c6bdea2d7bca?source=collection_archive---------10-----------------------#2022-10-05">https://itnext.io/kubernetes-minikube-and-a-loadbalancer-in-the-pending-status-c6bdea2d7bca?source=collection_archive---------10-----------------------#2022-10-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/eded490b304e670ab62bf1c871aff256.png" data-original-src="https://miro.medium.com/v2/resize:fit:260/format:webp/0*7HTKUVs-UefkWxFy.png"/></div></figure><p id="efc4" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">åœ¨Minikubeä¸­è¿è¡ŒPritunlåï¼Œæ— æ³•è¿æ¥åˆ°VPN:</p><blockquote class="ks kt ku"><p id="8aef" class="ju jv kv jw b jx jy jz ka kb kc kd ke kw kg kh ki kx kk kl km ky ko kp kq kr ij bi translated">â€¦<br/>2022â€“10â€“03 13:50:32 TCP/UDP:ä¿ç•™æœ€è¿‘ä½¿ç”¨çš„è¿œç¨‹åœ°å€:[AF _ INET]194 . 168 . 3 . 100:1194<br/>2022â€“10â€“03 13:50:32 UDPé“¾æ¥æœ¬åœ°:(æœªç»‘å®š)<br/>2022â€“10â€“03 13:50:32 UDPé“¾æ¥è¿œç¨‹:[AF _ INET]194.166</p></blockquote><p id="7593" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">æŸ¥çœ‹å…¶KubernetesæœåŠ¡:</p><pre class="kz la lb lc gt ld le lf bn lg lh bi"><span id="85d3" class="li lj iq le b be lk ll l lm ln">$ kubectl -n pritunl-local get svc<br/>NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE<br/>pritunl LoadBalancer 10.102.129.25 &lt;pending&gt; 1194:30166/TCP 47m<br/>â€¦</span></pre><p id="c68e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">ç±»å‹æ˜¯<code class="fe lo lp lq le b">LoadBalancer</code>ï¼Œä½†æ˜¯å®ƒçš„<code class="fe lo lp lq le b">EXTERNAL-IP</code>çŠ¶æ€æ˜¯<strong class="jw ir"><em class="kv"/></strong>ï¼Œå› ä¸ºMinikubeæ²¡æœ‰LoadBalancerç±»å‹çš„æœåŠ¡ï¼Œå› ä¸ºå®ƒå¿…é¡»åœ¨åŸºç¡€è®¾æ–½çº§åˆ«åˆ›å»ºâ€”â€”AWSã€GCEã€Azureï¼Œç„¶åKubernetesä»å®ƒä»¬é‚£é‡Œæ¥æ”¶ä¸€ä¸ªIPæˆ–URLï¼Œå°†è¯·æ±‚è·¯ç”±åˆ°è¿™ä¸ªè´Ÿè½½å¹³è¡¡å™¨ã€‚</p><h1 id="5f19" class="lr lj iq bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated">è´Ÿè½½å¹³è¡¡å™¨<code class="fe lo lp lq le b">&lt;pending&gt;</code>è§£å†³æ–¹æ¡ˆ</h1><p id="789d" class="pw-post-body-paragraph ju jv iq jw b jx mo jz ka kb mp kd ke kf mq kh ki kj mr kl km kn ms kp kq kr ij bi translated">å¯¹äºMinikubeï¼Œæœ‰å‡ ç§è§£å†³æ–¹æ¡ˆ:</p><ul class=""><li id="3877" class="mt mu iq jw b jx jy kb kc kf mv kj mw kn mx kr my mz na nb bi translated">ä½¿ç”¨<code class="fe lo lp lq le b"><a class="ae nc" href="https://translate.google.com/website?sl=uk&amp;tl=ru&amp;hl=en&amp;client=webapp&amp;u=https://minikube.sigs.k8s.io/docs/handbook/accessing/%23using-minikube-tunnel" rel="noopener ugc nofollow" target="_blank">minikube tunnel</a></code> -å°†åœ¨Kubernetesä¸­çš„ä¸»æœºå’ŒæœåŠ¡ä¹‹é—´åˆ›å»ºä¸€ä¸ªéš§é“</li><li id="b8ef" class="mt mu iq jw b jx nd kb ne kf nf kj ng kn nh kr my mz na nb bi translated">æˆ–è€…<code class="fe lo lp lq le b"><a class="ae nc" href="https://translate.google.com/website?sl=uk&amp;tl=ru&amp;hl=en&amp;client=webapp&amp;u=https://minikube.sigs.k8s.io/docs/commands/service/" rel="noopener ugc nofollow" target="_blank">minikube service</a></code>â€”â€”è·å¾—ä¸€ä¸ªç›´æ¥çš„ç½‘å€è¿æ¥</li><li id="6a6e" class="mt mu iq jw b jx nd kb ne kf nf kj ng kn nh kr my mz na nb bi translated">æˆ–è€…è®¾ç½®<code class="fe lo lp lq le b"><a class="ae nc" href="https://translate.google.com/website?sl=uk&amp;tl=ru&amp;hl=en&amp;client=webapp&amp;u=https://kubernetes.io/docs/concepts/services-networking/service/%23external-ips" rel="noopener ugc nofollow" target="_blank">externalIPs</a></code> -ç”¨äºKubernetesè´Ÿè½½å¹³è¡¡å™¨æœåŠ¡-æ‰‹åŠ¨é…ç½®</li></ul><p id="c0b3" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">è®©æˆ‘ä»¬å°è¯•ä¸€åˆ‡ã€‚</p><h2 id="e53a" class="ni lj iq bd ls nj nk dn lw nl nm dp ma kf nn no me kj np nq mi kn nr ns mm nt bi translated">è¿·ä½ åº“è´éš§é“</h2><p id="0e48" class="pw-post-body-paragraph ju jv iq jw b jx mo jz ka kb mp kd ke kf mq kh ki kj mr kl km kn ms kp kq kr ij bi translated">æ£€æŸ¥ä¸»æœºä¸Šçš„è·¯çº¿:</p><pre class="kz la lb lc gt ld le lf bn lg lh bi"><span id="d758" class="li lj iq le b be lk ll l lm ln">$ route -n<br/>Kernel IP routing table<br/>Destination Gateway Genmask Flags Metric Ref Use Iface<br/>0.0.0.0 192.168.3.1 0.0.0.0 UG 100 0 0 enp38s0<br/>172.17.0.0 0.0.0.0 255.255.0.0 U 0 0 0 docker0<br/>172.18.0.0 0.0.0.0 255.255.0.0 U 0 0 0 br-9c291321e71a]<br/>192.168.3.0 0.0.0.0 255.255.255.0 U 100 0 0 enp38s0<br/>192.168.59.0 0.0.0.0 255.255.255.0 U 0 0 0 vboxnet0</span></pre><p id="cdbe" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">åœ¨è¿™é‡Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„VirtualBoxçš„è·¯çº¿â€” <code class="fe lo lp lq le b">192.168.59.0 0.0.0.0 255.255.255.0 U 0 0 0 vboxnet0</code>ã€‚</p><p id="13ea" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">å‘å°„<code class="fe lo lp lq le b">tunnel</code>:</p><pre class="kz la lb lc gt ld le lf bn lg lh bi"><span id="8a92" class="li lj iq le b be lk ll l lm ln">$ minikube tunnel<br/>[sudo] password for setevoy:<br/>Status:<br/>machine: minikube<br/>pid: 333552<br/>route: 10.96.0.0/12 -&gt; 192.168.59.107<br/>minikube: Running<br/>services: [pritunl]<br/>errors:<br/>minikube: no errors<br/>router: no errors<br/>loadbalancer emulator: no errors<br/>â€¦</span></pre><p id="0924" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">ç°åœ¨æ£€æŸ¥è·¯ç”±â€”â€”æœ‰ä¸€æ¡é€šè¿‡<em class="kv"> 192.168.59.107 </em>åˆ°ç½‘ç»œ<em class="kv">10 . 96 . 0 . 0</em>(CIDR)çš„æ–°è·¯ç”±â€”â€”è¿™æ˜¯ä¸€ä¸ªè¿è¡ŒMinikubeæœ¬èº«çš„VirtualBoxè™šæ‹Ÿæœº:</p><pre class="kz la lb lc gt ld le lf bn lg lh bi"><span id="f947" class="li lj iq le b be lk ll l lm ln">$ route -n<br/>Kernel IP routing table<br/>Destination Gateway Genmask Flags Metric Ref Use Iface<br/>0.0.0.0 192.168.3.1 0.0.0.0 UG 100 0 0 enp38s0<br/>10.96.0.0 192.168.59.107 255.240.0.0 UG 0 0 0 vboxnet0<br/>172.17.0.0 0.0.0.0 255.255.0.0 U 0 0 0 docker0<br/>172.18.0.0 0.0.0.0 255.255.0.0 U 0 0 0 br-9c291321e71a<br/>192.168.3.0 0.0.0.0 255.255.255.0 U 100 0 0 enp38s0<br/>192.168.59.0 0.0.0.0 255.255.255.0 U 0 0 0 vboxnet0</span></pre><p id="2163" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">ç«‹å³æ£€æŸ¥Kubernetesè´Ÿè½½å¹³è¡¡å™¨:</p><pre class="kz la lb lc gt ld le lf bn lg lh bi"><span id="441b" class="li lj iq le b be lk ll l lm ln">$ kubectl -n pritunl-local get svc pritunl<br/>NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE<br/>pritunl LoadBalancer 10.102.129.25 10.102.129.25 1194:30166/TCP 54m</span></pre><p id="4577" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><em class="kv">â€œç®¡ç”¨ï¼â€</em></p><h2 id="7081" class="ni lj iq bd ls nj nk dn lw nl nm dp ma kf nn no me kj np nq mi kn nr ns mm nt bi translated">è¿·ä½ åº“æœåŠ¡</h2><p id="de83" class="pw-post-body-paragraph ju jv iq jw b jx mo jz ka kb mp kd ke kf mq kh ki kj mr kl km kn ms kp kq kr ij bi translated">è¿è¡Œ<code class="fe lo lp lq le b">minikube service</code>ï¼ŒæŒ‡å®šæœåŠ¡çš„åç§°ç©ºé—´å’Œåç§°â€”â€”Minicubeå°†è¿”å›è¿æ¥çš„URLç»™æˆ‘ä»¬:</p><pre class="kz la lb lc gt ld le lf bn lg lh bi"><span id="defd" class="li lj iq le b be lk ll l lm ln">$ minikube service -n pritunl-local pritunl<br/>| â€” â€” â€” â€” â€” â€” â€” -| â€” â€” â€” â€” -| â€” â€” â€” â€” â€” â€” â€” | â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” -|<br/>| NAMESPACE | NAME | TARGET PORT | URL |<br/>| â€” â€” â€” â€” â€” â€” â€” -| â€” â€” â€” â€” -| â€” â€” â€” â€” â€” â€” â€” | â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” -|<br/>| pritunl-local | pritunl | openvpn/1194 | http://192.168.59.108:32350 |<br/>| â€” â€” â€” â€” â€” â€” â€” -| â€” â€” â€” â€” -| â€” â€” â€” â€” â€” â€” â€” | â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” -|<br/>ğŸ‰ Opening service pritunl-local/pritunl in default browserâ€¦</span></pre><p id="c142" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">è¿™é‡Œï¼Œ<em class="kv"> 192.168.59.108 </em>æ˜¯æˆ‘ä»¬VirtualBoxæœåŠ¡å™¨çš„åœ°å€ï¼Œ<em class="kv"> 32350 </em>æ˜¯ä¸Šé¢çš„NodePortï¼Œè¿è¡Œçš„æ˜¯PritunlæœåŠ¡å™¨ã€‚</p><p id="f665" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">æ‚¨è¿˜å¯ä»¥ä½¿ç”¨<code class="fe lo lp lq le b">list</code>åˆ—å‡ºæ‰€æœ‰KubernetesæœåŠ¡:</p><pre class="kz la lb lc gt ld le lf bn lg lh bi"><span id="46f1" class="li lj iq le b be lk ll l lm ln">$ minikube service -n pritunl-local list<br/>| â€” â€” â€” â€” â€” â€” â€” -| â€” â€” â€” â€” â€” â€” â€” â€” -| â€” â€” â€” â€” â€” â€” â€” | â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” -|<br/>| NAMESPACE | NAME | TARGET PORT | URL |<br/>| â€” â€” â€” â€” â€” â€” â€” -| â€” â€” â€” â€” â€” â€” â€” â€” -| â€” â€” â€” â€” â€” â€” â€” | â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” -|<br/>| pritunl-local | pritunl | openvpn/1194 | http://192.168.59.108:32350 |<br/>| pritunl-local | pritunl-mongodb | No node port |<br/>| pritunl-local | pritunl-web | No node port |<br/>| â€” â€” â€” â€” â€” â€” â€” -| â€” â€” â€” â€” â€” â€” â€” â€” -| â€” â€” â€” â€” â€” â€” â€” | â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” -|</span></pre><p id="dd61" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">æˆ–è€…åœ¨ä¸€è¡Œè€Œä¸æ˜¯ä¸€ä¸ªè¡¨æ ¼ä¸­è·å–URL:</p><pre class="kz la lb lc gt ld le lf bn lg lh bi"><span id="5058" class="li lj iq le b be lk ll l lm ln">$ kubectl -n priminikube service -n pritunl-local pritunl â€” url<br/>http://192.168.59.108:32350</span></pre><p id="5aca" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">å°è¯•è¿æ¥:</p><pre class="kz la lb lc gt ld le lf bn lg lh bi"><span id="74cb" class="li lj iq le b be lk ll l lm ln">$ telnet 192.168.59.108 32350<br/>Trying 192.168.59.108â€¦<br/>Connected to 192.168.59.108.<br/>Escape character is â€˜^]â€™.</span></pre><p id="db4c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">Pritunlæ—¥å¿—:</p><figure class="kz la lb lc gt jr gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/1579d1d85ead1a0718e2a54997d8e59f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1234/format:webp/0*DpYf1CSo_SN5REC9.png"/></div></figure><p id="8f5a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><em class="kv">â€œç®¡ç”¨ï¼â€</em></p><h2 id="f2a3" class="ni lj iq bd ls nj nk dn lw nl nm dp ma kf nn no me kj np nq mi kn nr ns mm nt bi translated">è´Ÿè½½å¹³è¡¡å™¨<code class="fe lo lp lq le b">externalIPs</code></h2><p id="c2e1" class="pw-post-body-paragraph ju jv iq jw b jx mo jz ka kb mp kd ke kf mq kh ki kj mr kl km kn ms kp kq kr ij bi translated">è·å–VirtualBoxè®¡ç®—æœºçš„IP:</p><pre class="kz la lb lc gt ld le lf bn lg lh bi"><span id="ac20" class="li lj iq le b be lk ll l lm ln">$ minikube ip<br/>192.168.59.108</span></pre><p id="9575" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">ç¼–è¾‘è´Ÿè½½å¹³è¡¡å™¨:</p><pre class="kz la lb lc gt ld le lf bn lg lh bi"><span id="1ee1" class="li lj iq le b be lk ll l lm ln">$ kubectl -n pritunl-local edit svc pritunl</span></pre><p id="3a1d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">è®¾ç½®<code class="fe lo lp lq le b">externalIPs</code>:</p><pre class="kz la lb lc gt ld le nv nw aw nx bi"><span id="0995" class="ni lj iq le b gy ny nz l oa ln">...<br/>  externalIPs:<br/>  - 192.168.59.108<br/>...</span></pre><p id="c7d3" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">ä¿å­˜ï¼Œæ£€æŸ¥æœåŠ¡æœ¬èº«:</p><pre class="kz la lb lc gt ld le lf bn lg lh bi"><span id="36ec" class="li lj iq le b be lk ll l lm ln">$ kubectl -n pritunl-local get svc pritunl<br/>NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE<br/>pritunl LoadBalancer 10.104.33.93 192.168.59.108 1194:32350/TCP 81m</span></pre><p id="34d8" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">å¹¶æ£€æŸ¥è¿æ¥:</p><pre class="kz la lb lc gt ld le lf bn lg lh bi"><span id="8b30" class="li lj iq le b be lk ll l lm ln">$ telnet 192.168.59.108 1194<br/>Trying 192.168.59.108â€¦<br/>Connected to 192.168.59.108.<br/>Escape character is â€˜^]â€™.</span></pre><p id="67bb" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><em class="kv">â€œç®¡ç”¨ï¼â€</em></p><p id="8bd4" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">å®Œæˆäº†ã€‚</p></div><div class="ab cl ob oc hu od" role="separator"><span class="oe bw bk of og oh"/><span class="oe bw bk of og oh"/><span class="oe bw bk of og"/></div><div class="ij ik il im in"><p id="a42d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><em class="kv">æœ€åˆå‘å¸ƒäº</em> <a class="ae nc" href="https://rtfm.co.ua/en/kubernetes-minikube-and-a-loadbalancer-in-the-pending-status/" rel="noopener ugc nofollow" target="_blank"> <em class="kv"> RTFM: Linuxã€DevOpsã€ç³»ç»Ÿç®¡ç†</em> </a> <em class="kv">ã€‚</em></p></div></div>    
</body>
</html>