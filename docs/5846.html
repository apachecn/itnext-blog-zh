<html>
<head>
<title>CSS nth- Selectors Variable</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">CSSç¬¬nä¸ªé€‰æ‹©å™¨å˜é‡</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://itnext.io/css-nth-selectors-variable-502eccae2e03?source=collection_archive---------1-----------------------#2021-06-09">https://itnext.io/css-nth-selectors-variable-502eccae2e03?source=collection_archive---------1-----------------------#2021-06-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9c2a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">è®©CSSç¬¬nä¸ªé€‰æ‹©å™¨åœ¨Webç»„ä»¶ä¸­å¯å˜çš„å®ç”¨æŠ€å·§ã€‚</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/9e5611da620d00fef17e3437e9e00cd8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bCYvMc19HUEZEmZylGOoGg.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@mariogogh?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">é©¬é‡Œå¥¥Â·é«˜</a>åœ¨<a class="ae ky" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šæ‹æ‘„çš„ç…§ç‰‡</figcaption></figure><p id="da29" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ä½¿ç”¨CSSå˜é‡ï¼Œè‡³å°‘å½“æˆ‘åœ¨2021å¹´6æœˆå†™è¿™å‡ è¡Œçš„æ—¶å€™ï¼Œåœ¨åª’ä½“æŸ¥è¯¢æˆ–é€‰æ‹©å™¨ä¸­æ˜¯ä¸æ”¯æŒçš„ï¼Œä¾‹å¦‚<code class="fe lv lw lx ly b">:nth-child(var(--my-variable))</code>ä¸èµ·ä½œç”¨ã€‚</p><p id="b424" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">è¿™æœ‰ç‚¹ä¸å¹¸ï¼Œä½†å¹¶éæ— æ³•è§£å†³ã€‚åœ¨æœ€è¿‘çš„ä¸€äº›å¼€å‘ä¸­ï¼Œæˆ‘é€šè¿‡å°†DOMä¸­çš„<code class="fe lv lw lx ly b">style</code>å…ƒç´ æ³¨å…¥åˆ°æˆ‘çš„Webç»„ä»¶ä¸­ï¼Œç»•è¿‡äº†è¿™ä¸ªé™åˆ¶ï¼Œä»¥ä¾¿åœ¨<a class="ae ky" href="https://deckdeckgo.com" rel="noopener ugc nofollow" target="_blank"> DeckDeckGo </a>ä¸­åŠ¨ç”»åŒ–ä»£ç å—ã€‚</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lz ma l"/></div></figure></div><div class="ab cl mb mc hx md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="im in io ip iq"><h1 id="04f1" class="mi mj it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated">ä»‹ç»</h1><p id="05ce" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">ä¸¥æ ¼æ¥è¯´ï¼Œä¸‹é¢çš„æŠ€å·§å¹¶ä¸å±€é™äºWebç»„ä»¶ï¼Œå¯èƒ½ä¹Ÿé€‚ç”¨äºä»»ä½•å…ƒç´ ã€‚æˆ‘åªæ˜¯åˆ°ç›®å‰ä¸ºæ­¢åªä½¿ç”¨äº†è¿™ç§æŠ€æœ¯ğŸ˜œã€‚</p><p id="cec3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æˆ‘å°†é¦–å…ˆåœ¨ä¸€ä¸ªæ™®é€šç»„ä»¶çš„å¸®åŠ©ä¸‹å±•ç¤ºè¿™ä¸ªæƒ³æ³•ï¼Œç„¶åç”¨åŒæ ·çš„æ–¹æ³•ç»“æŸè¿™ç¯‡æ–‡ç« ï¼Œä½†æ˜¯ç”¨ä¸€ä¸ª<a class="ae ky" href="https://stenciljs.com/" rel="noopener ugc nofollow" target="_blank"> StencilJS </a>åŠŸèƒ½ç»„ä»¶å®ç°ã€‚</p></div><div class="ab cl mb mc hx md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="im in io ip iq"><h1 id="8c9f" class="mi mj it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated">æ•™ç¨‹çš„ç›®æ ‡</h1><p id="9876" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">æˆ‘ä»¬å°†å¼€å‘ä¸€ä¸ªWebç»„ä»¶æ¥å‘ˆç°ä¸€ä¸ª<code class="fe lv lw lx ly b">&lt;ul/&gt;</code>åˆ—è¡¨ï¼Œå¹¶å¯ä»¥åŠ¨ç”»æ˜¾ç¤ºå…¶æ¡ç›®ã€‚</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/d94f022601f0492ed99d6281c0e8f1b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*V_biZYrvRQsoYUdph7U_qQ.gif"/></div></figure><p id="3d43" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ä¸€æ—¦åŠ è½½äº†ç»„ä»¶ï¼Œå°±ä¸ä¼šåœ¨DOMä¸­æ·»åŠ æˆ–åˆ é™¤ä»»ä½•è¯­ä¹‰å…ƒç´ ã€‚åŠ¨ç”»å°†é€šè¿‡ä¿®æ”¹<code class="fe lv lw lx ly b">style</code>æ¥å®ç°ï¼Œæ›´å‡†ç¡®åœ°è¯´æ˜¯é€šè¿‡åœ¨é€‰ä¸­çš„<code class="fe lv lw lx ly b">li:nth-child(n)</code>ä¸Šåº”ç”¨ä¸åŒçš„æ ·å¼ã€‚</p></div><div class="ab cl mb mc hx md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="im in io ip iq"><h1 id="3141" class="mi mj it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated">é¦™è‰JS</h1><p id="e1cd" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">ä¸ºäº†å±•ç¤ºè¿™ä¸ªæƒ³æ³•ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª<code class="fe lv lw lx ly b">index.html</code>é¡µé¢ã€‚å®ƒæ¶ˆè€—äº†æˆ‘ä»¬å°†è¦å¼€å‘çš„æ™®é€šç»„ä»¶ã€‚æˆ‘ä»¬è¿˜æ·»åŠ äº†ä¸€ä¸ª<code class="fe lv lw lx ly b">button</code>æ¥è§¦å‘åŠ¨ç”»ã€‚</p><pre class="kj kk kl km gt ng ly nh ni aw nj bi"><span id="8c2e" class="nk mj it ly b gy nl nm l nn no">&lt;html&gt;<br/>    &lt;head&gt;<br/>        &lt;script type="module" src="./my-component.js"&gt;&lt;/script&gt;<br/>    &lt;/head&gt;<br/>    &lt;body&gt;<br/>        &lt;my-component&gt;&lt;/my-component&gt;<br/><br/>        &lt;button&gt;Next&lt;/button&gt;<br/><br/>        &lt;script&gt;<br/>            document<br/>              .querySelector('button')<br/>              .addEventListener(<br/>                 'click', <br/>                 () =&gt; document.querySelector('my-component').next()<br/>              );<br/>        &lt;/script&gt;<br/>    &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="a1b6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">åœ¨ä¸€ä¸ªåä¸º<code class="fe lv lw lx ly b">my-component.js</code>çš„å•ç‹¬æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†Webç»„ä»¶ã€‚æ­¤æ—¶æ²¡æœ‰ä»»ä½•åŠ¨ç”»ã€‚æˆ‘ä»¬å£°æ˜<a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_shadow_DOM" rel="noopener ugc nofollow" target="_blank">æ‰“å¼€</a>ä»¥ä¾¿èƒ½å¤Ÿè®¿é—®é˜´å½±DOM(é€šè¿‡<code class="fe lv lw lx ly b">shadowRoot</code>ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ ·å¼æ¥éšè—æ‰€æœ‰çš„<code class="fe lv lw lx ly b">li</code>å¹¶å®šä¹‰<code class="fe lv lw lx ly b">transition</code>ã€‚æœ€åï¼Œæˆ‘ä»¬æ·»åŠ <code class="fe lv lw lx ly b">ul</code>åˆ—è¡¨åŠå…¶å­åˆ—è¡¨<code class="fe lv lw lx ly b">li</code>ã€‚</p><pre class="kj kk kl km gt ng ly nh ni aw nj bi"><span id="3fee" class="nk mj it ly b gy nl nm l nn no">class MyComponent extends HTMLElement {<br/><br/>    constructor() {<br/>        super();<br/><br/>        this.attachShadow({mode: 'open'});<br/><br/>        const style = this.initStyle();<br/>        const ul = this.initElement();<br/><br/>        this.shadowRoot.appendChild(style);<br/>        this.shadowRoot.appendChild(ul);<br/>    }<br/><br/>    connectedCallback() {<br/>        this.className = 'hydrated';<br/>    }<br/><br/>    next() {<br/>        // TODO in next chapter<br/>    }<br/><br/>    initStyle() {<br/>        const style = document.createElement('style');<br/><br/>        style.innerHTML = `<br/>          :host {<br/>            display: block;<br/>          }<br/>          <br/>          li {<br/>            opacity: 0;<br/>            transition: opacity 0.5s ease-out;<br/>          }<br/>        `;<br/><br/>        return style;<br/>    }<br/><br/>    initElement() {<br/>        const ul = document.createElement('ul');<br/><br/>        const li1 = document.createElement('li');<br/>        li1.innerHTML = 'Spine';<br/><br/>        const li2 = document.createElement('li');<br/>        li2.innerHTML = 'Cowboy';<br/><br/>        const li3 = document.createElement('li');<br/>        li3.innerHTML = 'Shelving';<br/><br/>        ul.append(li1, li2, li3);<br/><br/>        return ul;<br/>    }<br/>}<br/><br/>customElements.define('my-component', MyComponent);</span></pre><p id="35b5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æ­¤æ—¶ï¼Œå¦‚æœæˆ‘ä»¬åœ¨æµè§ˆå™¨(<code class="fe lv lw lx ly b">npx serve .</code>)ä¸­æ‰“å¼€æˆ‘ä»¬çš„ç¤ºä¾‹ï¼Œæˆ‘ä»¬åº”è¯¥ä¼šå‘ç°ä¸€ä¸ªç»„ä»¶ï¼Œå®ƒæœ‰ä¸€ä¸ªéšè—çš„å†…å®¹å’Œä¸€ä¸ªè¿˜æ²¡æœ‰ç”Ÿæ•ˆçš„æŒ‰é’®ã€‚æ²¡ä»€ä¹ˆå¯çœ‹çš„ï¼Œä½†è¿™æ˜¯ä¸ªå¼€å§‹ğŸ˜ã€‚</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/05d7089145c13916ba916fd4e5922b2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ODDEgNnoHmsbGwgIPuT5zA.png"/></div></div></figure><p id="3922" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ä¸ºäº†å¼€å‘åŠ¨ç”»ï¼Œæˆ‘ä»¬å¿…é¡»è·Ÿè¸ªæ˜¾ç¤ºçš„<code class="fe lv lw lx ly b">li</code>ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬ç»™ç»„ä»¶æ·»åŠ ä¸€ä¸ªçŠ¶æ€(<code class="fe lv lw lx ly b">index</code>)ã€‚</p><pre class="kj kk kl km gt ng ly nh ni aw nj bi"><span id="e618" class="nk mj it ly b gy nl nm l nn no">class MyComponent extends HTMLElement {</span><span id="625c" class="nk mj it ly b gy nq nm l nn no">    index = 0;<br/>    <br/>    constructor() {</span><span id="bb21" class="nk mj it ly b gy nq nm l nn no">...</span></pre><p id="d4f9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">å¤šäºäº†å®ƒï¼Œæˆ‘ä»¬å¯ä»¥å®ç°<code class="fe lv lw lx ly b">next()</code>æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯ä»æˆ‘ä»¬ä¹‹å‰åœ¨HTMLé¡µé¢ä¸­æ·»åŠ çš„æŒ‰é’®è°ƒç”¨çš„ã€‚</p><blockquote class="nr ns nt"><p id="8cfa" class="kz la nu lb b lc ld ju le lf lg jx lh nv lj lk ll nw ln lo lp nx lr ls lt lu im bi translated">ä¸æ˜¯æˆ‘æœ€æ¼‚äº®çš„ä»£ç ã€‚è®©æˆ‘ä»¬æ‰¿è®¤å®ƒåªæ˜¯ä¸€ä¸ªæ¼”ç¤ºç›®çš„ğŸ˜…ã€‚</p></blockquote><pre class="kj kk kl km gt ng ly nh ni aw nj bi"><span id="6de1" class="nk mj it ly b gy nl nm l nn no">next() {<br/>    this.index = this.index === 3 ? 1 : this.index + 1;<br/><br/>    const selector = `<br/>      li:nth-child(${this.index}) {<br/>        opacity: 1;<br/>      }<br/>    `;<br/><br/>    let style = this.shadowRoot.querySelector('style#animation');<br/><br/>    if (style) {<br/>        style.innerHTML = selector;<br/>        return;<br/>    }<br/><br/>    style = document.createElement('style');<br/>    style.setAttribute('id', 'animation');<br/><br/>    style.innerHTML = selector;<br/><br/>    this.shadowRoot.appendChild(style);<br/>}</span></pre><p id="0be8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">é‚£é‡Œå‘ç”Ÿäº†ä»€ä¹ˆäº‹ï¼Ÿ</p><p id="6f53" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">å®ƒé¦–å…ˆè®¾ç½®è¦æ˜¾ç¤ºçš„ä¸‹ä¸€ä¸ª<code class="fe lv lw lx ly b">index</code>ã€<code class="fe lv lw lx ly b">li</code>ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªCSS <code class="fe lv lw lx ly b">selector</code>æ¥åº”ç”¨<code class="fe lv lw lx ly b">opacity</code>æ ·å¼ã€‚ç®€è€Œè¨€ä¹‹ï¼Œè¿™å–ä»£äº†æˆ‘ä»¬ä¸èƒ½ä½¿ç”¨çš„CSSå˜é‡ã€‚</p><p id="f268" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ç„¶åï¼Œæˆ‘ä»¬æ£€æŸ¥Webç»„ä»¶çš„é˜´å½±å†…å®¹æ˜¯å¦å·²ç»åŒ…å«äº†ä¸€ä¸ªåº”ç”¨åŠ¨ç”»çš„ä¸“ç”¨æ ·å¼ã€‚å¦‚æœæ˜¯ï¼Œæˆ‘ä»¬ç”¨æ–°çš„å€¼é€‰æ‹©å™¨æ›´æ–°æ ·å¼ï¼Œå¦‚æœä¸æ˜¯ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°çš„æ ·å¼æ ‡ç­¾ã€‚</p><p id="fd4c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æ¯æ¬¡è°ƒç”¨è¯¥æ–¹æ³•æ—¶ï¼Œéƒ½ä¼šåº”ç”¨ä¸€ä¸ªæ–°çš„<code class="fe lv lw lx ly b">style</code>ï¼Œå› æ­¤ä¼šæ˜¾ç¤ºå¦ä¸€ä¸ª<code class="fe lv lw lx ly b">li:nth-child(n)</code>ã€‚</p><p id="1ffc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">å¦‚æœæˆ‘ä»¬å†æ¬¡æ‰“å¼€æˆ‘ä»¬çš„æµè§ˆå™¨å°è¯•ä¸€ä¸‹ï¼Œåœ¨ç‚¹å‡»æˆ‘ä»¬çš„æŒ‰é’®<code class="fe lv lw lx ly b">next</code>æ—¶é¡¹ç›®åº”è¯¥æ˜¯åŠ¨ç”»çš„ï¼Œå¦‚æœæˆ‘ä»¬è¿›ä¸€æ­¥è§‚å¯Ÿæ£€æŸ¥å™¨ä¸­çš„ç»„ä»¶ï¼Œæˆ‘ä»¬åº”è¯¥æ³¨æ„åˆ°éšè—çš„<code class="fe lv lw lx ly b">style</code>å…ƒç´ åœ¨æ¯æ¬¡æ–¹æ³•è°ƒç”¨æ—¶éƒ½å‘ç”Ÿäº†å˜åŒ–ã€‚</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/146ca3b0fc46ac46870f4e19a6a1f797.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G76KWZf9do9aBnCo2rtLdw.png"/></div></div></figure></div><div class="ab cl mb mc hx md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="im in io ip iq"><h1 id="8638" class="mi mj it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated">StencilJS</h1><p id="7508" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">è®©æˆ‘ä»¬ç”¨åŒæ ·çš„ä¾‹å­æ¥å¢åŠ ä¹è¶£ï¼Œä½†æ˜¯ä½¿ç”¨ä¸€ä¸ª<a class="ae ky" href="https://stenciljs.com/" rel="noopener ugc nofollow" target="_blank"> StencilJS </a>åŠŸèƒ½ç»„ä»¶ğŸ¤™ã€‚</p><blockquote class="nr ns nt"><p id="6d09" class="kz la nu lb b lc ld ju le lf lg jx lh nv lj lk ll nw ln lo lp nx lr ls lt lu im bi translated">æ‚¨å¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œ<code class="fe lv lw lx ly b">npm init stencil</code>å¯åŠ¨ä¸€ä¸ªæ–°é¡¹ç›®</p></blockquote><p id="76ae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">å› ä¸ºæˆ‘ä»¬æ­£åœ¨å¼€å‘å®Œå…¨ç›¸åŒçš„ç»„ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¤åˆ¶ä»¥å‰çš„HTMLå†…å®¹(å£°æ˜ç»„ä»¶ï¼Œå¹¶åœ¨é¡¹ç›®çš„<code class="fe lv lw lx ly b">./src/index.html</code>ä¸­æ·»åŠ ä¸€ä¸ª<code class="fe lv lw lx ly b">button</code>),åªæœ‰ä¸€ç‚¹å°å°çš„ä¸åŒï¼Œæ–¹æ³•<code class="fe lv lw lx ly b">next()</code>å¿…é¡»å£°æ˜ï¼Œå¹¶ç”¨async-awaitè°ƒç”¨ã€‚è¿™æ˜¯ä¸€ä¸ªè¦æ±‚â€”æ¨¡æ¿çš„æœ€ä½³å®è·µï¼Œç»„ä»¶çš„å…¬å…±æ–¹æ³•å¿…é¡»æ˜¯<code class="fe lv lw lx ly b">async</code>ã€‚</p><pre class="kj kk kl km gt ng ly nh ni aw nj bi"><span id="b3fa" class="nk mj it ly b gy nl nm l nn no">&lt;!DOCTYPE html&gt;<br/>&lt;html dir="ltr" lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;meta charset="utf-8" /&gt;<br/>    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0" /&gt;<br/>    &lt;title&gt;Stencil Component Starter&lt;/title&gt;<br/><br/>    &lt;script type="module" src="/build/demo-stencil.esm.js"&gt;&lt;/script&gt;<br/>    &lt;script nomodule src="/build/demo-stencil.js"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;</span><span id="0e4f" class="nk mj it ly b gy nq nm l nn no">  &lt;!-- Same code as in previous chapter --&gt;</span><span id="9396" class="nk mj it ly b gy nq nm l nn no">  &lt;my-component&gt;&lt;/my-component&gt;<br/><br/>  &lt;button&gt;Next&lt;/button&gt;<br/><br/>  &lt;script&gt;<br/>    document.querySelector('button')<br/>       .addEventListener(<br/>          'click', <br/>          async () =&gt; await document<br/>                             .querySelector('my-component').next()<br/>            );<br/>  &lt;/script&gt;</span><span id="3073" class="nk mj it ly b gy nq nm l nn no">  &lt;!-- Same code as in previous chapter --&gt;</span><span id="e25f" class="nk mj it ly b gy nq nm l nn no">  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="6602" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æˆ‘ä»¬ä¹Ÿå¯ä»¥é‡å¤å‰é¢çš„æ­¥éª¤ï¼Œé¦–å…ˆåˆ›å»ºä¸€ä¸ªç»„ä»¶ï¼Œå®ƒé™¤äº†å‘ˆç°ä¸€ä¸ª<code class="fe lv lw lx ly b">ul</code>åˆ—è¡¨å’Œéšè—é¡¹ç›®<code class="fe lv lw lx ly b">li</code>ä¹‹å¤–ä»€ä¹ˆä¹Ÿä¸åšã€‚</p><pre class="kj kk kl km gt ng ly nh ni aw nj bi"><span id="2760" class="nk mj it ly b gy nl nm l nn no">import { Component, h } from '@stencil/core';<br/><br/>@Component({<br/>  tag: 'my-component',<br/>  styles: `:host {<br/>      display: block;<br/>    }<br/><br/>    li {<br/>      opacity: 0;<br/>      transition: opacity 0.5s ease-out;<br/>    }<br/>  `,<br/>  shadow: true,<br/>})<br/>export class MyComponent {<br/>  render() {<br/>    return &lt;ul&gt;<br/>      &lt;li&gt;Spine&lt;/li&gt;<br/>      &lt;li&gt;Cowboy&lt;/li&gt;<br/>      &lt;li&gt;Shelving&lt;/li&gt;<br/>    &lt;/ul&gt;<br/>  }<br/>}</span></pre><p id="9aa2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">é€šè¿‡æµ‹è¯•ç»„ä»¶(<code class="fe lv lw lx ly b">npm run start</code>)ï¼Œæˆ‘ä»¬ä¹Ÿåº”è¯¥å¾—åˆ°ç›¸åŒçš„ç»“æœğŸ˜‰ã€‚</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/a967627fb10908760ba9ad7d6bd1cc47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qw2VVn0rZlENtjlYY9Yp1Q.png"/></div></div></figure><p id="aa1a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ä¸ºäº†è·Ÿè¸ªè¦çªå‡ºæ˜¾ç¤ºçš„<code class="fe lv lw lx ly b">li</code>ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªçŠ¶æ€å’Œå‡½æ•°<code class="fe lv lw lx ly b">state</code>ã€‚æˆ‘ä»¬å°†ä¸¤è€…éƒ½æ·»åŠ åˆ°æˆ‘ä»¬çš„ç»„ä»¶ä¸­ã€‚</p><pre class="kj kk kl km gt ng ly nh ni aw nj bi"><span id="a303" class="nk mj it ly b gy nl nm l nn no">@State()<br/>private index: number = 0;<br/><br/>@Method()<br/>async next() {<br/>  this.index = this.index === 3 ? 1 : this.index + 1;<br/>}</span></pre><p id="1f65" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ä¸æ™®é€šç»„ä»¶ç›¸æ¯”ï¼Œå› ä¸ºæˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªç®€åŒ–å¼€å‘çš„æ†ç»‘å™¨ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦è‡ªå·±è´Ÿè´£é‡æ–°æ¸²æŸ“ã€‚å¯¹<code class="fe lv lw lx ly b">state</code>çš„æ¯æ¬¡ä¿®æ”¹éƒ½ä¼šè§¦å‘ä¸€æ¬¡é‡æ–°æ¸²æŸ“ï¼Œæœ€ç»ˆæ›´æ–°é‚£äº›å¿…é¡»æ›´æ–°çš„èŠ‚ç‚¹(å¹¶ä¸”åªæ›´æ–°é‚£äº›å¿…é¡»æ›´æ–°çš„èŠ‚ç‚¹)ã€‚</p><p id="ab26" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">å°½ç®¡å¦‚æ­¤ï¼Œæˆ‘ä»¬å¿…é¡»å®ç°CSSé€‰æ‹©å™¨å˜é‡ã€‚å‡ºäºè¿™æ ·çš„ç›®çš„ï¼Œå¦‚å‰æ‰€è¿°ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸€ä¸ªåŠŸèƒ½ç»„ä»¶ã€‚å®ƒå¯èƒ½ä¸ç±»ç»„ä»¶ä¸€èµ·å·¥ä½œï¼Œä½†æ˜¯æˆ‘è§‰å¾—å‡½æ•°ç»„ä»¶æ›´é€‚åˆè¿™é¡¹å·¥ä½œã€‚</p><pre class="kj kk kl km gt ng ly nh ni aw nj bi"><span id="9b58" class="nk mj it ly b gy nl nm l nn no">const Animate: FunctionalComponent&lt;{index: number;}&gt; = ({index}) =&gt; {<br/>  return (<br/>    &lt;style&gt;{`<br/>    li:nth-child(${index}) {<br/>      opacity: 1;<br/>    }<br/>  `}&lt;/style&gt;<br/>  );<br/>};</span></pre><p id="b393" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">è¯¥ç»„ä»¶ä¸ºæˆ‘ä»¬ä½œä¸ºå‚æ•°ä¼ é€’çš„å€¼(æˆ‘ä»¬çš„<code class="fe lv lw lx ly b">state</code>)å‘ˆç°ä¸€ä¸ª<code class="fe lv lw lx ly b">style</code>å…ƒç´ ã€‚</p><p id="fbf4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æœ€åï¼Œæˆ‘ä»¬å¿…é¡»ä½¿ç”¨åŠŸèƒ½ç»„ä»¶ï¼Œå¹¶å°†å…¶ç»‘å®šåˆ°æˆ‘ä»¬çš„çŠ¶æ€å€¼ã€‚è¿™æ ·ï¼Œæ¯å½“å®ƒçš„å€¼æ”¹å˜æ—¶ï¼Œå®ƒå°†è¢«é‡æ–°å‘ˆç°ã€‚</p><pre class="kj kk kl km gt ng ly nh ni aw nj bi"><span id="6f19" class="nk mj it ly b gy nl nm l nn no">render() {<br/>  return &lt;Host&gt;<br/>    &lt;Animate index={this.index}&gt;&lt;/Animate&gt;<br/>    &lt;ul&gt;<br/>      &lt;li&gt;Spine&lt;/li&gt;<br/>      &lt;li&gt;Cowboy&lt;/li&gt;<br/>      &lt;li&gt;Shelving&lt;/li&gt;<br/>    &lt;/ul&gt;<br/>  &lt;/Host&gt;<br/>}</span></pre><p id="e6e6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">å·²ç»å®Œæˆäº†ï¼Œæˆ‘ä»¬èƒ½å¤Ÿå¤åˆ¶ç›¸åŒçš„ç»„ä»¶ğŸ¥³.</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/4e13a7374a70d5cb9bda98930bc2d540.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*9DoGPKFedgsKnVMQp5wWIg.gif"/></div></figure><p id="49b4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">å•ä¸ªä»£ç å—ä¸­çš„ä¸Šè¿°ç»„ä»¶:</p><pre class="kj kk kl km gt ng ly nh ni aw nj bi"><span id="2624" class="nk mj it ly b gy nl nm l nn no">import { Component, FunctionalComponent, h, Host, Method, State } from '@stencil/core';<br/><br/>const Animate: FunctionalComponent&lt;{index: number;}&gt; = ({index}) =&gt; {<br/>  return (<br/>    &lt;style&gt;{`<br/>    li:nth-child(${index}) {<br/>      opacity: 1;<br/>    }<br/>  `}&lt;/style&gt;<br/>  );<br/>};<br/><br/>@Component({<br/>  tag: 'my-component',<br/>  styles: `:host {<br/>      display: block;<br/>    }<br/><br/>    li {<br/>      opacity: 0;<br/>      transition: opacity 0.5s ease-out;<br/>    }<br/>  `,<br/>  shadow: true,<br/>})<br/>export class MyComponent {<br/><br/>  @State()<br/>  private index: number = 0;<br/><br/>  @Method()<br/>  async next() {<br/>    this.index = this.index === 3 ? 1 : this.index + 1;<br/>  }<br/><br/>  render() {<br/>    return &lt;Host&gt;<br/>      &lt;Animate index={this.index}&gt;&lt;/Animate&gt;<br/>      &lt;ul&gt;<br/>        &lt;li&gt;Spine&lt;/li&gt;<br/>        &lt;li&gt;Cowboy&lt;/li&gt;<br/>        &lt;li&gt;Shelving&lt;/li&gt;<br/>      &lt;/ul&gt;<br/>    &lt;/Host&gt;<br/>  }<br/>}</span></pre></div><div class="ab cl mb mc hx md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="im in io ip iq"><h1 id="d34f" class="mi mj it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated">æ‘˜è¦</h1><p id="2bac" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">è€å®è¯´ï¼Œæˆ‘ä¸ç¡®å®šè¿™ç¯‡æ–‡ç« æ˜¯å¦ä¼šæ‰¾åˆ°è¯»è€…ï¼Œä¹Ÿä¸è®¤ä¸ºå®ƒæœ‰ä¸€å¤©ä¼šå¯¹æŸä¸ªäººæœ‰ç”¨ï¼Œä½†æ˜¯ï¼Œæˆ‘å–œæ¬¢ç”¨è¿™ä¸ªæŠ€å·§ğŸ˜œã€‚æ­¤å¤–ï¼Œä¸ºäº†æ¼”ç¤ºçš„ç›®çš„ï¼Œç”¨æ™®é€šçš„JSæˆ–Stencilå¼€å‘åŒæ ·çš„ä»£ç ä¹Ÿå¾ˆæœ‰è¶£ã€‚</p><p id="c186" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">åˆ°æ— é™å’Œæ›´è¿œçš„åœ°æ–¹ï¼</p><p id="18e9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">å¤§å«</p></div><div class="ab cl mb mc hx md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="im in io ip iq"><p id="9caf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ä½ å¯ä»¥é€šè¿‡<a class="ae ky" href="https://twitter.com/daviddalbusco" rel="noopener ugc nofollow" target="_blank"> Twitter </a>æˆ–æˆ‘çš„<a class="ae ky" href="https://daviddalbusco.com/" rel="noopener ugc nofollow" target="_blank">ç½‘ç«™</a>è”ç³»æˆ‘ã€‚</p><p id="0762" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ä¸ºæ‚¨çš„ä¸‹ä¸€ä¸ªæ¼”ç¤ºï¼Œå°è¯•ä¸€ä¸‹<a class="ae ky" href="https://deckdeckgo.com/" rel="noopener ugc nofollow" target="_blank"> DeckDeckGo </a>ã€‚</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><a href="https://deckdeckgo.com"><div class="gh gi oa"><img src="../Images/69b0d343c3513ad1c22907adecf84a10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*JhaczOFbeFh32v19.png"/></div></a></figure></div></div>    
</body>
</html>