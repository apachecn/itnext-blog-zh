<html>
<head>
<title>Integrating DropzoneJS with a JavaScript Image Cropper to Optimise Image Uploads</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">é›†æˆDropzoneJSå’ŒJavaScriptå›¾åƒè£å‰ªå™¨æ¥ä¼˜åŒ–å›¾åƒä¸Šä¼ </h1>
<blockquote>åŸæ–‡ï¼š<a href="https://itnext.io/integrating-dropzone-with-javascript-image-cropper-optimise-image-upload-e22b12ac0d8a?source=collection_archive---------0-----------------------#2019-01-03">https://itnext.io/integrating-dropzone-with-javascript-image-cropper-optimise-image-upload-e22b12ac0d8a?source=collection_archive---------0-----------------------#2019-01-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="cd80" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†é›†æˆDropzoneä¸ä¸‰ä¸ªä¸åŒçš„å›¾åƒè£å‰ªæ’ä»¶ï¼Œä»¥ä¼˜åŒ–å›¾åƒæ•°æ®ä¸Šä¼ åˆ°æœåŠ¡å™¨ä¹‹å‰ã€‚</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/578a8c2546423b0a7e6302688dd9e965.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*atO19Z0pHrGmOgRdqIGbSQ.jpeg"/></div></div></figure><p id="35ad" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¦‚æœæˆ‘ä»¬èƒ½åœ¨å›¾åƒå‘é€åˆ°æœåŠ¡å™¨ä¹‹å‰å¯¹å…¶è¿›è¡Œä¼˜åŒ–ï¼Œé‚£ä¸æ˜¯å¾ˆå¥½å—ï¼Ÿè¿™å¯ä»¥èŠ‚çœå¸¦å®½ï¼Œä½¿æ•°æ®åº“æ›´å¹²å‡€ï¼Œå¹¶å…è®¸ç”¨æˆ·å¯¹è‡ªå·±çš„å†…å®¹æœ‰æ›´å¤šçš„æ§åˆ¶ã€‚ä½¿ç”¨æœ¬æ–‡ä¸­æè¿°çš„æŠ€æœ¯ï¼Œä½¿æ‚¨çš„ç”¨æˆ·èƒ½å¤Ÿç¼–è¾‘ä»–ä»¬ä¸Šä¼ åˆ°æœåŠ¡å™¨çš„ä¸ªäººèµ„æ–™å›¾ç‰‡ã€ç›¸å†Œæˆ–ä»»ä½•å…¶ä»–å›¾åƒã€‚</p><p id="32bc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬å°†è®¾ç½®ä¸€ä¸ªåŸºæœ¬çš„<a class="ae kx" href="https://www.dropzonejs.com" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir">drop zone js</strong></a>vanilla JavaScriptæ‹–æ”¾åŒºï¼Œæ‰©å±•å®ƒä»¥æ›´å¥½åœ°ä¸ç¬¬ä¸‰æ–¹å›¾åƒè£å‰ªå™¨é›†æˆï¼Œç„¶åå±•ç¤ºå¦‚ä½•å°†å®ƒä¸ä¸‰ä¸ªæµè¡Œçš„å›¾åƒè£å‰ªå™¨é“¾æ¥èµ·æ¥:<a class="ae kx" href="https://github.com/fengyuanchen/cropperjs" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> Cropper.js </strong> </a>ã€<a class="ae kx" href="https://github.com/foliotek/croppie" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> Croppie </strong> </a>ï¼Œæœ€åä½†åŒæ ·é‡è¦çš„æ˜¯<a class="ae kx" href="https://pqina.nl/doka/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">å¤šå¡</strong> </a></p><p id="3ed7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬å…ˆä»è®¾ç½®DropzoneJSå¼€å§‹ã€‚</p><h1 id="ea05" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">è®¾ç½®æ‹–æ”¾åŒºJS</h1><p id="a13b" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªåŸºæœ¬çš„HTMLé¡µé¢ï¼Œå¹¶æ·»åŠ DropzoneJSæ ·å¼å’Œè„šæœ¬ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚</p><pre class="km kn ko kp gt mb mc md me aw mf bi"><span id="a4ce" class="mg kz iq mc b gy mh mi l mj mk">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>&lt;head&gt;<br/>  &lt;meta charset="UTF-8"&gt;<br/>  &lt;title&gt;JavaScript Image Cropping with DropzoneJS&lt;/title&gt;<br/>  <strong class="mc ir">&lt;link href="https://unpkg.com/dropzone/dist/dropzone.css" rel="stylesheet"/&gt;</strong><br/>&lt;/head&gt;<br/>&lt;body&gt;<br/>  <strong class="mc ir">&lt;div class="dropzone" id="myDropzone"&gt;&lt;/div&gt;</strong><br/>  <strong class="mc ir">&lt;script src="https://unpkg.com/dropzone"&gt;&lt;/script&gt;</strong><br/>&lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="332c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è®¾ç½®å¥½åŸºæœ¬é¡µé¢åï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥ä¸“æ³¨äºé…ç½®DropzoneJSäº†ã€‚åœ¨å®ƒè¦åšä»»ä½•äº‹æƒ…ä¹‹å‰ï¼Œå®ƒå¸Œæœ›æˆ‘ä»¬è®¾ç½®ä¸€ä¸ªä¸Šä¼ æ–‡ä»¶çš„ä½ç½®ï¼Œè®©æˆ‘ä»¬ç°åœ¨å°±è¿™æ ·åšã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åˆ†é…ç»™DropzoneJS <code class="fe ml mm mn mc b">&lt;div&gt;</code>çš„<code class="fe ml mm mn mc b">id</code>å°†é€‰é¡¹ä¼ é€’ç»™æˆ‘ä»¬ç‰¹å®šçš„ä¸Šä¼ è€…ã€‚</p><p id="0e0f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="mo">æ³¨æ„ï¼Œæˆ‘ä»¬å·²ç»æ”¾å¤§äº†åˆšåˆšç»“æŸ</em> <code class="fe ml mm mn mc b"><em class="mo">body</em></code> <em class="mo">æ ‡ç­¾ä¹‹å‰çš„ä»£ç ã€‚</em></p><pre class="km kn ko kp gt mb mc md me aw mf bi"><span id="79a2" class="mg kz iq mc b gy mh mi l mj mk">&lt;div class="dropzone" id="myDropzone"&gt;&lt;/div&gt;<br/>&lt;script src="https://unpkg.com/dropzone"&gt;&lt;/script&gt;</span><span id="11ba" class="mg kz iq mc b gy mp mi l mj mk"><strong class="mc ir">&lt;script&gt;<br/>Dropzone.options.myDropzone = {<br/> url: '/post'<br/>};<br/>&lt;/script&gt;</strong></span></pre><p id="174e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬ç°åœ¨åº”è¯¥çœ‹åˆ°é¡µé¢ä¸Šå‡ºç°ä»¥ä¸‹å†…å®¹ï¼Œå¦‚æœæˆ‘ä»¬æ‹–æ”¾ä¸€ä¸ªå›¾åƒï¼ŒDropzoneJSå°†æ˜¾ç¤ºä¸€ä¸ªå°ç¼©ç•¥å›¾ã€‚</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/db02b9259b2a505f0c5e98447184b84b.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/1*sTcXQ-aM2zLTUeDjjTSOWA.gif"/></div></figure><p id="947b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬å¯ä»¥åœ¨æœåŠ¡å™¨ä¸Šå¤„ç†æ–‡ä»¶å¯¹è±¡ï¼Œå°±åƒä½¿ç”¨ç»å…¸å¤šéƒ¨åˆ†è¡¨å•çš„<code class="fe ml mm mn mc b">&lt;input type=â€fileâ€/&gt;</code>æäº¤æ™®é€šæ–‡ä»¶ä¸€æ ·ã€‚æœ¬æ•™ç¨‹å°†ä¾§é‡äºåœ¨å›¾åƒä¸Šä¼ åˆ°æœåŠ¡å™¨ä¹‹å‰ï¼Œåœ¨å‰ç«¯ç¼–è¾‘å›¾åƒã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°†æš‚æ—¶ä¿ç•™æœåŠ¡å™¨è§£å†³æ–¹æ¡ˆã€‚</p><h1 id="7b6b" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">ç”¨å›¾åƒç¼–è¾‘å™¨å¼¹å‡ºçª—å£æ‰©å±•Dropzone</h1><p id="9c1f" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">Dropzoneæœ‰ä¸€ä¸ªåä¸º<code class="fe ml mm mn mc b">transformFile</code>çš„ç‰¹æ®Šå›è°ƒå‡½æ•°ï¼Œå½“è¿™ä¸ªå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥è®©ç”¨æˆ·ç¼–è¾‘ä¸€ä¸ªæ–‡ä»¶ã€‚è®©æˆ‘ä»¬</p><p id="e5c1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="mo">æ³¨æ„ï¼Œæˆ‘ä»¬å·²ç»æ”¾å¤§äº†</em> <code class="fe ml mm mn mc b"><em class="mo">&lt;script&gt;</em></code> <em class="mo">æ ‡ç­¾å†…çš„ä»£ç ã€‚</em></p><pre class="km kn ko kp gt mb mc md me aw mf bi"><span id="9553" class="mg kz iq mc b gy mh mi l mj mk">Dropzone.options.myDropzone = {<br/>  url: '/post',<br/>  <strong class="mc ir">transformFile: function(file, done) { </strong></span><span id="aabc" class="mg kz iq mc b gy mp mi l mj mk"><strong class="mc ir">  }</strong><br/>};</span></pre><p id="88a5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Dropzoneé”å®šã€‚ç¼–è¾‘å®Œæ–‡ä»¶åï¼Œæˆ‘ä»¬éœ€è¦è°ƒç”¨<code class="fe ml mm mn mc b">done</code>å‡½æ•°(ç¬¬äºŒä¸ªå‚æ•°),æˆ‘ä»¬ä¼šè®°ä½è¿™ä¸€ç‚¹ã€‚å°±ç›®å‰è€Œè¨€ï¼Œè¿™å¾ˆå¥½ã€‚</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/b2775fa15fdb12ca342d975b947403b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/1*HSDOae5oZMFvlDRGVfDn1w.gif"/></div></figure><p id="c93c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¥½çš„ï¼Œæˆ‘ä»¬æƒ³è¦åœ¨ä¸€ä¸ªå›¾åƒç¼–è¾‘å™¨è¦†ç›–å›¾ä¸­ç¼–è¾‘æ–‡ä»¶ï¼Œåœ¨Dropzoneçš„é¡¶éƒ¨ï¼Œè¿™è‡ªåŠ¨åœ°ç§»åŠ¨ç”¨æˆ·ç„¦ç‚¹åˆ°ç¼–è¾‘å™¨ã€‚</p><pre class="km kn ko kp gt mb mc md me aw mf bi"><span id="e91d" class="mg kz iq mc b gy mh mi l mj mk">transformFile: function(file, done) {</span><span id="1dbe" class="mg kz iq mc b gy mp mi l mj mk">  // Create the image editor overlay<br/>  <strong class="mc ir">var editor = document.createElement('div');<br/>  editor.style.position = 'fixed';<br/>  editor.style.left = 0;<br/>  editor.style.right = 0;<br/>  editor.style.top = 0;<br/>  editor.style.bottom = 0;<br/>  editor.style.zIndex = 9999;<br/>  editor.style.backgroundColor = '#000';<br/>  document.body.appendChild(editor);</strong></span><span id="6ec3" class="mg kz iq mc b gy mp mi l mj mk">}</span></pre><p id="b021" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä¸‹é¢çš„ç»“æœçœ‹èµ·æ¥å„ç§å„æ ·çš„é”™è¯¯ï¼Œä½†å®ƒå®é™…ä¸Šæ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚é»‘è‰²å±‚å°†æ˜¯æˆ‘ä»¬ç¨åç¼–è¾‘çš„ä½ç½®ã€‚åšæŒä½ã€‚</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/b9e548e1b97caf242a5b61f7077cbec9.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/1*fmQSsmXpciiS32creN6rRg.gif"/></div></figure><p id="80a9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬éœ€è¦ä¸€ç§æ–¹æ³•æ¥é€ƒç¦»è¿™ä¸ªé»‘è‰²çš„ç©ºç™½ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬å‘ç¼–è¾‘å™¨å…ƒç´ æ·»åŠ ä¸€ä¸ªå¸¦æœ‰clickäº‹ä»¶çš„æŒ‰é’®ã€‚</p><pre class="km kn ko kp gt mb mc md me aw mf bi"><span id="672e" class="mg kz iq mc b gy mh mi l mj mk">transformFile: function(file, done) {</span><span id="6af1" class="mg kz iq mc b gy mp mi l mj mk">  // Create the image editor overlay<br/>  var editor = document.createElement('div');<br/>  editor.style.position = 'fixed';<br/>  editor.style.left = 0;<br/>  editor.style.right = 0;<br/>  editor.style.top = 0;<br/>  editor.style.bottom = 0;<br/>  editor.style.zIndex = 9999;<br/>  editor.style.backgroundColor = '#000';<br/>  document.body.appendChild(editor);</span><span id="e874" class="mg kz iq mc b gy mp mi l mj mk">  // Create confirm button at the top left of the viewport<br/>  <strong class="mc ir">var buttonConfirm = document.createElement('button');<br/>  buttonConfirm.style.position = 'absolute';<br/>  buttonConfirm.style.left = '10px';<br/>  buttonConfirm.style.top = '10px';<br/>  buttonConfirm.style.zIndex = 9999;<br/>  buttonConfirm.textContent = 'Confirm';<br/>  editor.appendChild(buttonConfirm);<br/>  buttonConfirm.addEventListener('click', function() {</strong></span><span id="2820" class="mg kz iq mc b gy mp mi l mj mk">    // Remove the editor from the view<br/>    <strong class="mc ir">document.body.removeChild(editor);</strong></span><span id="17a8" class="mg kz iq mc b gy mp mi l mj mk">  <strong class="mc ir">});</strong></span><span id="9304" class="mg kz iq mc b gy mp mi l mj mk">}</span></pre><p id="4a85" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è€¶ï¼æˆ‘ä»¬ç°åœ¨å¯ä»¥é€ƒç¦»è™šç©ºã€‚ç²¾å½©ï¼</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/a7c9857e7c28d61468d78e05f9441147.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/1*x85rH-odZww7iQumQ5OCEw.gif"/></div></figure><p id="ad9e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¿™å°±æ˜¯æˆ‘ä»¬éœ€è¦è®¾ç½®çš„ä¸ç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªå›¾åƒè£å‰ªå™¨å€™é€‰å¯¹è±¡é›†æˆçš„å…¨éƒ¨å†…å®¹ï¼Œè®©æˆ‘ä»¬è¯•ä¸€è¯•Cropper.jsã€‚</p></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h1 id="6edf" class="ky kz iq bd la lb my ld le lf mz lh li lj na ll lm ln nb lp lq lr nc lt lu lv bi translated">å°†Dropzoneä¸Cropper.jsé›†æˆ</h1><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/d8a9729cbd61b59e0c69f17084805e9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9lrxxiFyoHt0v5GWbYMwZg.png"/></div></figure><p id="9e36" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ˜¯æ—¶å€™è¿æ¥æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªå›¾åƒè£å‰ªå™¨äº†ã€‚è®©æˆ‘ä»¬æ·»åŠ <a class="ae kx" href="https://github.com/fengyuanchen/cropperjs" rel="noopener ugc nofollow" target="_blank"> Cropper.js </a>æ‰€éœ€çš„æ ·å¼å’Œè„šæœ¬ã€‚</p><pre class="km kn ko kp gt mb mc md me aw mf bi"><span id="a204" class="mg kz iq mc b gy mh mi l mj mk">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>&lt;head&gt;<br/>  &lt;meta charset="UTF-8"&gt;<br/>  &lt;title&gt;JavaScript Image Cropping with DropzoneJS&lt;/title&gt;<br/>  &lt;link href="https://unpkg.com/dropzone/dist/dropzone.css" rel="stylesheet"/&gt;<br/>  <strong class="mc ir">&lt;link href="https://unpkg.com/cropperjs/dist/cropper.css" rel="stylesheet"/&gt;</strong><br/>&lt;/head&gt;<br/>&lt;body&gt;<br/>  &lt;div class="dropzone" id="myDropzone"&gt;&lt;/div&gt;<br/>  &lt;script src="https://unpkg.com/dropzone"&gt;&lt;/script&gt;<br/>  <strong class="mc ir">&lt;script src="https://unpkg.com/cropperjs"&gt;&lt;/script&gt;<br/></strong>&lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="abc5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä¸€åˆ‡è¿˜æ˜¯è€æ ·å­ï¼Œæ²¡å…³ç³»ã€‚</p><p id="79dc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è®©æˆ‘ä»¬å°†Cropper.jsæ·»åŠ åˆ°ç¼–è¾‘å™¨å…ƒç´ ä¸­ï¼Œå¹¶åŠ è½½æ‹–æ”¾çš„å›¾åƒã€‚Cropper.jséœ€è¦ä¸€ä¸ª<code class="fe ml mm mn mc b">&lt;img&gt;</code>å…ƒç´ ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬å°†<code class="fe ml mm mn mc b">file</code>å¯¹è±¡è½¬æ¢æˆä¸€ä¸ªURLï¼Œå¹¶å°†å…¶æä¾›ç»™ä¸€ä¸ªæ–°çš„å›¾åƒã€‚</p><p id="79ef" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="mo">æ³¨æ„ï¼Œæˆ‘ä»¬å·²ç»æ”¾å¤§äº†</em> <code class="fe ml mm mn mc b"><em class="mo">transformFile</em></code> <em class="mo">å‡½æ•°æœ¬èº«ã€‚</em></p><pre class="km kn ko kp gt mb mc md me aw mf bi"><span id="7c35" class="mg kz iq mc b gy mh mi l mj mk">transformFile: function(file, done) {</span><span id="a6a2" class="mg kz iq mc b gy mp mi l mj mk">  // Create the image editor overlay<br/>  var editor = document.createElement('div');<br/>  editor.style.position = 'fixed';<br/>  editor.style.left = 0;<br/>  editor.style.right = 0;<br/>  editor.style.top = 0;<br/>  editor.style.bottom = 0;<br/>  editor.style.zIndex = 9999;<br/>  editor.style.backgroundColor = '#000';<br/>  document.body.appendChild(editor);</span><span id="fa2b" class="mg kz iq mc b gy mp mi l mj mk">  // Create confirm button at the top left of the viewport<br/>  var buttonConfirm = document.createElement('button');<br/>  buttonConfirm.style.position = 'absolute';<br/>  buttonConfirm.style.left = '10px';<br/>  buttonConfirm.style.top = '10px';<br/>  buttonConfirm.style.zIndex = 9999;<br/>  buttonConfirm.textContent = 'Confirm';<br/>  editor.appendChild(buttonConfirm);<br/>  buttonConfirm.addEventListener('click', function() {</span><span id="66b3" class="mg kz iq mc b gy mp mi l mj mk">    // Remove the editor from the view<br/>    document.body.removeChild(editor);</span><span id="c5dc" class="mg kz iq mc b gy mp mi l mj mk"><strong class="mc ir">  </strong>});</span><span id="0994" class="mg kz iq mc b gy mp mi l mj mk">  // Create an image node for Cropper.js<br/><strong class="mc ir">  var image = new Image();<br/>  image.src = URL.createObjectURL(file);<br/>  editor.appendChild(image);<br/>  <br/>  </strong>// Create Cropper.js<br/>  <strong class="mc ir">var cropper = new Cropper(image, { aspectRatio: 1 });</strong></span><span id="2a97" class="mg kz iq mc b gy mp mi l mj mk">}</span></pre><p id="2043" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Cropper.jsç°åœ¨å¯ä»¥åœ¨ç¼–è¾‘å™¨å¼¹å‡ºçª—å£ä¸­æ‰“å¼€æ‹–æ”¾çš„å›¾åƒã€‚</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/d0c08695c99ec8340e696343d425ab1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/1*S9SHM4izvzaYzwFTA8ysIw.gif"/></div></figure><p id="5deb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å½“æˆ‘ä»¬ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œç¼–è¾‘å™¨å…³é—­ã€‚æˆ‘ä»¬å¸Œæœ›å®ƒå‘Šè¯‰Cropper.jsè¿›è¡Œè£å‰ªå¹¶æ›´æ–°DropzoneJSæ–‡ä»¶ã€‚</p><p id="6900" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="mo">æ³¨æ„ï¼Œæˆ‘ä»¬æ”¾å¤§äº†ç¡®è®¤æŒ‰é’®addEventListenerå‡½æ•°ã€‚</em></p><pre class="km kn ko kp gt mb mc md me aw mf bi"><span id="d5f1" class="mg kz iq mc b gy mh mi l mj mk">buttonConfirm.addEventListener('click', function() {</span><span id="96f2" class="mg kz iq mc b gy mp mi l mj mk">  // Get the canvas with image data from Cropper.js<br/>  <strong class="mc ir">var canvas = cropper.getCroppedCanvas({<br/>    width: 256,<br/>    height: 256<br/>  });</strong></span><span id="8065" class="mg kz iq mc b gy mp mi l mj mk">  // Turn the canvas into a Blob (file object without a name)<br/>  <strong class="mc ir">canvas.toBlob(function(blob) {</strong></span><span id="60cf" class="mg kz iq mc b gy mp mi l mj mk"><strong class="mc ir">    </strong>// Return the file to Dropzone<strong class="mc ir"><br/>    done(blob);</strong></span><span id="ba17" class="mg kz iq mc b gy mp mi l mj mk">  <strong class="mc ir">});</strong></span><span id="0867" class="mg kz iq mc b gy mp mi l mj mk">  // Remove the editor from the view<strong class="mc ir"><br/>  </strong>document.body.removeChild(editor);</span><span id="e5ba" class="mg kz iq mc b gy mp mi l mj mk">});</span></pre><p id="1933" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¥‡æ€ªï¼æ–‡ä»¶ç¼©ç•¥å›¾ä¸ä¼šæ›´æ–°ã€‚</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/2e3f33d8cb2057ee672323a03bdd5366.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/1*FrJeY_5c1al2EflYnlRaQQ.gif"/></div></figure><p id="ddd5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Dropzoneä¸ä¼šè‡ªåŠ¨åˆ›å»ºæ–°ç¼©ç•¥å›¾ã€‚æˆ‘ä»¬å°†ä¸å¾—ä¸æŒ‡ç¤ºå®ƒæ ¹æ®æ›´æ–°åçš„æ–‡ä»¶é‡æ–°ç»˜åˆ¶å®ƒã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Dropzone <code class="fe ml mm mn mc b">createThumbnail</code>å‡½æ•°æ¥å®ç°ã€‚ä½†æ˜¯ç”±äºæˆ‘ä»¬éœ€è¦è®¿é—®Dropzoneå®ä¾‹ï¼Œæˆ‘ä»¬è¿˜å¿…é¡»åˆ›å»ºå¯¹è¯¥å®ä¾‹çš„å¼•ç”¨(æˆ‘ä»¬ç§°ä¹‹ä¸º<code class="fe ml mm mn mc b">myDropZone</code>)ã€‚</p><pre class="km kn ko kp gt mb mc md me aw mf bi"><span id="fc52" class="mg kz iq mc b gy mh mi l mj mk">transformFile: function(file, done) {</span><span id="b29c" class="mg kz iq mc b gy mp mi l mj mk">  // Create Dropzone reference for use in confirm button click handler<br/>  <strong class="mc ir">var myDropZone = this;</strong></span><span id="78af" class="mg kz iq mc b gy mp mi l mj mk">  // Create the image editor overlay<br/>  var editor = document.createElement('div');<br/>  editor.style.position = 'fixed';<br/>  editor.style.left = 0;<br/>  editor.style.right = 0;<br/>  editor.style.top = 0;<br/>  editor.style.bottom = 0;<br/>  editor.style.zIndex = 9999;<br/>  editor.style.backgroundColor = '#000';<br/>  document.body.appendChild(editor);</span><span id="bb26" class="mg kz iq mc b gy mp mi l mj mk">  // Create confirm button at the top left of the viewport<br/>  var buttonConfirm = document.createElement('button');<br/>  buttonConfirm.style.position = 'absolute';<br/>  buttonConfirm.style.left = '10px';<br/>  buttonConfirm.style.top = '10px';<br/>  buttonConfirm.style.zIndex = 9999;<br/>  buttonConfirm.textContent = 'Confirm';<br/>  editor.appendChild(buttonConfirm);<br/>  buttonConfirm.addEventListener('click', function() {</span><span id="15db" class="mg kz iq mc b gy mp mi l mj mk">    // Get the canvas with image data from Cropper.js<br/>    var canvas = cropper.getCroppedCanvas({<br/>      width: 256,<br/>      height: 256<br/>    });</span><span id="70f4" class="mg kz iq mc b gy mp mi l mj mk">    // Turn the canvas into a Blob (file object without a name)<br/>    canvas.toBlob(function(blob) {</span><span id="ee6f" class="mg kz iq mc b gy mp mi l mj mk">      // Create a new Dropzone file thumbnail<br/>      <strong class="mc ir">myDropZone.createThumbnail(<br/>        blob,<br/>        myDropZone.options.thumbnailWidth,<br/>        myDropZone.options.thumbnailHeight,<br/>        myDropZone.options.thumbnailMethod,<br/>        false, <br/>        function(dataURL) {<br/>          <br/>          </strong>// Update the Dropzone file thumbnail<strong class="mc ir"><br/>          myDropZone.emit('thumbnail', file, dataURL);</strong></span><span id="b76e" class="mg kz iq mc b gy mp mi l mj mk"><strong class="mc ir">          </strong>// Return the file to Dropzone<strong class="mc ir"><br/>          done(blob);</strong></span><span id="3576" class="mg kz iq mc b gy mp mi l mj mk"><strong class="mc ir">      });</strong></span><span id="e3cb" class="mg kz iq mc b gy mp mi l mj mk">    });</span><span id="2e5c" class="mg kz iq mc b gy mp mi l mj mk">    // Remove the editor from the view<strong class="mc ir"><br/>    </strong>document.body.removeChild(editor);</span><span id="6e60" class="mg kz iq mc b gy mp mi l mj mk">  });</span><span id="6ab2" class="mg kz iq mc b gy mp mi l mj mk">  // Create an image node for Cropper.js<br/><strong class="mc ir">  </strong>var image = new Image();<br/>  image.src = URL.createObjectURL(file);<br/>  editor.appendChild(image);<strong class="mc ir"><br/>  <br/>  </strong>// Create Cropper.js<br/>  var cropper = new Cropper(image, { aspectRatio: 1 });</span><span id="bb22" class="mg kz iq mc b gy mp mi l mj mk">}</span></pre><p id="9e86" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å°±æ˜¯è¿™æ ·ï¼</p><p id="26fd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å‚è§ä¸‹é¢çš„åŠ¨ç”»äº†è§£æœ€ç»ˆçš„è§£å†³æ–¹æ¡ˆï¼Œæˆ–è€…ä½¿ç”¨CodePen ä¸Šçš„ä»£ç <a class="ae kx" href="https://codepen.io/rikschennink/pen/de53582f0ce6d723a47e0a99716a8cfd" rel="noopener ugc nofollow" target="_blank">è¿›è¡Œè¯•éªŒã€‚</a></p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/167bbdf72e0658dcccc5a76b565c84d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/1*gzlT7cUFz11VoDquaWpK6w.gif"/></div><figcaption class="ne nf gj gh gi ng nh bd b be z dk translated">DropzoneJSå’ŒCropper.jsé›†æˆ</figcaption></figure></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h1 id="f8f7" class="ky kz iq bd la lb my ld le lf mz lh li lj na ll lm ln nb lp lq lr nc lt lu lv bi translated">è¿æ¥ä½œç‰©</h1><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ni"><img src="../Images/9826252703e005fa6b26a951b48a9421.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vzRM_tryTAG0Y4yoLp6Euw.png"/></div></div></figure><p id="a832" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">é“¾æ¥DropzoneJSå’Œ<a class="ae kx" href="https://github.com/foliotek/croppie" rel="noopener ugc nofollow" target="_blank"> Croppie </a>æ‰€éœ€çš„å¤§é‡ä»£ç ä¸æˆ‘ä»¬åˆšåˆšçœ‹åˆ°çš„Cropper.jsç›¸åŒã€‚</p><pre class="km kn ko kp gt mb mc md me aw mf bi"><span id="c190" class="mg kz iq mc b gy mh mi l mj mk">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>&lt;head&gt;<br/>  &lt;meta charset="UTF-8"&gt;<br/>  &lt;title&gt;JavaScript Image Cropping with DropzoneJS&lt;/title&gt;<br/>  &lt;link href="https://unpkg.com/dropzone/dist/dropzone.css" rel="stylesheet"/&gt;<br/>  <strong class="mc ir">&lt;link href="https://unpkg.com/croppie/croppie.css" rel="stylesheet"/&gt;</strong><br/>&lt;/head&gt;<br/>&lt;body&gt;<br/>  &lt;div class="dropzone" id="myDropzone"&gt;&lt;/div&gt;<br/>  &lt;script src="https://unpkg.com/dropzone"&gt;&lt;/script&gt;<br/>  <strong class="mc ir">&lt;script src="https://unpkg.com/croppie"&gt;&lt;/script&gt;</strong><br/>&lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="ced4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">åŠ è½½æ­£ç¡®çš„æ–‡ä»¶åï¼Œæˆ‘ä»¬å¯ä»¥æ”¾å¤§<code class="fe ml mm mn mc b">transformFile</code>åŠŸèƒ½ã€‚Croppieå¯ä»¥åŠ è½½ä¸€ä¸ª<code class="fe ml mm mn mc b">file</code>å¯¹è±¡ï¼Œè€Œä¸éœ€è¦å…ˆåˆ›å»ºä¸€ä¸ªå›¾åƒï¼Œå®ƒéœ€è¦ä¸€ä¸ªURLã€‚</p><pre class="km kn ko kp gt mb mc md me aw mf bi"><span id="9fc5" class="mg kz iq mc b gy mh mi l mj mk">function(file, done) {</span><span id="5d62" class="mg kz iq mc b gy mp mi l mj mk">  // Create Dropzone reference for use in confirm button click handler<br/>  var myDropZone = this;</span><span id="6757" class="mg kz iq mc b gy mp mi l mj mk">  // Create the image editor overlay<br/>  var editor = document.createElement('div');<br/>  editor.style.position = 'fixed';<br/>  editor.style.left = 0;<br/>  editor.style.right = 0;<br/>  editor.style.top = 0;<br/>  editor.style.bottom = 0;<br/>  editor.style.zIndex = 9999;<br/>  editor.style.backgroundColor = '#000';<br/>  document.body.appendChild(editor);</span><span id="5bf0" class="mg kz iq mc b gy mp mi l mj mk">  // Create confirm button at the top left of the viewport<br/>  var buttonConfirm = document.createElement('button');<br/>  buttonConfirm.style.position = 'absolute';<br/>  buttonConfirm.style.left = '10px';<br/>  buttonConfirm.style.top = '10px';<br/>  buttonConfirm.style.zIndex = 9999;<br/>  buttonConfirm.textContent = 'Confirm';<br/>  editor.appendChild(buttonConfirm);<br/>  buttonConfirm.addEventListener('click', function() {</span><span id="6a1d" class="mg kz iq mc b gy mp mi l mj mk">    // Remove the editor from the view<strong class="mc ir"><br/>    </strong>document.body.removeChild(editor);</span><span id="9d58" class="mg kz iq mc b gy mp mi l mj mk">  });</span><span id="f5e5" class="mg kz iq mc b gy mp mi l mj mk"><strong class="mc ir">  </strong>// Create the Croppie editor<strong class="mc ir"><br/>  var croppie = new Croppie(editor, {<br/>    enableResize: true<br/>  });</strong></span><span id="797b" class="mg kz iq mc b gy mp mi l mj mk">  // Tell Croppie to load the file<br/><strong class="mc ir">  croppie.bind({<br/>    url: URL.createObjectURL(file)<br/>  });</strong></span><span id="a642" class="mg kz iq mc b gy mp mi l mj mk">}</span></pre><p id="e65e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬æ”¾å¤§ç¡®è®¤æŒ‰é’®ç‚¹å‡»å¤„ç†ç¨‹åºï¼Œå¹¶æ·»åŠ ä½¿å…¶ä¸Croppieä¸€èµ·å·¥ä½œæ‰€éœ€çš„ä»£ç ã€‚</p><p id="918d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="mo">æ³¨æ„ï¼Œæˆ‘ä»¬è¿˜æ·»åŠ äº†Dropzoneç¼©ç•¥å›¾åˆ›å»ºé€»è¾‘ã€‚</em></p><pre class="km kn ko kp gt mb mc md me aw mf bi"><span id="73e5" class="mg kz iq mc b gy mh mi l mj mk">confirm.addEventListener('click', function() {</span><span id="bcb5" class="mg kz iq mc b gy mp mi l mj mk">  // Get the output file data from Croppie<br/>  <strong class="mc ir">croppie.result({<br/>      type:'blob',<br/>      size: {<br/>        width: 256,<br/>        height: 256<br/>      }<br/>    }).then(function(blob) {<br/>    <br/>      </strong>// Create a new Dropzone file thumbnail<strong class="mc ir"><br/>      </strong>myDropZone.createThumbnail(<br/>        blob,<br/>        myDropZone.options.thumbnailWidth,<br/>        myDropZone.options.thumbnailHeight,<br/>        myDropZone.options.thumbnailMethod,<br/>        false, <br/>        function(dataURL) {<br/>          <br/>          // Update the Dropzone file thumbnail<br/>          myDropZone.emit('thumbnail', file, dataURL);</span><span id="9cde" class="mg kz iq mc b gy mp mi l mj mk">          // Tell Dropzone of the new file<br/>          done(blob);</span><span id="9efd" class="mg kz iq mc b gy mp mi l mj mk">        });</span><span id="ed1b" class="mg kz iq mc b gy mp mi l mj mk"><strong class="mc ir">    </strong>});</span><span id="3010" class="mg kz iq mc b gy mp mi l mj mk">  // Remove the editor from view<strong class="mc ir"><br/>  </strong>editor.parentNode.removeChild(editor);</span><span id="2888" class="mg kz iq mc b gy mp mi l mj mk">});</span></pre><p id="73e2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å°±æ˜¯è¿™æ ·ï¼æˆ‘ä»¬å·²ç»åšå®Œäº†ï¼</p><p id="23a8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å½“ä¸€ä¸ªæ–‡ä»¶è¢«åˆ é™¤æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨å‘é€åˆ°Croppieã€‚è£å‰ªè¿‡ç¨‹æ¥ç®¡ï¼Œå½“ç‚¹å‡»ç¡®è®¤æŒ‰é’®æ—¶ï¼Œæ–‡ä»¶è¢«è¿”å›åˆ°Dropzoneè¿›è¡Œä¸Šä¼ ã€‚</p><p id="428d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä¸‹é¢çš„åŠ¨ç”»å±•ç¤ºäº†ç»“æœï¼Œ<a class="ae kx" href="https://codepen.io/rikschennink/details/87fdcbf565d3dba6e248cf1788619493" rel="noopener ugc nofollow" target="_blank">CodePenä¸Šçš„ä¸€ä¸ªä¾‹å­ä¹Ÿæ˜¯å¯ç”¨çš„</a>ã€‚</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/1386a2c38127676bbdd840da4b3ed518.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/1*JXT3trvk3dw-AkoDLz4Nvg.gif"/></div><figcaption class="ne nf gj gh gi ng nh bd b be z dk translated">DropzoneJSå’ŒCroppieé›†æˆ</figcaption></figure></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h1 id="d455" class="ky kz iq bd la lb my ld le lf mz lh li lj na ll lm ln nb lp lq lr nc lt lu lv bi translated">å°†DropzoneJSä¸å¤šå¡æ•´åˆ</h1><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nj"><img src="../Images/4b567b12af53eda4e9d18bd663c9abc5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m6Z0poHJb6021TxIlvwR2g.png"/></div></div></figure><p id="cb16" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Doka.js èµ°äº†ä¸€æ¡ä¸åŒçš„è·¯ï¼Œå®ƒæ²¡æœ‰åµŒå…¥åˆ°é¡µé¢ä¸­ï¼Œè€Œæ˜¯å¸¦æ¥äº†è‡ªå·±çš„ç¼–è¾‘å™¨å¼¹å‡ºçª—å£ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥åˆ é™¤æˆ‘ä»¬äº²çˆ±çš„ç¼–è¾‘å™¨å’Œç¡®è®¤æŒ‰é’®ä»£ç ã€‚</p><p id="f92b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="mo">è¯·æ³¨æ„ï¼Œå¤šå¡æ˜¯ä¸€ä¸ªå•†ä¸šJavaScriptæ’ä»¶ï¼Œå› æ­¤æºæ–‡ä»¶æ˜¯ä»æœåŠ¡å™¨è€Œä¸æ˜¯CDNåŠ è½½çš„ã€‚</em></p><p id="a560" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è®©æˆ‘ä»¬æ¥çœ‹çœ‹ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬å°†é“¾æ¥CSSå’ŒJavaScriptæ–‡ä»¶ã€‚</p><pre class="km kn ko kp gt mb mc md me aw mf bi"><span id="ed8e" class="mg kz iq mc b gy mh mi l mj mk">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>&lt;head&gt;<br/>  &lt;meta charset="UTF-8"&gt;<br/>  &lt;title&gt;JavaScript Image Cropping with DropzoneJS&lt;/title&gt;<br/>  &lt;link href="https://unpkg.com/dropzone/dist/dropzone.css" rel="stylesheet"/&gt;<br/>  <strong class="mc ir">&lt;link href="doka.min.css" rel="stylesheet"/&gt;</strong><br/>&lt;/head&gt;<br/>&lt;body&gt;<br/>  &lt;div class="dropzone" id="myDropzone"&gt;&lt;/div&gt;<br/>  &lt;script src="https://unpkg.com/dropzone"&gt;&lt;/script&gt;<br/>  <strong class="mc ir">&lt;script src="doka.min.js"&gt;&lt;/script&gt;</strong><br/>&lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="c017" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æºæ–‡ä»¶é“¾æ¥èµ·æ¥åï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥å†çœ‹ä¸€ä¸‹<code class="fe ml mm mn mc b">transformFile</code>å‡½æ•°ã€‚ä½¿ç”¨å¤šå¡ï¼Œæˆ‘ä»¬å°†åœ¨Dropzoneé…ç½®ä¹‹å¤–åˆ›å»ºä¸€ä¸ªç¼–è¾‘å™¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚</p><p id="3a75" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="mo">æ³¨æ„ï¼Œæˆ‘ä»¬å†æ¬¡æ”¾å¤§äº†æœ€åä¸€ä¸ª</em> <code class="fe ml mm mn mc b"><em class="mo">&lt;script&gt;</em></code> <em class="mo">æ ‡ç­¾ã€‚</em></p><pre class="km kn ko kp gt mb mc md me aw mf bi"><span id="868f" class="mg kz iq mc b gy mh mi l mj mk">&lt;script&gt;<br/>// Create our Doka image editor<br/><strong class="mc ir">var doka = Doka.create({<br/>  cropAspectRatio: 1<br/>});</strong></span><span id="abda" class="mg kz iq mc b gy mp mi l mj mk">// Configure Dropzone<br/>Dropzone.options.myDropzone = {<br/>  url: '/post',<br/>  transformFile: function(file, done) {</span><span id="4946" class="mg kz iq mc b gy mp mi l mj mk">  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="b9d7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æœ‰äº†å¤šå¡ï¼Œæˆ‘ä»¬å¯ä»¥è°ƒç”¨<code class="fe ml mm mn mc b">doka.edit</code>æ¥æ‰“å¼€æ–‡ä»¶ã€‚å½“ä½œç‰©å¾—åˆ°ç¡®è®¤æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨è§£å†³ä¸€ä¸ªæ‰¿è¯ºã€‚è®©æˆ‘ä»¬ç»™<code class="fe ml mm mn mc b">transformFile</code>å‡½æ•°æ·»åŠ æ‰€éœ€çš„é€»è¾‘ã€‚</p><p id="e26d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="mo">drop zoneç¼©ç•¥å›¾åˆ›å»ºé€»è¾‘ä¿æŒä¸å˜ã€‚</em></p><pre class="km kn ko kp gt mb mc md me aw mf bi"><span id="b5e4" class="mg kz iq mc b gy mh mi l mj mk">function(file, done) {<br/>  <br/>  // Shortcut to this dropzone<br/>  var myDropZone = this;</span><span id="04ef" class="mg kz iq mc b gy mp mi l mj mk">  // Edit the file and wait for confirm<br/>  <strong class="mc ir">doka.edit(file).then(function(output) {</strong></span><span id="0880" class="mg kz iq mc b gy mp mi l mj mk">    // Get blob from Doka output object<br/>    <strong class="mc ir">var blob = output.file;</strong><br/>    <br/>    // Create a new Dropzone file thumbnail<strong class="mc ir"><br/>    </strong>myDropZone.createThumbnail(<br/>      blob,<br/>      myDropZone.options.thumbnailWidth,<br/>      myDropZone.options.thumbnailHeight,<br/>      myDropZone.options.thumbnailMethod,<br/>      false, <br/>      function(dataURL) {<br/>          <br/>        // Update the Dropzone file thumbnail<br/>        myDropZone.emit('thumbnail', file, dataURL);</span><span id="6f67" class="mg kz iq mc b gy mp mi l mj mk">        // Tell Dropzone of the new file<br/>        done(blob);</span><span id="edd7" class="mg kz iq mc b gy mp mi l mj mk">     });</span><span id="a292" class="mg kz iq mc b gy mp mi l mj mk">  });</span><span id="8d54" class="mg kz iq mc b gy mp mi l mj mk">}</span></pre><p id="d638" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬å®Œäº†ï¼ğŸ‰</p><p id="aba3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å‚è§ä¸‹é¢çš„ç»“æœï¼Œ<a class="ae kx" href="https://pqina.nl/doka/" rel="noopener ugc nofollow" target="_blank">åœ¨äº§å“ç½‘ç«™</a>äº†è§£æ›´å¤šå…³äºå¤šå¡çš„ä¿¡æ¯ã€‚</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/b3008eb4c68af8d30d5b4b4bb43e9d29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/1*fZi8RyuiY1lW28aJtNRC4Q.gif"/></div></figure></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><p id="22cf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« æˆ–è€…æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·åœ¨æ¨ç‰¹ä¸Šå‘Šè¯‰æˆ‘</p></div></div>    
</body>
</html>