<html>
<head>
<title>Donâ€™t fear the HOC, when writing React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ä¸è¦å®³æ€•ç‰¹è®¾ï¼Œå†™ä½œæ—¶è¦æœ‰æ‰€ååº”</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://itnext.io/dont-fear-the-hoc-when-writing-react-5875513ce34e?source=collection_archive---------8-----------------------#2018-08-22">https://itnext.io/dont-fear-the-hoc-when-writing-react-5875513ce34e?source=collection_archive---------8-----------------------#2018-08-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/bdd30ed69afb2ae28e88dbbccc981aec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nzSx8iOEcudbLAgu22wJWw.png"/></div></div></figure><p id="eca4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">å½“æˆ‘å¼€å§‹åœ¨æˆ‘çš„ä»£ç ä¸­ä½¿ç”¨<strong class="ka ir">å‡½æ•°å¼ç¼–ç¨‹(FP) </strong>æ—¶ï¼Œæˆ‘ä¹Ÿå¼€å§‹ä»¥ä¸åŒçš„æ–¹å¼æ€è€ƒã€‚å½“æŸä»¶äº‹æƒ…å®Œæˆå¹¶è¿è¡Œæ—¶ï¼Œæˆ‘ä¸æ–­åœ°é—®è‡ªå·±ï¼Œâ€œæˆ‘èƒ½ç”¨æ›´ä¼˜é›…çš„ä»£ç å¾—åˆ°åŒæ ·çš„ç»“æœå—ï¼Ÿâ€ã€‚å½“ç„¶ï¼Œæˆ‘ä¸€ç›´åœ¨é‡æ„æˆ‘çš„ä»£ç ï¼Œä½†æ˜¯è‡ªä»æˆ‘åœ¨FPçš„å½±å“ä¸‹ï¼Œ<strong class="ka ir">è¿™ç§åœ¨ç¼–ç æ—¶è¿½æ±‚çº¯æ´ã€ç®€å•å’Œéª„å‚²çš„æ„Ÿè§‰</strong>æ›´åŠ ç›¸å…³ã€‚</p><p id="75e6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æ­£å¦‚<a class="ae kw" href="https://reactjs.org/docs/higher-order-components.html" rel="noopener ugc nofollow" target="_blank">å®˜æ–¹æ–‡æ¡£</a>ä¸­æ‰€è¯´:<em class="kx">ä¸€ä¸ªHOCæ˜¯ä¸€ä¸ªæ¥å—ä¸€ä¸ªç»„ä»¶å¹¶è¿”å›ä¸€ä¸ªæ–°ç»„ä»¶</em>çš„å‡½æ•°ï¼Œæ˜¾ç„¶ä»–ä»¬åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­åšäº†ä¸€äº›äº‹æƒ…ï¼Œé€šå¸¸ä»–ä»¬é€šè¿‡æ‰§è¡Œä¸€äº›é¢å¤–çš„é€»è¾‘å‘ç›®æ ‡ç»„ä»¶æ·»åŠ ä¸€äº›å±æ€§ï¼Œå…è®¸ä»–ä»¬é‡ç”¨HOCåŒ…å«çš„ä»£ç ã€‚</p><p id="67e7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æœ¬æ–‡å‡è£…æ˜¯å¯¹ä»»ä½•æ„Ÿå…´è¶£çš„äººçš„ç²—ç•¥ä»‹ç»å’Œå‚è€ƒï¼Œä¸ä»…æ˜¯ä¸ºäº†ç†è§£å®ƒä»¬æ˜¯ä»€ä¹ˆï¼Œä¹Ÿæ˜¯ä¸ºäº†åˆ†äº«æˆ‘åœ¨çœŸå®ä¾‹å­ä¸­ä½¿ç”¨<em class="kx">é«˜é˜¶å…ƒä»¶(HOC) </em>çš„ç»éªŒã€‚</p><h1 id="719b" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">å½“æˆ‘ä»¬ä½¿ç”¨hocæ—¶</h1><p id="d487" class="pw-post-body-paragraph jy jz iq ka b kb lw kd ke kf lx kh ki kj ly kl km kn lz kp kq kr ma kt ku kv ij bi translated">æˆ‘ä»ä¸€å¼€å§‹å°±åœ¨æ²¡æœ‰æ³¨æ„çš„æƒ…å†µä¸‹ä½¿ç”¨äº†<strong class="ka ir"> HOCs </strong>ï¼Œå½“ä½ å¼€å§‹å°†ç¬¬ä¸‰æ–¹çš„commoné›†æˆåˆ°ä½ çš„ä»£ç ä¸­æ—¶ï¼Œå¯ä»¥æ‰¾åˆ°ç®€å•çš„ä¾‹å­ï¼Œæ¯”å¦‚<em class="kx"> Redux </em>æˆ–<em class="kx"> graphql </em>ã€‚</p><p id="7f4a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æˆ‘å°†ç²˜è´´ä¸€æ®µä»£ç ï¼Œä½¿ç”¨<em class="kx"> graphql </em>å’Œ<em class="kx"> Apollo </em>ä»ä¼šè¯ä¸­æŸ¥è¯¢å’Œè·å–ç”¨æˆ·æ•°æ®ï¼Œä»¥åŠä¸€ä¸ªç®€å•éªŒè¯ç çš„åŸºæœ¬é€»è¾‘ã€‚</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="8202" class="mk kz iq mg b gy ml mm l mn mo">import React from 'react';<br/>import PropTypes from 'prop-types';<br/>// eslint-disable-next-line<br/>import { Meteor } from 'meteor/meteor';<br/>import gql from 'graphql-tag';<br/>import { graphql, withApollo } from 'react-apollo';<br/><br/>import LoggedApp from './LoggedApp';<br/>import Logging from './Logging';<br/><br/>const App = props =&gt; {<br/>  const { data, client } = props;<br/>  // Skipping the execution if data is not loaded<br/>  if (data.loading) return null;<br/>  // We show the LoggedApp  or Logging one depending if the user is logged<br/>  return data.user._id ? &lt;LoggedApp {...props} /&gt; : &lt;Logging client={client} /&gt;;<br/>};<br/><br/>const userQuery = gql`<br/>  query User {<br/>    user {<br/>      _id<br/>      alias<br/>    }<br/>    users {<br/>      _id<br/>      alias<br/>    }<br/>  }<br/>`;<br/><br/>export default graphql(userQuery)(withApollo(App));</span></pre><p id="d770" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">è¿™é‡Œï¼Œæˆ‘ä»¬æ²¡æœ‰ç›´æ¥å¯¼å‡º<code class="fe mp mq mr mg b">App</code>ç»„ä»¶ç”¨äºæˆ‘ä»¬åº”ç”¨ç¨‹åºçš„å…¶ä»–éƒ¨åˆ†ï¼Œè€Œæ˜¯ä½¿ç”¨2ä¸ªhocï¼Œä¸€ä¸ªæ³¨å…¥<code class="fe mp mq mr mg b">graphql</code>æŸ¥è¯¢ï¼Œå¦ä¸€ä¸ªæ³¨å…¥<code class="fe mp mq mr mg b">Apollo</code>æ¥ç®¡ç†æŸ¥è¯¢ã€‚å› æ­¤ï¼Œåœ¨è¿™ä¸ªç®€å•çš„ä¾‹å­ä¸­ï¼Œé™¤äº†2ä¸ªhocä¹‹å¤–ï¼Œæ²¡æœ‰äººä½¿ç”¨ã€‚</p><p id="726b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">åœ¨ä»–ä»¬çš„<a class="ae kw" href="https://www.apollographql.com/docs/react/essentials/get-started.html" rel="noopener ugc nofollow" target="_blank">å®˜æ–¹æ–‡æ¡£</a>ä¸­æœ‰æ›´å¤šå…³äºå¦‚ä½•åœ¨ä½ çš„åº”ç”¨ä¸­ä½¿ç”¨Apolloçš„ç»†èŠ‚ã€‚</p><p id="a352" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ä½œä¸ºä¸€ä¸ªçœŸæ­£é«˜å±‚æ¬¡çš„æ€»ç»“ï¼Œæˆ‘ä»¬å¯ä»¥è¯´<strong class="ka ir"> HOCsè¿”å›æˆ‘ä»¬çš„ç»„ä»¶ï¼Œç»™å®ƒä»¬æ·»åŠ ä¸€äº›ç‰¹æ®Šçš„å±æ€§ï¼ŒæŠŠä½ ä»åŒ…å«åœ¨HOC </strong>ä¸­çš„é€»è¾‘ä¸­æŠ½è±¡å‡ºæ¥ã€‚</p><h1 id="3d0f" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">é¡¹ç›®ç¯å¢ƒç¤ºä¾‹</h1><p id="8ff7" class="pw-post-body-paragraph jy jz iq ka b kb lw kd ke kf lx kh ki kj ly kl km kn lz kp kq kr ma kt ku kv ij bi translated">æ‰€ä»¥åœ¨ç†è§£äº†hocå¯ä»¥ç»™ä½ çš„ä»£ç å¸¦æ¥çš„å¥½å¤„ä¹‹åï¼Œå½“æˆ‘çœ‹åˆ°ä¸€ä¸ªå¥½æœºä¼šçš„æ—¶å€™ï¼Œæˆ‘ä¼šåœ¨æˆ‘çš„ä»£ç ä¸­ä½¿ç”¨å®ƒä»¬ã€‚è¿™é‡Œæˆ‘ä¼šè¯•ç€è§£é‡Šä¸€ä¸ªæ¸…æ™°çš„æƒ…å†µã€‚</p><p id="f251" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">åœ¨<a class="ae kw" href="https://precursive.com/" rel="noopener ugc nofollow" target="_blank">precurive</a>ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨<strong class="ka ir">React</strong>+<a class="ae kw" href="https://react.lightningdesignsystem.com/" rel="noopener ugc nofollow" target="_blank">Design System React</a>(ä¸€ä¸ªæˆ‘ä»¬ç”¨æ¥å‘ˆç°<a class="ae kw" href="https://www.lightningdesignsystem.com/" rel="noopener ugc nofollow" target="_blank"> Lightning </a>è°ƒåº¦é¡µé¢çš„åº“)ã€‚è¿™ä¸ªåº“æ˜¯Lightningçš„<strong class="ka ir"> React </strong>å®ç°ï¼Œå› ä¸ºå®ƒå¯ä»¥åœ¨ä¸åŒçš„ç¯å¢ƒä¸­ä½¿ç”¨ï¼Œæˆ‘ä»¬éœ€è¦æŒ‡å®šæˆ‘ä»¬åœ¨å“ªé‡Œæ‰¾åˆ°å›¾æ ‡èµ„äº§(SVG)ã€‚</p><p id="bc52" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æˆ‘ä»¬ç”¨<a class="ae kw" href="https://react.lightningdesignsystem.com/components/icon-settings/" rel="noopener ugc nofollow" target="_blank">å›¾æ ‡è®¾ç½®</a>åšè¿™ä¸ªé…ç½®ï¼Œä¸€ä¸ªç»„ä»¶ï¼Œè¿™ä¸ªç»„ä»¶è¢«ç”¨ä½œä½ çš„æ ¹ç»„ä»¶çš„åŒ…è£…å™¨ï¼Œæ‰€æœ‰åµŒå¥—çš„ç»„ä»¶å°†ä½¿ç”¨å®ƒæ¥çŸ¥é“åœ¨å“ªé‡Œæ‰¾åˆ°å›¾æ ‡èµ„äº§ã€‚</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="a68b" class="mk kz iq mg b gy ml mm l mn mo">// imports...<br/><br/>const sagaMiddleware = createSagaMiddleware();<br/><br/>// Creating enhancers to connect our middleware (saga and asyncDispatchMiddleware)<br/>// and adding devtools in elegant way<br/>const enhancer = composeWithDevTools(applyMiddleware(sagaMiddleware));<br/><br/>const store = createStore(reducers, {}, enhancer);<br/><br/>// We load the configuration of the icons differently depending if we have<br/>// or not the local environment icons available from _slds<br/>const IconConfiguration =<br/>  process.env.NODE_ENV === 'development' ? (<br/>    // eslint-disable-next-line<br/>    const actionSprite = require('@salesforce-ux/icons/dist/salesforce-lightning-design-system-icons/action-sprite/svg/symbols.svg');<br/>    // eslint-disable-next-line<br/>    const customSprite = require('@salesforce-ux/icons/dist/salesforce-lightning-design-system-icons/custom-sprite/svg/symbols.svg');<br/>    // eslint-disable-next-line<br/>    const doctypeSprite = require('@salesforce-ux/icons/dist/salesforce-lightning-design-system-icons/doctype-sprite/svg/symbols.svg');<br/>    // eslint-disable-next-line<br/>    const standardSprite = require('@salesforce-ux/icons/dist/salesforce-lightning-design-system-icons/standard-sprite/svg/symbols.svg');<br/>    // eslint-disable-next-line<br/>    const utilitySprite = require('@salesforce-ux/icons/dist/salesforce-lightning-design-system-icons/utility-sprite/svg/symbols.svg');<br/>    &lt;IconSettings<br/>      actionSprite={actionSprite}<br/>      customSprite={customSprite}<br/>      doctypeSprite={doctypeSprite}<br/>      standardSprite={standardSprite}<br/>      utilitySprite={utilitySprite}<br/>    &gt;<br/>      &lt;App /&gt;<br/>    &lt;/IconSettings&gt;<br/>  ) : (<br/>    &lt;IconSettings iconPath="/_slds/icons"&gt;<br/>      &lt;App /&gt;<br/>    &lt;/IconSettings&gt;<br/>  );<br/><br/>sagaMiddleware.run(rootSaga);<br/>render(&lt;Provider store={store}&gt;{IconConfiguration}&lt;/Provider&gt;, document.getElementById('app'));</span></pre><p id="5c32" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">å› æ­¤ï¼ŒåŸºæœ¬ä¸Šä½ å¯ä»¥çœ‹åˆ°ï¼Œæ ¹æ®ç¯å¢ƒï¼Œå½“åº”ç”¨ç¨‹åºéƒ¨ç½²åœ¨Salesforceä¸­æ—¶ï¼Œæˆ‘ä»¬é€šè¿‡<em class="kx">åŠ è½½SVGéœ€è¦</em>æˆ–ä¸­ç»§åˆ°Salesforceèµ„äº§(<strong class="ka ir">å¦‚æœå›¾æ ‡å·²ç»åœ¨Lightning Experienceä¸­åŠ è½½ï¼Œä¸ºä»€ä¹ˆè¦å°†å®ƒä»¬åŠ è½½åˆ°æˆ‘ä»¬çš„é™æ€èµ„æºä¸­</strong>)ã€‚</p><blockquote class="ms mt mu"><p id="0c37" class="jy jz kx ka b kb kc kd ke kf kg kh ki mv kk kl km mw ko kp kq mx ks kt ku kv ij bi translated"><em class="iq">æ³¨æ„æˆ‘åœ¨ifè¯­å¥ä¸­ä½¿ç”¨äº†requireï¼Œè¿™æ ·æˆ‘åªåœ¨å¼€å‘ç¯å¢ƒä¸­è·å–é‚£äº›SVGï¼Œé¿å…å°†å®ƒä»¬åŒ…å«åœ¨è¦éƒ¨ç½²çš„åŒ…ä¸­ã€‚</em></p></blockquote><h1 id="b324" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">è¦è§£å†³çš„é—®é¢˜</h1><p id="85ad" class="pw-post-body-paragraph jy jz iq ka b kb lw kd ke kf lx kh ki kj ly kl km kn lz kp kq kr ma kt ku kv ij bi translated">å‰é¢çš„ä»£ç å¯ä»¥å·¥ä½œï¼Œä½†æ˜¯æˆ‘ä»¬æœ‰ä¸¤ä¸ªé—®é¢˜ã€‚</p><ul class=""><li id="6161" class="my mz iq ka b kb kc kf kg kj na kn nb kr nc kv nd ne nf ng bi translated">é¦–å…ˆï¼Œæˆ‘ä»¬çš„ä»£ç å¯ä»¥è¢«éš”ç¦»åœ¨å›¾æ ‡é…ç½®ä¹‹å¤–ï¼Œå®ƒå®Œå…¨ç‹¬ç«‹äºåº”ç”¨ç¨‹åºçš„åˆå§‹åŒ–ã€‚</li><li id="2fcb" class="my mz iq ka b kb nh kf ni kj nj kn nk kr nl kv nd ne nf ng bi translated">ç¬¬äºŒï¼Œå¦‚æœæˆ‘ä»¬æƒ³åœ¨åº”ç”¨ç¨‹åºçš„ä¸åŒéƒ¨åˆ†ä½¿ç”¨è¿™æ®µä»£ç (æœ‰å…¶ä»–æ ¹ç»„ä»¶è¦æŒ‚è½½)â€¦é‚£ä¹ˆæˆ‘ä»¬å¿…é¡»å¤åˆ¶å¹¶ç²˜è´´ä»£ç ï¼Œè€Œ<strong class="ka ir">è¿™ä»æ¥éƒ½ä¸æ˜¯ä¸€ä¸ªé€‰é¡¹</strong>ã€‚</li></ul><h1 id="6249" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">ä½¿ç”¨HOCçš„è§£å†³æ–¹æ¡ˆ</h1><p id="29b3" class="pw-post-body-paragraph jy jz iq ka b kb lw kd ke kf lx kh ki kj ly kl km kn lz kp kq kr ma kt ku kv ij bi translated">é‚£ä¹ˆä¸ºä»€ä¹ˆä¸ä½¿ç”¨ä¸€ä¸ªç‰¹è®¾æ¥éš”ç¦»è¿™ä¸ª<code class="fe mp mq mr mg b">IconSettings</code>ç»„ä»¶çš„åˆ›å»ºé€»è¾‘ï¼Œå¬èµ·æ¥åƒæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ç”¨ä¾‹ï¼Œä½ ä¸è§‰å¾—å—ï¼Ÿ</p><p id="c7f3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">å®é™…ä¸Šï¼ŒHOCsçš„è§£å†³æ–¹æ¡ˆæ˜¯æˆ‘ä»¬å¿…é¡»è¿”å›ä¸€ä¸ªåŒ…è£…åˆ°<code class="fe mp mq mr mg b">IconSettings</code>ç»„ä»¶ä¸­çš„æ–°ç»„ä»¶çš„å”¯ä¸€å·¥å…·(è¯¥ç»„ä»¶éœ€è¦è®¾ç½®ä¸ºåŒ…è£…å™¨)</p><p id="896d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æ‰€ä»¥æˆ‘ç”¨è¿™æ®µä»£ç åˆ›å»ºäº†ä¸€ä¸ªåä¸º<code class="fe mp mq mr mg b">iconifyComponent</code>çš„æ–°ç»„ä»¶ã€‚</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="ab49" class="mk kz iq mg b gy ml mm l mn mo">import React from 'react';<br/><br/>import { IconSettings } from '@salesforce/design-system-react';<br/><br/>/**<br/> * HOC to wrap the IconSettings logic and reuse when need to be reused (on salesforce environment)<br/> * We load the configuration of the icons differently depending if we have<br/> * or not the local environment icons available from _slds<br/> */<br/>export function iconifyComponent(WrappedComponent) {<br/>  return function WrappingComponent(props) {<br/>    if (process.env.NODE_ENV === 'development') {<br/>      // eslint-disable-next-line<br/>      const actionSprite = require('@salesforce-ux/icons/dist/salesforce-lightning-design-system-icons/action-sprite/svg/symbols.svg');<br/>      // eslint-disable-next-line<br/>      const customSprite = require('@salesforce-ux/icons/dist/salesforce-lightning-design-system-icons/custom-sprite/svg/symbols.svg');<br/>      // eslint-disable-next-line<br/>      const doctypeSprite = require('@salesforce-ux/icons/dist/salesforce-lightning-design-system-icons/doctype-sprite/svg/symbols.svg');<br/>      // eslint-disable-next-line<br/>      const standardSprite = require('@salesforce-ux/icons/dist/salesforce-lightning-design-system-icons/standard-sprite/svg/symbols.svg');<br/>      // eslint-disable-next-line<br/>      const utilitySprite = require('@salesforce-ux/icons/dist/salesforce-lightning-design-system-icons/utility-sprite/svg/symbols.svg');<br/>      return (<br/>        &lt;IconSettings<br/>          actionSprite={actionSprite}<br/>          customSprite={customSprite}<br/>          doctypeSprite={doctypeSprite}<br/>          standardSprite={standardSprite}<br/>          utilitySprite={utilitySprite}<br/>        &gt;<br/>          &lt;WrappedComponent {...props} /&gt;<br/>        &lt;/IconSettings&gt;<br/>      );<br/>    }<br/>    return (<br/>      &lt;IconSettings iconPath="/_slds/icons"&gt;<br/>        &lt;WrappedComponent {...props} /&gt;<br/>      &lt;/IconSettings&gt;<br/>    );<br/>  };<br/>}</span></pre><p id="b49c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ç°åœ¨ï¼Œåœ¨æˆ‘ä»¬çš„å…¥å£ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨HOCæ¥æŠ½è±¡å›¾æ ‡é…ç½®ï¼Œå¹¶ä½¿å®ƒéå¸¸æ¼‚äº®ï¼Œä¼˜é›…å’Œæ¸…æ™°ã€‚</p><p id="afc1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">åœ¨æˆ‘ä»¬çš„å…¥å£ç‚¹(<code class="fe mp mq mr mg b">index.js</code>)ä¸­ä½¿ç”¨åˆ›å»ºçš„<code class="fe mp mq mr mg b">iconifyComponent</code>ï¼Œæˆ‘ä»¬å¾—åˆ°äº†ç±»ä¼¼è¿™æ ·çš„ä¸œè¥¿:</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="e909" class="mk kz iq mg b gy ml mm l mn mo">// more imports...<br/>import { iconifyComponent } from './data/iconifyComponent';<br/><br/>const sagaMiddleware = createSagaMiddleware();<br/><br/>// Creating enhancers to connect our middleware (saga and asyncDispatchMiddleware)<br/>// and adding devtools in elegant way<br/>const enhancer = composeWithDevTools(applyMiddleware(sagaMiddleware));<br/><br/>const store = createStore(reducers, {}, enhancer);<br/>const AppIconized = iconifyComponent(App);<br/><br/>sagaMiddleware.run(rootSaga);<br/>const AppIconized = iconifyComponent(App);<br/>render(<br/>  &lt;Provider store={store}&gt;<br/>    &lt;AppIconized /&gt;<br/>  &lt;/Provider&gt;,<br/>  document.getElementById('app')<br/>);</span></pre><p id="de8f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ğŸ¤©å¾ˆæ€§æ„Ÿï¼Œä½ ä¸è§‰å¾—å—ï¼Ÿå¦‚æœç°åœ¨ï¼Œæˆ‘ä»¬éœ€è¦åœ¨åº”ç”¨ç¨‹åºçš„ä»»ä½•å…¶ä»–éƒ¨åˆ†ä½¿ç”¨ç›¸åŒçš„å›¾æ ‡é…ç½®(å¦‚æœæœ‰å¦ä¸€ä¸ªæ ¹åº”ç”¨ç¨‹åº)ï¼Œæˆ‘ä»¬å¯ä»¥å†æ¬¡ä½¿ç”¨HOCï¼Œå¿˜è®°ç»†èŠ‚ã€‚</p><h1 id="64ed" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">ç»“è®º</h1><p id="60c8" class="pw-post-body-paragraph jy jz iq ka b kb lw kd ke kf lx kh ki kj ly kl km kn lz kp kq kr ma kt ku kv ij bi translated">å’Œç”Ÿæ´»ä¸­çš„æ‰€æœ‰äº‹æƒ…ä¸€æ ·ï¼Œæˆ‘ä»¬ä¸åº”è¯¥åœ¨ä»£ç ä¸­æ»¥ç”¨hocçš„ç”¨æ³•ï¼Œå¹¶å°è¯•åœ¨æœ‰æ„ä¹‰çš„æ—¶å€™ç¼–å†™å®ƒä»¬ï¼Œä½†å¦ä¸€æ–¹é¢ï¼Œæˆ‘ä»¬åœ¨Reactç¯å¢ƒä¸­çš„å·¥å…·ä¸­æä¾›äº†ä¸€ä¸ªéå¸¸ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆã€‚</p><p id="0f8f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">é‚£ä¹ˆï¼Œå‘Šè¯‰æˆ‘ä½ å¯¹è¿™ä¸ªç”¨ä¾‹çš„æƒ³æ³•ï¼Œä»¥åŠåœ¨ä½ çš„ä»£ç ä¸­ä½¿ç”¨hocçš„æƒ³æ³•ã€‚</p><p id="c1a3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">å›å¤´è§ï¼</p></div><div class="ab cl nm nn hu no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="ij ik il im in"><p id="4eba" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="kx">æœ€åˆå‘è¡¨äº</em><a class="ae kw" href="https://robertovg.com/blog/don-t-fear-the-hoc-when-writing-react" rel="noopener ugc nofollow" target="_blank"><em class="kx">ã€robertovg.comã€‘</em></a><em class="kx">ã€‚</em></p></div></div>    
</body>
</html>