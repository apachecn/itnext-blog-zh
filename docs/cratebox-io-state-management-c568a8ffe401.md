# Cratebox.io â€”çŠ¶æ€ç®¡ç†

> åŸæ–‡ï¼š<https://itnext.io/cratebox-io-state-management-c568a8ffe401?source=collection_archive---------3----------------------->

![](img/29fd47d68aec3252e1f53f529260bf11.png)

â€œå¤§å‹æ¡£æ¡ˆé¦†æ¶å­ä¸Šçš„æ´»é¡µå¤¹å’Œç›’å­â€ï¼Œä½œè€…:å¡ç¼ªå°”Â·æ³½å‹’(T0)åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) ä¸Šå‘è¡¨

è°ˆåˆ°å›½å®¶ç®¡ç†ï¼Œè¿™äº›å¤©ä½ æœ‰å‡ ä¸ªé€‰æ‹©ï¼›å¯ä»¥é€‰æ‹© [MobXã€](https://github.com/mobxjs/mobx) [MobX çŠ¶æ€æ ‘](https://github.com/mobxjs/mobx-state-tree/)æˆ–è€… [Redux](https://github.com/reduxjs/redux) ã€‚ä½ é€‰æ‹©å“ªä¸ªåº“å¹¶ä¸é‡è¦ï¼Œå®ƒä»¬éƒ½èƒ½å®Œæˆä»»åŠ¡ï¼Œæ¯ä¸€ä¸ªéƒ½æœ‰è‡ªå·±çš„æ–¹å¼ï¼Œä½†æ˜¯å®ƒä»¬åšçš„æ¯ä¸€ä»¶äº‹éƒ½åƒé¢„æœŸçš„é‚£æ ·ã€‚

æ— è®ºæ‚¨æ˜¯å°†å®ƒä»¬ä¸ Reactã€Vue æˆ– Angular ä¸€èµ·ä½¿ç”¨ï¼Œè¿˜æ˜¯ä»…ä»…ä¸æ™®é€šçš„ vanila JavaScript ä¸€èµ·ä½¿ç”¨ï¼Œè¿™äº›åº“éƒ½è®¾è®¡å¾—å¾ˆå¥½ï¼Œå¯ä»¥åœ¨ä»»ä½•ç¯å¢ƒä¸­ä½¿ç”¨å®ƒä»¬è‡ªå·±çš„ UI åº“/æ¡†æ¶ç»‘å®šã€‚

*å…è´£å£°æ˜:æˆ‘ä¸æƒ³åœ¨è¿™ä¸ªè¯é¢˜ä¸ŠæŒ‘æ‹¨ç¦»é—´ï¼Œå› ä¸ºè¿™ä¸æ˜¯æˆ‘çš„æœ¬æ„ã€‚*

ä½œä¸ºä¸Šè¿°æ‰€æœ‰åº“çš„æ›¿ä»£ï¼Œæ¥ç©ä¸€ä¸ªæ–°çš„åº“: **Cratebox** ã€‚

![](img/76eee4497a3468951799a4cec27b190c.png)

# åŠ¨æœº

æˆ‘å¼€å§‹å¼€å‘ **Cratebox** æ¥è¯æ˜è‡ªå·±èƒ½å¤Ÿä»¥é¡¶å°–å¼€å‘äººå‘˜ä¸ºæ¦œæ ·æ„å»ºä¸€ä¸ªå¼ºå¤§çš„çŠ¶æ€ç®¡ç†åº“ï¼Œè¿™äº›å¼€å‘äººå‘˜åŒ…æ‹¬[*Michel west strate*](https://github.com/mweststrate)[*Dan abra mov*](https://github.com/gaearon)[*Jam*es*Kyle*](https://github.com/jamiebuilds)ç­‰ç­‰ã€‚æˆ‘æƒ³è¦åƒ *MobX çŠ¶æ€æ ‘*ä¸€æ ·å¥å£®å’Œç±»å‹åŒ–çš„ä¸œè¥¿ï¼Œä½†ä¹Ÿæƒ³è¦ä¸€äº›æ¸…æ™°å’Œæ˜“äºä½¿ç”¨çš„ä¸œè¥¿ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘æ„å»ºäº† **Cratebox** ï¼Œä½œä¸º *MobX çŠ¶æ€æ ‘*å’Œ *Redux* ä¹‹é—´çš„ä¸€ä¸ªä¸­é—´ç‚¹ï¼Œå¥å£®å¹¶å¸¦æœ‰ä¸€ä¸ªå£°æ˜æ€§å’Œç®€å•çš„ APIï¼Œæ€»æ˜¯èƒ½å®Œæˆå·¥ä½œã€‚

# ç‰¹å¾

è¿™äº›æ˜¯ä½¿ **Cratebox** æˆä¸ºä½ çš„å¥½å·¥å…·çš„ä¸€äº›å…³é”®ç‰¹å¾:

## ç®€å•çš„

è€ƒè™‘åˆ°æç®€ä¸»ä¹‰ï¼Œå…¬å¼€çš„ API å°†ä¸ºæ‚¨æä¾›æ‚¨éœ€è¦çš„ä¸€åˆ‡ï¼Œè€Œä¸ä¼šæœ‰ä»»ä½•éº»çƒ¦ã€‚

## æ‰“å­—

æ„å»ºæ—¶è€ƒè™‘åˆ°ç±»å‹ï¼Œæ‚¨å°†èƒ½å¤Ÿé€šè¿‡ç±»å‹å®‰å…¨æ£€æŸ¥æ¥åˆ›å»ºåšå¦‚ç£çŸ³çš„æ¨¡å‹ã€‚

## å›ºæ‰§å·±è§çš„

ä½ ä¸å¿…æ‹…å¿ƒå¦‚ä½•æ„å»ºå’Œå¤„ç†å¤æ‚çš„ä¸œè¥¿ï¼Œæˆ‘ä»¬å·²ç»è®¾ç½®äº†ä¸€äº›ç®€å•çš„è§„åˆ™å’Œæ–¹æ³•ï¼Œæ‰€ä»¥æˆ‘ä»¬ç¡®ä¿ä¸€åˆ‡éƒ½å¯ä»¥å¼€ç®±å³ç”¨ã€‚

# ç±»å‹ç³»ç»Ÿ

è®©æˆ‘ä»¬æ¥è°ˆè°ˆä¸**å¼¹åŒ£**ä¸€èµ·æä¾›çš„**å‹ç³»ç»Ÿ**ã€‚

ç±»å‹ç³»ç»Ÿæ˜¯ä¸ºä½ å»ºç«‹çš„ï¼Œä»¥ç¡®ä¿ä¸€åˆ‡éƒ½åº”è¯¥æŒ‰ç…§é¢„æœŸå·¥ä½œï¼›ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨å£°æ˜æ¨¡å‹çš„æŸä¸ªå±æ€§æ˜¯ string ç±»å‹çš„ï¼Œå¹¶ä¸”æ‚¨è¯•å›¾ä¸ºå®ƒè®¾ç½®ä¸€ä¸ªä¸åŒçš„ç±»å‹(æ— è®ºæ˜¯ä¸æ˜¯å¶ç„¶çš„)(æœ‰ä¸€ä¸ªå°çš„ä¾‹å¤–ï¼Œæˆ‘ä»¬å°†åœ¨åé¢è§£é‡Š)ï¼Œæ¯”å¦‚è¯´ä¸€ä¸ªæ•°å­—ï¼Œå®ƒå°†æŠ±æ€¨æ”¶åˆ°çš„ç±»å‹ä¸é¢„æœŸçš„ä¸åŒã€‚

è®©æˆ‘ä»¬æ›´æ·±å…¥åœ°äº†è§£ä¸€ä¸‹**å‹ç³»ç»Ÿ**ã€‚æˆ‘ä»¬ç°åœ¨å°†è§£é‡Šæˆ‘ä»¬åœ¨**ç›’**ä¸­çš„ä¸¤ç§ä¸åŒç±»å‹ã€‚

## **åŸºæœ¬ç±»å‹**

åŸºæœ¬ç±»å‹æ˜¯ä»»ä½•(å‡ ä¹æ‰€æœ‰)ç¼–ç¨‹è¯­è¨€çš„æ ¸å¿ƒç±»å‹ã€‚æˆ‘ä»¬ä½¿ç”¨è¿™ç§ç±»å‹ä¸ºæˆ‘ä»¬çš„æ•°æ®æ„å»ºä¸€ä¸ªå¯é çš„ç»“æ„ã€‚è¿™äº›ç±»å‹å¦‚ä¸‹:

*   **å­—ç¬¦ä¸²ç±»å‹â€”** æ­¤ç±»å‹å¯ä»¥åŒ…å«å­—ç¬¦ä¸²å’Œ null ç±»å‹çš„ä»»ä½•å€¼ã€‚
*   **æ•°å­—ç±»å‹â€”** æ­¤ç±»å‹å¯ä»¥åŒ…å«æ•°å­—ç±»å‹çš„ä»»ä½•å€¼å’Œç©ºå€¼ã€‚
*   **å¸ƒå°”ç±»å‹â€”** è¯¥ç±»å‹å¯ä»¥åŒ…å«å¸ƒå°”ç±»å‹çš„ä»»ä½•å€¼ã€‚
*   **Null ç±»å‹â€”** æ­¤ç±»å‹å¯ä»¥åŒ…å«ä»»ä½• Null ç±»å‹çš„å€¼ã€‚
*   **æœªå®šä¹‰ç±»å‹â€”** è¯¥ç±»å‹å¯ä»¥åŒ…å«ä»»ä½•æœªå®šä¹‰ç±»å‹çš„å€¼ã€‚
*   **æ—¥æœŸç±»å‹â€”** æ­¤ç±»å‹å¯ä»¥åŒ…å«æ—¥æœŸç±»å‹çš„ä»»ä½•å€¼ã€‚

æœ‰äº†è¿™äº›åŸºæœ¬ç±»å‹ï¼Œæ‚¨å°±å¯ä»¥ç”¨ç±»å‹å®‰å…¨æ£€æŸ¥æ„å»ºä¸€ä¸ªç®€å•çš„æ•°æ®ç»“æ„ã€‚è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•åœ¨ä¸€ä¸ªæœ€å°çš„ä¾‹å­ä¸­ä½¿ç”¨å®ƒ:

```
{
    name: types.string,
    lastName: types.string,
    email: types.string,
    age: types.number,
    birthDate: types.date,
    admin: types.boolean,
}
```

è®©æˆ‘ä»¬æ£€æŸ¥ä¸€ä¸‹å‰é¢çš„ç»“æ„ï¼Œä½ ç°åœ¨çœ‹åˆ°çš„è¿™ä¸ªç‰©ä½“å°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„**æ¨¡å‹ç‰©ä½“**ã€‚ä¸€ä¸ª**æ¨¡å‹å¯¹è±¡**æ˜¯ä¸€ä¸ªå±æ€§å’Œç±»å‹çš„ç»“æ„ï¼Œæˆ‘ä»¬å°†æŠŠå®ƒå£°æ˜ä¸ºæŸä¸ªå•†åº—çš„ç»“æ„ã€‚

æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å®ƒæœ‰å‡ ä¸ªå±æ€§ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæœ‰å…­ä¸ªï¼Œæ¯ä¸ªéƒ½æ˜¯æŒ‰ç…§æˆ‘ä»¬æƒ³è¦çš„æ–¹å¼é”®å…¥çš„ã€‚

*å§“å*ã€*å§“æ°*å’Œ*ç”µå­é‚®ä»¶*å±æ€§å¿…é¡»åŒ…å«ä¸€ä¸ªå­—ç¬¦ä¸²æˆ– null ç±»å‹çš„å€¼ã€‚*å¹´é¾„*å±æ€§å¿…é¡»åŒ…å«ä¸€ä¸ª number æˆ– null ç±»å‹çš„å€¼ã€‚*å‡ºç”Ÿæ—¥æœŸ*å±æ€§å¿…é¡»åŒ…å«æ—¥æœŸç±»å‹çš„å€¼(ä¸è¦ä¸æ ¼å¼åŒ–çš„ç±»ä¼¼æ—¥æœŸçš„å­—ç¬¦ä¸²æ··æ·†ï¼Œé‚£æ˜¯æ— æ•ˆçš„)æˆ– nullã€‚

## **é«˜çº§ç±»å‹**

*   **æ•°ç»„ç±»å‹â€”** è¯¥ç±»å‹å¯ä»¥åŒ…å«ä¸€ä¸ªç‰¹å®šåŸºæœ¬ç±»å‹æˆ–é«˜çº§ç±»å‹(å¦‚å†»ç»“)çš„æ•°ç»„ï¼Œé€šè¿‡ä½¿ç”¨æœ€åä¸€ä¸ªï¼Œæˆ‘ä»¬å°†æ‹¥æœ‰ä¸€ä¸ª**å¤æ‚ç±»å‹**ã€‚
*   **æ–‡å­—ç±»å‹â€”** è¿™ç§ç±»å‹åªèƒ½åŒ…å«ä¸€ä¸ªå­—ç¬¦ä¸²æ–‡å­—ï¼Œå¹¶ä¸”ä¼šæ ¹æ®è¿™ä¸ªæ–‡å­—æ£€æŸ¥æ‰€æœ‰å†…å®¹ï¼Œä»¥ç¡®ä¿å®ƒæ˜¯æŒ‡å®šçš„é‚£ä¸ªã€‚
*   **æšä¸¾ç±»å‹â€”** è¯¥ç±»å‹å¯ä»¥åŒ…å«ä¸€ä¸ªæ–‡å­—å­—ç¬¦ä¸²æ•°ç»„ï¼Œå®ƒå°†ä½œä¸ºæ‚¨æ‰€éœ€ç›®çš„çš„æšä¸¾(ä¾‹å¦‚ï¼Œé€šå¸¸ç”¨äº UI è§†å›¾è·¯ç”±)ã€‚**æšä¸¾ç±»å‹**æ˜¯**æ–‡å­—ç±»å‹**çš„**æ•°ç»„ç±»å‹**çš„ç¤ºä¾‹å¤æ‚ç±»å‹ã€‚å®ƒæ˜¯ä¸ºæ‚¨å¼€ç®±å³ç”¨è€Œå†…ç½®çš„ã€‚
*   **å†»ç»“ç±»å‹â€”** è¯¥ç±»å‹å°†åŒ…å«ä¸€ä¸ª**æ¨¡å‹å¯¹è±¡**ç»“æ„(å°±åƒæˆ‘ä»¬ä¹‹å‰å±•ç¤ºçš„é‚£ä¸ª),è¯¥ç»“æ„å°†å¯¹æ‚¨åœ¨åˆ›å»ºè¯¥ç±»å‹æ—¶å£°æ˜çš„æ¯ä¸ªå±æ€§è¿›è¡Œæ‰€æœ‰ç±»å‹æ£€æŸ¥ã€‚

```
// Declare a TODO type
const todo = types.frozen({
  id: types.number,
  title: types.string,
  description: types.string,
  done: types.boolean
});// Describe the TODOS store
crate.describeStore({
  identifier: "todoStore",
  model: {
    todos: types.array(todo)
  }
});
```

æ­£å¦‚ä½ åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­çœ‹åˆ°çš„ï¼Œæˆ‘ä»¬å·²ç»é€šè¿‡ä½¿ç”¨**å†»ç»“ç±»å‹**å£°æ˜äº†ä¸€ä¸ª **Todo ç±»å‹**ã€‚ä¹‹åï¼Œæˆ‘ä»¬æè¿°ä¸€ä¸ªå•†åº—(å¦‚æœä½ ä¸èƒ½ç†è§£ï¼Œä¸è¦æ‹…å¿ƒï¼Œæˆ‘ä¿è¯æˆ‘ä»¬ä¸€ä¼šå„¿å°±ä¼šçœ‹åˆ°å®ƒï¼Œä¸€åˆ‡éƒ½ä¼šå¾ˆæ¸…æ¥š)å¹¶ä¸”æ¨¡å‹åŒ…å«ä¸€ä¸ªåä¸º *todos* çš„å±æ€§ï¼Œè¯¥å±æ€§æ˜¯ä¸€ä¸ª**å¤æ‚ç±»å‹**(æ­£å¦‚æˆ‘ä»¬ä¹‹å‰æ‰€å­¦çš„)ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ª**å†»ç»“ç±»å‹çš„**æ•°ç»„ç±»å‹**ã€‚**

# æè¿°å•†åº—

åœ¨ **Cratebox** ä¸­ï¼Œå£°æ˜ä½ çš„å•†åº—ç»“æ„çš„æ–¹æ³•æ˜¯ç”¨ **describeStore** exposed æ–¹æ³•æè¿°å®ƒã€‚

**describeStore** æ–¹æ³•å°†**å•†åº—æ¨¡å‹**å¯¹è±¡ä½œä¸ºå…·æœ‰ä»¥ä¸‹å±æ€§çš„å•ä¸ªå‚æ•°:

1.  æ ‡è¯†ç¬¦:ä½ æè¿°çš„å•†åº—çš„æ ‡è¯†ç¬¦ã€‚
2.  æ¨¡å‹:è¿™ä¸ªå•†åº—çš„æè¿°ï¼Œå®ƒè¢«è¡¨ç¤ºä¸ºä¸€ä¸ª**æ¨¡å‹å¯¹è±¡**ï¼Œå°±åƒæˆ‘ä»¬ä¸Šé¢æè¿°çš„é‚£ä¸ªã€‚ä½ ä¸èƒ½ç”¨ä¸€ä¸ªä¸åŒ…å«è‡³å°‘ä¸€ä¸ªç±»å‹åŒ–å±æ€§çš„**æ¨¡å‹å¯¹è±¡**æ¥æè¿°ä¸€ä¸ªå•†åº—ã€‚

```
const crate = cratebox();crate.describeStore({
  identifier: 'user',
  model: {
    name: types.string,
    lastName: types.string
});
```

åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æè¿°äº†ä¸€ä¸ªç®€å•çš„*ç”¨æˆ·å•†åº—ã€‚*ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥ç»§ç»­å°†æ›´æ”¹å‘é€åˆ°è¯¥å­˜å‚¨ï¼Œè¿™æ ·å®ƒå°±ä¼šå……æ»¡æ‚¨çš„æ•°æ®ã€‚

æ³¨æ„:ä¸èƒ½ç”¨ç›¸åŒçš„æ ‡è¯†ç¬¦æè¿°ä¸¤ä¸ªå•†åº—ã€‚

# å°†æ›´æ”¹åˆ†æ´¾åˆ°å­˜å‚¨

åœ¨ **Cratebox** ä¸­ï¼Œå¾ˆå®¹æ˜“å°†å˜æ›´å‘é€åˆ°æŸä¸ªå•†åº—ã€‚æˆ‘ä»¬å·²ç»ä¸ºä½ å±•ç¤ºäº†ä¸€ä¸ªç®€å•çš„æ–¹æ³•æ¥å¤„ç†è¿™ä¸ªé—®é¢˜ï¼Œè¿™ä¸ªæ–¹æ³•å«åš **dispatch** (æ˜¾ç„¶â€¦â€¦)

**åˆ†æ´¾**æ–¹æ³•å°†**å•†åº—æ¨¡å‹**å¯¹è±¡ä½œä¸ºå…·æœ‰ä»¥ä¸‹å±æ€§çš„å•ä¸ªå‚æ•°:

1.  Identifier:è¦å°†æ›´æ”¹å‘é€åˆ°çš„å­˜å‚¨çš„æ ‡è¯†ç¬¦ã€‚
2.  Model:æ‚¨å¸Œæœ›åœ¨å•†åº—ä¸­æ›´æ”¹çš„å±æ€§å€¼ã€‚

```
crate.dispatch({
  identifier: 'user',
  model: {
    name: 'Alex',
    lastName: 'Casillas',
  }
});
```

ä¸Šé¢çš„ä¾‹å­å°†æŠŠæ¨¡å‹ä¸­ç»™å®šçš„å˜æ›´å‘é€åˆ°å•†åº—ã€‚

è¯·æ³¨æ„ï¼Œè¿™ä¸ä¼šè¿”å›ä»»ä½•å†…å®¹ï¼Œå› ä¸ºè¿™ä¸æ˜¯é¢„æœŸçš„è¡Œä¸ºã€‚è¦è·å¾—æˆ‘ä»¬åˆšæ‰æ‰€åšçš„æ›´æ”¹ï¼Œæ‚¨å¿…é¡»è·å¾—å•†åº—çš„å½“å‰çŠ¶æ€ã€‚

# è·å–å•†åº—çš„çŠ¶æ€

åœ¨ **Cratebox** ä¸­è·å–å•†åº—çš„çŠ¶æ€æ˜¯å°èœä¸€ç¢Ÿï¼Œæˆ‘ä»¬å·²ç»ä¸ºæ‚¨å‡†å¤‡å¥½äº†ï¼Œæˆ‘ä»¬å·²ç»ä¸ºæ‚¨å±•ç¤ºäº†ä¸€ä¸ªç®€å•çš„æ–¹æ³•ï¼Œå®ƒå°†è®©æ‚¨æ£€ç´¢ç‰¹å®šå•†åº—çš„çŠ¶æ€ï¼Œè¿™ä¸ªæ–¹æ³•è¢«ç§°ä¸º **getState** (æ˜¾ç„¶â€¦â€¦)

**getState** æ–¹æ³•å°†å•†åº—æ ‡è¯†ç¬¦ä½œä¸ºå•ä¸ªå‚æ•°ï¼Œå¹¶å°†è¿”å›å½“å‰çš„**æ¨¡å‹**çŠ¶æ€ã€‚

```
const user = crate.getState('user');
console.log(user);
// Outputs { name: 'Alex', lastName: 'Casillas' }
```

å¦‚æœå­˜å‚¨ä¸­æ²¡æœ‰æ•°æ®ï¼Œå®ƒå°†è¿”å›ä¸€ä¸ªç©ºå€¼**ã€‚**

# è®¢é˜…å­˜å‚¨æ›´æ”¹

ä»æ‚¨çš„å­˜å‚¨ä¸­è‡ªåŠ¨è·å–æ›´æ”¹çš„ä¸€ç§æ–¹å¼æ˜¯è®¢é˜…å®ƒï¼Œè¿™æ ·ï¼Œæ¯æ¬¡æ‚¨å‘å­˜å‚¨åˆ†æ´¾æ–°çš„æ›´æ”¹æ—¶ï¼Œå®ƒéƒ½ä¼šè‡ªåŠ¨ä¸ºæ‚¨æä¾›æœ€æ–°çš„æ•°æ®æ¨¡å‹ã€‚

```
const unsubscribe = crate.subscribe('user', model => {
  console.log('User Changes: ', model);
  // Outputs at dispatch: { name: 'Alex', lastName: 'Casillas' }
}crate.dispatch({
  identifier: 'user',
  model: {
    name: 'Alex',
    lastName: 'Casillas',
  }
});
```

# å–æ¶ˆè®¢é˜…å•†åº—æ›´æ”¹

å¦‚æœæ‚¨æƒ³åˆ é™¤æ¯æ¬¡è°ƒåº¦æ›´æ”¹æ—¶è§¦å‘æ‚¨çš„è®¢é˜…çš„ä¾¦å¬å™¨ï¼Œæ‚¨å¯ä»¥é€šè¿‡è°ƒç”¨ç”± **subscribe** æ–¹æ³•è¿”å›çš„å‡½æ•°æ¥å®ç°ã€‚

```
const unsubscribe = crate.subscribe('user', model => {
  console.log('User Changes: ', model);
  // Outputs at dispatch: { name: 'Alex', lastName: 'Casillas' }
}crate.dispatch({
  identifier: 'user',
  model: {
    name: 'Alex',
    lastName: 'Casillas',
  }
});unsubscribe(); // Calling this will make the subscription stop
```

# æ—¶é—´æ—…è¡Œ

**Cratebox** é€šè¿‡ä¸¤ç§ç®€å•çš„æ–¹æ³•ä¸ºä½ çš„æ—¶é—´æ—…è¡Œæä¾›å¼€ç®±å³ç”¨ï¼Œåˆ†åˆ«æ˜¯:**å‘å‰æ—…è¡Œ**å’Œ**å‘åæ—…è¡Œ**ã€‚

## å‘å‰å’Œå‘åç§»åŠ¨

ä¸ºäº†åŠæ—¶å‘å‰ç§»åŠ¨ï¼Œä½ åªéœ€è¦è°ƒç”¨ **travelForwards** æ–¹æ³•ï¼Œå®ƒå°†ç»™å®šå•†åº—çš„å½“å‰çŠ¶æ€å‘å‰ç§»åŠ¨ä¸€æ­¥ã€‚

å¦‚æœæ²¡æœ‰å‰è¿›çš„æ­¥éª¤ï¼Œä½ å°±ä¸èƒ½å‘å‰è¿›è¡Œæ—¶é—´æ—…è¡Œã€‚æ¯æ¬¡è°ƒç”¨ **travelForwards** æ–¹æ³•æ—¶ï¼Œå°†ä¼šè°ƒç”¨æ‚¨å¯¹æ­£åœ¨è¿›è¡Œæ—¶é—´æ—…è¡Œçš„å•†åº—çš„æ‰€æœ‰è®¢é˜…ã€‚

è¦å›åˆ°è¿‡å»ï¼Œä½ åªéœ€è¦è°ƒç”¨ **travelBackwards** æ–¹æ³•ï¼Œå®ƒä¼šå°†ç»™å®šå•†åº—çš„å½“å‰çŠ¶æ€å‘åç§»åŠ¨ã€‚

å¦‚æœæ²¡æœ‰åé€€çš„æ–¹æ³•ï¼Œä½ å°±ä¸èƒ½å›åˆ°è¿‡å»ã€‚æ¯æ¬¡è°ƒç”¨**travel backward**æ–¹æ³•æ—¶ï¼Œéƒ½ä¼šè°ƒç”¨æ‚¨å¯¹æ­£åœ¨è¿›è¡Œæ—¶é—´æ—…è¡Œçš„å•†åº—çš„æ‰€æœ‰è®¢é˜…ã€‚

```
const unsubscribe = crate.subscribe('user', model => {
  console.log('User Changes: ', model);
  // Outputs at first dispatch
  // { name: 'Alex', lastName: 'Casillas' }
  // Outputs at second dispatch
  // { name: 'Antonio', lastName: 'Cobos' }
  // Outputs at traveling backwards
  // { name: 'Alex', lastName: 'Casillas' }
  // Outputs at traveling forwards
  // { name: 'Antonio', lastName: 'Cobos' }
}crate.dispatch({
  identifier: 'user',
  model: {
    name: 'Alex',
    lastName: 'Casillas',
  }
});crate.dispatch({
  identifier: 'user',
  model: {
    name: 'Antonio',
    lastName: 'Cobos',
  }
});crate.travelBackwards('user');
crate.travelForwards('user');
```

# æ¼”ç¤ºæ—¶é—´ğŸ™Œ

ç°åœ¨æˆ‘ä»¬è¦å±•ç¤ºä¸€ä¸ªæˆ‘ä»¬å‡†å¤‡å¥½çš„å°æ¼”ç¤ºã€‚è¿™æ˜¯ä¸€ä¸ª ToDo åº”ç”¨ç¨‹åº(æ˜¯çš„ï¼Œä¸€ä¸ª ToDo Appï¼Œå¦ä¸€ä¸ªï¼Œç®€å•ä½†æœ‰æ•ˆçš„å±•ç¤º)

è¿™ä¸ªæ¼”ç¤ºä½¿ç”¨äº†**ç›’ååº”**ï¼Œå®˜æ–¹*ååº”*ç»‘å®š**ç›’ååº”**ã€‚è¯·éšæ„ä½¿ç”¨æ¼”ç¤ºï¼Œå°è¯•æ–°äº‹ç‰©ï¼Œå¹¶ç»™æˆ‘ä»¬ä¸€äº›åé¦ˆã€‚é‚£çœŸæ˜¯å¤ªæ„Ÿè°¢äº†:)

å¸Œæœ›ä½ å–œæ¬¢è¿™ä¸ªé˜…è¯»ï¼Œå®ƒå¾ˆå¥½ï¼Œå¾ˆæœ‰è¶£ï¼Œå¦‚æœä½ æœ‰ä»»ä½•å…¶ä»–é—®é¢˜ï¼Œä½ å¯ä»¥åœ¨ twitter å’Œ Github ä¸Šé€šè¿‡ [@alexvcasillas](https://twitter.com/alexvcasillas) è”ç³»æˆ‘:)