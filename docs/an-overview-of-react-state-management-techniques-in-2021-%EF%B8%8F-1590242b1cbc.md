# 2021 âšœï¸ååº”çŠ¶æ€ç®¡ç†æŠ€æœ¯ç»¼è¿°ğŸŒ

> åŸæ–‡ï¼š<https://itnext.io/an-overview-of-react-state-management-techniques-in-2021-%EF%B8%8F-1590242b1cbc?source=collection_archive---------0----------------------->

![](img/5b24fcdd31217028f4ddf65387510e41.png)

å½“æ‚¨æœ‰æœºä¼šæ„å»ºå¤§å‹å‰ç«¯æ—¶ï¼Œå°±éœ€è¦åœ¨æ‚¨çš„åº”ç”¨ç¨‹åºä¸­å­˜å‚¨å…¨å±€çŠ¶æ€ã€‚è¿™å¯èƒ½æ˜¯ä¸ºäº†å­˜å‚¨æœ‰å…³ç™»å½•ç”¨æˆ·çš„æ•°æ®ï¼Œç»´æŠ¤ç”¨æˆ·ç•Œé¢ç‰¹å®šéƒ¨åˆ†çš„å…ƒæ•°æ®æˆ–æ¥è‡ªæœåŠ¡çš„æ•°æ®ã€‚éšä¹‹è€Œæ¥çš„é—®é¢˜æ˜¯ï¼Œä½ å¦‚ä½•å®ç°è¿™ä¸€ç‚¹ï¼Ÿ

è¿™ç¯‡æ–‡ç« æ—¨åœ¨åªæ¶µç›–å…¶ä¸­çš„ä¸‰ä¸ªï¼Œ[é˜¿æ³¢ç½—çš„æœ¬åœ°ç¼“å­˜](https://www.apollographql.com/docs/react/local-state/local-state-management/)ï¼Œ[åå†²](https://recoiljs.org/)å’Œ [Redux](https://redux.js.org/) ã€‚æˆ‘å°†ä»¥ä¸‹é¢çš„æ–¹å¼ä»‹ç»è¿™ä¸‰ä¸ªå·¥å…·:æ¦‚è¿°ã€ä»£ç éå†ã€æ€è€ƒã€‚

å¦‚æœæˆ‘åœ¨ React ä¸­æ„å»ºä¸€ä¸ªå¤§çš„å‰ç«¯ Web åº”ç”¨ç¨‹åºï¼Œæ¯ä¸ªäººéƒ½ä¼šå¾—åˆ°ä¸€ä¸ªè¯„çº§æ¥è¡¡é‡æˆ‘æ˜¯å¦ä¼šå°†å®ƒæ·»åŠ åˆ°æˆ‘çš„å‰ç«¯å †æ ˆä¸­ã€‚

æ‰€æœ‰è¿™äº›å®éªŒéƒ½æ˜¯ä» [React Bleeding Edge kit](https://github.com/AmoDinho/react-bleeding-edge-kit) ç”Ÿæˆçš„ï¼Œè¿™æ˜¯ä¸€ä¸ªåŒ…å«ç”µæ± çš„å·¥å…·åŒ…ï¼Œå¸¦æœ‰ [Apollo Client](https://www.apollographql.com/docs/react/) ã€ [TailwindCSS](https://tailwindcss.com/) å’Œ [Reach Router](https://reach.tech/router) ç½®äº [Create React App (CRA)](https://github.com/facebookincubator/create-react-app) ä¹‹ä¸Šï¼Œç”¨äºç²¾è‹±çº§åˆ«çš„ç”Ÿäº§åŠ›ã€‚

# **é˜¿æ³¢ç½—æœ¬åœ°ç¼“å­˜**

![](img/d7d4251c812419727983bf3a35ced389.png)

[é“¾æ¥åˆ°å›è´­](https://github.com/Fullstack-Serverless-GraphQL/lunar-tour-react) || [é“¾æ¥åˆ°æ¼”ç¤º](http://lunar-tour-react.netlify.app/)

**æ¦‚è¿°**ğŸ“¡

å¦‚æœæ‚¨åœ¨ React æˆ– [Vue](http://Vue Apolloapollo.vuejs.org) ä¸­ä½¿ç”¨ Apollo å®¢æˆ·ç«¯ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å®ƒçš„æœ¬åœ°ç¼“å­˜è¿›è¡ŒçŠ¶æ€ç®¡ç†ã€‚å¥½å¤„æ˜¯æ‚¨å¯ä»¥ä½¿ç”¨ GraphQL æ¥æŸ¥è¯¢å’Œæ”¹å˜æ‚¨çš„æ•°æ®ã€‚åœ¨ä¸‹é¢çš„æ¼”ç»ƒä¸­ï¼Œæˆ‘ä½¿ç”¨äº† Apollo 2ï¼Œå®ƒè¦æ±‚ä½¿ç”¨æœ¬åœ°è§£æå™¨ï¼Œä½†æ˜¯ï¼Œè¯·è®°ä½å®ƒä»¬å·²è¢«å¦å†³ã€‚

ä½ å¯èƒ½æƒ³çŸ¥é“ä¸ºä»€ä¹ˆè¿™ä¸ªå°ä¸‘èˆ¬çš„ä½œè€…è¦å¸¦ä½ ç»å†ä¸€äº›å°†è¢«å¦å†³çš„ä¸œè¥¿ï¼ŸğŸ¤¡ç®€è€Œè¨€ä¹‹ï¼Œæˆ‘ä¸å–œæ¬¢é˜¿æ³¢ç½—çš„å›½å®¶ç®¡ç†ç†è®ºï¼Œä½†æ›´å¤šçš„æ˜¯æˆ‘å¯¹åæ¥çš„ğŸ¥².çš„åè§ç„¶è€Œï¼Œä¸€å®šè¦çœ‹çœ‹é˜¿æ³¢ç½— 3 å·çš„æœ€æ–°å®ç°ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨ä¸Šé¢è§‚çœ‹åŠ³æ‹‰Â·æ¯”é˜¿ç‰¹ä¸½æ–¯çš„æ¼”è®²ğŸ¦ã€‚

**ä»£ç æ¼”ç»ƒ** ğŸ–¥ï¸

è¦åœ¨ React åº”ç”¨ç¨‹åºä¸­è®¾ç½® Apollo çš„ç¼“å­˜ï¼Œåœ¨`index.js`æ–‡ä»¶ä¸­ï¼Œæ‚¨é¦–å…ˆè¦åšçš„å°±æ˜¯åˆå§‹åŒ–æ‚¨æƒ³è¦è®°å½•çš„çŠ¶æ€:

å…¨å±€çŠ¶æ€é€šè¿‡ä½¿ç”¨`cache.writeData`å‡½æ•°å­˜å‚¨åœ¨åº”ç”¨ç¨‹åºçš„ç¼“å­˜ä¸­ã€‚æ·»åŠ `__typename`å­—æ®µæ˜¯ç»å¯¹å¿…è¦çš„ï¼Œä»¥ä¾¿ Apollo çŸ¥é“æ‚¨å°†æŸ¥è¯¢å’Œå˜æ›´å¯¹è±¡çš„å“ªä¸€éƒ¨åˆ†ã€‚å¦‚æœæˆ‘éœ€è¦åœ¨é¢å¤–çš„çŠ¶æ€å¯¹è±¡ä¸Šå­˜å‚¨æ›´å¤šçš„æ•°æ®ï¼Œæˆ‘å°†éœ€è¦åˆ›å»ºå®ƒä»¬å¹¶ä¸ºæ¯ä¸ªå­—æ®µæŒ‡å®šé‚£ä¸ª`__typename`å­—æ®µï¼Œè¿™å·²ç»æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„ç¼ºç‚¹ã€‚

æ¥ä¸‹æ¥ï¼Œæˆ‘å¿…é¡»åˆ›å»ºä¸€ä¸ªæœ¬åœ°è§£æå™¨æ–‡ä»¶ï¼Œå…¶å˜åŒ–å¦‚ä¸‹:

æˆ‘æ­£åœ¨è¯»å–è¡¨å•æ•°æ®æœ€æ–°ç‰ˆæœ¬çš„ç¼“å­˜ã€‚å¦‚æœ`queryResult`ä¸æ˜¯æœªå®šä¹‰çš„ï¼Œæˆ‘å¯ä»¥é€šè¿‡ä»å˜å¼‚ä¸­è¯»å–å‚æ•°å¹¶å°†å…¶å†™å…¥ç¼“å­˜æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„`formData`å¯¹è±¡ã€‚

ä¸ºäº†ä»ç¼“å­˜ä¸­è¯»å–æ•°æ®ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦ç¼–å†™ä¸€ä¸ªæŸ¥è¯¢:

è¿™ä¸ªæ¨¡å¼æ–‡æ¡£åŸºæœ¬ä¸Šæ˜¯åœ¨å®¢æˆ·ç«¯çš„`formData`å¯¹è±¡ä¸­æŸ¥è¯¢`email,customer and date`ã€‚æ‚¨å°†éœ€è¦åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºçš„å…¶ä»–ç»„ä»¶ä¸­å†æ¬¡ä½¿ç”¨è¿™ä¸€ç‚¹ã€‚

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªçªå˜æ¥æ›´æ–°`formData`:

è¿™æ¥å—ä¸€ä¸ª`email,date and CustomerInput`ã€‚è®©æˆ‘ä»¬æ¥çœ‹çœ‹å®ƒçš„å®é™…åº”ç”¨ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªè¡¨å•ï¼Œå…è®¸ç”¨æˆ·æ·»åŠ ä¸€ç»„å®¢æˆ·ä½œä¸ºå¯¹è±¡:

è¯¥ç»„ä»¶å…è®¸æˆ‘ä»¬å°†å¤šä¸ªå®¢æˆ·æ·»åŠ åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œä¸ºäº†å°†æ•°æ®å­˜å‚¨åˆ°æœ¬åœ°çŠ¶æ€ï¼Œæˆ‘ä»¬é¦–å…ˆè¿è¡ŒæŸ¥è¯¢æ¥è·å–`customers,email and date`ï¼ŒåŒæ—¶è¿è¡Œå˜å¼‚æ¥æ›´æ–°å°†åœ¨æ—…è¡Œä¸­å‡ºç°çš„å®¢æˆ·ã€‚è¿™æ ·ï¼Œå½“æˆ‘ä»¬æŠŠç”¨æˆ·å¸¦åˆ°ä¸‹ä¸€ä¸ªç»„ä»¶æ—¶ï¼Œæˆ‘ä»¬å°±æœ‰äº†å•†åº—çš„æœ€æ–°ç‰ˆæœ¬ã€‚

**æƒ³æ³•**ğŸ¤”

é™¤äº†æœ¬åœ°è§£æå™¨ä¹‹å¤–ï¼Œæ•´ä¸ªè®¾ç½®æ˜¯ä¸å¯é¢„æµ‹çš„ï¼Œå½“æ‚¨å¯èƒ½æœ€ç»ˆåœ¨æœ¬åœ°çŠ¶æ€ä¸­å­˜å‚¨ä¸€ä¸ªè¶…è¿‡ 15 ä¸ªå­—æ®µçš„å¯¹è±¡æ—¶ï¼Œæ·»åŠ  GraphQL çš„æ¨¡å¼éªŒè¯ä¸ä¼šäº§ç”Ÿå¾ˆå¥½çš„æ•ˆæœã€‚Apollo 3 æ—¨åœ¨è§£å†³è¿™ä¸€é—®é¢˜ï¼Œç„¶è€Œå®ç°ä¼¼ä¹å¹¶ä¸ç›´æ¥ï¼Œå¦‚æœä½ æœ‰ä¸€ä¸ªå¤§çš„åº”ç”¨ç¨‹åºï¼Œä½ éœ€è¦å°†ä½ çš„çŠ¶æ€ç®¡ç†é€»è¾‘ä¿å­˜åœ¨ä¸åŒçš„æ–‡ä»¶ä¸­ï¼Œä»¥ä¾¿å®ƒæ˜¯æ¨¡å—åŒ–çš„ã€‚æ‰€ä»¥ä½œä¸ºä¸€ä¸ª GraphQL çš„ç²‰ä¸ï¼Œæˆ‘å¾ˆä¼¤å¿ƒçš„è¯´æˆ‘çœ‹ä¸åˆ°ä½¿ç”¨å®ƒçš„ä»·å€¼ã€‚

> **è¯„åˆ†:** â­

# **åå†²**

![](img/394a720798fa2340e4aac8f00cf9819e.png)

[é“¾æ¥è‡³å›è´­](https://github.com/AmoDinho/recoil-state-management-demo) || [é“¾æ¥è‡³æ¼”ç¤º](https://recoil-state-man-demo.netlify.app/)

**æ¦‚è¿°**ğŸ“¡

å¤§çº¦åœ¨ 2020 å¹´ä¸­æœŸå‘å¸ƒï¼Œç›®æ ‡æ˜¯ç¼“è§£ä¸€äº›ä¸ä½¿ç”¨ React å†…ç½®çŠ¶æ€ç®¡ç†å·¥å…·ç›¸å…³çš„é—®é¢˜(è‡³å°‘åœ¨æˆ‘çœ‹æ¥æ˜¯è¿™æ ·ï¼ŒğŸ¦§).

å®ƒçš„æ ¸å¿ƒæ¦‚å¿µæ˜¯å›´ç»•å½¢æˆçŠ¶æ€ç‰‡æ®µçš„åŸå­å’Œå…è®¸ä½ æ”¹å˜çŠ¶æ€çš„é€‰æ‹©å™¨ã€‚é€‰æ‹©å™¨åˆ©ç”¨äº†å¯¹è±¡ä¸­çš„åµŒå¥—å‡½æ•°ï¼Œè¿™ä½¿å¾—æ‚¨èƒ½å¤Ÿä½¿ç”¨é’©å­å°†çŠ¶æ€è¯»å…¥ç»„ä»¶ï¼Œä»¥åŠæ”¹å˜çŠ¶æ€ã€‚å®ƒçš„ç›®çš„æ˜¯ä½¿çŠ¶æ€ç®¡ç†è¿‡ç¨‹ç®€å•ï¼Œä¸åƒæ ·æ¿æ–‡ä»¶ã€‚

**ä»£ç æ¼”ç»ƒ** ğŸ–¥ï¸

è¿™ä¸ªæ¼”ç¤ºéå¸¸å…·æœ‰[ä¸€çº§æ–¹ç¨‹å¼(F1)](https://www.formula1.com/) ä¸»é¢˜ã€‚æˆ‘ç”šè‡³ä¸ºæˆ‘ä»¬ä½¿ç”¨äº†å…¬å…±çš„ F1 API æ¥æ£€æŸ¥ä¸€äº›å¼‚æ­¥è°ƒç”¨ã€‚æˆ‘æœ‰ä¸€ä¸ªåä¸º`atoms.js`çš„æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«äº†æˆ‘è¯•å›¾è·Ÿè¸ªçš„æ‰€æœ‰çŠ¶æ€:

ä½ éœ€è¦åˆå§‹åŒ–çŠ¶æ€çš„æ–¹å¼æ˜¯éå¸¸ç®€å•çš„ï¼Œä»¥å¯¹è±¡çš„å½¢å¼ï¼Œå…³é”®æ˜¯è¦æ³¨æ„ï¼Œå› ä¸ºè¿™æ˜¯ä½ å¦‚ä½•åœ¨ä½ çš„åº”ç”¨ç¨‹åºçš„ä¸åŒéƒ¨åˆ†å¼•ç”¨è¿™ä¸ªçŠ¶æ€ã€‚è¿˜æœ‰ä¸€ä¸ªé»˜è®¤é”®ï¼Œç”¨äºé€šè¿‡æŒ‡å®šå…¶ç±»å‹(å¯¹è±¡ã€å­—ç¬¦ä¸²ã€æ•°ç»„ç­‰)æ¥æ·»åŠ é»˜è®¤çŠ¶æ€ã€‚åœ¨æˆ‘çš„ä¾‹å­ä¸­ï¼Œæˆ‘è·Ÿè¸ªçš„`driverState`æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œ`circuitState`ä¹Ÿæ˜¯ä¸€ä¸ªç”µè·¯æ•°ç»„ï¼Œè¿˜æœ‰ä¸€ä¸ªå¯¹è±¡ä¸­çš„`singleDriverState`æ¥å­˜å‚¨å…³äºä¸€ä¸ªé©±åŠ¨ç¨‹åºçš„æ‰€æœ‰ä¿¡æ¯ã€‚

æˆ‘è§‰å¾—åœ¨ä»å·æ”¿åºœé‚£é‡Œé˜…è¯»çš„æ—¶å€™ï¼Œåœ¨`index`é¡µé¢ä¸Šæ˜¾ç¤ºæ‰€æœ‰çš„è½¦æ‰‹æ˜¯ä¸€ä¸ªå¿«é€Ÿçš„èƒœåˆ©:

ä½¿ç”¨`useRecoilValue()`é’©å­ï¼Œä½ å¯ä»¥é€šè¿‡å°†çŠ¶æ€ä½œä¸ºå‚æ•°ä¼ é€’ç»™é’©å­æ¥è½»æ¾åœ°å¼•ç”¨ä½ å·²ç»åˆå§‹åŒ–ä¸ºåŸå­çš„çŠ¶æ€ï¼Œå°±åƒæˆ‘ç”¨`driverState`æ‰€åšçš„é‚£æ ·ã€‚

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªå¼‚æ­¥çš„ä¾‹å­ï¼Œè¿™æ˜¯è®¸å¤šåº”ç”¨ç¨‹åºçš„å¸¸è§éœ€æ±‚ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æƒ³è·å¾—ä¸€ä¸ªç”¨æˆ·å½“æœˆçš„é“¶è¡Œäº¤æ˜“ï¼Œå¹¶å…è®¸åº”ç”¨ç¨‹åºçš„ä¸åŒéƒ¨åˆ†è®¿é—®å®ƒã€‚æ‚¨å¯ä»¥åƒè¿™æ ·åœ¨æ‚¨çš„é€‰æ‹©å™¨ä¸­ä½¿ç”¨`selectorFamily()` util:

åœ¨æˆ‘çš„ä¾‹å­ä¸­ï¼Œæˆ‘æƒ³è·å¾—å…³äºä¸€ä¸ªå¸æœºçš„ä¿¡æ¯ï¼Œä½†è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘éœ€è¦ä»–ä»¬çš„åå­—ã€‚å±æ€§è®©è¿™ä¸ªé€‰æ‹©å™¨æ„è¯†åˆ°æˆ‘ä»¬æ­£åœ¨å¤„ç†çš„æ˜¯`driver`åŸå­ã€‚è€Œ`get()`é”®å…è®¸æˆ‘ä»¬å®é™…è°ƒç”¨ä¸€ä¸ªå¼‚æ­¥å‡½æ•°æ¥è·å–é©±åŠ¨ç¨‹åºçš„ç»†èŠ‚ã€‚`set`é”®æ˜¯ä¸€ä¸ªç°åœ¨å…è®¸æˆ‘ä»¬å°†å…³äºé©±åŠ¨ç¨‹åºçš„æ•°æ®å­˜å‚¨åˆ°`driver`åŸå­ä¸­çš„å‡½æ•°ã€‚

**æƒ³æ³•**ğŸ¤”

æ€»çš„æ¥è¯´ï¼Œååº§åŠ›å¾ˆå¥½ï¼Œå¾ˆçµæ´»ã€‚å½“ç„¶ï¼Œè¿™æ˜¯ä¸€ä¸ªç°ä»£çš„ React åº“ï¼Œå®ƒæ˜¯åŸºäºé’©å­çš„ï¼Œæœ‰ä¸€ä¸ªå¾ˆå¥½çš„å¹²å‡€çš„ API å’Œæ–‡æ¡£ï¼Œä½¿å¾—å®ç°èµ·æ¥éå¸¸ç®€å•ã€‚å®ƒä¸èƒ½å¾—åˆ° 5 çš„å”¯ä¸€åŸå› æ˜¯å› ä¸ºæˆ‘ä¸å¾—ä¸è¿‡åº¦åŠ çƒ­æˆ‘çš„å¤§è„‘æ¥å½»åº•ä»”ç»†åœ°è€ƒè™‘é€‰æ‹©å™¨ã€‚ğŸ­

> **è¯„åˆ†** : â­â­â­â­

# **Redux**

![](img/55bad9e353716a0149d267bcdf421ce7.png)

[é“¾æ¥åˆ°å›è´­](https://github.com/AmoDinho/redux-toolkit-state-management-demo) || [é“¾æ¥åˆ°æ¼”ç¤º](https://redux-toolkit-state-management-demo.netlify.app/)

**æ¦‚è¿°**

æœ€åä½†åŒæ ·é‡è¦çš„æ˜¯ï¼Œæˆ‘ä»¬æœ‰ react ç¤¾åŒºçš„å® å„¿ï¼Œ [Redux](https://redux.js.org/) ï¼æœ€åˆæ˜¯ä¸ºäº†é˜²æ­¢é’»æŸ±é—®é¢˜ã€‚Redux åŸºäºä¸€ç§æµåŠ¨æ¨¡å¼å·¥ä½œï¼Œé€šè¿‡è¿™ç§æ¨¡å¼ï¼Œæ‚¨å¯ä»¥è®¾ç½®ä¸€ä¸ªåˆå§‹çŠ¶æ€ï¼Œè¯¥çŠ¶æ€ä¸ä¸€ç»„å¸®åŠ©åº”ç”¨ç¨‹åºå‡å°‘å…¶çŠ¶æ€çš„æ“ä½œç›¸å…³è”ã€‚æœ‰ä¸åŒçš„æ–¹æ³•æ¥ç¼–å†™ Redux åº”ç”¨ç¨‹åºï¼Œå¯ä»¥æ˜¯*æ ·æ¿æ–‡ä»¶*ï¼Œå¹¸è¿çš„æ˜¯ï¼Œåœ¨æŒæ¡äº†å¦‚ä½•ä»¥æ¨¡å—æ–¹å¼ä½¿ç”¨ Redux æ–‡ä»¶å’Œå‡½æ•°åï¼Œæˆ‘å‘ç°äº† [Redux å·¥å…·åŒ…](https://redux-toolkit.js.org/)ã€‚

**ä»£ç æ¼”ç»ƒ**

æˆ‘é€šå¸¸è¿™æ ·æ„å»ºæˆ‘çš„ Redux åº”ç”¨ç¨‹åº:

![](img/48158529bf13a5cde1a3d2d2f63bea8c.png)

ç›¸å½“è‡ƒè‚¿ï¼Œåœ¨çœ‹åˆ°ä»»ä½•ç»“æœä¹‹å‰ï¼Œæ‚¨éœ€è¦åœ¨å‡ ä¸ªæ–‡ä»¶ä¸­è¿›è¡Œæ›´æ”¹ã€‚è¿™æ˜¯é€‚å¾—å…¶åï¼Œä¹Ÿæ˜¯ä¸å¿…è¦çš„[è„‘èˆ](https://www.gamebyte.com/wp-content/uploads/2021/01/cyberpunk-apology-meme.jpg)ã€‚

å¹¸è¿çš„æ˜¯ï¼Œæœ‰ä¸€ä¸ªå«åš Redux Toolkit çš„ä¸œè¥¿ï¼Œå®ƒé‡‡ç”¨äº†ä¸åå†²ç›¸åŒçš„æ¶æ„åŸåˆ™ã€‚æ‚¨åªéœ€è¦åˆ¶ä½œä¸€ä¸ªåˆ‡ç‰‡ï¼Œå®ƒå¯ä»¥è¢«ç§°ä¸ºçŠ¶æ€çš„ä¸€éƒ¨åˆ†ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘åˆ¶ä½œäº†ä¸€ä¸ªå¸ƒå±€åˆ‡ç‰‡ï¼Œä»¥ä¾¿èƒ½å¤Ÿæ›´æ”¹æ¯æ¡è·¯çº¿çš„é¡µçœ‰:

`layout`æ˜¯æˆ‘ç”¨æ¥è·Ÿè¸ª`pageHeader`å­—ç¬¦ä¸²çš„å·åã€‚å®ƒè¢«èµ‹äºˆä¸€ä¸ªç¼ºçœå€¼**é¡µé¢ã€‚** æˆ‘æœ‰ä¸€ä¸ªåä¸º`setPageHeader`çš„ reducer æ¥è®¾ç½®`pageHeader`çš„å€¼ï¼Œåˆšæ‰è¯¦ç»†ä»‹ç»äº†å¦‚ä½•å°† reducer å¯¼å‡ºåˆ°å®ƒä»¬çš„æ–‡ä»¶ä¸­ã€‚

ç°åœ¨æ˜¯å‡å‹å™¨ï¼åœ¨ä¸€ä»½åä¸º`layoutReducer`çš„æ–‡ä»¶ä¸­:

æˆ‘ç®€å•åœ°å¯¼å‡ºäº†ä¸€ä¸ªåä¸º`setNewTitle`çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°åœ¨å…¨å±€çŠ¶æ€ä¸‹å°†`payload`èµ‹å›ç»™`pageHeader`ã€‚

æˆ‘ä»¬ç°åœ¨å¯ä»¥ç”¨ä¸€ä¸ª`useSelector`é’©å­æ¥ä½¿ç”¨å…¨å±€`App`ç»„ä»¶ä¸­çš„çŠ¶æ€:

æ”¹å˜`pageHeader`æ ‡é¢˜çš„ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨`useEffect`é’©å­:

é€šè¿‡ä½¿ç”¨`useDispatch`é’©å­ï¼Œæˆ‘ä»¬èƒ½å¤Ÿä½¿ç”¨æˆ‘ä»¬åœ¨`dispatch`å‡½æ•°ä¸­å¯¼å‡ºçš„`setPageHeader`åŠ¨ä½œã€‚è¿™æ¯”åˆ›å»º`mapDispatchToProps`å’Œ`mapStateToProps`å‡½æ•°è¦ç®€æ´å¾—å¤šã€‚

åŒæ ·ï¼Œæˆ‘åœ¨çŠ¶æ€ä¸­åˆå§‹åŒ–äº†ä¸€ä¸ª`mountains`æ•°ç»„ï¼Œå¹¶èƒ½å¤Ÿé€šè¿‡åº”ç”¨ç¨‹åºä¸­çš„ä¸€ä¸ªè¡¨å•åƒè¿™æ ·è°ƒåº¦å®ƒä»¬:

å‡é€Ÿå™¨çœ‹èµ·æ¥åƒè¿™æ ·:

**æƒ³æ³•**ğŸ¤”

ä¸æˆ‘åœ¨çŸ¥é“ Redux Toolkit ä¹‹å‰ç¼–å†™ Redux çš„æ–¹å¼ç›¸æ¯”ï¼Œè¿™æ˜¯éå¸¸æ£’å’Œå¹²å‡€çš„ã€‚éšç€åº”ç”¨ç¨‹åºçš„å¢é•¿ï¼Œå®ƒå¯ä»¥å¾ˆå®¹æ˜“åœ°è¢«å¾ˆå¥½åœ°æŠ½è±¡å‡ºæ¥ã€‚

> **è¯„åˆ†:** â­â­â­â­

æ€»çš„æ¥è¯´ï¼Œæˆ‘éå¸¸å–œæ¬¢çŸ¥é“å¦‚ä½•æ­£ç¡®åœ°è®¾è®¡å‰ç«¯ï¼Œå› ä¸ºå¦‚æœçŠ¶æ€ç®¡ç†è®¾ç½®å¾—ä¸å¥½ï¼Œè¿™å¯èƒ½ä¼šå¾ˆç—›è‹¦ã€‚åå†²å’Œ Redux å·¥å…·åŒ…å°†è‚¯å®šä½¿äººä»¬èƒ½å¤Ÿç¡®ä¿çŠ¶æ€ç®¡ç†å±‚æ˜¯æ¸…æ™°å’Œæ¨¡å—åŒ–çš„ã€‚

æ¦‚æ‹¬ä¸€ä¸‹ï¼Œè¿™é‡Œæœ‰å„ç§å›è´­çš„é“¾æ¥ğŸ”Œï¼š

**é˜¿æ³¢ç½—**

[é“¾æ¥åˆ°å›è´­](https://github.com/Fullstack-Serverless-GraphQL/lunar-tour-react) || [é“¾æ¥åˆ°æ¼”ç¤º](https://lunar-tour-react.netlify.app/)

**åå†²**

[é“¾æ¥åˆ°å›è´­](https://github.com/AmoDinho/recoil-state-management-demo) || [é“¾æ¥åˆ°æ¼”ç¤º](https://recoil-state-man-demo.netlify.app/)

**Redux**

RTK : [é“¾æ¥åˆ°å›è´­](https://github.com/AmoDinho/redux-toolkit-state-management-demo) || [é“¾æ¥åˆ°æ¼”ç¤º](https://redux-toolkit-state-management-demo.netlify.app/)

ç®€å•é‡å¤:[é“¾æ¥åˆ°å›è´­](https://github.com/AmoDinho/redux-state-management-demo)

**æ¼”èŒå‘˜è¡¨** ğŸ¦ 

[é˜¿æ³¢ç½—çš„å›½å®¶ç®¡ç†èŒƒä¾‹](https://github.com/apollographql/ac3-state-management-examples)

*æ„Ÿè°¢* [*æœ¬*](https://za.linkedin.com/in/benjanecke) *é˜…è¯»æ­¤ç¨¿ã€‚* ğŸ§™â€â™‚ï¸