<html>
<head>
<title>Learn Dart #5: Read and write files in under 30 seconds</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å­¦ä¹ Dart #5:åœ¨30ç§’å†…è¯»å†™æ–‡ä»¶</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://itnext.io/learn-dart-5-read-and-write-files-in-under-30-seconds-9adbf9351ef2?source=collection_archive---------0-----------------------#2018-11-01">https://itnext.io/learn-dart-5-read-and-write-files-in-under-30-seconds-9adbf9351ef2?source=collection_archive---------0-----------------------#2018-11-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="a1d7" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">äº†è§£å¦‚ä½•åœ¨è¿™ä¸ªç´§å‡‘çš„æŒ‡å—ä¸­å¿«é€Ÿè¯»å†™æ–‡ä»¶</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/cb67bef26bead9fc878df8c23a0c54d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZwWUzM5eFodADo3hfp6tUQ.png"/></div></div></figure><p id="cf65" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">åœ¨ä»Šå¤©çš„å¿«é€ŸæŠ€å·§ä¸­ï¼Œæˆ‘ä»¬å°†äº†è§£åœ¨Dartä¸­è¯»å†™æ–‡ä»¶æ˜¯å¤šä¹ˆå®¹æ˜“ã€‚æˆ‘ä»¬å°†ä½¿ç”¨â€˜dart:ioâ€™åº“çš„<code class="fe ln lo lp lq b">File</code>å¯¹è±¡æ¥å®ç°è¿™ä¸€ç‚¹ã€‚</p><p id="ebd2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">æ¥ä¸‹æ¥ï¼Œç”¨stagehandç”Ÿæˆ<strong class="kt ir">æ§åˆ¶å°å…¨</strong>é¡¹ç›®:</p><pre class="kg kh ki kj gt lr lq ls lt aw lu bi"><span id="0082" class="lv lw iq lq b gy lx ly l lz ma">$ mkdir my_app &amp;&amp; cd my_app<br/>$ <strong class="lq ir">stagehand console-full</strong></span></pre><p id="baa8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">æŸ¥çœ‹ä»¥ä¸‹è§†é¢‘ä¸­çš„è§£å†³æ–¹æ¡ˆ:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="7278" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">ä»¥ä¸‹æ˜¯å®Œæ•´çš„è§£å†³æ–¹æ¡ˆ:</p><pre class="kg kh ki kj gt lr lq ls lt aw lu bi"><span id="618e" class="lv lw iq lq b gy lx ly l lz ma"><strong class="lq ir">import 'dart:io';</strong><br/><br/>main() async {<br/>  var <strong class="lq ir">file</strong> = <strong class="lq ir">File</strong>('data.txt');<br/>  var contents;<br/><br/>  if (<strong class="lq ir">await file.exists()</strong>) {<br/>    // Read file<br/>    contents = <strong class="lq ir">await file.readAsString()</strong>;<br/>    print(contents);<br/><br/>    // Write file<br/>    var fileCopy = <strong class="lq ir">await File('data-copy.txt').writeAsString(contents)</strong>;<br/>    print(await fileCopy.exists());<br/>    print(await fileCopy.length());<br/>  }<br/>}</span></pre><p id="3949" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">ä»¥åŠ<a class="ae md" href="http://bit.ly/2qpAXKt" rel="noopener ugc nofollow" target="_blank">æºä»£ç </a>ã€‚</p><h1 id="0f8f" class="me lw iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">æ‰©å±•ç¤ºä¾‹</h1><h2 id="67c7" class="lv lw iq bd mf mv mw dn mj mx my dp mn la mz na mp le nb nc mr li nd ne mt nf bi translated">1.å¦‚ä½•æ›´å¥½åœ°æŒ‡å®šæ–‡ä»¶è·¯å¾„</h2><p id="452a" class="pw-post-body-paragraph kr ks iq kt b ku ng jr kw kx nh ju kz la ni lc ld le nj lg lh li nk lk ll lm ij bi translated">é€šè¿‡å°†ä¾èµ–é¡¹æ·»åŠ åˆ°æ‚¨çš„<code class="fe ln lo lp lq b">pubspec.yaml</code>æ–‡ä»¶æ¥å®‰è£…<code class="fe ln lo lp lq b">path</code>åŒ…:</p><pre class="kg kh ki kj gt lr lq ls lt aw lu bi"><span id="2067" class="lv lw iq lq b gy lx ly l lz ma">dependencies:<br/>  path: ^1.6.2</span></pre><p id="b6ae" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">å¹¶ä¸”åœ¨ä½ çš„ç»ˆç«¯é‡Œè¿è¡Œ<code class="fe ln lo lp lq b">pub get</code>ã€‚</p><p id="1e6c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">å°†å®ƒå¯¼å…¥åˆ°<code class="fe ln lo lp lq b">bin/main.dart</code>çš„é¡¶éƒ¨ï¼Œå¹¶ä¿®æ”¹è·¯å¾„å¦‚ä¸‹:</p><pre class="kg kh ki kj gt lr lq ls lt aw lu bi"><span id="ea4e" class="lv lw iq lq b gy lx ly l lz ma">import 'dart:io';<br/><strong class="lq ir">import 'package:path/path.dart';</strong><br/><br/>void main() async {<br/>  var pathToFile = <strong class="lq ir">join(dirname(Platform.script.toFilePath()), '..', 'data.txt')</strong>;<br/>  var file = File(pathToFile);<br/>  ..<br/>  ..<br/>}</span></pre><h2 id="039d" class="lv lw iq bd mf mv mw dn mj mx my dp mn la mz na mp le nb nc mr li nd ne mt nf bi translated">2.å¦‚ä½•é€è¡Œè¯»å–æ–‡ä»¶</h2><p id="96e1" class="pw-post-body-paragraph kr ks iq kt b ku ng jr kw kx nh ju kz la ni lc ld le nj lg lh li nk lk ll lm ij bi translated">æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªè¯»å–æµæ¥å¤„ç†æ–‡ä»¶:</p><pre class="kg kh ki kj gt lr lq ls lt aw lu bi"><span id="6349" class="lv lw iq lq b gy lx ly l lz ma"><strong class="lq ir">import 'dart:convert';</strong> // Contains the `Utf8Decoder` and `LineSplitter` stream transformers<br/>..<br/>..<br/>  if (await file.exists()) {<br/>    // Read file<br/>    <strong class="lq ir">contents = StringBuffer();</strong><br/>    <strong class="lq ir">var contentStream = file.openRead()</strong>;<br/><br/>    <strong class="lq ir">contentStream<br/>      .transform</strong>(Utf8Decoder())<br/>      <strong class="lq ir">.transform</strong>(LineSplitter())<br/>      <strong class="lq ir">.listen</strong>((String line) =&gt; <strong class="lq ir">contents.write(line)</strong>, // Add line to our StringBuffer object<br/>        onDone: () =&gt; print(contents.toString()), // Call toString() method to receive the complete data<br/>        onError: (e) =&gt; print('[Problems]: $e'));<br/>    ..<br/>    ..<br/>  }<br/>..<br/>..</span></pre><p id="996d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">ä¸€ä¸ªå¾ˆå¥½çš„ç”¨ä¾‹æ˜¯å¤„ç†åŒ…å«ç¯å¢ƒå˜é‡çš„æ–‡ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p><pre class="kg kh ki kj gt lr lq ls lt aw lu bi"><span id="7657" class="lv lw iq lq b gy lx ly l lz ma">PORT=8080<br/>API_KEY=lkjsk453lkslfkl5<br/>API_USER=jermaineo</span></pre></div><div class="ab cl nl nm hu nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="ij ik il im in"><p id="8f82" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">è¯·åœ¨è¯„è®ºä¸­ç•™ä¸‹æ‚¨çš„åé¦ˆï¼Œå¹¶è®©æˆ‘çŸ¥é“æ‚¨å¸Œæœ›çœ‹åˆ°æ¥ä¸‹æ¥æ¼”ç¤ºä»€ä¹ˆï¼</p><p id="6f2b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">è®¢é˜…</strong><a class="ae md" href="https://www.youtube.com/channel/UCHSRZk4k6e-hqIXBBM4b2iA?view_as=subscriber" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir">Youtubeé¢‘é“</strong> </a> <strong class="kt ir">äº†è§£Dart </strong>ä¸Šå³å°†æ¨å‡ºçš„è§†é¢‘ã€‚è°¢è°¢ï¼</p><p id="382f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">å–œæ¬¢ï¼Œåˆ†äº«å’Œå…³æ³¨æˆ‘ğŸ˜æœ‰å…³Dartçš„æ›´å¤šå†…å®¹ã€‚</p><p id="ac38" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">å»¶ä¼¸é˜…è¯»:</p><ol class=""><li id="fdef" class="ns nt iq kt b ku kv kx ky la nu le nv li nw lm nx ny nz oa bi translated"><a class="ae md" href="https://api.dartlang.org/stable/2.0.0/dart-io/File-class.html" rel="noopener ugc nofollow" target="_blank">æ–‡ä»¶ç±»</a></li><li id="6e9c" class="ns nt iq kt b ku ob kx oc la od le oe li of lm nx ny nz oa bi translated"><a class="ae md" href="https://dev.to/graphicbeacon/Free%20Dart%20Screencasts%20on%20Egghead.io" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir">å…è´¹é£é•–æˆªå±åœ¨Egghead.io </strong> </a></li></ol></div></div>    
</body>
</html>