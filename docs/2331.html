<html>
<head>
<title>Understanding Angular Reactive Forms</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">äº†è§£è§’ååº”å½¢å¼</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://itnext.io/understanding-angular-reactive-forms-241f9ed42c56?source=collection_archive---------4-----------------------#2019-05-07">https://itnext.io/understanding-angular-reactive-forms-241f9ed42c56?source=collection_archive---------4-----------------------#2019-05-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="e9fc" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">ä¸€ç¯‡æœ‰å®é™…ä¾‹å­çš„æ·±åº¦æ–‡ç« ï¼</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/df7d6039950d1fc476d9a7e734a8e658.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h116XJOV-zU8MsMmNmY-NA.png"/></div></div></figure><blockquote class="ku kv kw"><p id="571a" class="kx ky kz la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="it"> " </em>ååº”å¼è¡¨å•æä¾›äº†ä¸€ç§æ¨¡å‹é©±åŠ¨çš„æ–¹æ³•æ¥å¤„ç†å€¼éšæ—¶é—´å˜åŒ–çš„è¡¨å•è¾“å…¥</p></blockquote><p id="3080" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated">å°½ç®¡ç¬¬ä¸€æ¬¡æ¥è§¦æ—¶ï¼Œè§’ååº”å½¢å¼çœ‹èµ·æ¥å¾ˆå¤æ‚ï¼Œä½†å½“ä½ çœŸæ­£ç†è§£å®ƒæ—¶ï¼Œå®ƒä»¬ä¼šéå¸¸æ£’ã€‚å®ƒä»¬éå¸¸å¼ºå¤§ï¼Œæˆ‘åœ¨è¿™é‡Œçš„ç›®çš„æ˜¯å±•ç¤ºä¸€äº›ä¸å®ƒä»¬ç›¸å…³çš„æœ€é‡è¦çš„ä¸œè¥¿ï¼Œè¿™äº›ä¸œè¥¿åœ¨ç°å®åº”ç”¨ä¸­éå¸¸æœ‰ç”¨ã€‚</p></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><p id="6945" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated">é¦–å…ˆï¼Œä¸ºäº†ä½¿ç”¨å®ƒä»¬ï¼Œæ‚¨éœ€è¦å°†ReactiveFormsModuleå¯¼å…¥åˆ°æ‰€éœ€çš„æ¨¡å—ä¸­ã€‚</p><pre class="kj kk kl km gt me mf mg mh aw mi bi"><span id="84cb" class="mj mk it mf b gy ml mm l mn mo">import { ReactiveFormsModule } from â€˜@angular/formsâ€™;</span></pre><h2 id="8ff8" class="mj mk it bd mp mq mr dn ms mt mu dp mv lu mw mx my lv mz na nb lw nc nd ne nf bi translated">è¡¨å•æ§ä»¶</h2><p id="028c" class="pw-post-body-paragraph kx ky it la b lb ng ju ld le nh jx lg lu ni lj lk lv nj ln lo lw nk lr ls lt im bi translated">ä¸€ä¸ª<strong class="la iu">è¡¨å•æ§ä»¶</strong>æ˜¯ä¸€ä¸ªä¿å­˜è¡¨å•æ¯ä¸ªå±æ€§çš„å€¼å’ŒéªŒè¯çŠ¶æ€çš„ç±»ã€‚å¤§è‡´æ¥è¯´ï¼Œè¡¨å•ä¸­çš„æ¯ä¸ªâ€œè¾“å…¥â€éƒ½å°†å…³è”åˆ°ä¸€ä¸ª<strong class="la iu">è¡¨å•æ§ä»¶</strong>ã€‚</p><pre class="kj kk kl km gt me mf mg mh aw mi bi"><span id="fb4a" class="mj mk it mf b gy ml mm l mn mo">const myFormControl = new FormControl();</span></pre><p id="205c" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated">å½“åˆ›å»ºä¸€ä¸ª<strong class="la iu">è¡¨å•æ§ä»¶</strong>æ—¶ï¼Œä½ å¯ä»¥å°†å‚æ•°ä¼ é€’ç»™æ„é€ å‡½æ•°ã€‚<br/>ä¸‹é¢ï¼Œæˆ‘æ¥ä»‹ç»ä¸€ä¸‹<strong class="la iu">è¡¨å•æ§ä»¶</strong>åˆå§‹åŒ–ç”¨çš„ä¸€äº›æœ€æœ‰ç”¨çš„ã€‚</p><pre class="kj kk kl km gt me mf mg mh aw mi bi"><span id="c05f" class="mj mk it mf b gy ml mm l mn mo">const myFormControl = new FormControl(<br/>    { value: 'My String Value', disabled: true },<br/>    [ Validators.required, Validators.maxLength(30)]<br/>);</span></pre><p id="8122" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated">ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯<em class="kz">è¡¨å•çŠ¶æ€</em>ï¼Œåœ¨å…¶ä¸­æˆ‘ä»¬å¯ä»¥è®¾ç½®<strong class="la iu">è¡¨å•æ§ä»¶</strong> <strong class="la iu">çš„åˆå§‹å€¼</strong>ä»¥åŠæ˜¯å¦åº”è¯¥åˆå§‹ç¦ç”¨<strong class="la iu"/>ã€‚</p><p id="9da2" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated">ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ª<strong class="la iu">éªŒè¯å™¨</strong>çš„æ•°ç»„ï¼Œå½“<strong class="la iu">è¡¨å•æ§ä»¶</strong>éªŒè¯ä¸é€šè¿‡æ—¶ï¼Œå°†å…¶è®¾ç½®ä¸º<strong class="la iu">æ— æ•ˆ</strong>ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ<strong class="la iu">è¡¨å•æ§ä»¶</strong>æ˜¯<strong class="la iu">å¿…å¡«</strong>å­—æ®µï¼Œå…¶<strong class="la iu">æœ€å¤§é•¿åº¦ä¸º30 </strong>ã€‚å¦‚æœè¾“å…¥å€¼ä¸ç¬¦åˆè¿™äº›è¦æ±‚ï¼Œ<strong class="la iu">è¡¨å•æ§åˆ¶</strong>çŠ¶æ€å°†è¢«è®¾ç½®ä¸º<strong class="la iu">æ— æ•ˆ</strong>ã€‚å½“å®ƒå‡ºç°æ—¶ï¼Œå®ƒå°†è¢«è®¾ç½®ä¸º<strong class="la iu">æœ‰æ•ˆ</strong>ã€‚</p><p id="4624" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated">Angularé™„å¸¦äº†ä¸€äº›é€‚åˆå¤§å¤šæ•°éœ€æ±‚çš„é¢„å»ºéªŒè¯å™¨ï¼Œå¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°:<a class="ae nl" href="https://angular.io/api/forms/Validators" rel="noopener ugc nofollow" target="_blank">https://angular.io/api/forms/Validators</a>ã€‚</p><p id="0ce3" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated">ç„¶è€Œï¼Œæœ‰æ—¶ä½ éœ€è¦ä¸€äº›ç‰¹å®šçš„éªŒè¯ï¼Œè€Œé‚£äº›éªŒè¯å™¨å°±æ˜¯ä¸è¡Œã€‚å¯¹äºè¿™äº›æƒ…å†µï¼Œæ‚¨å¯ä»¥åˆ›å»ºè‡ªå·±çš„<strong class="la iu">å®šåˆ¶éªŒè¯å™¨</strong>ã€‚æˆ‘å°†åœ¨æ–‡ç« ä¸­è¿›ä¸€æ­¥è®¨è®ºè¿™ä¸ªé—®é¢˜ã€‚</p><h2 id="f54c" class="mj mk it bd mp mq mr dn ms mt mu dp mv lu mw mx my lv mz na nb lw nc nd ne nf bi translated">å½¢å¼ç»„åˆ</h2><p id="5dbf" class="pw-post-body-paragraph kx ky it la b lb ng ju ld le nh jx lg lu ni lj lk lv nj ln lo lw nk lr ls lt im bi translated">ä¸€ä¸ª<strong class="la iu">è¡¨å•ç»„</strong>åŒ…å«ä¸€ç»„<strong class="la iu">è¡¨å•æ§ä»¶</strong>ã€‚å®ƒä¹Ÿå¯èƒ½æœ‰<strong class="la iu">åµŒå¥—çš„è¡¨å•ç»„</strong>ã€‚å®ƒä»¬è¿˜åŒ…å«å…³äºæ•´ä¸ªç»„çš„éªŒè¯çŠ¶æ€çš„ä¿¡æ¯ã€‚</p><pre class="kj kk kl km gt me mf mg mh aw mi bi"><span id="c486" class="mj mk it mf b gy ml mm l mn mo">const formGroup = new FormGroup({<br/>    'name': new FormControl('', [ Validators.required ]),<br/>    'email': new FormControl('', [ Validators.required ]),<br/>    'address': new FormGroup({<br/>        'zipCode': new FormControl(''),<br/>        'street': new FormControl(''),<br/>        'number': new FormControl('')<br/>    )<br/>});</span></pre><p id="3685" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated">ä¾‹å¦‚ï¼Œåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ<strong class="la iu">è¡¨å•ç»„</strong>çš„çŠ¶æ€åªæœ‰åœ¨<em class="kz">åç§°</em>å’Œ<em class="kz">ç”µå­é‚®ä»¶</em>å±æ€§è¢«å¡«å……æ—¶æ‰æœ‰æ•ˆã€‚</p><p id="498b" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated">åœ¨æˆ‘ä»¬çš„ç»„ä»¶ä¸­åˆ›å»ºäº†ä¸€ä¸ª<strong class="la iu">è¡¨å•ç»„</strong>ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥å°†å®ƒç»‘å®šåˆ°HTMLä¸­çš„ä¸€ä¸ªè¡¨å•ã€‚ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†å¦‚ä½•å®ç°è¿™ä¸€ç‚¹:</p><pre class="kj kk kl km gt me mf mg mh aw mi bi"><span id="a910" class="mj mk it mf b gy ml mm l mn mo">&lt;form [formGroup]="formGroup" &gt;<br/>  &lt;h1&gt;User Profile Form&lt;/h1&gt;</span><span id="c6ee" class="mj mk it mf b gy nm mm l mn mo">  &lt;input required<br/>    type="text"<br/>    placeholder="Full Name"<br/>    formControlName="name"<br/>  /&gt;</span><span id="1691" class="mj mk it mf b gy nm mm l mn mo">  &lt;input required<br/>    type="text"<br/>    placeholder="E-mail"<br/>    formControlName="email"<br/>  /&gt;</span><span id="b39d" class="mj mk it mf b gy nm mm l mn mo">  &lt;div formGroupName="address" &gt;<br/>    &lt;input required<br/>      type="text"<br/>      placeholder="Zipcode"<br/>      formControlName="zipcode"<br/>    /&gt;</span><span id="6805" class="mj mk it mf b gy nm mm l mn mo">    &lt;input required<br/>      type="text"<br/>      placeholder="Street"<br/>      formControlName="street"<br/>    /&gt;</span><span id="344c" class="mj mk it mf b gy nm mm l mn mo">    &lt;input required<br/>      type="number"<br/>      placeholder="Number"<br/>      formControlName="number"<br/>    /&gt;<br/>  &lt;/div&gt;<br/>&lt;/form&gt;</span></pre><p id="45f4" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated">å¦‚å›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬é¦–å…ˆå°†è¡¨å•ç»‘å®šåˆ°åˆ›å»ºçš„<strong class="la iu">è¡¨å•ç»„</strong>ã€‚ç„¶åï¼Œå¯¹äºæ¯ä¸ªè¾“å…¥ï¼Œæˆ‘ä»¬ç»‘å®šä¸€ä¸ª<strong class="la iu">è¡¨å•æ§ä»¶</strong>ã€‚ç”±äºæˆ‘ä»¬æœ‰ä¸€ä¸ª<strong class="la iu">åµŒå¥—çš„è¡¨å•ç»„</strong>ï¼Œæˆ‘ä»¬å¿…é¡»ä¸ºå®ƒè®¾ç½®ä¸€ä¸ªåŒºåŸŸ<em class="kz"> formGroupNameã€‘ï¼Œ</em>è®©AngularçŸ¥é“é‚£ä¸ªåŒºåŸŸä¸­çš„<strong class="la iu">è¡¨å•æ§ä»¶</strong>åœ¨é‚£ä¸ªåµŒå¥—çš„è¡¨å•ç»„ä¸­<strong class="la iu">ã€‚</strong></p><h2 id="4f81" class="mj mk it bd mp mq mr dn ms mt mu dp mv lu mw mx my lv mz na nb lw nc nd ne nf bi translated">è¯»å–è¡¨å•æ§ä»¶å€¼</h2><p id="261d" class="pw-post-body-paragraph kx ky it la b lb ng ju ld le nh jx lg lu ni lj lk lv nj ln lo lw nk lr ls lt im bi translated">ä½¿ç”¨<strong class="la iu">è¡¨å•ç»„çš„</strong>æ–¹æ³•<em class="kz"> get </em>æ‚¨å¯ä»¥é€‰æ‹©ä¸€ä¸ªç‰¹å®šçš„<strong class="la iu">è¡¨å•æ§ä»¶</strong>ä»¥è¯»å–å…¶å€¼æˆ–è°ƒç”¨å…¶ä¸€äº›æ–¹æ³•ã€‚ä¸‹é¢æ˜¯æ‚¨å¦‚ä½•è¯»å–å®ƒçš„å€¼ï¼Œå¹¶ä¸”æˆ‘ä»¬å°†è¿›ä¸€æ­¥æ·±å…¥åˆ°æ‚¨å¯ä»¥ä½¿ç”¨çš„ä¸€äº›æ–¹æ³•ä¸­ã€‚</p><pre class="kj kk kl km gt me mf mg mh aw mi bi"><span id="37b6" class="mj mk it mf b gy ml mm l mn mo">const inputtedName = formGroup.get('name').value;</span><span id="944e" class="mj mk it mf b gy nm mm l mn mo">const inputtedZipCode = formGroup.get('address.zipCode').value;</span></pre><p id="35da" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated">å¦å¤–ï¼Œåœ¨æ‚¨çš„HTMLä¸­:</p><pre class="kj kk kl km gt me mf mg mh aw mi bi"><span id="43ec" class="mj mk it mf b gy ml mm l mn mo">&lt;p&gt;Inputted Name: {{ formGroup.get('name').value }}&lt;/p&gt;</span><span id="f2de" class="mj mk it mf b gy nm mm l mn mo">&lt;p&gt;Inputted ZIP: {{ formGroup.get('address.zipCode').value }}&lt;/p&gt;</span></pre><h2 id="d639" class="mj mk it bd mp mq mr dn ms mt mu dp mv lu mw mx my lv mz na nb lw nc nd ne nf bi translated">å½¢æˆæ•°ç»„</h2><p id="46ec" class="pw-post-body-paragraph kx ky it la b lb ng ju ld le nh jx lg lu ni lj lk lv nj ln lo lw nk lr ls lt im bi translated">ä¸€ä¸ª<strong class="la iu">è¡¨å•æ•°ç»„</strong>åŒ…å«ä¸€ä¸ª <strong class="la iu">è¡¨å•æ§ä»¶</strong>ã€<strong class="la iu">è¡¨å•ç»„</strong>ç”šè‡³<strong class="la iu">è¡¨å•æ•°ç»„</strong>çš„<strong class="la iu">æ•°ç»„ã€‚è¿™æ˜¯ä¸€ä¸ªåŸºæœ¬ä½†å¿…è¦çš„ç»“æ„ï¼Œç”¨äºå¤„ç†å…·æœ‰è§’å½¢çš„æ•°ç»„ã€‚å‡è®¾ä½ æƒ³æ”¶é›†ä¸€ä¸ªç”¨æˆ·çš„ç”µè¯å·ç ï¼Œå…è®¸ä»–è¾“å…¥ä¸€ä¸ªä¸»è¦å·ç å’Œä¸€ä¸ªæ¬¡è¦å·ç ã€‚è¿™å°±æ˜¯ä½ å¦‚ä½•åœ¨ä½ çš„<strong class="la iu">çª—ä½“ç»„</strong>ä¸­å£°æ˜ä¸€ä¸ª<em class="kz">æ‰‹æœº</em> <strong class="la iu"> <em class="kz"> </em>çª—ä½“æ•°ç»„</strong>:</strong></p><pre class="kj kk kl km gt me mf mg mh aw mi bi"><span id="e7eb" class="mj mk it mf b gy ml mm l mn mo">const formGroup = new FormGroup({<br/>    'phones': new FormArray([<br/>        new FormGroup({<br/>            'number': new FormControl('', [ Validators.required ]),<br/>            'type': new FormControl('Primary')<br/>        }),<br/>        new FormGroup({<br/>            'number': new FormControl(''),<br/>            'type': new FormControl('Secondary')<br/>        })<br/>    ])<br/>});</span></pre><p id="db9f" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated">ç„¶åï¼Œè¿™å°±æ˜¯å¦‚ä½•è®¾ç½®æ‚¨çš„æ ‡è®°ï¼Œæä¾›ä¸€ä¸ªå°†ä¸ºè¡¨å•æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ å‘ˆç°çš„å¾ªç¯:</p><pre class="kj kk kl km gt me mf mg mh aw mi bi"><span id="f64d" class="mj mk it mf b gy ml mm l mn mo">&lt;form [formGroup]="formGroup" &gt;<br/>  &lt;h1&gt;User Phones&lt;/h1&gt;</span><span id="5aae" class="mj mk it mf b gy nm mm l mn mo">  &lt;div class="phones"<br/>    *ngFor="let phoneGroup of formGroup.get('phones')['controls'];<br/>            let i = index"<br/>    formArrayName="phones"<br/>  &gt;<br/>    &lt;ng-container [formGroupName]="i" &gt;</span><span id="9d72" class="mj mk it mf b gy nm mm l mn mo">      &lt;p&gt;Phone Type: {{ phoneGroup.get('type').value }}&lt;/p&gt;</span><span id="a840" class="mj mk it mf b gy nm mm l mn mo">      &lt;input<br/>        type="tel"<br/>        placeholder="Phone number"<br/>        formControlName="number"<br/>      /&gt;</span><span id="b777" class="mj mk it mf b gy nm mm l mn mo">    &lt;/ng-container&gt;<br/>  &lt;/div&gt;<br/>&lt;/form&gt;</span></pre><h2 id="cfc8" class="mj mk it bd mp mq mr dn ms mt mu dp mv lu mw mx my lv mz na nb lw nc nd ne nf bi translated">æ›´æ–°è¡¨å•å€¼</h2><p id="8506" class="pw-post-body-paragraph kx ky it la b lb ng ju ld le nh jx lg lu ni lj lk lv nj ln lo lw nk lr ls lt im bi translated"><strong class="la iu"> <em class="kz">è®¾å®šå€¼</em> </strong>å’Œ<strong class="la iu"> <em class="kz">è¡¥ä¸å€¼</em> </strong>æ˜¯æ¥è‡ªè§’åº¦ååº”è¡¨å•çš„æ–¹æ³•ï¼Œå…è®¸æ‚¨è®¾ç½®<strong class="la iu">è¡¨å•ç»„</strong> <strong class="la iu">æ§ä»¶</strong>çš„å€¼ã€‚</p><p id="66c5" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated">ä½¿ç”¨<strong class="la iu"> <em class="kz"> setValue </em> </strong>æ‚¨å¿…é¡»æä¾›å®Œæ•´çš„å¯¹è±¡ï¼Œè¯¥å¯¹è±¡å°†æŸ¥æ‰¾æ‰€æœ‰<strong class="la iu">è¡¨å•ç»„çš„</strong>å±æ€§å¹¶è¦†ç›–<strong class="la iu">è¡¨å•æ§ä»¶çš„</strong>å€¼ã€‚å¦‚æœæ²¡æœ‰æä¾›ä¸€ä¸ªåŒ…å«æ‰€æœ‰<strong class="la iu">è¡¨å•ç»„</strong>å±æ€§çš„å¯¹è±¡ï¼Œå®ƒå°†æ— æ³•å·¥ä½œã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨ç¤ºä¾‹ã€‚</p><pre class="kj kk kl km gt me mf mg mh aw mi bi"><span id="fcee" class="mj mk it mf b gy ml mm l mn mo">const formGroup = new FormGroup({<br/>    'name': new FormControl('', [ Validators.required ]),<br/>    'email': new FormControl('', [ Validators.required ]),<br/>    'address': new FormGroup({<br/>        'zipCode': new FormControl(''),<br/>        'street': new FormControl(''),<br/>        'number': new FormControl('')<br/>    )<br/>});</span><span id="c22a" class="mj mk it mf b gy nm mm l mn mo">const updatedUserInfo = <em class="kz">{<br/>  </em>'name': 'Leonardo Giroto',<br/>  'email': 'leonardo@email.com',<br/>  'address': {<br/>    'zipCode': '22630-010',<br/>    'street': 'Avenida Lucio Costa',<br/>    'number': 9999<br/>  }<em class="kz"><br/>};</em></span><span id="fe73" class="mj mk it mf b gy nm mm l mn mo"><em class="kz">formGroup.setValue( </em>updatedUserInfo <em class="kz">);</em></span></pre><p id="7c0c" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated">å¦ä¸€æ–¹é¢ï¼Œ<strong class="la iu"> <em class="kz"> patchValue </em> </strong>æ–¹æ³•å¯ç”¨äºè¦†ç›–<strong class="la iu">è¡¨å•ç»„</strong>ä¸Šå·²æ›´æ”¹çš„ä»»ä½•ä¸€ç»„å±æ€§ã€‚å› æ­¤ï¼Œå½“æ›´æ–°<strong class="la iu">è¡¨å•æ§ä»¶çš„</strong>å€¼æ—¶ï¼Œæ‚¨å¯ä»¥åªä¼ é€’ä¸€äº›å­—æ®µã€‚</p><p id="63ae" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated">ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨ç¤ºä¾‹ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨å®ƒåªæ›´æ–°æˆ‘ä»¬çš„<strong class="la iu">è¡¨å•ç»„</strong>çš„åœ°å€éƒ¨åˆ†æ—¶ã€‚</p><pre class="kj kk kl km gt me mf mg mh aw mi bi"><span id="6869" class="mj mk it mf b gy ml mm l mn mo">const formGroup = new FormGroup({<br/>    'name': new FormControl('', [ Validators.required ]),<br/>    'email': new FormControl('', [ Validators.required ]),<br/>    'address': new FormGroup({<br/>        'zipCode': new FormControl(''),<br/>        'street': new FormControl(''),<br/>        'number': new FormControl('')<br/>    )<br/>});</span><span id="2ecf" class="mj mk it mf b gy nm mm l mn mo">const newUserAddress = {<br/>  'zipCode': '01306-001',<br/>  'street': 'Rua Avanhandava',<br/>  'number': 999<br/>};</span><span id="a7e9" class="mj mk it mf b gy nm mm l mn mo"><em class="kz">formGroup.patchValue({</em><br/>  'address': newUserAddress<em class="kz"><br/>});</em></span></pre><p id="90f7" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated">æ³¨æ„åˆ°<strong class="la iu"> <em class="kz"> setValue </em> </strong>æ–¹æ³•ä¸ä»…å¯ä»¥åœ¨æ•´ä¸ª<strong class="la iu">è¡¨å•ç»„</strong>ä¸­ä½¿ç”¨ï¼Œè€Œä¸”<strong class="la iu">ä¹Ÿå¯ä»¥åœ¨è¡¨å•æ§ä»¶</strong>ä¸­ä½¿ç”¨ã€‚å› æ­¤ï¼Œæ‚¨å¯ä»¥é€šè¿‡åœ¨<strong class="la iu">è¡¨å•æ§ä»¶</strong>ä¸Šç›´æ¥è°ƒç”¨å®ƒæ¥ä½¿ç”¨å®ƒæ›´æ–°å•ä¸ªæ§ä»¶å€¼ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚</p><pre class="kj kk kl km gt me mf mg mh aw mi bi"><span id="e160" class="mj mk it mf b gy ml mm l mn mo">formGroup.get('email').setValue('new_email@email.com');</span></pre><h2 id="dc25" class="mj mk it bd mp mq mr dn ms mt mu dp mv lu mw mx my lv mz na nb lw nc nd ne nf bi translated">è¡¨å•éªŒè¯çŠ¶æ€</h2><p id="619b" class="pw-post-body-paragraph kx ky it la b lb ng ju ld le nh jx lg lu ni lj lk lv nj ln lo lw nk lr ls lt im bi translated">å½“åˆ›å»ºä¸€ä¸ªå¸¦æœ‰éªŒè¯å™¨çš„<strong class="la iu">è¡¨å•ç»„</strong>æ—¶ï¼Œå¦‚å‰æ‰€ç¤ºï¼Œæ ¹æ®å…¶<strong class="la iu">è¡¨å•æ§ä»¶</strong>ä¿å­˜çš„å€¼ï¼Œå®ƒå°†åŒ…å«å…³äºå½“å‰<strong class="la iu">è¡¨å•éªŒè¯çŠ¶æ€</strong>çš„ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬åœ¨<strong class="la iu">è¡¨å•æ§ä»¶</strong>ä¸Šæœ‰<em class="kz">å¿…éœ€çš„</em>éªŒè¯å™¨ï¼Œå¹¶ä¸”æ‰€æœ‰å€¼éƒ½ä¸ºç©ºï¼Œé‚£ä¹ˆè¡¨å•å°†è¢«è®¾ç½®ä¸º<em class="kz">æ— æ•ˆ</em>ã€‚</p><pre class="kj kk kl km gt me mf mg mh aw mi bi"><span id="1be4" class="mj mk it mf b gy ml mm l mn mo">const isFormValid = formGroup.valid;</span><span id="faf6" class="mj mk it mf b gy nm mm l mn mo">const isEmailValid = formGroup.get('email').valid;</span></pre><p id="4910" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated">ä»¥ä¸Šæ˜¯å¦‚ä½•æ£€æŸ¥ä¸€ä¸ª<strong class="la iu">è¡¨å•ç»„</strong>æ˜¯å¦æœ‰æ•ˆã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ¯ä¸ª<strong class="la iu">è¡¨å•æ§ä»¶</strong>éƒ½æœ‰ä¸€ä¸ªéªŒè¯çŠ¶æ€ã€‚å› æ­¤ï¼Œå¦‚æœä»»ä½•ä¸€ä¸ªè¡¨å•æ§ä»¶éªŒè¯çŠ¶æ€ä¸º<em class="kz">æ— æ•ˆ</em>æ— æ•ˆï¼Œåˆ™<strong class="la iu">è¡¨å•ç»„éªŒè¯çŠ¶æ€ä¸º<em class="kz">æ— æ•ˆ</em>ã€‚</strong></p><p id="7e34" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated">å¦ä¸€ä¸ªæœ‰è¶£çš„åŠŸèƒ½æ˜¯é€‰æ‹©<strong class="la iu">æ‰‹åŠ¨è®¾ç½®è¯¯å·®</strong>ã€‚å¦‚æœæ‚¨ç¢°å·§éœ€è¦åœ¨æ‚¨çš„æµç¨‹ä¸­æ‰‹åŠ¨è®¾ç½®ä¸€ä¸ª<strong class="la iu">è¡¨å•æ§ä»¶</strong>ä¸º<em class="kz">æ— æ•ˆ</em>è€Œä¸è€ƒè™‘éªŒè¯å™¨ï¼Œé‚£ä¹ˆæ‚¨åº”è¯¥è¿™æ ·åš:</p><pre class="kj kk kl km gt me mf mg mh aw mi bi"><span id="f89d" class="mj mk it mf b gy ml mm l mn mo">formGroup.get('email').setErrors({ 'incorrect': true });</span></pre><p id="64e5" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated">è¯¥å˜æ›´å°†æ›´æ–°<strong class="la iu">è¡¨å•æ§ä»¶éªŒè¯çŠ¶æ€</strong>ï¼Œå¹¶å› æ­¤æ›´æ–°å…¶<strong class="la iu">è¡¨å•ç»„</strong>ã€‚åŒæ ·ï¼Œæ‚¨ä¹Ÿå¯ä»¥é€šè¿‡å°†<strong class="la iu">è¡¨å•æ§ä»¶çš„</strong>é”™è¯¯è®¾ç½®ä¸º<em class="kz"> null </em>æ¥æ¸…é™¤å®ƒä»¬ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p><pre class="kj kk kl km gt me mf mg mh aw mi bi"><span id="3ebe" class="mj mk it mf b gy ml mm l mn mo">formGroup.get('email').setErrors(null);</span></pre><h2 id="0e5f" class="mj mk it bd mp mq mr dn ms mt mu dp mv lu mw mx my lv mz na nb lw nc nd ne nf bi translated">æ„ŸåŠ¨&amp;è‚®è„</h2><blockquote class="ku kv kw"><p id="e5d4" class="kx ky kz la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">æ‚¨å¯èƒ½ä¸å¸Œæœ›åº”ç”¨ç¨‹åºåœ¨ç”¨æˆ·æœ‰æœºä¼šç¼–è¾‘è¡¨å•ä¹‹å‰æ˜¾ç¤ºé”™è¯¯ã€‚å¯¹<strong class="la iu">å˜è„</strong>å’Œ<strong class="la iu">è¢«è§¦æ‘¸</strong>çš„æ£€æŸ¥é˜²æ­¢é”™è¯¯æ˜¾ç¤ºï¼Œç›´åˆ°ç”¨æˆ·åšä»¥ä¸‹ä¸¤ä»¶äº‹ä¹‹ä¸€:æ”¹å˜å€¼ï¼Œå°†æ§ä»¶å˜è„ï¼›æˆ–è€…æ¨¡ç³Šè¡¨å•æ§ä»¶å…ƒç´ ï¼Œå°†æ§ä»¶è®¾ç½®ä¸ºtouchedã€‚</p></blockquote><p id="3cd8" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated">æ£€æŸ¥<strong class="la iu">è¡¨å•æ§ä»¶çš„â€œå·²è§¦æ‘¸</strong>å’Œ<strong class="la iu">è„</strong>çŠ¶æ€éå¸¸ç®€å•ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤º:</p><pre class="kj kk kl km gt me mf mg mh aw mi bi"><span id="7481" class="mj mk it mf b gy ml mm l mn mo">const isDirty = formGroup.get('email').dirty;</span><span id="9bba" class="mj mk it mf b gy nm mm l mn mo">const isTouched = formGroup.get('email').touched;</span></pre><h2 id="ba79" class="mj mk it bd mp mq mr dn ms mt mu dp mv lu mw mx my lv mz na nb lw nc nd ne nf bi translated">è§‚å¯Ÿå˜åŒ–</h2><p id="f07d" class="pw-post-body-paragraph kx ky it la b lb ng ju ld le nh jx lg lu ni lj lk lv nj ln lo lw nk lr ls lt im bi translated">ä¸€ä¸ªéå¸¸æœ‰è¶£çš„ç‰¹æ€§æ˜¯èƒ½å¤Ÿè®©<em class="kz">è®¢é˜…</em>å¯¹<strong class="la iu">è¡¨å•ç»„</strong>æˆ–<strong class="la iu">è¡¨å•æ§ä»¶</strong>çš„æ›´æ”¹ã€‚è¿™ä¸ªæƒ³æ³•éå¸¸ç®€å•:ä½ è®¾ç½®ä¸€ä¸ªè®¢é˜…ï¼Œæ¯æ¬¡çª—ä½“(æˆ–æ§ä»¶)ä¸Šçš„å€¼æ”¹å˜æ—¶ï¼Œå›è°ƒå‡½æ•°è¢«è§¦å‘ï¼Œä½ å¯ä»¥åœ¨é‚£é‡Œè®¾ç½®é€»è¾‘ã€‚è¿™æ˜¯æ‚¨è®¾ç½®è¿™äº›è®¢é˜…çš„æ–¹å¼:</p><pre class="kj kk kl km gt me mf mg mh aw mi bi"><span id="319f" class="mj mk it mf b gy ml mm l mn mo">formGroup.valueChanges.subscribe((val) =&gt; {<br/>   // The form has changed. Insert here your logic!<br/>});</span></pre><p id="ef8b" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated">æˆ‘å‘ç°å®ƒéå¸¸æœ‰ç”¨çš„ä¸€ä¸ªå®ä¾‹æ˜¯åœ°å€æœç´¢APIé›†æˆã€‚å‡è®¾æ‚¨æœ‰ä¸€ä¸ªä¾›ç”¨æˆ·æä¾›é‚®æ”¿ç¼–ç çš„è¾“å…¥ã€‚æ‚¨å¯ä»¥å°†ä¸€ä¸ª<em class="kz">è®¢é˜…</em>æ·»åŠ åˆ°å®ƒçš„æ§ä»¶ä¸­ï¼Œä¸€æ—¦æ‚¨æ”¶åˆ°ä¸€ä¸ªæœ‰æ•ˆçš„é‚®æ”¿ç¼–ç ï¼Œæ‚¨å°±å¯ä»¥è°ƒç”¨åœ°å€æœç´¢APIï¼Œå¹¶ç”¨å®ƒçš„å“åº”å¡«å……å…¶ä»–åœ°å€å­—æ®µï¼›åœ°å€ã€åŸå¸‚ã€ç¤¾åŒºç­‰ã€‚</p><pre class="kj kk kl km gt me mf mg mh aw mi bi"><span id="c534" class="mj mk it mf b gy ml mm l mn mo">formGroup.get(<br/>  'address.zipCode'<br/>).valueChanges.subscribe(async (val) =&gt; {<br/>  const fullAddress = await _service.getFullAddress(val);<br/>  formGroup.get('address.street').setValue(fullAddress.street);<br/>});</span></pre><h2 id="3468" class="mj mk it bd mp mq mr dn ms mt mu dp mv lu mw mx my lv mz na nb lw nc nd ne nf bi translated">è‡ªå®šä¹‰éªŒè¯ç¨‹åº</h2><p id="396b" class="pw-post-body-paragraph kx ky it la b lb ng ju ld le nh jx lg lu ni lj lk lv nj ln lo lw nk lr ls lt im bi translated">æ­£å¦‚æˆ‘ä¹‹å‰è¯´è¿‡çš„ï¼Œåˆ›å»ºä½ è‡ªå·±çš„<strong class="la iu">è‡ªå®šä¹‰éªŒè¯å™¨</strong>æ¥æœåŠ¡äºç‰¹å®šçš„ç›®çš„æ˜¯å¯èƒ½çš„ã€‚å¤§è‡´æ¥è¯´ï¼Œ<em class="kz">éªŒè¯å™¨</em>æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¥æ”¶<strong class="la iu">è¡¨å•æ§ä»¶</strong>ä½œä¸ºå‚æ•°ï¼Œå¦‚æœæœ‰æ•ˆåˆ™è¿”å›<em class="kz"> null </em>ï¼Œå¦‚æœæ— æ•ˆåˆ™è¿”å›<em class="kz">é”™è¯¯å¯¹è±¡</em>ã€‚</p><p id="82cf" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated">ä¸‹é¢æ˜¯ä¸€ä¸ª<strong class="la iu">è‡ªå®šä¹‰éªŒè¯å™¨</strong>çš„ä¾‹å­ã€‚åˆ›å»ºè¯¥æ–‡ä»¶æ˜¯ä¸ºäº†éªŒè¯æ‰€æä¾›çš„<em class="kz"> CPF </em>ç¼–å·<em class="kz"> </em>(å·´è¥¿æ–‡ä»¶)æ˜¯å¦æœ‰æ•ˆã€‚</p><pre class="kj kk kl km gt me mf mg mh aw mi bi"><span id="02bd" class="mj mk it mf b gy ml mm l mn mo">public static CPFValidator(control) {<br/>  if (!control || !control.value) return null;</span><span id="d8dc" class="mj mk it mf b gy nm mm l mn mo">  return isCPFValid(control.value) ?<br/>    null : { 'invalidCnpj': 'invalid cpf' };<br/>}</span><span id="8cab" class="mj mk it mf b gy nm mm l mn mo">function isCPFValid(cpf) {<br/>  const regex = /[.-\s]/g;<br/>  let strCPF = cpf.replace(regex, '');<br/>  let Soma = 0;<br/>  let Resto;</span><span id="80d0" class="mj mk it mf b gy nm mm l mn mo">  for (let i = 1; i &lt;= 9; i++) {<br/>    Soma = Soma + parseInt(strCPF.substring(i - 1, i)) * (11 - i);<br/>    Resto = (Soma * 10) % 11;<br/>  }</span><span id="3d6f" class="mj mk it mf b gy nm mm l mn mo">  if ((Resto === 10) || (Resto === 11))<br/>    Resto = 0;</span><span id="8b78" class="mj mk it mf b gy nm mm l mn mo">  if (Resto !== parseInt(strCPF.substring(9, 10)))<br/>    return false;</span><span id="c02e" class="mj mk it mf b gy nm mm l mn mo">  Soma = 0;</span><span id="0bad" class="mj mk it mf b gy nm mm l mn mo">  for (let i = 1; i &lt;= 10; i++) {<br/>    Soma = Soma + parseInt(strCPF.substring(i - 1, i)) * (12 - i);<br/>    Resto = (Soma * 10) % 11;<br/>  }</span><span id="e3b4" class="mj mk it mf b gy nm mm l mn mo">  if ((Resto === 10) || (Resto === 11))<br/>    Resto = 0;</span><span id="0f43" class="mj mk it mf b gy nm mm l mn mo">  if (Resto !== parseInt(strCPF.substring(10, 11)))<br/>    return false;<br/>  return true;<br/>}</span></pre><p id="d345" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated">è¿™å°±æ˜¯ä½ å¦‚ä½•åœ¨<strong class="la iu">è¡¨å•æ§ä»¶çš„</strong>å£°æ˜ä¸­ä½¿ç”¨å®ƒ:</p><pre class="kj kk kl km gt me mf mg mh aw mi bi"><span id="ddeb" class="mj mk it mf b gy ml mm l mn mo">const formGroup = new FormGroup({<br/>    'name': new FormControl('', [ Validators.required ]),<br/>    'cpf': new FormControl('',<br/>        [ Validators.required, CPFValidator ]<br/>    )<br/>})</span></pre></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><p id="ae77" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated">è§’ååº”å½¢å¼æ˜¯éå¸¸å¼ºå¤§çš„ï¼Œå…¶æ–‡ä»¶æ˜¯éå¸¸å®Œæ•´çš„ã€‚å³ä½¿æœ‰æ—¶å€™ä½ ä¸å¾—ä¸æ·±å…¥æŒ–æ˜æ‰èƒ½æ‰¾åˆ°ä½ æƒ³è¦çš„ä¸œè¥¿ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡ä¸€äº›ä¾‹å­æ‰¾åˆ°å®ƒã€‚</p><p id="01bb" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated">å¸Œæœ›æœ‰å¸®åŠ©ğŸ˜‰</p><h2 id="f712" class="mj mk it bd mp mq mr dn ms mt mu dp mv lu mw mx my lv mz na nb lw nc nd ne nf bi translated">å‚è€ƒèµ„æ–™:</h2><p id="9492" class="pw-post-body-paragraph kx ky it la b lb ng ju ld le nh jx lg lu ni lj lk lv nj ln lo lw nk lr ls lt im bi translated"><a class="ae nl" href="https://angular.io/guide/reactive-forms" rel="noopener ugc nofollow" target="_blank">https://angular.io/guide/reactive-forms</a></p></div></div>    
</body>
</html>