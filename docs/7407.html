<html>
<head>
<title>Kubernetes Ingress &amp; Examples</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Kuberneteså…¥å£å’Œç¤ºä¾‹</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://itnext.io/kubernetes-ingress-examples-f71ac22e9cfe?source=collection_archive---------1-----------------------#2022-09-14">https://itnext.io/kubernetes-ingress-examples-f71ac22e9cfe?source=collection_archive---------1-----------------------#2022-09-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="fd8e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">åœ¨Azure KubernetesæœåŠ¡ä¸Šè®¾ç½®NGINX</h2></div><p id="847e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†æ¢ç´¢Kubernetes (K8S)ä¸­çš„Ingresså¯¹è±¡ï¼Œå¹¶é€šè¿‡ä¸€äº›ç¤ºä¾‹æ¥äº†è§£å¦‚ä½•ä½¿ç”¨å®ƒã€‚ç„¶åï¼Œæˆ‘ä»¬å°†ä¸€æ­¥ä¸€æ­¥åœ°é€šè¿‡Azure KubernetesæœåŠ¡(AKS)è®¾ç½®NGINXå…¥å£æ§åˆ¶å™¨ã€‚</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi le"><img src="../Images/bc8cab7042fe16d8bb5d067cde6cec72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BLPJmyA5ICiBJMS2MdOWew.jpeg"/></div></div><figcaption class="lq lr gj gh gi ls lt bd b be z dk translated">åœ¨<a class="ae lu" href="https://unsplash.com/s/photos/containers?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šç”±<a class="ae lu" href="https://unsplash.com/@inidianaa?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Tri Eptaroka Mardiana </a>æ‹æ‘„çš„ç…§ç‰‡</figcaption></figure><h2 id="2015" class="lv lw it bd lx ly lz dn ma mb mc dp md kr me mf mg kv mh mi mj kz mk ml mm mn bi translated">Kubernetesä¸­çš„Ingressæ˜¯ä»€ä¹ˆï¼Ÿ</h2><p id="86d8" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">K8Sä¸­çš„Ingressæ˜¯ä¸€ä¸ªå…è®¸ä»é›†ç¾¤å¤–éƒ¨è®¿é—®é›†ç¾¤ä¸­çš„æœåŠ¡çš„å¯¹è±¡ã€‚</p><p id="390b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">kubernetes.ioä¸Šçš„å®˜æ–¹æ–‡æ¡£æè¿°äº†Ingress:</p><blockquote class="mt mu mv"><p id="ec7b" class="ki kj mw kk b kl km ju kn ko kp jx kq mx ks kt ku my kw kx ky mz la lb lc ld im bi translated">ç®¡ç†å¯¹ç¾¤é›†ä¸­æœåŠ¡çš„å¤–éƒ¨è®¿é—®çš„APIå¯¹è±¡ï¼Œé€šå¸¸æ˜¯HTTPã€‚Ingresså¯ä»¥æä¾›è´Ÿè½½å¹³è¡¡ã€SSLç»ˆæ­¢å’ŒåŸºäºåç§°çš„è™šæ‹Ÿä¸»æœºã€‚</p></blockquote><p id="5516" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æµé‡è·¯ç”±ç”±å…¥å£èµ„æºä¸ŠæŒ‡å®šçš„è§„åˆ™å®šä¹‰ã€‚</p><p id="552a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å…¥å£å¯¹è±¡æ˜¯æŒ‡å…è®¸HTTPæˆ–HTTPSæµé‡é€šè¿‡æ‚¨çš„é›†ç¾¤æœåŠ¡ã€‚å®ƒä»¬ä¸ä¼šå‘å¤–ç•Œå…¬å¼€å…¶ä»–ç«¯å£æˆ–åè®®ã€‚ä¸ºæ­¤ï¼Œåº”è¯¥ä½¿ç”¨è´Ÿè½½å¹³è¡¡å™¨æˆ–èŠ‚ç‚¹ç«¯å£çš„æœåŠ¡ç±»å‹ã€‚</p><p id="e148" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æœåŠ¡æ˜¯ä¸€ç»„é€»è¾‘å•å…ƒçš„å¤–éƒ¨æ¥å£ã€‚æœåŠ¡ä½¿ç”¨ç¾¤é›†æœ¬åœ°çš„â€œè™šæ‹ŸIPåœ°å€â€,å¦‚æœæ²¡æœ‰å…¥å£ï¼Œå¤–éƒ¨æœåŠ¡å°†æ— æ³•è®¿é—®è¿™äº›IPåœ°å€ã€‚</p><h2 id="4de9" class="lv lw it bd lx ly lz dn ma mb mc dp md kr me mf mg kv mh mi mj kz mk ml mm mn bi translated">å…¥å£ã€è´Ÿè½½å¹³è¡¡å™¨å’ŒèŠ‚ç‚¹ç«¯å£</h2><p id="5460" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">å…¥å£ã€è´Ÿè½½å¹³è¡¡å™¨å’ŒèŠ‚ç‚¹ç«¯å£éƒ½æ˜¯å…¬å¼€K8Sé›†ç¾¤ä¸­çš„æœåŠ¡ä»¥ä¾›å¤–éƒ¨ä½¿ç”¨çš„æ–¹å¼ã€‚</p><p id="8ad7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">NodePortå’ŒLoadBalancerå…è®¸æ‚¨é€šè¿‡åœ¨æœåŠ¡ç±»å‹ä¸­æŒ‡å®šå€¼æ¥å…¬å¼€æœåŠ¡ã€‚</p><p id="85cb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">é€šè¿‡ä¸€ä¸ª<strong class="kk iu">èŠ‚ç‚¹ç«¯å£</strong>ï¼ŒK8Såœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šä¸ºæŒ‡å®šçš„æœåŠ¡åˆ†é…ä¸€ä¸ªç‰¹å®šçš„ç«¯å£ã€‚é›†ç¾¤åœ¨ç«¯å£ä¸Šæ”¶åˆ°çš„ä»»ä½•è¯·æ±‚éƒ½ä¼šè¢«è½¬å‘ç»™æœåŠ¡ã€‚</p><p id="6cd5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä½¿ç”¨<strong class="kk iu">è´Ÿè½½å¹³è¡¡å™¨</strong>ï¼Œéœ€è¦åœ¨K8Sé›†ç¾¤ä¹‹å¤–æœ‰ä¸€ä¸ªå¤–éƒ¨æœåŠ¡æ¥æä¾›å…¬å…±IPåœ°å€ã€‚åœ¨Azureä¸­ï¼Œè¿™å°†æ˜¯Azure KubernetesæœåŠ¡(AKS)é›†ç¾¤å‰é¢çš„Azureåº”ç”¨ç¨‹åºç½‘å…³ã€‚åœ¨AWSä¸­ï¼Œè¿™å°†æ˜¯ä½ çš„å¼¹æ€§KubernetesæœåŠ¡(EKS)å‰é¢çš„åº”ç”¨è´Ÿè½½å¹³è¡¡å™¨(ALB ),è€Œåœ¨Google cloudä¸­ï¼Œè¿™å°†æ˜¯ä½ çš„Google Kuberneteså¼•æ“(GKE)é›†ç¾¤å‰é¢çš„ç½‘ç»œè´Ÿè½½å¹³è¡¡å™¨ã€‚æ¯æ¬¡å…¬å¼€æ–°æœåŠ¡æ—¶ï¼Œéƒ½éœ€è¦åˆ›å»ºä¸€ä¸ªæ–°çš„è´Ÿè½½å‡è¡¡å™¨æ¥è·å–å…¬å…±IPåœ°å€ã€‚æ–¹ä¾¿çš„æ˜¯ï¼Œç”±äºäº‘æä¾›å•†å¯¹Kubernetesçš„æ’ä»¶æ–¹å¼ï¼Œè´Ÿè½½å¹³è¡¡å™¨çš„ä¾›åº”ä¼šè‡ªåŠ¨å‘ç”Ÿï¼Œå› æ­¤ä¸å¿…å•ç‹¬å®Œæˆã€‚</p><p id="9b4c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å…¥å£æ˜¯ä¸€ä¸ªå®Œå…¨ç‹¬ç«‹äºæœåŠ¡çš„èµ„æºã€‚é™¤äº†èƒ½å¤Ÿå°†è·¯ç”±è§„åˆ™æ•´åˆåˆ°ä¸€ä¸ªåœ°æ–¹(å…¥å£å¯¹è±¡)ä¹‹å¤–ï¼Œå®ƒè¿˜å…·æœ‰ä½œä¸ºä¸€ä¸ªç‹¬ç«‹çš„ã€åˆ†ç¦»çš„å®ä½“çš„ä¼˜åŠ¿ï¼Œå¯ä»¥ç‹¬ç«‹äºä»»ä½•æœåŠ¡æ¥åˆ›å»ºå’Œé”€æ¯ã€‚</p><h2 id="20ea" class="lv lw it bd lx ly lz dn ma mb mc dp md kr me mf mg kv mh mi mj kz mk ml mm mn bi translated">å…¥å£æ§åˆ¶å™¨</h2><p id="dbc2" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">è¦åœ¨K8Sä¸­è®¾ç½®Ingressï¼Œéœ€è¦é…ç½®ä¸€ä¸ªIngressæ§åˆ¶å™¨ã€‚è¿™äº›ä¸æ˜¯ç¾¤é›†çš„é»˜è®¤è®¾ç½®ï¼Œå¿…é¡»å®‰è£…ã€‚å…¥å£æ§åˆ¶å™¨é€šå¸¸æ˜¯é›†ç¾¤ä¸­çš„åå‘webä»£ç†æœåŠ¡å™¨å®ç°ã€‚</p><p id="1aea" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æœ‰è®¸å¤šå¯ç”¨çš„å…¥å£æ§åˆ¶å™¨ï¼Œå®ƒä»¬éƒ½æœ‰ä¸åŒçš„ç‰¹æ€§ã€‚å®˜æ–¹æ–‡æ¡£åˆ—å‡ºäº†å¯ç”¨çš„å…¥å£æ§åˆ¶å™¨ã€‚ä¸€äº›å¸¸ç”¨çš„æ–¹æ³•åŒ…æ‹¬:</p><ul class=""><li id="46c2" class="na nb it kk b kl km ko kp kr nc kv nd kz ne ld nf ng nh ni bi translated"><a class="ae lu" href="https://docs.microsoft.com/azure/application-gateway/tutorial-ingress-controller-add-on-existing?toc=https%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Fazure%2Faks%2Ftoc.json&amp;bc=https%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Fazure%2Fbread%2Ftoc.json" rel="noopener ugc nofollow" target="_blank"> AKSåº”ç”¨ç½‘å…³å…¥å£æ§åˆ¶å™¨</a>æ˜¯é…ç½®<a class="ae lu" href="https://docs.microsoft.com/azure/application-gateway/overview" rel="noopener ugc nofollow" target="_blank"> Azureåº”ç”¨ç½‘å…³</a>çš„å…¥å£æ§åˆ¶å™¨ã€‚</li><li id="655b" class="na nb it kk b kl nj ko nk kr nl kv nm kz nn ld nf ng nh ni bi translated"><a class="ae lu" href="https://github.com/kubernetes/ingress-gce" rel="noopener ugc nofollow" target="_blank">ç”¨äºè°·æ­Œäº‘çš„GKEå…¥å£æ§åˆ¶å™¨</a></li><li id="7621" class="na nb it kk b kl nj ko nk kr nl kv nm kz nn ld nf ng nh ni bi translated"><a class="ae lu" href="https://docs.aws.amazon.com/eks/latest/userguide/alb-ingress.html" rel="noopener ugc nofollow" target="_blank"> AWSåº”ç”¨è´Ÿè½½å¹³è¡¡å™¨å…¥å£æ§åˆ¶å™¨</a></li><li id="2e85" class="na nb it kk b kl nj ko nk kr nl kv nm kz nn ld nf ng nh ni bi translated"><a class="ae lu" href="https://haproxy-ingress.github.io/" rel="noopener ugc nofollow" target="_blank"> HAProxyå…¥å£</a>æ˜¯<a class="ae lu" href="https://www.haproxy.org/#desc" rel="noopener ugc nofollow" target="_blank"> HAProxy </a>çš„å…¥å£æ§åˆ¶å™¨ã€‚</li><li id="ad9c" class="na nb it kk b kl nj ko nk kr nl kv nm kz nn ld nf ng nh ni bi translated"><a class="ae lu" href="https://istio.io/latest/docs/tasks/traffic-management/ingress/kubernetes-ingress/" rel="noopener ugc nofollow" target="_blank"> Istioå…¥å£</a>æ˜¯åŸºäº<a class="ae lu" href="https://istio.io/" rel="noopener ugc nofollow" target="_blank"> Istio </a>çš„å…¥å£æ§åˆ¶å™¨ã€‚</li><li id="e30a" class="na nb it kk b kl nj ko nk kr nl kv nm kz nn ld nf ng nh ni bi translated">ç”¨äºKubernetes çš„<a class="ae lu" href="https://www.nginx.com/products/nginx-ingress-controller/" rel="noopener ugc nofollow" target="_blank"> NGINXå…¥å£æ§åˆ¶å™¨ä¸</a><a class="ae lu" href="https://www.nginx.com/resources/glossary/nginx/" rel="noopener ugc nofollow" target="_blank">NGINX</a>webæœåŠ¡å™¨(ä½œä¸ºä»£ç†)ä¸€èµ·å·¥ä½œã€‚</li><li id="3162" class="na nb it kk b kl nj ko nk kr nl kv nm kz nn ld nf ng nh ni bi translated"><a class="ae lu" href="https://doc.traefik.io/traefik/providers/kubernetes-ingress/" rel="noopener ugc nofollow" target="_blank"> Traefik Kuberneteså…¥å£æä¾›è€…</a>æ˜¯<a class="ae lu" href="https://traefik.io/traefik/" rel="noopener ugc nofollow" target="_blank"> Traefik </a>ä»£ç†çš„å…¥å£æ§åˆ¶å™¨ã€‚</li></ul><div class="no np gp gr nq nr"><a href="https://kubernetes.io/docs/concepts/services-networking/ingress-controllers/" rel="noopener  ugc nofollow" target="_blank"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd iu gy z fp nw fr fs nx fu fw is bi translated">å…¥å£æ§åˆ¶å™¨</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">ä¸ºäº†è®©å…¥å£èµ„æºå·¥ä½œï¼Œç¾¤é›†å¿…é¡»è¿è¡Œå…¥å£æ§åˆ¶å™¨ã€‚ä¸åŒäºå…¶ä»–ç±»å‹çš„â€¦</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">kubernetes.io</p></div></div><div class="oa l"><div class="ob l oc od oe oa of lo nr"/></div></div></a></div><p id="bfe3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å¦‚æœæ‚¨æ„¿æ„ï¼Œæ‚¨å¯ä»¥å°†ä¸€ä¸ªé›†ç¾¤ä¸­çš„å¤šä¸ªå…¥å£æ§åˆ¶å™¨æ˜ å°„åˆ°å¤šä¸ªè´Ÿè½½å¹³è¡¡å™¨ï¼</p><p id="047d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Learnk8sæœ‰ä¸€ä¸ªå¥‡å¦™çš„åŠŸèƒ½<a class="ae lu" href="https://docs.google.com/spreadsheets/d/191WWNpjJ2za6-nbG4ZoUMXMpUK8KlCIosvQB0f-oq3k/edit#gid=907731238" rel="noopener ugc nofollow" target="_blank">æ¯”è¾ƒæ‰€æœ‰å¯ç”¨çš„å…¥å£æ§åˆ¶å™¨</a>æ¥å¸®åŠ©æ‚¨åšå‡ºé€‰æ‹©ã€‚è¯·æ³¨æ„Azureåº”ç”¨ç¨‹åºç½‘å…³å…¥å£æ§åˆ¶å™¨çš„å±€é™æ€§ã€‚ç›®å‰ï¼ŒNGINXå…¥å£æ§åˆ¶å™¨ä¼¼ä¹æ˜¯ä¸€ä¸ªæ›´å¥½çš„é€‰æ‹©â€¦</p><h2 id="6f46" class="lv lw it bd lx ly lz dn ma mb mc dp md kr me mf mg kv mh mi mj kz mk ml mm mn bi translated">ä½¿ç”¨NGINXè®¾ç½®å…¥å£</h2><p id="e9e0" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">NGINXæ˜¯ä¸€ä¸ªå¹¿æ³›ä½¿ç”¨çš„å…¥å£æ§åˆ¶å™¨ï¼Œæˆ‘ä»¬å°†é€šè¿‡Azure KubernetesæœåŠ¡è¿è¡Œå¦‚ä½•è®¾ç½®å®ƒã€‚æˆ‘ä»¬å°†å»ºç«‹ä¸¤ä¸ªç®€å•çš„webæœåŠ¡ï¼Œå¹¶ä½¿ç”¨NGINXå…¥å£ç›¸åº”åœ°è·¯ç”±æµé‡ã€‚</p><ol class=""><li id="c41d" class="na nb it kk b kl km ko kp kr nc kv nd kz ne ld og ng nh ni bi translated">å¯åŠ¨AKSé›†ç¾¤å¹¶è¿æ¥åˆ°å®ƒã€‚ä¸ºæ­¤ï¼Œæµè§ˆAzureé—¨æˆ·ä¸­çš„AKSé›†ç¾¤èµ„æºå¹¶å•å‡»connectï¼Œå°†æ˜¾ç¤ºä½¿ç”¨Azure CLIé€šè¿‡æ‚¨çš„shellè¿›è¡Œè¿æ¥æ‰€éœ€çš„å‘½ä»¤ã€‚</li><li id="1987" class="na nb it kk b kl nj ko nk kr nl kv nm kz nn ld og ng nh ni bi translated">å®‰è£…NGINXå…¥å£æ§åˆ¶å™¨ã€‚å®ƒå°†åœ¨<code class="fe oh oi oj ok b">ingress-nginx</code>åç§°ç©ºé—´ä¸­å®‰è£…æ§åˆ¶å™¨ï¼Œå¦‚æœè¯¥åç§°ç©ºé—´ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºè¯¥åç§°ç©ºé—´ã€‚</li></ol><pre class="lf lg lh li gt ol ok om on aw oo bi"><span id="f4d9" class="lv lw it ok b gy op oq l or os">kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.3.0/deploy/static/provider/cloud/deploy.yaml</span></pre><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi ot"><img src="../Images/fedf6438f65300b52083b7350de301aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DPG7lbNyO0rS0EWIVo6hyg.png"/></div></div></figure><p id="addc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æ³¨æ„:å¦‚æœæ‚¨å·²ç»å®‰è£…äº†Helmï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å®ƒæ¥å®‰è£…(å¦‚æœæ‚¨å·²ç»ä½¿ç”¨å‰é¢çš„å‘½ä»¤å®‰è£…äº†Helmï¼Œåˆ™ä¸éœ€è¦è¿è¡Œå®ƒ):</p><pre class="lf lg lh li gt ol ok om on aw oo bi"><span id="f9eb" class="lv lw it ok b gy op oq l or os">helm upgrade --install ingress-nginx ingress-nginx --repo https://kubernetes.github.io/ingress-nginx --namespace ingress-nginx --create-namespace</span></pre><p id="8fa6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">3.æ£€æŸ¥å…¥å£æ§åˆ¶å™¨ç›’æ˜¯å¦æ­£åœ¨è¿è¡Œ:</p><pre class="lf lg lh li gt ol ok om on aw oo bi"><span id="c7dc" class="lv lw it ok b gy op oq l or os">kubectl get pods --namespace ingress-nginx</span></pre><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi ou"><img src="../Images/aa38be8c3da0d6f8a8ad7791498bd764.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E-DXDRP5hbkMhRrE7tN1uQ.png"/></div></div></figure><p id="3890" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">4.æ£€æŸ¥NGINXå…¥å£æ§åˆ¶å™¨æ˜¯å¦åˆ†é…äº†å…¬å…±Ipåœ°å€:</p><pre class="lf lg lh li gt ol ok om on aw oo bi"><span id="2eba" class="lv lw it ok b gy op oq l or os">kubectl get service ingress-nginx-controller --namespace=ingress-nginx</span></pre><p id="0933" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æ³¨æ„æœåŠ¡ç±»å‹æ˜¯è´Ÿè½½å¹³è¡¡å™¨:</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi ov"><img src="../Images/219f46732cc5b3f2ffc337baf657b993.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EnJJrfgAf4b3bVRmPTEqxA.png"/></div></div></figure><p id="91aa" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æµè§ˆè¿™ä¸ªIPåœ°å€ä¼šæ˜¾ç¤ºNGINX 404é¡µé¢ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬è¿˜æ²¡æœ‰ä¸ºæˆ‘ä»¬çš„æœåŠ¡è®¾ç½®ä»»ä½•è·¯ç”±è§„åˆ™ã€‚</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/78f7780860fd2ac7aa0aaf4e99aa93ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:464/format:webp/1*WY4S3qrjDl52FNhOmSFklA.png"/></div></figure><p id="d4b3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">5.æˆ‘ä»¬å°†è®¾ç½®ä¸€ä¸ªåŸºæœ¬çš„webåº”ç”¨ç¨‹åºæ¥æµ‹è¯•æˆ‘ä»¬çš„æ–°å…¥å£æ§åˆ¶å™¨ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®ä¸€ä¸ªDNSè®°å½•ï¼ŒæŒ‡å‘æˆ‘ä»¬åœ¨ä¸Šä¸€æ­¥ä¸­å‘ç°çš„å¤–éƒ¨IPåœ°å€ã€‚è®¾ç½®å®Œæˆåï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥è®¾ç½®æ¼”ç¤º(ç”¨æ‚¨çš„è®°å½•æ›¿æ¢[DNS_NAME]ï¼Œä¾‹å¦‚www.jackwesleyroper.io)ã€‚è¯·æ³¨æ„ï¼Œæ‚¨å¿…é¡»è®¾ç½®DNSè®°å½•ï¼Œæ­¤æ­¥éª¤ä¸é€‚ç”¨äºIPåœ°å€ã€‚è¿™ä¸ªå‘½ä»¤æ¥è‡ªNGINXæ–‡æ¡£ï¼Œæˆ‘ä»¬å°†åœ¨æœ¬æ–‡åé¢è®¨è®ºå£°æ˜æ€§æ–¹æ³•ã€‚</p><pre class="lf lg lh li gt ol ok om on aw oo bi"><span id="c4f5" class="lv lw it ok b gy op oq l or os">kubectl create ingress demo --class=nginx --rule [DNS_NAME]/=demo:80</span></pre><p id="7a30" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">6.æµè§ˆåˆ°ç½‘å€ã€‚ä½ ä¼šçœ‹åˆ°â€œæˆåŠŸäº†ï¼â€æ˜¾ç¤ºï¼Œç¡®è®¤å…¥å£æ§åˆ¶å™¨æ­£ç¡®åœ°å°†æµé‡è·¯ç”±åˆ°æ¼”ç¤ºåº”ç”¨ã€‚</p><p id="1eea" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">7.ç°åœ¨ï¼Œæˆ‘ä»¬å°†è®¾ç½®å¦å¤–ä¸¤ä¸ªwebåº”ç”¨ç¨‹åºï¼Œå¹¶ä½¿ç”¨NGINXåœ¨å®ƒä»¬ä¹‹é—´è·¯ç”±æµé‡ã€‚</p><p id="06ff" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘ä»¬å°†ä½¿ç”¨å®˜æ–¹Azureæ–‡æ¡£ä¸­çš„æ¼”ç¤ºåº”ç”¨ç¨‹åºåˆ›å»º2ä¸ªYAMLæ–‡ä»¶ã€‚</p><p id="16b3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="mw"> aks-helloworld-one.yaml </em></p><pre class="lf lg lh li gt ol ok om on aw oo bi"><span id="bd5f" class="lv lw it ok b gy op oq l or os">apiVersion: apps/v1<br/>kind: Deployment<br/>metadata:<br/>  name: aks-helloworld-one  <br/>spec:<br/>  replicas: 1<br/>  selector:<br/>    matchLabels:<br/>      app: aks-helloworld-one<br/>  template:<br/>    metadata:<br/>      labels:<br/>        app: aks-helloworld-one<br/>    spec:<br/>      containers:<br/>      - name: aks-helloworld-one<br/>        image: mcr.microsoft.com/azuredocs/aks-helloworld:v1<br/>        ports:<br/>        - containerPort: 80<br/>        env:<br/>        - name: TITLE<br/>          value: "Welcome to Azure Kubernetes Service (AKS)"<br/>---<br/>apiVersion: v1<br/>kind: Service<br/>metadata:<br/>  name: aks-helloworld-one  <br/>spec:<br/>  type: ClusterIP<br/>  ports:<br/>  - port: 80<br/>  selector:<br/>    app: aks-helloworld-one</span></pre><p id="066d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="mw"> aks-helloworld-two.yaml </em></p><pre class="lf lg lh li gt ol ok om on aw oo bi"><span id="4214" class="lv lw it ok b gy op oq l or os">apiVersion: apps/v1<br/>kind: Deployment<br/>metadata:<br/>  name: aks-helloworld-two  <br/>spec:<br/>  replicas: 1<br/>  selector:<br/>    matchLabels:<br/>      app: aks-helloworld-two<br/>  template:<br/>    metadata:<br/>      labels:<br/>        app: aks-helloworld-two<br/>    spec:<br/>      containers:<br/>      - name: aks-helloworld-two<br/>        image: mcr.microsoft.com/azuredocs/aks-helloworld:v1<br/>        ports:<br/>        - containerPort: 80<br/>        env:<br/>        - name: TITLE<br/>          value: "AKS Ingress Demo"<br/>---<br/>apiVersion: v1<br/>kind: Service<br/>metadata:<br/>  name: aks-helloworld-two  <br/>spec:<br/>  type: ClusterIP<br/>  ports:<br/>  - port: 80<br/>  selector:<br/>    app: aks-helloworld-two</span></pre><p id="4424" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åº”ç”¨2ä¸ªé…ç½®æ–‡ä»¶æ¥è®¾ç½®åº”ç”¨ç¨‹åº:</p><pre class="lf lg lh li gt ol ok om on aw oo bi"><span id="fb1d" class="lv lw it ok b gy op oq l or os">kubectl apply -f aks-helloworld-one.yaml --namespace ingress-nginx<br/>kubectl apply -f aks-helloworld-two.yaml --namespace ingress-nginx</span></pre><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/490425825de05a7a5c60c12a7b4569d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:782/format:webp/1*m57_VwVBcT4EFBPUBxCBKg.png"/></div></figure><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/b47531fd74638e6e15b335ef07bdafc4.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*CuBg1Pv2jketpNxU1N6s8w.png"/></div></figure><p id="04ff" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æ£€æŸ¥æ–°çš„podæ˜¯å¦æ­£åœ¨è¿è¡Œ(æ‚¨åº”è¯¥çœ‹åˆ°2ä¸ªâ€œaks-hello worldâ€podæ­£åœ¨è¿è¡Œ) :</p><pre class="lf lg lh li gt ol ok om on aw oo bi"><span id="d04f" class="lv lw it ok b gy op oq l or os">kubectl get pods --namespace ingress-nginx</span></pre><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi oz"><img src="../Images/a68fcdf091879ee0fa410aa4f3fe4f13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vszydtcMjY4Hwumu7MGEHg.png"/></div></div></figure><p id="8348" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">8.è®¾ç½®å…¥å£ä»¥åœ¨ä¸¤ä¸ªåº”ç”¨ç¨‹åºä¹‹é—´è·¯ç”±æµé‡ã€‚</p><p id="a80e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘ä»¬å°†è®¾ç½®åŸºäºè·¯å¾„çš„è·¯ç”±ï¼Œæ ¹æ®ç”¨æˆ·è¾“å…¥çš„URLå°†æµé‡å¯¼å‘é€‚å½“çš„webåº”ç”¨ã€‚<em class="mw">EXTERNAL _ IP/hello-world-one</em>è¢«è·¯ç”±åˆ°åä¸º<code class="fe oh oi oj ok b">aks-helloworld-one</code>çš„æœåŠ¡ã€‚åˆ°<em class="mw">EXTERNAL _ IP/hello-world-two</em>çš„æµé‡è¢«è·¯ç”±åˆ°<code class="fe oh oi oj ok b">aks-helloworld-two</code>æœåŠ¡ã€‚åœ¨ç”¨æˆ·æ²¡æœ‰æŒ‡å®šè·¯å¾„çš„æƒ…å†µä¸‹(<em class="mw">å¤–éƒ¨IP/)ï¼Œæµé‡è¢«è·¯ç”±åˆ°<em class="mw"> </em> <code class="fe oh oi oj ok b">aks-helloworld-one.</code></em></p><p id="cf9a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åˆ›å»ºä¸€ä¸ªåä¸º<em class="mw">hello-world-ingress . YAML</em>çš„æ–‡ä»¶</p><pre class="lf lg lh li gt ol ok om on aw oo bi"><span id="1406" class="lv lw it ok b gy op oq l or os">apiVersion: networking.k8s.io/v1<br/>kind: Ingress<br/>metadata:<br/>  name: hello-world-ingress<br/>  annotations:<br/>    nginx.ingress.kubernetes.io/ssl-redirect: "false"<br/>    nginx.ingress.kubernetes.io/use-regex: "true"<br/>    nginx.ingress.kubernetes.io/rewrite-target: /$2<br/>spec:<br/>  ingressClassName: nginx<br/>  rules:<br/>  - http:<br/>      paths:<br/>      - path: /hello-world-one(/|$)(.*)<br/>        pathType: Prefix<br/>        backend:<br/>          service:<br/>            name: aks-helloworld-one<br/>            port:<br/>              number: 80<br/>      - path: /hello-world-two(/|$)(.*)<br/>        pathType: Prefix<br/>        backend:<br/>          service:<br/>            name: aks-helloworld-two<br/>            port:<br/>              number: 80<br/>      - path: /(.*)<br/>        pathType: Prefix<br/>        backend:<br/>          service:<br/>            name: aks-helloworld-one<br/>            port:<br/>              number: 80</span></pre><p id="0204" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åˆ›å»ºå…¥å£</p><pre class="lf lg lh li gt ol ok om on aw oo bi"><span id="131a" class="lv lw it ok b gy op oq l or os">kubectl apply -f hello-world-ingress.yaml --namespace ingress-nginx</span></pre><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/8614c2c165694f0f8d054d5f01a645d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1110/format:webp/1*-eQPqR5dvEfxk-fXpesTjw.png"/></div></figure><p id="6747" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">9.æµè§ˆåˆ°<em class="mw">å¤–éƒ¨IP/hello-world-one: </em></p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/849636f26e17dc7fe8feaa29622c514e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1290/format:webp/1*3uYNtBgCggkHmB08W-1STQ.png"/></div></figure><p id="2955" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å’Œ<em class="mw">å¤–éƒ¨_IP/hello-world-two: </em></p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/043d270edae49981489b5aad145a7def.png" data-original-src="https://miro.medium.com/v2/resize:fit:632/format:webp/1*Kpno3hZNA-DYUOK9ZFtEPw.png"/></div></figure><h2 id="7544" class="lv lw it bd lx ly lz dn ma mb mc dp md kr me mf mg kv mh mi mj kz mk ml mm mn bi translated">æ‘˜è¦</h2><p id="c7a6" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">K8Sä¸­çš„å…¥å£æ˜¯å°†K8Sé›†ç¾¤ä¸­çš„æœåŠ¡æš´éœ²ç»™å¤–ç•Œçš„ä¸€ç§å¥å£®çš„æ–¹å¼ã€‚å®ƒå…è®¸æ‚¨å°†è·¯ç”±è§„åˆ™æ•´åˆåˆ°ä¸€ä¸ªä½ç½®ã€‚æœ‰è®¸å¤šå¯ç”¨çš„å…¥å£æ§åˆ¶å™¨å¯ä¾›ä½¿ç”¨ï¼Œåœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬åœ¨AKSä¸Šé…ç½®äº†ä¸€ä¸ªNGINXå…¥å£ï¼Œå¹¶ä½¿ç”¨å®ƒåœ¨2ä¸ªæ¼”ç¤ºåº”ç”¨ç¨‹åºä¹‹é—´è·¯ç”±æµé‡ã€‚</p><p id="8e32" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æœ‰å…³Kubernetes Ingressçš„æ›´å¤šä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹ä»¥ä¸‹é“¾æ¥:</p><div class="no np gp gr nq nr"><a href="https://kubernetes.io/docs/concepts/services-networking/ingress/" rel="noopener  ugc nofollow" target="_blank"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd iu gy z fp nw fr fs nx fu fw is bi translated">è¿›å…¥</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">ç‰¹æ€§çŠ¶æ€:Kubernetes v1.19 [stable]ä¸€ä¸ªAPIå¯¹è±¡ï¼Œç®¡ç†å¯¹é›†ç¾¤ä¸­æœåŠ¡çš„å¤–éƒ¨è®¿é—®â€¦</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">kubernetes.io</p></div></div><div class="oa l"><div class="pd l oc od oe oa of lo nr"/></div></div></a></div><div class="no np gp gr nq nr"><a href="https://kubernetes.github.io/ingress-nginx/deploy/" rel="noopener  ugc nofollow" target="_blank"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd iu gy z fp nw fr fs nx fu fw is bi translated">å®‰è£…æŒ‡å—â€” NGINXå…¥å£æ§åˆ¶å™¨</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">å®‰è£…NGINX ingressæ§åˆ¶å™¨æœ‰å¤šç§æ–¹å¼:ç”¨Helmï¼Œç”¨é¡¹ç›®åº“å›¾ï¼›ä¸â€¦â€¦</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">kubernetes.github.io</p></div></div><div class="oa l"><div class="pe l oc od oe oa of lo nr"/></div></div></a></div><div class="no np gp gr nq nr"><a href="https://docs.microsoft.com/en-us/azure/aks/ingress-basic?tabs=azure-cli#create-an-ingress-controller" rel="noopener  ugc nofollow" target="_blank"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd iu gy z fp nw fr fs nx fu fw is bi translated">åœ¨Azure KubernetesæœåŠ¡(AKS)ä¸­åˆ›å»ºå…¥å£æ§åˆ¶å™¨â€” Azure KubernetesæœåŠ¡</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">å…¥å£æ§åˆ¶å™¨æ˜¯ä¸€ä¸ªè½¯ä»¶ï¼Œå®ƒæä¾›åå‘ä»£ç†ã€å¯é…ç½®çš„æµé‡è·¯ç”±å’ŒTLSâ€¦</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">docs.microsoft.com</p></div></div><div class="oa l"><div class="pf l oc od oe oa of lo nr"/></div></div></a></div><p id="d56f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æƒ³è¦æ›´å¤šKuberneteså†…å®¹ï¼ŸæŸ¥çœ‹æˆ‘åœ¨K8Sä¸Šçš„å…¶ä»–æ–‡ç« ï¼</p><div class="no np gp gr nq nr"><a href="https://jackwesleyroper.medium.com/kubernetes-k8s-related-articles-index-54718769e390" rel="noopener follow" target="_blank"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd iu gy z fp nw fr fs nx fu fw is bi translated">Kubernetes (K8S)ç›¸å…³æ–‡ç« ç´¢å¼•</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">è¿™æ˜¯æˆ‘åœ¨åšå®¢ä¸Šå‘è¡¨çš„æ‰€æœ‰Kubernetesç›¸å…³æ–‡ç« çš„åˆ—è¡¨ï¼æˆ‘ä¼šéšæ—¶æ›´æ–°è¿™ä¸ªé¡µé¢â€¦</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">jackwesleyroper.medium.com</p></div></div><div class="oa l"><div class="pg l oc od oe oa of lo nr"/></div></div></a></div><p id="82f5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å¹²æ¯ï¼ğŸ»</p><div class="no np gp gr nq nr"><a href="https://www.buymeacoffee.com/jackwesleyroper" rel="noopener  ugc nofollow" target="_blank"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd iu gy z fp nw fr fs nx fu fw is bi translated">Jack Roperæ­£åœ¨Azureã€Azure DevOpsã€Terraformã€Kuberneteså’ŒCloud techä¸Šå†™åšå®¢ï¼</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">å¸Œæœ›æˆ‘çš„åšå®¢èƒ½å¸®åˆ°ä½ ï¼Œä½ ä¼šå–œæ¬¢å®ƒçš„å†…å®¹ï¼æˆ‘çœŸçš„å¾ˆå–œæ¬¢å†™æŠ€æœ¯å†…å®¹å’Œåˆ†äº«â€¦</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">www.buymeacoffee.com</p></div></div><div class="oa l"><div class="ph l oc od oe oa of lo nr"/></div></div></a></div><p id="0328" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="mw">æœ€åˆå‘è¡¨äº</em><a class="ae lu" href="https://spacelift.io/" rel="noopener ugc nofollow" target="_blank"><em class="mw">space lift . io</em></a><em class="mw">ã€‚</em></p></div></div>    
</body>
</html>