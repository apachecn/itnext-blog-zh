<html>
<head>
<title>How to Deploy and Use Kube-fledged to Cache Images in Kubernetes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å¦‚ä½•åœ¨Kubernetesä¸­éƒ¨ç½²å’Œä½¿ç”¨Kube-fledgedæ¥ç¼“å­˜å›¾åƒ</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://itnext.io/how-to-deploy-and-use-kube-fledged-to-cache-images-in-kubernetes-8b6b9d6c2733?source=collection_archive---------1-----------------------#2021-09-30">https://itnext.io/how-to-deploy-and-use-kube-fledged-to-cache-images-in-kubernetes-8b6b9d6c2733?source=collection_archive---------1-----------------------#2021-09-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/6e45e63c5d34df54fddd22d100c6ec58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YIYJLNJ5EeJp7yOO1261uw.jpeg"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">MF Evelyn åœ¨<a class="ae jd" href="https://unsplash.com/s/photos/parakeet?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šçš„ç…§ç‰‡</figcaption></figure><div class=""/><p id="ab01" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lb">ç¾½ç¿¼æœªä¸°æ˜¯é£è¡ŒåŠ¨ç‰©ç”Ÿå‘½ä¸­ä»å­µåŒ–æˆ–å‡ºç”Ÿåˆ°èƒ½å¤Ÿé£è¡Œçš„é˜¶æ®µã€‚å½“ç¾½æ¯›å’Œç¿…è†€è‚Œè‚‰å‘è‚²åˆ°è¶³ä»¥é£è¡Œæ—¶ï¼Œæ‰€æœ‰çš„é¸Ÿéƒ½è¢«è®¤ä¸ºæ˜¯ç¾½ç¿¼ä¸°æ»¡çš„ã€‚ä¸€åªåˆšåˆšç¾½åŒ–ä½†ä»ç„¶ä¾èµ–çˆ¶æ¯ç…§é¡¾å’Œå–‚å…»çš„å°é¸Ÿè¢«ç§°ä¸ºé›é¸Ÿã€‚(æ¥æº:ç»´åŸºç™¾ç§‘)</em></p><h1 id="6ecf" class="lc ld jg bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">ä»€ä¹ˆæ˜¯kube-fledgedï¼Ÿ</h1><p id="1779" class="pw-post-body-paragraph kd ke jg kf b kg ma ki kj kk mb km kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">kube-friedgedæ˜¯ä¸€ä¸ªkubernetesæ’ä»¶æˆ–æ“ä½œå™¨ï¼Œç”¨äºç›´æ¥åœ¨kubernetesé›†ç¾¤çš„å·¥ä½œèŠ‚ç‚¹ä¸Šåˆ›å»ºå’Œç®¡ç†å®¹å™¨å›¾åƒçš„ç¼“å­˜ã€‚å®ƒå…è®¸ç”¨æˆ·å®šä¹‰å›¾åƒåˆ—è¡¨ä»¥åŠé‚£äº›å›¾åƒåº”è¯¥è¢«ç¼“å­˜(å³ï¼Œæ‹‰å–)åˆ°å“ªä¸ªå·¥ä½œè€…èŠ‚ç‚¹ä¸Šã€‚å› æ­¤ï¼Œåº”ç”¨ç¨‹åºçª—æ ¼å‡ ä¹å¯ä»¥ç«‹å³å¯åŠ¨ï¼Œå› ä¸ºä¸éœ€è¦ä»æ³¨å†Œè¡¨ä¸­æå–å›¾åƒã€‚kube-friedgedæä¾›CRUD APIsæ¥ç®¡ç†å›¾åƒç¼“å­˜çš„ç”Ÿå‘½å‘¨æœŸï¼Œå¹¶æ”¯æŒå‡ ä¸ªå¯é…ç½®çš„å‚æ•°æ¥æ ¹æ®ä¸ªäººéœ€æ±‚å®šåˆ¶åŠŸèƒ½ã€‚(å›è´­ç½‘å€:<a class="ae jd" href="https://github.com/senthilrch/kube-fledged" rel="noopener ugc nofollow" target="_blank">https://github.com/senthilrch/kube-fledged</a>)</p><p id="3d58" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">åœ¨è¿™ç¯‡åšæ–‡ä¸­ï¼Œæˆ‘å°†è§£é‡Š(I)å¦‚ä½•éƒ¨ç½²kube-æˆç†Ÿçš„ï¼Œ(ii)é…ç½®æ ‡å¿—ï¼Œ(iii)åœ¨Kubernetesé›†ç¾¤ä¸­åˆ›å»ºå®¹å™¨å›¾åƒç¼“å­˜ï¼Œä»¥åŠ(iv)æ”¯æŒçš„å„ç§å›¾åƒç¼“å­˜æ“ä½œ</p><h1 id="a323" class="lc ld jg bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">å…ˆå†³æ¡ä»¶</h1><ul class=""><li id="8f17" class="mf mg jg kf b kg ma kk mb ko mh ks mi kw mj la mk ml mm mn bi translated">ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„K8sé›†ç¾¤ã€‚æ‚¨åº”è¯¥åœ¨é›†ç¾¤ä¸Šæ‹¥æœ‰<em class="lb">é›†ç¾¤ç®¡ç†</em>æƒé™æ¥éƒ¨ç½²kube-friedged</li><li id="3261" class="mf mg jg kf b kg mo kk mp ko mq ks mr kw ms la mk ml mm mn bi translated">å®‰è£…åœ¨æœ¬åœ°Linuxæˆ–Macæœºå™¨ä¸Šçš„kubectlã€makeå’Œgitã€‚</li></ul><h1 id="5c97" class="lc ld jg bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">ä½¿ç”¨YAMLæ¸…å•éƒ¨ç½²kube-fledged</h1><p id="2945" class="pw-post-body-paragraph kd ke jg kf b kg ma ki kj kk mb km kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">è¿™äº›æŒ‡ä»¤ä½¿ç”¨YAMLæ¸…å•å’Œ<a class="ae jd" href="https://hub.docker.com/u/senthilrch" rel="noopener ugc nofollow" target="_blank"> Docker Hubä¸­çš„é¢„å»ºæ˜ åƒï¼Œå°†kube-friendedéƒ¨ç½²åˆ°ä¸€ä¸ªåä¸ºâ€œkube-friendedâ€çš„ç‹¬ç«‹åç§°ç©ºé—´ã€‚</a></p><ul class=""><li id="2398" class="mf mg jg kf b kg kh kk kl ko mt ks mu kw mv la mk ml mm mn bi translated">å…‹éš†æºä»£ç åº“</li></ul><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="1f3c" class="nf ld jg nb b gy ng nh l ni nj">mkdir -p $HOME/src/github.com/senthilrch<br/>git clone <a class="ae jd" href="https://github.com/senthilrch/kube-fledged.git" rel="noopener ugc nofollow" target="_blank">https://github.com/senthilrch/kube-fledged.git</a> $HOME/src/github.com/senthilrch/kube-fledged<br/>cd $HOME/src/github.com/senthilrch/kube-fledged</span></pre><ul class=""><li id="39aa" class="mf mg jg kf b kg kh kk kl ko mt ks mu kw mv la mk ml mm mn bi translated">å°†kube-edgedéƒ¨ç½²åˆ°é›†ç¾¤</li></ul><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="f0b1" class="nf ld jg nb b gy ng nh l ni nj">make deploy-using-yaml</span></pre><ul class=""><li id="36a3" class="mf mg jg kf b kg kh kk kl ko mt ks mu kw mv la mk ml mm mn bi translated">éªŒè¯kube-edgedæ˜¯å¦éƒ¨ç½²æˆåŠŸ</li></ul><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="be99" class="nf ld jg nb b gy ng nh l ni nj">kubectl get pods -n kube-fledged -l app=kubefledged<br/>kubectl get imagecaches -n kube-fledged (Output should be: 'No resources found')</span></pre><p id="ddd1" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">kube-æˆç†Ÿçš„æ”¯æŒéƒ¨ç½²é€šè¿‡èˆµå›¾è¡¨å’Œèˆµæ“ä½œå‘˜ä»¥åŠã€‚å‚è€ƒé¡¹ç›®(<a class="ae jd" href="https://github.com/senthilrch/kube-fledged" rel="noopener ugc nofollow" target="_blank">https://github.com/senthilrch/kube-fledged</a>)çš„è‡ªè¿°æ–‡ä»¶ï¼Œäº†è§£ä½¿ç”¨è¿™äº›æ–¹æ³•è¿›è¡Œéƒ¨ç½²çš„æ­¥éª¤ã€‚</p><h1 id="d452" class="lc ld jg bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">æˆç†Ÿçš„é…ç½®æ ‡å¿—</h1><p id="ad02" class="pw-post-body-paragraph kd ke jg kf b kg ma ki kj kk mb km kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">kube-fledgedæ”¯æŒå‡ ä¸ªé…ç½®æ ‡å¿—ï¼Œå¯ä»¥ç”¨æ¥å®šåˆ¶è¡Œä¸ºã€‚</p><p id="f262" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe nk nl nm nb b"><strong class="kf jh">--image-pull-deadline-duration:</strong></code>æ‹‰åŠ¨å›¾åƒæ‰€å…è®¸çš„æœ€å¤§æŒç»­æ—¶é—´ã€‚åœ¨è¿™æ®µæ—¶é—´ä¹‹åï¼Œå›¾åƒæ‹‰å–è¢«è®¤ä¸ºå·²ç»å¤±è´¥ã€‚é»˜è®¤â€œ5mâ€</p><p id="c6ce" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe nk nl nm nb b"><strong class="kf jh">--image-cache-refresh-frequency:</strong></code>å›¾åƒç¼“å­˜ä¼šå®šæœŸåˆ·æ–°ï¼Œä»¥ç¡®ä¿ç¼“å­˜æ˜¯æœ€æ–°çš„ã€‚å°†æ­¤æ ‡å¿—è®¾ç½®ä¸ºâ€œ0sâ€å°†ç¦ç”¨åˆ·æ–°ã€‚é»˜è®¤â€œ15ç±³â€</p><p id="16ae" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe nk nl nm nb b"><strong class="kf jh">--image-pull-policy:</strong></code>å›¾åƒæå–ç­–ç•¥ï¼Œç”¨äºæå–å›¾åƒå¹¶åˆ·æ–°ç¼“å­˜ã€‚å¯èƒ½çš„å€¼ä¸ºâ€œå¦‚æœä¸å­˜åœ¨â€å’Œâ€œæ€»æ˜¯â€ã€‚é»˜è®¤å€¼ä¸ºâ€œIfNotPresentâ€(æ²¡æœ‰orçš„å›¾åƒ):æ€»æ˜¯æå–â€œæœ€æ–°â€æ ‡ç­¾</p><p id="9ff6" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe nk nl nm nb b"><strong class="kf jh">--stderrthreshold:</strong></code>æ—¥å¿—çº§åˆ«ã€‚é»˜è®¤ä¸ºä¿¡æ¯</p><h1 id="9852" class="lc ld jg bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">åˆ›å»ºå›¾åƒç¼“å­˜</h1><p id="cdc3" class="pw-post-body-paragraph kd ke jg kf b kg ma ki kj kk mb km kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">åœ¨ç¾¤é›†ä¸Šåˆ›å»ºæ˜ åƒç¼“å­˜çš„ç¬¬ä¸€æ­¥æ˜¯ç¡®å®šè¦ç¼“å­˜çš„æ˜ åƒåˆ—è¡¨ï¼Œä»¥åŠè¿™äº›æ˜ åƒåº”è¯¥ç¼“å­˜åˆ°å“ªäº›èŠ‚ç‚¹ä¸Šã€‚è®©æˆ‘ä»¬å‡è®¾æ‚¨éœ€è¦:-</p><ul class=""><li id="87ad" class="mf mg jg kf b kg kh kk kl ko mt ks mu kw mv la mk ml mm mn bi translated">ç¼“å­˜å›¾åƒ<code class="fe nk nl nm nb b">quay.io/bitnami/nginx:1.21.1</code>å’Œ<code class="fe nk nl nm nb b">quay.io/bitnami/tomcat:10.0.8 </code>åˆ°<strong class="kf jh">é›†ç¾¤ä¸­çš„æ‰€æœ‰</strong>èŠ‚ç‚¹</li><li id="210e" class="mf mg jg kf b kg mo kk mp ko mq ks mr kw ms la mk ml mm mn bi translated">ä»…å°†å›¾åƒ<code class="fe nk nl nm nb b">quay.io/bitnami/redis:6.2.5</code>å’Œ<code class="fe nk nl nm nb b">quay.io/bitnami/mariadb:10.5.11</code>å’Œ<strong class="kf jh">ç¼“å­˜åˆ°æ ‡ç­¾ä¸º<code class="fe nk nl nm nb b">tier: backend</code>çš„èŠ‚ç‚¹</strong></li></ul><p id="d151" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">åˆ›å»ºä¸€ä¸ªåä¸º<code class="fe nk nl nm nb b">kubefledged-imagecache.yaml</code>çš„æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹:</p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="34f9" class="nf ld jg nb b gy ng nh l ni nj">apiVersion: kubefledged.io/v1alpha2<br/>kind: ImageCache<br/>metadata:<br/> <strong class="nb jh"> </strong># Name of the image cache.<br/>  name: imagecache1<br/>  # The namespace to be used for this image cache.<br/>  namespace: kube-fledged<br/>  labels:<br/>    app: kubefledged<br/>    component: imagecache<br/>spec:<br/>  # The "cacheSpec" field allows a user to define a list of images and onto which worker nodes those images should be cached (i.e. pre-pulled).<br/>  cacheSpec:<br/>  # Specifies a list of images (nginx:1.21.1 and tomcat:10.0.8) with no node selector, hence these images will be cached in all the nodes in the cluster<br/>  - images:<br/>    - quay.io/bitnami/nginx:1.21.1<br/>    - quay.io/bitnami/tomcat:10.0.8<br/>  # Specifies a list of images (redis:6.2.5 and mariadb:10.5.11) with a node selector, hence these images will be cached only on the nodes selected by the node selector<br/>  - images:<br/>    - quay.io/bitnami/redis:6.2.5<br/>    - quay.io/bitnami/mariadb:10.5.11<br/>    nodeSelector:<br/>      tier: backend</span></pre><p id="f3ee" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ä½¿ç”¨kubectlåˆ›å»ºå›¾åƒç¼“å­˜</p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="ca31" class="nf ld jg nb b gy ng nh l ni nj">kubectl create -f kubefledged-imagecache.yaml</span></pre><p id="f8e9" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æ­¤æ—¶ï¼Œå›¾åƒç¼“å­˜æ¸…å•è¢«æäº¤ç»™k8s apiæœåŠ¡å™¨ã€‚apiæœåŠ¡å™¨åˆ›å»ºä¸€ä¸ªHTTP POSTè¯·æ±‚ï¼Œå¹¶å°†å…¶å‘é€åˆ°kubefledged-webhook-serverã€‚webhookæœåŠ¡å™¨éªŒè¯ImageCacheèµ„æºçš„å†…å®¹ï¼Œå¹¶å‘apiæœåŠ¡å™¨è¿”å›æˆåŠŸçš„å“åº”ã€‚</p><p id="2083" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ç„¶åï¼ŒapiæœåŠ¡å™¨å°†ImageCacheèµ„æºä¿å­˜åœ¨etcdä¸­ã€‚kubefledged-controllerç„¶ååœ¨workerèŠ‚ç‚¹ä¸Šåˆ›å»ºå‡ ä¸ªk8sä½œä¸šï¼Œç”¨äºå°†å›¾åƒæ‹‰å…¥ç¼“å­˜ã€‚ä¸€ä¸ªä½œä¸šè´Ÿè´£å°†ä¸€ä¸ªå›¾åƒæ‹‰å…¥ä¸€ä¸ªèŠ‚ç‚¹ã€‚æ‰€æœ‰ä½œä¸šæˆåŠŸå®Œæˆåï¼Œæ§åˆ¶å™¨ä¼šæ›´æ–°ImageCacheèµ„æºçš„çŠ¶æ€å­—æ®µã€‚ç”¨æˆ·å¯ä»¥æŸ¥è¯¢ImageCacheèµ„æºå¹¶æŸ¥çœ‹çŠ¶æ€å­—æ®µï¼Œä»¥äº†è§£å›¾åƒç¼“å­˜æ˜¯å¦åˆ›å»ºæˆåŠŸã€‚å¦‚æœæœ‰å¤±è´¥ï¼ŒçŠ¶æ€å­—æ®µè¿˜ä¼šæœ‰é”™è¯¯æ¶ˆæ¯å’Œé”™è¯¯æè¿°ï¼ŒæŒ‡å‡ºå¤±è´¥çš„åŸå› </p><p id="b0e6" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">éªŒè¯å›¾åƒç¼“å­˜åˆ›å»ºçš„çŠ¶æ€</p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="91a2" class="nf ld jg nb b gy ng nh l ni nj">kubectl get imagecache imagecache1 -n kube-fledged -o yaml</span></pre><h1 id="56ce" class="lc ld jg bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">ä¿®æ”¹å›¾åƒç¼“å­˜</h1><p id="e591" class="pw-post-body-paragraph kd ke jg kf b kg ma ki kj kk mb km kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">æˆåŠŸåˆ›å»ºæ˜ åƒç¼“å­˜åï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹æ˜ åƒç¼“å­˜æ¸…å•å¹¶å°†å…¶é‡æ–°æäº¤åˆ°ç¾¤é›†æ¥å¯¹å…¶è¿›è¡Œæ›´æ”¹ã€‚è®©æˆ‘ä»¬å‡è®¾æ‚¨æƒ³è¦ä»å›¾åƒç¼“å­˜ä¸­ç§»é™¤å›¾åƒ<code class="fe nk nl nm nb b">quay.io/bitnami/tomcat:10.0.8</code>ã€‚</p><p id="e869" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ç¼–è¾‘å›¾åƒç¼“å­˜æ¸…å•æ–‡ä»¶<code class="fe nk nl nm nb b">kubefledged-imagecache.yaml</code>ï¼Œå¦‚ä¸‹æ‰€ç¤º:-</p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="aa68" class="nf ld jg nb b gy ng nh l ni nj">apiVersion: kubefledged.io/v1alpha2<br/>kind: ImageCache<br/>metadata:<br/> <strong class="nb jh"> </strong># Name of the image cache.<br/>  name: imagecache1<br/>  # The namespace to be used for this image cache.<br/>  namespace: kube-fledged<br/>  labels:<br/>    app: kubefledged<br/>    component: imagecache<br/>spec:<br/>  # The "cacheSpec" field allows a user to define a list of images and onto which worker nodes those images should be cached (i.e. pre-pulled).<br/>  cacheSpec:<br/>  # Specifies a list of images (nginx:1.21.1) with no node selector, hence these images will be cached in all the nodes in the cluster<br/>  - images:<br/>    - quay.io/bitnami/nginx:1.21.1<br/>  # Specifies a list of images (redis:6.2.5 and mariadb:10.5.11) with a node selector, hence these images will be cached only on the nodes selected by the node selector<br/>  - images:<br/>    - quay.io/bitnami/redis:6.2.5<br/>    - quay.io/bitnami/mariadb:10.5.11<br/>    nodeSelector:<br/>      tier: backend</span></pre><p id="6e5d" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ä½¿ç”¨kubectlå°†æ›´æ”¹åº”ç”¨åˆ°å›¾åƒç¼“å­˜</p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="205c" class="nf ld jg nb b gy ng nh l ni nj">kubectl apply -f kubefledged-imagecache.yaml</span></pre><p id="53c6" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">kubefledged-controllerå°†æ£€æµ‹å¯¹ImageCacheèµ„æºçš„æ›´æ”¹ï¼Œå¹¶ç¡®å®šéœ€è¦ä»é›†ç¾¤ä¸Šçš„å›¾åƒç¼“å­˜ä¸­åˆ é™¤å›¾åƒ<code class="fe nk nl nm nb b">quay.io/bitnami/tomcat:10.0.8 </code>ã€‚å› æ­¤ï¼Œå®ƒåˆ›å»ºä½œä¸šä»å›¾åƒç¼“å­˜ä¸­åˆ é™¤å›¾åƒã€‚è¿™äº›æ“ä½œçš„ç»“æœåœ¨ImageCacheèµ„æºçš„statuså­—æ®µä¸­æ›´æ–°ã€‚</p><p id="e53d" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">éªŒè¯å›¾åƒç¼“å­˜ä¿®æ”¹çš„çŠ¶æ€</p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="d215" class="nf ld jg nb b gy ng nh l ni nj">kubectl get imagecache imagecache1 -n kube-fledged -o yaml</span></pre><h1 id="dd2d" class="lc ld jg bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">æ¸…é™¤å›¾åƒç¼“å­˜</h1><p id="51b2" class="pw-post-body-paragraph kd ke jg kf b kg ma ki kj kk mb km kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">å¦‚æœæ‚¨å†³å®šä»å›¾åƒç¼“å­˜ä¸­åˆ é™¤æ‰€æœ‰å›¾åƒï¼Œå¯ä»¥é€šè¿‡æäº¤æ¸…é™¤è¯·æ±‚æ¥å®Œæˆã€‚é€šè¿‡ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ³¨é‡ŠImageCacheèµ„æºæ¥æäº¤æ¸…é™¤è¯·æ±‚</p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="a580" class="nf ld jg nb b gy ng nh l ni nj">kubectl annotate imagecaches imagecache1 -n kube-fledged kubefledged.io/purge-imagecache=</span></pre><p id="8a61" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">éªŒè¯æ¸…é™¤å›¾åƒç¼“å­˜çš„çŠ¶æ€</p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="f783" class="nf ld jg nb b gy ng nh l ni nj">kubectl get imagecache imagecache1 -n kube-fledged -o yaml</span></pre><h1 id="246f" class="lc ld jg bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">åˆ·æ–°å›¾åƒç¼“å­˜</h1><p id="021d" class="pw-post-body-paragraph kd ke jg kf b kg ma ki kj kk mb km kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">ä¸€æ—¦å›¾åƒç¼“å­˜è¢«æ¸…é™¤ï¼Œå°±å¯ä»¥é€šè¿‡æäº¤åˆ·æ–°è¯·æ±‚è½»æ¾æ¢å¤ã€‚é€šè¿‡ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ³¨é‡ŠImageCacheèµ„æºæ¥æäº¤åˆ·æ–°è¯·æ±‚</p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="d214" class="nf ld jg nb b gy ng nh l ni nj">kubectl annotate imagecaches imagecache1 -n kube-fledged kubefledged.io/refresh-imagecache=</span></pre><p id="5f6c" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">éªŒè¯å›¾åƒç¼“å­˜åˆ·æ–°çš„çŠ¶æ€</p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="0ff8" class="nf ld jg nb b gy ng nh l ni nj">kubectl get imagecache imagecache1 -n kube-fledged -o yaml</span></pre><h1 id="306e" class="lc ld jg bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">ç»“è®º</h1><p id="d0e0" class="pw-post-body-paragraph kd ke jg kf b kg ma ki kj kk mb km kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">åœ¨è¿™ç¯‡åšå®¢ä¸­ï¼Œæˆ‘è§£é‡Šäº†å¦‚ä½•ä½¿ç”¨kube-friedgedåœ¨kubernetesé›†ç¾¤ä¸Šåˆ›å»ºå®¹å™¨å›¾åƒç¼“å­˜ï¼Œä»¥åŠå¦‚ä½•å¯¹åˆ›å»ºçš„å›¾åƒç¼“å­˜æ‰§è¡Œä¸åŒçš„æ“ä½œ:æŸ¥çœ‹ã€ä¿®æ”¹ã€æ¸…é™¤ã€åˆ·æ–°ã€‚å‰å¾€è¯¥é¡¹ç›®çš„githubèµ„æºåº“:ã€https://github.com/senthilrch/kube-fledged T2ã€‘</p><p id="c993" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äºKube-fleededçš„ä¿¡æ¯ï¼Œè¯·é˜…è¯»æˆ‘ä¹‹å‰çš„åšå®¢<a class="ae jd" rel="noopener ugc nofollow" target="_blank" href="/kube-fledged-cache-container-images-in-kubernetes-7880a00bab91">Kube-fleeded:åœ¨Kubernetesä¸­ç¼“å­˜å®¹å™¨å›¾åƒ</a></p><p id="35f2" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ğŸ‘‰æˆ‘å®šæœŸåœ¨Kuberneteså’Œäº‘åŸç”ŸæŠ€æœ¯ä¸Šå‘å¾®åšã€‚ <em class="lb">è·Ÿæˆ‘ä¸Š</em> <a class="ae jd" href="https://twitter.com/senthilrch" rel="noopener ugc nofollow" target="_blank"> <em class="lb">æ¨ç‰¹</em> </a> <em class="lb">å’Œ</em> <a class="ae jd" href="https://medium.com/@senthilrch" rel="noopener"> <em class="lb">ä¸­</em> </a></p></div></div>    
</body>
</html>