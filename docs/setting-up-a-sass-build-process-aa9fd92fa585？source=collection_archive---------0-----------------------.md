# è®¾ç½® Sass æ„å»ºæµç¨‹

> åŸæ–‡ï¼š<https://itnext.io/setting-up-a-sass-build-process-aa9fd92fa585?source=collection_archive---------0----------------------->

![](img/8f788f22d6ffd0417cb0f93fd6260850.png)

è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ä½¿ç”¨ npm è„šæœ¬æ¥è®¾ç½® Sass æ„å»ºæµç¨‹ï¼Œå¹¶æ¨è¿›æˆ‘ä»¬çš„å¼€å‘å·¥ä½œæµç¨‹ã€‚

**ä»€ä¹ˆæ˜¯æ„å»ºæµç¨‹ï¼Ÿ**

å®ƒæœ¬è´¨ä¸Šåªæ˜¯ä¸€ç³»åˆ—è‡ªåŠ¨æ‰§è¡Œçš„ä»»åŠ¡â€”â€”æˆ‘ä»¬åœ¨é¡¹ç›®å®Œæˆåè¿è¡Œå®ƒä»¬ã€‚æˆ‘ä»¬çš„ç”Ÿäº§æ–‡ä»¶å·²ç»ç”Ÿæˆï¼Œå¹¶å‡†å¤‡å¥½éƒ¨ç½²åˆ° web æœåŠ¡å™¨ä¸Šã€‚

ğŸ¤“*æƒ³äº†è§£æœ€æ–°çš„ç½‘ç«™å¼€å‘ä¿¡æ¯å—ï¼Ÿ*
ğŸš€æƒ³è¦å°†æœ€æ–°çš„æ–°é—»ç›´æ¥å‘é€åˆ°æ‚¨çš„æ”¶ä»¶ç®±å—ï¼Ÿ
ğŸ‰åŠ å…¥ä¸€ä¸ªä¸æ–­å£®å¤§çš„è®¾è®¡å¸ˆ&å¼€å‘è€…ç¤¾åŒºï¼

**åœ¨è¿™é‡Œè®¢é˜…æˆ‘çš„ç®€è®¯â†’**[**https://ease out . EO . page**](https://easeout.eo.page/)

# æ„å»ºè¿‡ç¨‹

*è¯·æ³¨æ„:*ä¸‹é¢çš„è¿‡ç¨‹å‡è®¾æ‚¨å·²ç»æœ‰äº†ä¸€ä¸ª Sass é¡¹ç›®å¹¶æ­£åœ¨è¿è¡Œï¼å¦‚æœæ²¡æœ‰ï¼Œè¯·å‚é˜…æ–‡ç« [ä» Sass](https://medium.com/@timothyrobards/starting-with-sass-116f4ecb682d) å¼€å§‹ï¼Œå…¶ä¸­æˆ‘ä»‹ç»äº†è®¾ç½® Sass å¼€å‘ç¯å¢ƒçš„æ­¥éª¤ã€‚

**å¥½å§ï¼é‚£ä¹ˆæˆ‘ä»¬è¦å®ç°ä»€ä¹ˆæ„å»ºè¿‡ç¨‹å‘¢ï¼Ÿ**

æˆ‘ä»¬å°†ç¼–è¯‘ã€è¿æ¥ã€å‰ç¼€å’Œå‹ç¼©æˆ‘ä»¬çš„æ ·å¼è¡¨ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º..

![](img/793120c4bf97710595d0087db66807b1.png)

`main.scss` â€”æˆ‘ä»¬ä»æˆ‘ä»¬çš„ä¸» sass æ–‡ä»¶å¼€å§‹ï¼Œå®ƒæ‰§è¡Œ**åˆ° CSS çš„ç¼–è¯‘**ã€‚

æ¥ä¸‹æ¥æˆ‘ä»¬è¦çœ‹çœ‹**ä¸²è”**ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æƒ³æŠŠæ‰€æœ‰çš„ CSS æ–‡ä»¶åˆå¹¶æˆä¸€ä¸ªã€‚ä¸ºäº†æµ‹è¯•è¿™ä¸ªè¿‡ç¨‹ï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ªåä¸º`additional.css`çš„æ–‡ä»¶ã€‚

ç„¶åæˆ‘ä»¬å°†ä¼šçœ‹åˆ°**åœ¨**å‰é¢åŠ ä¸Šè‡ªåŠ¨å‰ç¼€ã€‚å‰ç¼€ä¼šè‡ªåŠ¨å°†å‚å•†å‰ç¼€(-webkitï¼Œ-moz ç­‰)æ·»åŠ åˆ°æˆ‘ä»¬çš„ä»£ç ä¸­ï¼Œä»¥å¸®åŠ©ç¡®ä¿å®ƒåœ¨ä¸»æµæµè§ˆå™¨ä¸­çš„åŠŸèƒ½ã€‚

æˆ‘ä»¬æµç¨‹çš„æœ€åä¸€æ­¥æ˜¯**å‹ç¼©**ã€‚æˆ‘ä»¬å°†åœ¨è¿™ä¸ªé˜¶æ®µå‹ç¼©æ‰€æœ‰çš„ä»£ç ï¼Œä»¥æœ€å¤§é™åº¦åœ°æé«˜æ€§èƒ½ã€‚

è®©æˆ‘ä»¬ç»§ç»­ç”¨ NPM è„šæœ¬åˆ›å»ºæˆ‘ä»¬çš„æ„å»ºè¿‡ç¨‹ã€‚

# åˆ›å»ºæ„å»ºè¿‡ç¨‹

## æ±‡ç¼–

æ‰“å¼€ä½ çš„ **package.json** æ–‡ä»¶ã€‚åœ¨ Sass é¡¹ç›®ç›®å½•ä¸­è¿è¡Œ`npm init`æ—¶ç”Ÿæˆçš„æ–‡ä»¶ã€‚

æ·»åŠ ä»¥ä¸‹è„šæœ¬..

```
*"scripts"*: {
  ***"watch-sass"*: "node-sass sass/main.scss css/style.css --watch",
  *"compile-sass"*: "node-sass sass/main.scss css/style.comp.css"**
},
```

è®©æˆ‘ä»¬ç¡®ä¿ç¼–è¯‘æ­£åœ¨å·¥ä½œã€‚åœ¨ç»ˆç«¯ä¸­ï¼Œæ‰“å¼€æ‚¨çš„ Sass é¡¹ç›®æ–‡ä»¶å¤¹å¹¶è¿è¡Œ:

```
npm run compile-sass
```

å®ƒåº”è¯¥å®Œæˆæ¸²æŸ“å¹¶å°† style.comp.css æ–‡ä»¶è¾“å‡ºåˆ°æ‚¨çš„ css æ–‡ä»¶å¤¹ä¸­ã€‚æˆ‘ä»¬å°†åœ¨é¡¹ç›®ç»“æŸæ—¶è¿è¡Œè¿™é¡¹ä»»åŠ¡ï¼Œä»¥å®Œæˆæˆ‘ä»¬çš„æœ€ç»ˆæ„å»ºï¼

å½“æˆ‘ä»¬å¼€å‘é¡¹ç›®æ—¶ï¼Œæˆ‘ä»¬ç”¨ä»¥ä¸‹æ–¹å¼è¿è¡Œè§‚å¯Ÿä»»åŠ¡:

```
npm run watch-sass
```

è¿™å‘Šè¯‰ç¼–è¯‘å™¨åœ¨æ¯æ¬¡ä¿å­˜ Sass æ–‡ä»¶æ—¶è§‚å¯Ÿæºæ–‡ä»¶çš„å˜åŒ–ï¼Œå¹¶è‡ªåŠ¨é‡æ–°ç¼–è¯‘æˆ CSS åªæ˜¯è¦ç¡®ä¿åœ¨å·¥ä½œæ—¶ä»»åŠ¡ä¸€ç›´åœ¨è¿è¡Œï¼

## ä¸²è”

ä¸‹ä¸€æ­¥æ˜¯æ·»åŠ è„šæœ¬æ¥è¿æ¥æˆ‘ä»¬ç°æœ‰çš„ CSS æ–‡ä»¶ã€‚å¦‚å‰æ‰€è¿°ï¼Œæˆ‘å·²ç»ä¸ºæˆ‘ä»¬çš„åˆå¹¶åˆ›å»ºäº†`additional.css`æ–‡ä»¶ã€‚åœ¨å®ƒé‡Œé¢æœ‰ä¸€äº›é¢å¤–çš„æ ·å¼ã€‚ç»§ç»­åœ¨ä½ çš„ CSS æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„ CSS æ–‡ä»¶ã€‚åªè¦ç»™å®ƒä¸€äº›é¢å¤–çš„é£æ ¼â€”â€”ä»€ä¹ˆéƒ½ä¸é‡è¦ã€‚ç„¶åæ·»åŠ ä¸‹é¢çš„è„šæœ¬ï¼Œå°±åƒè¿™æ ·:

```
*"scripts"*: {
  *"watch-sass"*: "node-sass sass/main.scss css/style.css --watch",
  *"compile-sass"*: "node-sass sass/main.scss css/style.comp.css"**,
  *"concat-css"*: "concat -o css/style.concat.css css/additional.css css/style.comp.css"** },
```

`*concat-css:*` æ˜¯æˆ‘ä»¬çš„å‰§æœ¬åç§°ã€‚
`concat -o css/style.concat.css` æˆ‘ä»¬çš„åŒ…è¾“å‡ºæ–‡ä»¶ã€‚
`css/additional.css css/style.comp.css` æ˜¯æˆ‘ä»¬è¦ä¸²æ¥çš„ CSS æ–‡ä»¶ã€‚

æˆ‘ä»¬éœ€è¦å®‰è£… [concat](https://www.npmjs.com/package/concat) npm åŒ…ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤:

```
npm install concat --save-dev
```

ä¸€æ—¦å®‰è£…å®Œæˆï¼Œä½ ä¼šçœ‹åˆ°å®ƒåˆ—åœ¨ä½ çš„**åŒ…çš„*â€œdev dependenciesâ€*ä¸‹é¢ã€‚**

ç°åœ¨è¿è¡Œ concat ä»¥ç¡®ä¿å®ƒæ­£å¸¸å·¥ä½œ..

```
npm run concat-css
```

ä½ ç°åœ¨ä¼šåœ¨ä½ çš„ CSS ç›®å½•ä¸­çœ‹åˆ°`style.concat.css`è¾“å‡ºæ–‡ä»¶ï¼æ‰“å¼€å®ƒï¼Œçœ‹çœ‹ä½ çš„ CSSï¼Œä½ ä¼šçœ‹åˆ°ä½ çš„`additional.css`å’Œä½ çš„`style.comp.css`çš„å†…å®¹å·²ç»åˆå¹¶æˆä¸€ä¸ªâ€”â€”ç”œï¼

## åŠ å‰ç¼€

æˆ‘ä»¬ç°åœ¨ç»§ç»­åœ¨æˆ‘ä»¬çš„æ„å»ºä¸­æ·»åŠ å‰ç¼€ã€‚æ·»åŠ ä»¥ä¸‹è„šæœ¬:

```
*"scripts"*: {
  *"watch-sass"*: "node-sass sass/main.scss css/style.css --watch",
  *"compile-sass"*: "node-sass sass/main.scss css/style.comp.css"**,** *"concat-css"*: "concat -o css/style.concat.css css/additional.css css/style.comp.css",
  ***â€œprefix-cssâ€:* â€œpostcss --use autoprefixer -b 'last 5 versions' css/style.concat.css -o css/style.prefix.cssâ€**
},
```

`*prefix-css*:`æ˜¯æˆ‘ä»¬çš„è„šæœ¬åã€‚
`postcss --use autoprefixer` autoprefixer è¢«é€‰ä¸­ã€‚æˆ‘ä»¬æŒ‡å®šå¸Œæœ›æˆ‘ä»¬çš„è‡ªåŠ¨å‰ç¼€è¦†ç›–å“ªäº›æµè§ˆå™¨ç‰ˆæœ¬ã€‚
`css/style.concat.css`æ˜¯æˆ‘ä»¬è¾“å…¥çš„æ–‡ä»¶ã€‚
`-o css/style.prefix.css`æˆ‘ä»¬æŒ‡å®šæˆ‘ä»¬çš„è¾“å‡ºæ–‡ä»¶ã€‚

æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ npm [autoprefixer](https://www.npmjs.com/package/autoprefixer) åŒ…ï¼Œéœ€è¦é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®‰è£…:

```
npm install autoprefixer --save-dev
```

æˆ‘ä»¬è¿˜éœ€è¦å®‰è£… [PostCSS](https://www.npmjs.com/package/postcss) (autoprefixer æ˜¯è¿™ä¸ªæ’ä»¶çš„ä¸€éƒ¨åˆ†)ã€‚æˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤:

```
npm install postcss-cli --save-dev
```

ç„¶åè¿è¡Œè„šæœ¬ï¼Œå¦‚ä¸‹æ‰€ç¤º:

```
npm run prefix-css
```

å®ƒå°†ç”Ÿæˆæˆ‘ä»¬çš„`css/style.prefix.css`æ–‡ä»¶ã€‚çœ‹ä¸€ä¸‹è¿™ä¸ªæ–‡ä»¶ä¸­çš„ä»£ç ï¼Œæ‚¨ä¼šçœ‹åˆ°å·²ç»ä¸ºæ‚¨æ·»åŠ äº†æµè§ˆå™¨å‰ç¼€ã€‚è¿™å¾ˆå¥½ï¼Œå› ä¸ºæˆ‘ä»¬ç°åœ¨å¯ä»¥å¿˜è®°å‰ç¼€ï¼Œä¸“æ³¨äºç¼–å†™å¹²å‡€çš„ä»£ç ï¼

## å‹ç¼©

æˆ‘ä»¬ç°åœ¨å¤„äºæ„å»ºè¿‡ç¨‹çš„æœ€åä¸€æ­¥ã€‚è®©æˆ‘ä»¬åœ¨è„šæœ¬ä¸­æ·»åŠ ä¸‹é¢ä¸€è¡Œ:

```
*"scripts"*: {
  *"watch-sass"*: "node-sass sass/main.scss css/style.css --watch",
  *"compile-sass"*: "node-sass sass/main.scss css/style.comp.css"**,** *"concat-css"*: "concat -o css/style.concat.css css/additional.css css/style.comp.css",
  *â€œprefix-cssâ€:* â€œpostcss --use autoprefixer -b 'last 5 versions' css/style.concat.css -o css/style.prefix.cssâ€**,
  "compress-css": "node-sass css/style.prefix.css css/style.css --output-style compressed"** },
```

è¿™æ˜¯ä¸€ä¸ªå¾ˆç®€å•çš„é—®é¢˜ï¼è¿™é‡Œæˆ‘ä»¬æ‰€åšçš„å°±æ˜¯å‘Šè¯‰æˆ‘ä»¬çš„`css/style.prefix.css`è¾“å…¥æ–‡ä»¶ï¼Œè¾“å‡ºåˆ°`css/style.css`ã€‚`--output-style compressed` é€‰é¡¹ä¼šå‹ç¼©ä»£ç ï¼

è®©æˆ‘ä»¬æµ‹è¯•ä¸€ä¸‹..

```
npm run compress-css
```

ç°åœ¨çœ‹çœ‹ä½ çš„`style.css`æ–‡ä»¶ã€‚ä½ ä¼šå‘ç°ä½ æ‰€æœ‰çš„é£æ ¼éƒ½è¢«å‹ç¼©æˆäº†ä¸€è¡Œä»£ç ï¼æ‰€æœ‰ç©ºç™½å’Œæ³¨é‡Šéƒ½å·²åˆ é™¤ã€‚æ‚¨å¯ä»¥å°†æ‚¨çš„`style.prefix.css`è¾“å…¥æ–‡ä»¶çš„æ–‡ä»¶å¤§å°ä¸æ–°ç”Ÿæˆçš„`style.css`æ–‡ä»¶è¿›è¡Œæ¯”è¾ƒï¼Œä»¥æŸ¥çœ‹å‹ç¼©åçš„æ–‡ä»¶å¤§å°ã€‚é€šè¿‡è¿™ä¸ªç®€å•çš„æ­¥éª¤ï¼Œæˆ‘ä»¬å¤§å¤§å‡å°‘äº†é¡µé¢è´Ÿè½½ï¼

## å»ºè®¾

ç°åœ¨è®©æˆ‘ä»¬ç¼–å†™æœ€åä¸€ä¸ªè„šæœ¬æ¥ä¸€æ¬¡è¿è¡Œæ‰€æœ‰çš„ä¸œè¥¿ï¼æ·»åŠ ä»¥ä¸‹å†…å®¹:

```
*"scripts"*: {
  *"watch-sass"*: "node-sass sass/main.scss css/style.css --watch",
  *"compile-sass"*: "node-sass sass/main.scss css/style.comp.css"**,** *"concat-css"*: "concat -o css/style.concat.css css/additional.css css/style.comp.css",
  *â€œprefix-cssâ€:* â€œpostcss --use autoprefixer -b 'last 5 versions' css/style.concat.css -o css/style.prefix.cssâ€**,** "compress-css": "node-sass css/style.prefix.css css/style.css --output-style compressed"**,** ***"build-css"*: "npm-run-all compile-sass concat-css prefix-css compress-css"**
},
```

åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ç®€å•åœ°æ·»åŠ äº†æ‰€æœ‰ä»»åŠ¡`compile-sass`ã€`concat-css`ã€`prefix-css`ã€&ã€`compress-css`ï¼Œåœ¨æ‰§è¡Œæ„å»ºå‘½ä»¤æ—¶è¿è¡Œã€‚

æˆ‘ä»¬ä½¿ç”¨ [npm-run-all](https://www.npmjs.com/package/npm-run-all) åŒ…æ¥ç¡®ä¿å®ƒå¯ä»¥åœ¨æ‰€æœ‰å¹³å°ä¸Šå·¥ä½œã€‚è¾“å…¥ä»¥ä¸‹å‘½ä»¤:

```
npm install npm-run-all --save-dev
```

è®©æˆ‘ä»¬è¿›è¡Œæœ€åä¸€æ¬¡æµ‹è¯•ï¼Œä»¥ç¡®è®¤ä¸€åˆ‡æ­£å¸¸ã€‚ä» CSS æ–‡ä»¶å¤¹ä¸­åˆ é™¤æ‰€æœ‰æ–‡ä»¶(é™¤äº†`additional.css`)ã€‚å®Œæˆåï¼Œè¿è¡Œæ„å»ºå‘½ä»¤..

```
npm run build-css
```

è¿™å°±å¯¹äº†ã€‚æ‰€æœ‰çš„ CSS æ–‡ä»¶éƒ½æ˜¯ç”¨è¿™æ¡å‘½ä»¤ç”Ÿæˆçš„â€”â€”éå¸¸å¼ºå¤§ï¼

ä¸ºäº†åœ¨æœªæ¥çš„é¡¹ç›®ä¸­å¾—åˆ°è¿™ä¸ªæ„å»ºè®¾ç½®ï¼Œä½ éœ€è¦åšçš„å°±æ˜¯ä»è¿™ä¸ªé¡¹ç›®ä¸­å¤åˆ¶*è„šæœ¬*å’Œ *devDependencies* ï¼Œåˆ°ä½ çš„æ–°é¡¹ç›®&çš„ **package.json** ä¸­ï¼Œè¿è¡Œä¸€ä¸ª`npm install`ã€‚

å¦‚æœæ‚¨å‡†å¤‡å¥½æé«˜æ‚¨çš„å‰ç«¯æŠ€èƒ½å¹¶æ„å»ºæ›´å¿«ã€æ›´æœ‰ç»„ç»‡å’Œå¯ç»´æŠ¤çš„ä»£ç ã€‚æŸ¥çœ‹[å˜å¾—æ—¶é«¦:æ—¶é«¦å®ç”¨æŒ‡å—](https://gum.co/getting-sassy)ã€‚

æˆ‘çš„äº¤äº’å¼åˆå­¦è€…å‹å¥½æŒ‡å—å°†å¸¦æ‚¨äº†è§£ SASS çš„æ‰€æœ‰é‡è¦ä¿¡æ¯ï¼ŒåŒ…æ‹¬:

*   ä»å˜é‡ã€åµŒå¥—ã€æ··åˆåˆ° for/each å¾ªç¯ç­‰æ‰€æœ‰åŸºç¡€çŸ¥è¯†ï¼
*   æ·±å…¥äº†è§£å¦‚ä½•æ„å»ºæ‚¨çš„ SASS é¡¹ç›®
*   å¦‚ä½•åˆ›å»ºç”Ÿäº§å°±ç»ªçš„æ„å»ºè¿‡ç¨‹

æœ€åï¼Œæ‚¨å°†èƒ½å¤Ÿè¿ç§»ç°æœ‰çš„ CSS ä»£ç åº“ï¼Œå¹¶ä»å¤´å¼€å§‹å»ºç«‹æ•´ä¸ªé¡¹ç›®ï¼

![](img/9a58b525327ed3868b4fcb14ae04647a.png)

*ç°å·²ä¸Šå¸‚ï¼ğŸ‘‰*[gum.co/getting-sassy](https://gum.co/getting-sassy)

# ç»“è®º

æˆ‘ä»¬ç°åœ¨å·²ç»ä¸ºæˆ‘ä»¬çš„ Sass é¡¹ç›®åˆ›å»ºäº†ä¸€ä¸ªæ„å»ºè¿‡ç¨‹ï¼æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªå‘½ä»¤ç¼–è¯‘ã€åˆå¹¶ã€å‰ç¼€å’Œå‹ç¼©æˆ‘ä»¬çš„æ ·å¼è¡¨ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å·²ç»å¤§å¤§æ”¹è¿›äº†æˆ‘ä»¬çš„å¼€å‘å·¥ä½œæµç¨‹ã€‚

æˆ‘å¸Œæœ›è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰ç”¨ï¼ä½ å¯ä»¥åœ¨åª’ä½“ä¸Šå…³æ³¨æˆ‘ã€‚æˆ‘ä¹Ÿåœ¨[æ¨ç‰¹](https://twitter.com/easeoutco)ä¸Šã€‚æ¬¢è¿åœ¨ä¸‹é¢çš„è¯„è®ºä¸­ç•™ä¸‹ä»»ä½•é—®é¢˜ã€‚æˆ‘å¾ˆä¹æ„å¸®å¿™ï¼

# å…³äºæˆ‘çš„ä¸€ç‚¹ç‚¹..

å˜¿ï¼Œæˆ‘æ˜¯æå§†ï¼ğŸ‘‹æˆ‘æ˜¯ä¸€åå¼€å‘äººå‘˜ã€æŠ€æœ¯ä½œå®¶å’Œä½œå®¶ã€‚å¦‚æœä½ æƒ³çœ‹æˆ‘æ‰€æœ‰çš„æ•™ç¨‹ï¼Œå¯ä»¥åœ¨[æˆ‘çš„ä¸ªäººåšå®¢](http://www.easeout.co)ä¸Šæ‰¾åˆ°ã€‚

æˆ‘ç›®å‰æ­£åœ¨æ„å»ºæˆ‘çš„[è‡ªç”±èŒä¸šè€…å®Œæ•´æŒ‡å—](http://www.easeout.co/freelance)ã€‚åæ¶ˆæ¯æ˜¯å®ƒè¿˜ä¸å¯ç”¨ï¼ä½†æ˜¯å¦‚æœè¿™æ˜¯ä½ å¯èƒ½æ„Ÿå…´è¶£çš„ä¸œè¥¿ï¼Œä½ å¯ä»¥[æ³¨å†Œï¼Œå½“å®ƒå¯ç”¨çš„æ—¶å€™ä¼šé€šçŸ¥ä½ ](https://easeout.eo.page/news)ğŸ‘

æ„Ÿè°¢é˜…è¯»ğŸ‰