<html>
<head>
<title>Manage React state without redux</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ç®¡ç†æ— å†—ä½™çš„ååº”çŠ¶æ€</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://itnext.io/manage-react-state-without-redux-a1d03403d360?source=collection_archive---------0-----------------------#2019-02-10">https://itnext.io/manage-react-state-without-redux-a1d03403d360?source=collection_archive---------0-----------------------#2019-02-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="fa98" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">å¦‚ä½•æ›´å®¹æ˜“æ›´æ¼‚äº®åœ°ä½¿ç”¨React Context APIï¼Ÿ</h2></div><p id="558b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lb">å…è´£å£°æ˜</em>:æˆ‘åœ¨åˆ¶ä½œä¸­ä½¿ç”¨<em class="lb"> Redux </em>å’Œ<em class="lb"> React </em>ï¼Œæˆ‘å¯¹æ­¤ç›¸å½“æ»¡æ„ã€‚</p><h2 id="4806" class="lc ld iq bd le lf lg dn lh li lj dp lk ko ll lm ln ks lo lp lq kw lr ls lt lu bi translated">TLï¼›DRï¼›</h2><p id="5a36" class="pw-post-body-paragraph kf kg iq kh b ki lv jr kk kl lw ju kn ko lx kq kr ks ly ku kv kw lz ky kz la ij bi translated">ä½ çœŸå·®åŠ²ï¼ä½ åªæ˜¯æƒ³è¦ä»£ç ï¼Œä½†æ˜¯å¦‚æœä½ å¾ˆç€æ€¥ï¼Œä¸‹è½½<a class="ae ma" href="https://github.com/Spyna/react-store" rel="noopener ugc nofollow" target="_blank"> repo </a>æˆ–è€…åœ¨ä½ çš„é¡¹ç›®ä¸­å®‰è£…<a class="ae ma" href="https://www.npmjs.com/package/@spyna/react-store" rel="noopener ugc nofollow" target="_blank"> npmåº“</a>ã€‚</p><p id="8154" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">åˆ°æœ¬æ–‡ç»“æŸæ—¶ï¼Œæ‚¨å°†å­¦ä¼šå¦‚ä½•ä»¥ä¸€ç§å¿«é€Ÿç®€å•çš„æ–¹å¼åœ¨Reactåº”ç”¨ç¨‹åºçš„ä¸€ä¸ªç»„ä»¶å’Œå¦ä¸€ä¸ªç»„ä»¶ä¹‹é—´è¯»å–ã€å†™å…¥å’Œåˆ é™¤æ•°æ®ã€‚</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi mb"><img src="../Images/106557e75f4a0a4c199dd2e5e531be17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*c6sWuadNJ10W2w4X"/></div></div><figcaption class="mn mo gj gh gi mp mq bd b be z dk translated">å¦‚æœä½ çš„åº”ç”¨ç¨‹åºå­˜å‚¨åƒè¿™æ ·æ··ä¹±ï¼Œè¯·ç»§ç»­é˜…è¯»ã€‚æ¯ç¯‡æ–‡ç« éƒ½æœ‰ä¸€å¼ ç…§ç‰‡ï¼Œæ‰€ä»¥æˆ‘éœ€è¦ç”¨<a class="ae ma" href="https://unsplash.com/@chuttersnap?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> chuttersnap </a>åœ¨<a class="ae ma" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šæ·»åŠ è¿™å¼ ç…§ç‰‡</figcaption></figure><blockquote class="mr ms mt"><p id="61b4" class="kf kg lb kh b ki kj jr kk kl km ju kn mu kp kq kr mv kt ku kv mw kx ky kz la ij bi translated">ç¼–è¾‘2019å¹´11æœˆ</p><p id="82ac" class="kf kg lb kh b ki kj jr kk kl km ju kn mu kp kq kr mv kt ku kv mw kx ky kz la ij bi translated">æˆ‘ç”¨React Hookså‘å¸ƒäº†è¿™ä¸ªæ•…äº‹çš„ä¸€ä¸ªç‰ˆæœ¬ï¼Œå®ƒæ›´åŠ ç°ä»£å’Œæ›´æ–°ã€‚è¯·ç‚¹å‡»æ­¤é“¾æ¥é˜…è¯»:</p></blockquote><div class="mx my gp gr mz na"><a href="https://medium.com/swlh/react-global-state-with-hooks-f163e49f90f9" rel="noopener follow" target="_blank"><div class="nb ab fo"><div class="nc ab nd cl cj ne"><h2 class="bd ir gy z fp nf fr fs ng fu fw ip bi translated">ç”¨é’©å­å’Œä¸Šä¸‹æ–‡ååº”å…¨å±€çŠ¶æ€</h2><div class="nh l"><h3 class="bd b gy z fp nf fr fs ng fu fw dk translated">ä½¿ç”¨é’©å­å’Œä¸Šä¸‹æ–‡APIç®¡ç†Reactåº”ç”¨ç¨‹åºå…¨å±€çŠ¶æ€çš„è§£å†³æ–¹æ¡ˆã€‚</h3></div><div class="ni l"><p class="bd b dl z fp nf fr fs ng fu fw dk translated">medium.com</p></div></div><div class="nj l"><div class="nk l nl nm nn nj no ml na"/></div></div></a></div></div><div class="ab cl np nq hu nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="ij ik il im in"><h1 id="8d4f" class="nw ld iq bd le nx ny nz lh oa ob oc lk jw od jx ln jz oe ka lq kc of kd lt og bi translated">ä»‹ç»</h1><p id="6e16" class="pw-post-body-paragraph kf kg iq kh b ki lv jr kk kl lw ju kn ko lx kq kr ks ly ku kv kw lz ky kz la ij bi translated">å‡ å‘¨å‰æˆ‘ç”¨Reactå¯åŠ¨äº†ä¸€ä¸ªé¡¹ç›®ï¼Œæˆ‘ä¸æƒ³ç”¨Reduxï¼Œå› ä¸ºè¿™ä¸ªé¡¹ç›®å¾ˆå°ã€‚å¦‚æœä½ æƒ³çŸ¥é“æˆ‘ä¸æƒ³ä½¿ç”¨reduxçš„åŸå› ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å®ƒçš„æ¶æ„å’Œæµç¨‹ã€‚</p><h2 id="b2f1" class="lc ld iq bd le lf lg dn lh li lj dp lk ko ll lm ln ks lo lp lq kw lr ls lt lu bi translated">Redux</h2><p id="0dbb" class="pw-post-body-paragraph kf kg iq kh b ki lv jr kk kl lw ju kn ko lx kq kr ks ly ku kv kw lz ky kz la ij bi translated">å¦‚æœä½ ç†Ÿæ‚‰reduxï¼Œå°±è·³è¿‡è¿™ä¸€èŠ‚ï¼Œé‚£ä¸ªaå¯¹ä½ æ¥è¯´å¯èƒ½å¬èµ·æ¥æœ‰ç‚¹æ¯ç‡¥ã€‚</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/c829684c902c5cb1188f37a1049828b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1006/format:webp/1*gwiKZyQ81T7wfBcdGVjRgg.png"/></div><figcaption class="mn mo gj gh gi mp mq bd b be z dk translated">å†—ä½™ç»„ä»¶</figcaption></figure><p id="37e8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">åœ¨reduxä¸­ï¼Œæ‚¨å¿…é¡»è®¾ç½®å’Œç»´æŠ¤:</p><ul class=""><li id="d33b" class="oi oj iq kh b ki kj kl km ko ok ks ol kw om la on oo op oq bi translated"><a class="ae ma" href="https://github.com/reduxjs/react-redux/blob/master/docs/api/Provider.md#overview" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir">æä¾›è€…</strong></a>:<code class="fe or os ot ou b">&lt;Provider /&gt;</code>ä½¿Redux <code class="fe or os ot ou b">store</code>å¯¹ä»»ä½•å·²ç»è¢«åŒ…è£…åœ¨<code class="fe or os ot ou b">connect()</code>å‡½æ•°ä¸­çš„åµŒå¥—ç»„ä»¶å¯ç”¨ã€‚</li><li id="c3a7" class="oi oj iq kh b ki ov kl ow ko ox ks oy kw oz la on oo op oq bi translated"><a class="ae ma" href="https://github.com/reduxjs/react-redux/blob/master/docs/api/connect.md#overview" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir">è¿æ¥</strong> </a>:å‡½æ•°<code class="fe or os ot ou b">connect()</code>å°†ä¸€ä¸ªReactç»„ä»¶è¿æ¥åˆ°ä¸€ä¸ªReduxå­˜å‚¨ã€‚</li><li id="a3a5" class="oi oj iq kh b ki ov kl ow ko ox ks oy kw oz la on oo op oq bi translated"><a class="ae ma" href="https://redux.js.org/advanced/middleware#middleware" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir">ä¸­é—´ä»¶</strong> </a>:ä¸­é—´ä»¶æä¾›äº†ä¸€ä¸ªç¬¬ä¸‰æ–¹çš„æ‰©å±•ç‚¹ï¼Œä»è°ƒåº¦ä¸€ä¸ªåŠ¨ä½œï¼Œåˆ°å®ƒåˆ°è¾¾reducerçš„æ—¶åˆ»ã€‚</li><li id="3c79" class="oi oj iq kh b ki ov kl ow ko ox ks oy kw oz la on oo op oq bi translated"><a class="ae ma" href="https://redux.js.org/basics/actions#actions" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir">åŠ¨ä½œ</strong> </a> <strong class="kh ir"> : </strong>åŠ¨ä½œæ˜¯å°†æ•°æ®ä»åº”ç”¨ç¨‹åºå‘é€åˆ°å•†åº—çš„æœ‰æ•ˆä¿¡æ¯è´Ÿè½½ã€‚ä»–ä»¬æ˜¯å•†åº—å”¯ä¸€çš„ä¿¡æ¯æ¥æºã€‚æ‚¨ä½¿ç”¨<code class="fe or os ot ou b"><a class="ae ma" href="https://redux.js.org/api/store#dispatch" rel="noopener ugc nofollow" target="_blank">store.dispatch()</a></code>å°†å®ƒä»¬å‘é€åˆ°å•†åº—ã€‚</li><li id="2a70" class="oi oj iq kh b ki ov kl ow ko ox ks oy kw oz la on oo op oq bi translated"><a class="ae ma" href="https://redux.js.org/basics/reducers#reducers" rel="noopener ugc nofollow" target="_blank"><strong class="kh ir">reducer</strong></a>:reduceræŒ‡å®šåº”ç”¨ç¨‹åºçš„çŠ¶æ€å¦‚ä½•å˜åŒ–ï¼Œä»¥å“åº”<a class="ae ma" href="https://redux.js.org/basics/actions" rel="noopener ugc nofollow" target="_blank">å‘é€åˆ°å•†åº—çš„</a>åŠ¨ä½œã€‚è®°ä½åŠ¨ä½œåªæè¿°äº†å‘ç”Ÿäº†ä»€ä¹ˆï¼Œè€Œæ²¡æœ‰æè¿°åº”ç”¨ç¨‹åºçš„çŠ¶æ€æ˜¯å¦‚ä½•å˜åŒ–çš„ã€‚</li></ul><p id="7c2f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æ›´ä¸ç”¨è¯´ä½ è¿˜å¾—ç”¨<code class="fe or os ot ou b"><a class="ae ma" href="https://redux.js.org/api/createstore#createstorereducer-preloadedstate-enhancer" rel="noopener ugc nofollow" target="_blank">createStore</a></code>åˆ›å»ºredux Storeï¼Œç”¨<code class="fe or os ot ou b"><a class="ae ma" href="https://redux.js.org/api/combinereducers#combinereducersreducers" rel="noopener ugc nofollow" target="_blank">combineReducers</a></code>ã€<code class="fe or os ot ou b">applyMiddlewares</code>ä¸²è”reduxï¼Œæ¯”å¦‚<em class="lb"> redux-thunkã€‚</em>ç„¶åä½ å¿…é¡»<code class="fe or os ot ou b">connect</code>ä½ çš„<em class="lb">ç»„ä»¶</em>ä¸çŠ¶æ€å’ŒåŠ¨ä½œï¼Œä½¿ç”¨<code class="fe or os ot ou b">mapStateToProps</code>ã€<code class="fe or os ot ou b">mapActionsToProps</code>ï¼Œæœ‰æ—¶ä½¿ç”¨<code class="fe or os ot ou b">mapDispatchToProps</code>ã€‚</p><p id="ce71" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">è¿™æ„å‘³ç€ï¼Œå¦‚æœä½ å†³å®šåœ¨å‘¨äºŒæ—©ä¸Šåœ¨ä½ çš„é¡¹ç›®ä¸­ä½¿ç”¨reduxï¼Œä½ å°†ä¼šèŠ±ä¸€ä¸Šåˆçš„æ—¶é—´æ¥è®¾ç½®å®ƒã€‚å¦‚æœæ‚¨å·²ç»åœ¨å¦ä¸€ä¸ªé¡¹ç›®ä¸­ä½¿ç”¨äº†reduxï¼Œä¹Ÿè®¸æ‚¨å¯ä»¥èŠ‚çœä¸€äº›å¤åˆ¶/ç²˜è´´ä»£ç çš„æ—¶é—´ï¼Œå¹¶åœ¨å‡ ä¸ªå°æ—¶å†…å¼€å§‹å·¥ä½œã€‚</p><p id="2194" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æ¥ä¸‹æ¥ï¼Œæ‚¨å¿…é¡»å†³å®šå“ªä¸ªæ˜¯æ”¾ç½®ä¸šåŠ¡é€»è¾‘çš„æœ€ä½³ä½ç½®:ç»„ä»¶ï¼Ÿè¡ŒåŠ¨ï¼Ÿå‡é€Ÿå™¨ï¼Ÿä¸­é—´ä»¶ï¼Ÿ</p><p id="7052" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ä¸‰ä¸ªæœˆåï¼Œå½“ä½ å‘ç°åº”ç”¨ç¨‹åºä¸­çš„ä¸€ä¸ªbugå¹¶é‡æ–°æ‰“å¼€ä»£ç åº“æ—¶ï¼Œä½ å¿…é¡»è®°ä½é‚£ä¸ªç¼©å‡å™¨åšäº†ä»€ä¹ˆï¼Œä»¥åŠä¸ºä»€ä¹ˆçŠ¶æ€æ²¡æœ‰åƒé¢„æœŸçš„é‚£æ ·æ”¹å˜ã€‚</p><p id="0708" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">è¿™ä¸æ˜¯å“å”¬ä½ ï¼Œåªæ˜¯æˆ‘çš„ç»éªŒğŸ˜ƒã€‚</p><h1 id="466f" class="nw ld iq bd le nx pa nz lh oa pb oc lk jw pc jx ln jz pd ka lq kc pe kd lt og bi translated">æˆ‘ä»¬æƒ³åšä»€ä¹ˆ</h1><p id="ef89" class="pw-post-body-paragraph kf kg iq kh b ki lv jr kk kl lw ju kn ko lx kq kr ks ly ku kv kw lz ky kz la ij bi translated">æœ¬æ–‡çš„ç›®æ ‡æ˜¯æ‰¾åˆ°ä¸€ç§æ–¹æ³•æ¥é™ä½(åŒå…³è¯­)æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºçš„å¤æ‚æ€§ã€‚ä¸‹å›¾æ˜¯æˆ‘ä»¬æƒ³è¦å®ç°çš„æœ€ç»ˆæ¶æ„çš„å‰§é€ã€‚</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/8337619f945e66cc90a4df82a5891684.png" data-original-src="https://miro.medium.com/v2/resize:fit:1006/format:webp/1*i-BeBX6LiIADuwWmwRMTvQ.png"/></div><figcaption class="mn mo gj gh gi mp mq bd b be z dk translated">ä¸€ç§æ›´ç®€æ´çš„ç®¡ç†åº”ç”¨çŠ¶æ€çš„æ–¹å¼</figcaption></figure></div><div class="ab cl np nq hu nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="ij ik il im in"><h2 id="4b0f" class="lc ld iq bd le lf lg dn lh li lj dp lk ko ll lm ln ks lo lp lq kw lr ls lt lu bi translated">å›åˆ°ä»‹ç»</h2><p id="33f5" class="pw-post-body-paragraph kf kg iq kh b ki lv jr kk kl lw ju kn ko lx kq kr ks ly ku kv kw lz ky kz la ij bi translated">ç»è¿‡ä»¥ä¸Šè€ƒè™‘ï¼Œæˆ‘æƒ³åˆ°äº†ä½¿ç”¨<a class="ae ma" href="https://reactjs.org/docs/context.html" rel="noopener ugc nofollow" target="_blank"> <em class="lb"> Reactä¸Šä¸‹æ–‡API </em> </a>çš„å†³å®šã€‚</p><blockquote class="mr ms mt"><p id="8db2" class="kf kg lb kh b ki kj jr kk kl km ju kn mu kp kq kr mv kt ku kv mw kx ky kz la ij bi translated">ä¸Šä¸‹æ–‡æä¾›äº†ä¸€ç§é€šè¿‡ç»„ä»¶æ ‘ä¼ é€’æ•°æ®çš„æ–¹å¼ï¼Œè€Œä¸å¿…åœ¨æ¯ä¸€å±‚æ‰‹åŠ¨å‘ä¸‹ä¼ é€’å±æ€§ã€‚</p></blockquote><p id="38e9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">å®ƒå®ç°äº†å…±äº«ä¸€ä¸ªå…¨å±€<em class="lb">çŠ¶æ€</em>(æˆ–<em class="lb">å­˜å‚¨</em>)æˆ–ä»»ä½•ä½ æƒ³å«å®ƒçš„ä¸œè¥¿çš„ç›®æ ‡ï¼Œä½†æ˜¯æˆ‘å‘ç°å®ƒéå¸¸å†—é•¿ï¼Œå¹¶ä¸”ä¸å®¹æ˜“ä½¿ç”¨ã€‚</p><p id="ad2f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æœ¬æ–‡çš„ç›®æ ‡æ˜¯ä½¿<em class="lb">å…¨å±€åº”ç”¨</em> <em class="lb">çŠ¶æ€</em>ç®¡ç†æ˜“äºä½¿ç”¨(å¯¹äºå¼€å‘è€…è€Œè¨€)ã€‚æ‚¨å°†åœ¨ä¸€ä¸ª<em class="lb">ç»„ä»¶</em>ä¸­ä½¿ç”¨<code class="fe or os ot ou b">store.set(â€™a_keyâ€™, 'a valueâ€™)</code>è®¿é—®å…¨å±€å­˜å‚¨ï¼Œå¹¶åœ¨å¦ä¸€ä¸ª<em class="lb">ç»„ä»¶</em>ä¸­ä½¿ç”¨<code class="fe or os ot ou b">store.get(â€™a_keyâ€™)</code>è¯»å–è¯¥å€¼ã€‚</p><p id="dbe4" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªå…¨å±€<em class="lb">é”®/å€¼æ˜ å°„</em>æ¥å­˜å‚¨æ•°æ®ï¼Œå½“å®ƒçš„å€¼æ”¹å˜æ—¶ï¼Œå®ƒå°†é‡æ–°å‘ˆç°æ‚¨çš„<em class="lb">ç»„ä»¶</em>ã€‚</p></div><div class="ab cl np nq hu nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="ij ik il im in"><p id="8028" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">é¦–å…ˆè¦åšçš„æ˜¯åˆ›å»ºä¸€ä¸ª<code class="fe or os ot ou b">Context</code>ã€<code class="fe or os ot ou b">Context.Provider</code>å’Œä¸€ä¸ª<code class="fe or os ot ou b">Context.Consumer</code>ã€‚ä»£ç æ˜¯:</p><pre class="mc md me mf gt pf ou pg ph aw pi bi"><span id="d818" class="lc ld iq ou b gy pj pk l pl pm">import React, { Component } from 'react'</span><span id="d043" class="lc ld iq ou b gy pn pk l pl pm">const <strong class="ou ir">StoreContext = React.createContext()</strong></span><span id="a841" class="lc ld iq ou b gy pn pk l pl pm">class MyComponent extends Component {<br/> <strong class="ou ir"> static contextType = StoreContext<br/>  </strong>//this line does the magic, binding this.context to the value of the Provider</span><span id="25bd" class="lc ld iq ou b gy pn pk l pl pm">   render() {<br/>    return &lt;div&gt;Hello {this.context.name}&lt;/div&gt;<br/>  }<br/>}</span><span id="2d46" class="lc ld iq ou b gy pn pk l pl pm">const MyApp = props =&gt; (<br/>  &lt;div&gt;<br/>    &lt;MyComponent /&gt;<br/>  &lt;/div&gt;<br/>)</span><span id="afc6" class="lc ld iq ou b gy pn pk l pl pm">class <strong class="ou ir">AppWithContext</strong> extends Component {<br/>  state = { name: 'Spyna' }</span><span id="9edd" class="lc ld iq ou b gy pn pk l pl pm">  render() {<br/>    return (<br/>      <strong class="ou ir">&lt;StoreContext.Provider</strong> <strong class="ou ir"><em class="lb">value</em></strong>={<strong class="ou ir">this.state</strong>}&gt;<br/>        &lt;MyApp /&gt;<br/>      &lt;/StoreContext.Provider&gt;<br/>    )<br/>  }<br/>}</span><span id="78fd" class="lc ld iq ou b gy pn pk l pl pm">export default AppWithContext</span></pre><figure class="mc md me mf gt mg"><div class="bz fp l di"><div class="po pp l"/></div><figcaption class="mn mo gj gh gi mp mq bd b be z dk translated">CodeSandboxä¸Šçš„å·¥ä½œä»£ç </figcaption></figure><p id="96f7" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">åœ¨è¿™æ®µä»£ç ä¸­ï¼Œæ‚¨åˆ›å»ºäº†ä¸€ä¸ªReact <code class="fe or os ot ou b">Context</code>ï¼Œç„¶åå°†<em class="lb"> MyAppç»„ä»¶</em>åŒ…è£…åˆ°ä¸Šä¸‹æ–‡<code class="fe or os ot ou b">Provider</code>ä¸­ï¼Œæœ€åï¼Œæ‚¨ä½¿ç”¨ <code class="fe or os ot ou b">static contextType = StoreContext</code>å°†<em class="lb"> MyComponent </em> <a class="ae ma" href="https://reactjs.org/docs/context.html#classcontexttype" rel="noopener ugc nofollow" target="_blank">ä¸ä¸Šä¸‹æ–‡ç»‘å®šã€‚</a></p><p id="329d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ç”±äºæˆ‘ä»¬å°†<code class="fe or os ot ou b">StoreContext.Provider</code>çš„<em class="lb">å€¼</em>å±æ€§è®¾ç½®ä¸º<code class="fe or os ot ou b">this.state</code>(å³<code class="fe or os ot ou b">AppWithContext</code>çš„çŠ¶æ€)ï¼Œå½“è¯¥çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œ<code class="fe or os ot ou b">AppWithContext</code>ä¼šæ›´æ–°ï¼Œå¯¼è‡´å…¶å­èŠ‚ç‚¹çš„é‡æ–°æ¸²æŸ“ã€‚</p><p id="15a4" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ä¸ºäº†å®ç°è¿™äº›å˜åŒ–ï¼Œæ‚¨éœ€è¦ä¸€äº›ä¸Šä¸‹æ–‡(æ²¡æœ‰åŒå…³è¯­)æ–¹æ³•æ¥:<em class="lb">çŠ¶æ€</em>ä¸­çš„<code class="fe or os ot ou b">set</code>ã€<code class="fe or os ot ou b">get</code>å’Œ<code class="fe or os ot ou b">remove</code>æ•°æ®ã€‚æˆ‘ä»¬ä½¿ç”¨äº†<em class="lb">AppWithContext</em>T15ã€‘ä½œä¸ºæä¾›è€…å€¼ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦ç»™å®ƒæ·»åŠ è¿™äº›æ–¹æ³•ï¼Œè¿™ç¿»è¯‘æˆä»£ç çš„æ„æ€æ˜¯:</p><pre class="mc md me mf gt pf ou pg ph aw pi bi"><span id="4d71" class="lc ld iq ou b gy pj pk l pl pm">class AppWithContext extends Component {<br/>  state = {<br/>    <strong class="ou ir">get</strong>: (key) =&gt; {<br/>      return this.state[key]<br/>    },<br/>    <strong class="ou ir">set</strong>: (key, value) =&gt; {<br/>      const state = this.state<br/>      state[key] = value<br/>      this.setState(state)<br/>    },<br/>    <strong class="ou ir">remove</strong>: key =&gt; {<br/>      const state = this.state<br/>      delete state[key]<br/>      this.setState(state)<br/>    }<br/>  }</span><span id="8a03" class="lc ld iq ou b gy pn pk l pl pm">...</span><span id="7bd0" class="lc ld iq ou b gy pn pk l pl pm">}</span></pre><p id="408d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æä¾›è€…<em class="lb">å€¼</em>æ˜¯<code class="fe or os ot ou b">this.state</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨é‚£é‡Œæ·»åŠ äº†æˆ‘ä»¬çš„æ–¹æ³•<em class="lb">ã€‚</em>æ‚¨è‚¯å®šæ³¨æ„åˆ°å±æ€§<code class="fe or os ot ou b">name</code>ä¸å†å­˜åœ¨äº<em class="lb"> AppWithContext </em> <code class="fe or os ot ou b">state</code>ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨æˆ‘ä»¬åˆšåˆšåˆ›å»ºå¹¶æ·»åŠ åˆ°<em class="lb">çŠ¶æ€</em>ä¸­çš„æ–°é²œã€æ–°ä¸”ç²¾å½©çš„æ–¹æ³•æ¥æ·»åŠ å®ƒã€‚ä¸ºäº†æµ‹è¯•è¿™æ˜¯å¦æœ‰æ•ˆï¼Œæˆ‘ä»¬å°†ä½¿ç”¨<code class="fe or os ot ou b">set</code>æ–¹æ³•åœ¨<em class="lb"> MyComponent </em>ä¸­è®¾ç½®<code class="fe or os ot ou b">name</code>å±æ€§ï¼Œå¹¶ä½¿ç”¨<code class="fe or os ot ou b">get</code>åœ¨renderæ–¹æ³•ä¸­è¯»å–å®ƒã€‚</p><pre class="mc md me mf gt pf ou pg ph aw pi bi"><span id="0a9f" class="lc ld iq ou b gy pj pk l pl pm">class MyComponent extends Component {<br/>  static contextType = StoreContext<br/>  componentDidMount() {<br/>    let context = this.context<br/>    <strong class="ou ir">context.set('name', 'Spyna')<br/>    </strong>//sets the property 'name' with the value 'Spyna'<br/>  }<br/>  <br/>  render() {<br/>    return &lt;div&gt;Hello {<strong class="ou ir">this.context.get('name')</strong>}&lt;/div&gt;<br/>    //reads the property 'name' from the context<br/>  }<br/>}</span></pre><figure class="mc md me mf gt mg"><div class="bz fp l di"><div class="po pp l"/></div><figcaption class="mn mo gj gh gi mp mq bd b be z dk translated">CodeSandboxä¸Šçš„å·¥ä½œä»£ç </figcaption></figure><p id="e688" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æ˜¯çš„ï¼Œæœ‰æ•ˆï¼</p><p id="57c6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">å½“<em class="lb">ç»„ä»¶</em><em class="lb">ã€did mountã€‘</em>æ—¶ï¼Œæˆ‘ä»¬è°ƒç”¨<code class="fe or os ot ou b">context.set(â€™nameâ€™, â€˜Spynaâ€™)</code>æ¥è®¾ç½®<em class="lb">ä¸Šä¸‹æ–‡</em>ä¸­çš„å±æ€§<em class="lb">nameã€‘</em>ã€‚ç”±äº<em class="lb">ä¸Šä¸‹æ–‡</em>è¢«ä¿®æ”¹ï¼Œæ‰€ä»¥<em class="lb">ç»„ä»¶</em>æ›´æ–°ï¼Œå¹¶ä¸”å½“<em class="lb">æ¸²æŸ“</em>æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œæ‰“å°<em class="lb">ã€nameã€‘</em>çš„å€¼ã€‚å¦‚æœä½ è¿è¡Œè¿™æ®µä»£ç ï¼Œä½ ä¼šåœ¨å±å¹•ä¸Šçœ‹åˆ°â€œ<em class="lb">Hello Spynaâ€</em>ã€‚</p><p id="8e5c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">è¿™æ®µä»£ç çœ‹èµ·æ¥ä¸åƒæˆ‘å–œæ¬¢çš„é‚£æ ·æ¼‚äº®ã€‚æˆ‘ä»¬æƒ³åšçš„æ˜¯è®©å®ƒæ›´å…·æœ‰å£°æ˜æ€§ï¼Œæ›´æ˜“äºä½¿ç”¨ã€‚ä¸ºäº†å®ç°è¿™ä¸ªç›®æ ‡ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸¤ä¸ª<em class="lb">é«˜é˜¶ç»„ä»¶</em>:ä¸€ä¸ªç”¨äº<em class="lb">ä¸Šä¸‹æ–‡</em> <code class="fe or os ot ou b"><em class="lb">Provider</em></code>ï¼Œå¦ä¸€ä¸ªç”¨äº<em class="lb">ä¸Šä¸‹æ–‡</em> <code class="fe or os ot ou b">Consumer</code>ã€‚</p><p id="88c2" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æ ¹æ®Reactæ–‡æ¡£ï¼Œä¸€ä¸ª<a class="ae ma" href="https://reactjs.org/docs/higher-order-components.html" rel="noopener ugc nofollow" target="_blank"> <em class="lb">é«˜é˜¶ç»„ä»¶</em> </a>æ˜¯:</p><blockquote class="mr ms mt"><p id="a92f" class="kf kg lb kh b ki kj jr kk kl km ju kn mu kp kq kr mv kt ku kv mw kx ky kz la ij bi translated">é«˜é˜¶ç»„ä»¶(HOC)æ˜¯Reactä¸­é‡ç”¨ç»„ä»¶é€»è¾‘çš„ä¸€ç§é«˜çº§æŠ€æœ¯ã€‚æœ¬è´¨ä¸Šï¼Œhocä¸æ˜¯React APIçš„ä¸€éƒ¨åˆ†ã€‚å®ƒä»¬æ˜¯ä»Reactçš„ç»„åˆæ€§è´¨ä¸­å‡ºç°çš„ä¸€ç§æ¨¡å¼ã€‚</p><p id="b48b" class="kf kg lb kh b ki kj jr kk kl km ju kn mu kp kq kr mv kt ku kv mw kx ky kz la ij bi translated">å…·ä½“åœ°è¯´ï¼Œ<strong class="kh ir">é«˜é˜¶åˆ†é‡æ˜¯å–ä¸€ä¸ªåˆ†é‡å¹¶è¿”å›ä¸€ä¸ªæ–°åˆ†é‡çš„å‡½æ•°ã€‚</strong></p><p id="3e77" class="kf kg lb kh b ki kj jr kk kl km ju kn mu kp kq kr mv kt ku kv mw kx ky kz la ij bi translated"><code class="fe or os ot ou b"><em class="iq">const EnhancedComponent = higherOrderComponent(WrappedComponent);</em></code></p></blockquote><p id="7ffc" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äºHOCçš„ä¿¡æ¯ï¼Œè¯·çœ‹è¿™é‡Œã€‚</p><h2 id="e5f6" class="lc ld iq bd le lf lg dn lh li lj dp lk ko ll lm ln ks lo lp lq kw lr ls lt lu bi translated">å•†åº—æä¾›è€…ç‰¹è®¾</h2><pre class="mc md me mf gt pf ou pg ph aw pi bi"><span id="0d1f" class="lc ld iq ou b gy pj pk l pl pm">const createStore = WrappedComponent =&gt; {<br/>  return class extends React.Component {<br/>    state = {<br/>      get: key =&gt; {<br/>        return this.state[key]<br/>      },<br/>      set: (key, value) =&gt; {<br/>        const state = this.state<br/>        state[key] = value<br/>        this.setState(state)<br/>      },<br/>      remove: key =&gt; {<br/>        const state = this.state<br/>        delete state[key]<br/>        this.setState(state)<br/>      }<br/>    }<br/>    render() {<br/>      return (<br/>        <strong class="ou ir">&lt;StoreContext.Provider value={this.state}&gt;</strong><br/>          &lt;WrappedComponent {...this.props} /&gt;<br/>        &lt;/StoreContext.Provider&gt;<br/>      )<br/>    }<br/>  }<br/>}</span></pre><p id="5990" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">å¦‚æœè¿™æ®µä»£ç å¯¹ä½ æ¥è¯´çœ‹èµ·æ¥å¾ˆå¥‡æ€ªï¼Œçœ‹çœ‹æ²¡æœ‰ç®­å¤´åŠŸèƒ½çš„ç‰ˆæœ¬<code class="fe or os ot ou b">=&gt;</code>:<a class="ae ma" href="https://codesandbox.io/s/l21x87543z?autoresize=1&amp;hidenavigation=1&amp;module=%2Fsrc%2Fstore.js" rel="noopener ugc nofollow" target="_blank">https://codesandbox.io/s/l21x87543z?autoresize=1&amp;hide navigation = 1&amp;module = % 2 fsrc % 2f store . js</a></p><p id="1bdf" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lb">å‡½æ•°</em> <code class="fe or os ot ou b">createStore</code>è¿”å›ä¸€ä¸ªç»„ä»¶ï¼Œ<em class="lb">å‘ˆç°</em>åœ¨<em class="lb">ä¸Šä¸‹æ–‡</em> <strong class="kh ir"> <em class="lb">æä¾›è€…</em> </strong>ä¸­ä½œä¸º<em class="lb">å‚æ•°</em>ä¼ é€’çš„ä»»ä½•ç»„ä»¶ã€‚</p><p id="1c05" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">è¦ä½¿ç”¨è¿™ä¸ªç‰¹è®¾ï¼Œä½ æ‰€è¦åšçš„åªæ˜¯:</p><pre class="mc md me mf gt pf ou pg ph aw pi bi"><span id="d297" class="lc ld iq ou b gy pj pk l pl pm">export default createStore(MyApp);</span></pre><h2 id="26c4" class="lc ld iq bd le lf lg dn lh li lj dp lk ko ll lm ln ks lo lp lq kw lr ls lt lu bi translated">å•†åº—æ¶ˆè´¹è€…ç‰¹è®¾</h2><pre class="mc md me mf gt pf ou pg ph aw pi bi"><span id="9c55" class="lc ld iq ou b gy pj pk l pl pm">const withStore = WrappedComponent =&gt; {<br/>  return class extends React.Component {<br/>    render() {<br/>      return (<br/>        <strong class="ou ir">&lt;StoreContext.Consumer&gt;</strong><br/>          {context =&gt; &lt;WrappedComponent <strong class="ou ir">store</strong>={context} {...this.props} /&gt;}<br/>        &lt;StoreContext.Consumer&gt;<br/>      )<br/>    }<br/>  }<br/>}</span></pre><p id="ff86" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lb">å‡½æ•°</em> <code class="fe or os ot ou b">withStore</code>è¿”å›ä¸€ä¸ªç»„ä»¶ï¼Œ<em class="lb">å‘ˆç°</em>æ‚¨åœ¨<em class="lb">ä¸Šä¸‹æ–‡</em> <strong class="kh ir"> <em class="lb">æ¶ˆè´¹è€…</em> </strong>ä¸­ä½œä¸ºå‚æ•°ä¼ é€’çš„ä»»ä½•ç»„ä»¶ã€‚å¦å¤–ï¼Œå®ƒå°†ä¸€ä¸ªåä¸º<code class="fe or os ot ou b">store</code>çš„é“å…·æ³¨å…¥åˆ°ä½ çš„ç»„ä»¶ä¸­ï¼Œè¿™å°±æ˜¯<em class="lb">ä¸Šä¸‹æ–‡</em>å€¼ã€‚</p><p id="90a3" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ç°åœ¨ï¼Œæ‚¨å¯ä»¥è®¿é—®ä¸Šä¸‹æ–‡ï¼Œæ‰§è¡Œä»¥ä¸‹æ“ä½œ:</p><pre class="mc md me mf gt pf ou pg ph aw pi bi"><span id="d083" class="lc ld iq ou b gy pj pk l pl pm">const MyComponent = (props) =&gt; &lt;div&gt;{props.store.get('data')}&lt;/div&gt;</span><span id="0b15" class="lc ld iq ou b gy pn pk l pl pm">export default withStore(MyComponent)</span></pre><h2 id="1bf0" class="lc ld iq bd le lf lg dn lh li lj dp lk ko ll lm ln ks lo lp lq kw lr ls lt lu bi translated">æŠŠæ‰€æœ‰çš„æ”¾åœ¨ä¸€èµ·</h2><p id="ee55" class="pw-post-body-paragraph kf kg iq kh b ki lv jr kk kl lw ju kn ko lx kq kr ks ly ku kv kw lz ky kz la ij bi translated">è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåä¸º<code class="fe or os ot ou b">store.js</code>çš„æ–‡ä»¶ï¼Œæ·»åŠ ä¸¤ä¸ªHOCå¹¶å¯¼å‡ºå®ƒä»¬ã€‚</p><pre class="mc md me mf gt pf ou pg ph aw pi bi"><span id="baab" class="lc ld iq ou b gy pj pk l pl pm">import React from 'react'</span><span id="474f" class="lc ld iq ou b gy pn pk l pl pm">const StoreContext = React.createContext()</span><span id="9474" class="lc ld iq ou b gy pn pk l pl pm">const <strong class="ou ir">createStore</strong> = WrappedComponent =&gt; {<br/>  return class extends React.Component {<br/>    state = {<br/>      get: key =&gt; {<br/>        return this.state[key]<br/>      },<br/>      set: (key, value) =&gt; {<br/>        const state = this.state<br/>        state[key] = value<br/>        this.setState(state)<br/>      },<br/>      remove: key =&gt; {<br/>        const state = this.state<br/>        delete state[key]<br/>        this.setState(state)<br/>      }<br/>    }<br/>    render() {<br/>      return (<br/>        &lt;StoreContext.Provider value={this.state}&gt;<br/>          &lt;WrappedComponent {...this.props} /&gt;<br/>        &lt;/StoreContext.Provider&gt;<br/>      )<br/>    }<br/>  }<br/>}</span><span id="f08b" class="lc ld iq ou b gy pn pk l pl pm">const <strong class="ou ir">withStore</strong> = WrappedComponent =&gt; {<br/>  return class extends React.Component {<br/>    render() {<br/>      return (<br/>        &lt;StoreContext.Consumer&gt;<br/>          {context =&gt; &lt;WrappedComponent store={context} {...this.props} /&gt;}<br/>        &lt;/StoreContext.Consumer&gt;<br/>      )<br/>    }<br/>  }<br/>}</span><span id="fdd9" class="lc ld iq ou b gy pn pk l pl pm">export { <strong class="ou ir">createStore, withStore</strong> }</span></pre><p id="099f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æœ€åï¼Œç”¨ä¸‹é¢çš„ä»£ç ä½¿ç”¨HOCsï¼Œå®ƒçœ‹èµ·æ¥æ¯”å¼€å§‹æ—¶æ¼‚äº®å¤šäº†:</p><pre class="mc md me mf gt pf ou pg ph aw pi bi"><span id="f204" class="lc ld iq ou b gy pj pk l pl pm">// MyComponent.js<br/>import React, { Component } from 'react'<br/>import { <strong class="ou ir">withStore</strong>} from './store';</span><span id="520a" class="lc ld iq ou b gy pn pk l pl pm">class MyComponent extends Component {<br/>  componentDidMount() {<br/>    this.props.store.set('name', 'Spyna')<br/>  }</span><span id="c342" class="lc ld iq ou b gy pn pk l pl pm">render() {<br/>    return &lt;div&gt;Hello {this.props.store.name}&lt;/div&gt;<br/>  }<br/>}</span><span id="4b27" class="lc ld iq ou b gy pn pk l pl pm">export default <strong class="ou ir">withStore</strong>(MyComponent)</span><span id="dc3e" class="lc ld iq ou b gy pn pk l pl pm">// App.js<br/>import React, { Component } from 'react'<br/>import { <strong class="ou ir">createStore</strong>} from './store'<br/>import MyComponent from './MyComponent'<br/>//import MyOtherWithStoreComponent from './MyOtherComponent'</span><span id="da82" class="lc ld iq ou b gy pn pk l pl pm">const MyApp = props =&gt; (<br/>  &lt;div&gt;<br/>    &lt;MyComponent /&gt;<br/>    {/*&lt;MyOtherWithStoreComponent /&gt;*/}<br/>  &lt;/div&gt;<br/>)</span><span id="d412" class="lc ld iq ou b gy pn pk l pl pm">export default <strong class="ou ir">createStore</strong>(MyApp)</span></pre><figure class="mc md me mf gt mg"><div class="bz fp l di"><div class="po pp l"/></div></figure><h2 id="dac6" class="lc ld iq bd le lf lg dn lh li lj dp lk ko ll lm ln ks lo lp lq kw lr ls lt lu bi translated">è€ƒè™‘</h2><p id="92a6" class="pw-post-body-paragraph kf kg iq kh b ki lv jr kk kl lw ju kn ko lx kq kr ks ly ku kv kw lz ky kz la ij bi translated">ä½ æ‰€åšçš„åªæ˜¯ç®¡ç†ä½ çš„åº”ç”¨ç¨‹åºçŠ¶æ€ä¹‹æ—…çš„å¼€å§‹ã€‚ä½ å¯èƒ½æƒ³ç»™ä½ å·²ç»åˆ›å»ºçš„<code class="fe or os ot ou b">store</code>æ·»åŠ ä¸€äº›ç‰¹æ€§ã€‚ä¾‹å¦‚ï¼Œæ‚¨æƒ³è¦:</p><ul class=""><li id="14e7" class="oi oj iq kh b ki kj kl km ko ok ks ol kw om la on oo op oq bi translated">è®¾ç½®ä¸€ä¸ª<strong class="kh ir">åˆå§‹å€¼</strong>ï¼Œå¯èƒ½æ˜¯ä»æœ¬åœ°å­˜å‚¨å™¨è¯»å–ï¼Œä¹Ÿå¯èƒ½æ˜¯ä»API: <code class="fe or os ot ou b">createStore(MyApp, initialValue)</code>è¯»å–ã€‚</li><li id="6bd0" class="oi oj iq kh b ki ov kl ow ko ox ks oy kw oz la on oo op oq bi translated">å¦‚æœå­˜å‚¨ä¸­æ²¡æœ‰æ•°æ®ï¼Œåˆ™è·å–ä¸€ä¸ª<strong class="kh ir">é»˜è®¤å€¼</strong>:<code class="fe or os ot ou b">store.get('my_key', defaultValue)</code>ã€‚</li><li id="f138" class="oi oj iq kh b ki ov kl ow ko ox ks oy kw oz la on oo op oq bi translated">ä¸ºå­˜å‚¨æ–¹æ³•æä¾›<strong class="kh ir">ä¸å˜æ€§</strong>ï¼Œä»¥é¿å…ç”±äºé”™è¯¯é€ æˆä»»ä½•æŸå®³ï¼Œä¾‹å¦‚ï¼Œå¦‚æœè°ƒç”¨<code class="fe or os ot ou b">store.get = () =&gt; 'hey I just broke everything'</code>å°±ä¼šç ´å<code class="fe or os ot ou b">get</code>æ–¹æ³•ã€‚</li><li id="f6d0" class="oi oj iq kh b ki ov kl ow ko ox ks oy kw oz la on oo op oq bi translated"><strong class="kh ir">å°†</strong>å­˜å‚¨æ–¹æ³•ä»å®ƒçš„å€¼ä¸­åˆ†ç¦»å‡ºæ¥:ç°åœ¨ä½ å¯ä»¥é€šè¿‡<code class="fe or os ot ou b">store.get(â€™my_keyâ€™)</code>æˆ–<code class="fe or os ot ou b">store.my_key</code>ä»å­˜å‚¨ä¸­è®¿é—®ä¸€ä¸ªå€¼ã€‚è¿™ä¸€ç‚¹ä¹Ÿä¸å·®ï¼Œä¹Ÿè®¸ä½ æƒ³è®©è¿™ä¸ªè¡Œä¸ºå¯é…ç½®ã€‚</li><li id="5419" class="oi oj iq kh b ki ov kl ow ko ox ks oy kw oz la on oo op oq bi translated">make storeæ–¹æ³•è¿”å›ä¸€ä¸ª<strong class="kh ir">æ‰¿è¯º</strong>ä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨:<code class="fe or os ot ou b">store.remove(â€™my_keyâ€™).then(() =&gt;{Â doSomething() })</code>ã€‚</li></ul><p id="55ef" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æ‰€æœ‰è¿™äº›æƒ³æ³•éƒ½å¾ˆæ£’ï¼Œä½ å¯èƒ½è®¤ä¸ºå®ç°å®ƒä»¬éœ€è¦å¾ˆå¤šæ—¶é—´ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘åˆ›å»ºäº†é¡¹ç›®<a class="ae ma" href="https://www.npmjs.com/package/@spyna/react-store" rel="noopener ugc nofollow" target="_blank"><em class="lb">react-store</em></a><em class="lb"/>å®ƒå·²ç»ä¸ºä½ åšäº†æ‰€æœ‰è¿™äº›äº‹æƒ…ã€‚<em class="lb"> </em>ä»£ç åº“å¾ˆå°ï¼Œå¦‚æœæƒ³å¤åˆ¶ï¼Œå¯ä»¥çœ‹çœ‹ä¸‹é¢é“¾æ¥çš„å›è´­ã€‚</p><div class="mx my gp gr mz na"><a href="https://github.com/Spyna/react-store" rel="noopener  ugc nofollow" target="_blank"><div class="nb ab fo"><div class="nc ab nd cl cj ne"><h2 class="bd ir gy z fp nf fr fs ng fu fw ip bi translated">Spyna/react-store</h2><div class="nh l"><h3 class="bd b gy z fp nf fr fs ng fu fw dk translated">è½»æ¾ç®¡ç†Reactåº”ç”¨çš„çŠ¶æ€ã€‚é€šè¿‡åœ¨â€¦ä¸Šåˆ›å»ºå¸æˆ·ï¼Œä¸ºSpyna/react-storeçš„å‘å±•åšå‡ºè´¡çŒ®</h3></div><div class="ni l"><p class="bd b dl z fp nf fr fs ng fu fw dk translated">github.com</p></div></div><div class="nj l"><div class="pq l nl nm nn nj no ml na"/></div></div></a></div><figure class="mc md me mf gt mg"><div class="bz fp l di"><div class="po pp l"/></div></figure><p id="0c41" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æ­£å¦‚æˆ‘åœ¨å¼€å§‹æ—¶æ‰€è¯´çš„ï¼Œæˆ‘æ˜¯Reduxçš„ç²‰ä¸ï¼Œå¹¶ä¸”è®¤ä¸ºå®ƒéå¸¸æœ‰ç”¨ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†å¤§é¡¹ç›®çš„æ—¶å€™ã€‚ä½†æ˜¯ï¼Œæˆ‘è§‰å¾—åœ¨å°é¡¹ç›®é‡Œè®¾ç½®æœ‰ç‚¹çŸ«æ‰è¿‡æ­£ï¼Œä¸èˆ’æœã€‚</p></div><div class="ab cl np nq hu nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="ij ik il im in"><p id="7b7c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æˆ‘å‘ç°ä½¿ç”¨è¿™ä¸ªåº“çš„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œé™¤éä½ å®šä¹‰ä¸€äº›æ¨¡å¼æˆ–è§„åˆ™ï¼Œå¦åˆ™äº‹æƒ…ä¼šå˜å¾—æœ‰ç‚¹æ··ä¹±ã€‚ä¸€ä¸ªä¾‹å­å¯ä»¥æ›´å¥½åœ°è§£é‡Šè¿™ä¸€ç‚¹:æˆ‘ä»¬çš„çŠ¶æ€(æˆ–å­˜å‚¨)å¯ä»¥ä»é¡¹ç›®ä¸­çš„ä»»ä½•<em class="lb">ç»„ä»¶</em>ä¿®æ”¹ã€‚è¿™æ„å‘³ç€æ‚¨å¯ä»¥åœ¨å¤šä¸ªåœ°æ–¹ä½¿ç”¨<code class="fe or os ot ou b">store.set('<strong class="kh ir">logged_user</strong>', user)</code>æˆ–<code class="fe or os ot ou b">store.get('<strong class="kh ir">logged_user</strong>')</code>(æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨reduxæ¥å®ç°è¿™ä¸€ç‚¹ï¼Œåªæ˜¯ç¨å¾®å†—é•¿ä¸€ç‚¹)ã€‚è®©æˆ‘ä»¬ä»¥è¿™ä¸ªé¡¹ç›®ç»“æ„ä¸ºä¾‹:</p><pre class="mc md me mf gt pf ou pg ph aw pi bi"><span id="290e" class="lc ld iq ou b gy pj pk l pl pm">â””â”€â”€ src<br/>    â””â”€â”€ features<br/>        â”œâ”€â”€ gallery<br/>        â”œâ”€â”€ layout<br/>        â”‚   â”œâ”€â”€ footer<br/>        â”‚   â””â”€â”€ <strong class="ou ir">header</strong><br/>        â”œâ”€â”€ <strong class="ou ir">login</strong><br/>        â”œâ”€â”€ navigation<br/>        â”‚   â”œâ”€â”€ menu<br/>        â”‚   â””â”€â”€ <strong class="ou ir">sideNavigation</strong><br/>        â””â”€â”€ search</span></pre><p id="1040" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe or os ot ou b">features</code>ä¸‹çš„æ¯ä¸ªæ–‡ä»¶å¤¹éƒ½åŒ…å«äº†è¯¥é¡¹ç›®çš„ä¸€ä¸ªç‰¹æ€§:</p><ul class=""><li id="adad" class="oi oj iq kh b ki kj kl km ko ok ks ol kw om la on oo op oq bi translated"><em class="lb">å¤´ç»„ä»¶</em>(æ˜¾ç¤ºç”¨æˆ·å)ä½¿ç”¨<code class="fe or os ot ou b">store.get('logged_user').</code></li><li id="8d5a" class="oi oj iq kh b ki ov kl ow ko ox ks oy kw oz la on oo op oq bi translated"><em class="lb">ä¾§è¾¹å¯¼èˆªç»„ä»¶</em>(å½“ä½ ç™»å½•/é€€å‡ºæ—¶æ”¹å˜èœå•é¡¹)ä½¿ç”¨<code class="fe or os ot ou b">store.get('logged_user')</code>ã€‚</li><li id="5a03" class="oi oj iq kh b ki ov kl ow ko ox ks oy kw oz la on oo op oq bi translated">ç™»å½•ç»„ä»¶(è®©ç”¨æˆ·ç™»å½•/é€€å‡º)ä½¿ç”¨<code class="fe or os ot ou b">store.set('logged_user')</code>ã€‚</li></ul><p id="34bc" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">é‡ç‚¹æ˜¯ä½ å¿…é¡»åœ¨æ¯ä¸ª<em class="lb">ç»„ä»¶</em>ä¸­è®°ä½ä½ ç”¨é”®â€œ<code class="fe or os ot ou b">logged_user</code>â€åœ¨å•†åº—ä¸­ä¿å­˜äº†ç™»å½•çš„ç”¨æˆ·ä¿¡æ¯ã€‚</p><p id="0d75" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">è¿™ä¸ªé—®é¢˜çš„è§£å†³æ–¹æ¡ˆæ˜¯é›†ä¸­è¿™äº›ä¿¡æ¯ï¼Œè¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œä½ å¯ä»¥åˆ›å»ºä¸€ä¸ª<code class="fe or os ot ou b">storeMap.js</code>æ–‡ä»¶ï¼Œåœ¨è¿™é‡Œä¸ºä½ åœ¨<em class="lb">å•†åº—</em>ä¸­ä½¿ç”¨çš„æ¯ä¸ª<em class="lb">é”®</em>æ”¾ç½®ä¸€ä¸ªæ˜ å°„ã€‚è¯¥æ–‡ä»¶å°†å¦‚ä¸‹æ‰€ç¤º:</p><pre class="mc md me mf gt pf ou pg ph aw pi bi"><span id="f46e" class="lc ld iq ou b gy pj pk l pl pm">export default {<br/>  LOGIN : {<br/>    LOGGED_USER : 'login/logged_user', //who is logged<br/>    ACCESS_TOKEN : 'login/access_token' //user token to call our API<br/>  },<br/>  SEARCH : {<br/>    SEARCH_TERM : 'search/search_term', //the term you searched<br/>    SEARCH_RESULTS : 'search/search_result', //search results<br/>    CURRENT_PAGE : 'search/current_page' // the current page<br/>  }<br/>}</span></pre><p id="7297" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ç»„ä»¶ç°åœ¨å°†ä½¿ç”¨<code class="fe or os ot ou b">store.get(StoreMap.LOGIN.LOGGED_USER)</code>è€Œä¸æ˜¯<code class="fe or os ot ou b">store.get('logged_user')</code>ï¼Œå³:</p><ul class=""><li id="2333" class="oi oj iq kh b ki kj kl km ko ok ks ol kw om la on oo op oq bi translated">ä¸å®¹æ˜“å‡ºé”™:ä½ ä¸å¿…å†™ä¸€ä¸ªå­—ç¬¦ä¸²</li><li id="3e40" class="oi oj iq kh b ki ov kl ow ko ox ks oy kw oz la on oo op oq bi translated"><strong class="kh ir">é›†ä¸­å¼</strong>:æ•´ä¸ªåº”ç”¨ç¨‹åºçŠ¶æ€è¢«æ˜ å°„åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­(å¦‚æœéœ€è¦ï¼Œå¯ä»¥ä½¿ç”¨å¯¼å…¥/å¯¼å‡ºå°†å…¶æ‹†åˆ†æˆæ›´å¤šæ–‡ä»¶)</li><li id="64a0" class="oi oj iq kh b ki ov kl ow ko ox ks oy kw oz la on oo op oq bi translated">æ˜“äºé‡æ„:åªéœ€ä»ä½ çš„è¶…çº§IDEä¸­é‡å‘½åä¸€ä¸ªé”®æˆ–ä¸€ä¸ªå€¼ã€‚</li><li id="1534" class="oi oj iq kh b ki ov kl ow ko ox ks oy kw oz la on oo op oq bi translated">ä¸è¨€è‡ªæ˜çš„:å½“æŸ¥çœ‹è¿™ä¸ªæ–‡ä»¶æ—¶ï¼Œä½ å¯ä»¥å¯¹æ•´ä¸ªåº”ç”¨ç¨‹åºçš„çŠ¶æ€æœ‰ä¸€ä¸ªæ¦‚å¿µ</li></ul><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/7b1ebf006d85acd83a5555160954dda9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1006/1*3P3CI1EJv1neFifF_KB9sQ.gif"/></div><figcaption class="mn mo gj gh gi mp mq bd b be z dk translated">reduxå’Œreact-storeçš„å¤æ‚åº¦æ¯”è¾ƒ</figcaption></figure></div><div class="ab cl np nq hu nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="ij ik il im in"><p id="325f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æ­å–œä½ ï¼ï¼ğŸ˜ä½ åšæŒåˆ°äº†æœ€åã€‚å¦‚æœä½ å–œæ¬¢ğŸ‘Œè¿™ç¯‡æ–‡ç« ï¼Œç‚¹å‡»ä¸‹é¢æŒ‰é’®ğŸ‘ã€‚è¿™å¯¹æˆ‘æ„ä¹‰é‡å¤§ï¼Œä¹Ÿæœ‰åŠ©äºå…¶ä»–äººäº†è§£è¿™ä¸ªæ•…äº‹ã€‚</p><p id="9f74" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lb">æ›´å¤šå¸–å­ç”±</em><a class="ae ma" href="https://medium.com/@spyna" rel="noopener"><em class="lb">spyna</em></a><em class="lb">å‘å¸ƒã€‚</em></p><div class="mx my gp gr mz na"><a href="https://medium.com/swlh/react-global-state-with-hooks-f163e49f90f9" rel="noopener follow" target="_blank"><div class="nb ab fo"><div class="nc ab nd cl cj ne"><h2 class="bd ir gy z fp nf fr fs ng fu fw ip bi translated">ç”¨é’©å­å’Œä¸Šä¸‹æ–‡ååº”å…¨å±€çŠ¶æ€</h2><div class="nh l"><h3 class="bd b gy z fp nf fr fs ng fu fw dk translated">ä½¿ç”¨é’©å­å’Œä¸Šä¸‹æ–‡APIç®¡ç†Reactåº”ç”¨ç¨‹åºå…¨å±€çŠ¶æ€çš„è§£å†³æ–¹æ¡ˆã€‚</h3></div><div class="ni l"><p class="bd b dl z fp nf fr fs ng fu fw dk translated">medium.com</p></div></div><div class="nj l"><div class="nk l nl nm nn nj no ml na"/></div></div></a></div><div class="mx my gp gr mz na"><a rel="noopener  ugc nofollow" target="_blank" href="/react-svg-radar-chart-a89d15760e8"><div class="nb ab fo"><div class="nc ab nd cl cj ne"><h2 class="bd ir gy z fp nf fr fs ng fu fw ip bi translated">ååº”SVGé›·è¾¾å›¾</h2><div class="nh l"><h3 class="bd b gy z fp nf fr fs ng fu fw dk translated">å‘¨å›´æœ‰å¾ˆå¤šåº“ï¼Œç”¨æ¥åˆ›å»ºå›¾è¡¨ï¼Œä½†æ˜¯å¾ˆå¤šéƒ½å¾ˆé‡ã€‚è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•å»ºç«‹ä¸€ä¸ªâ€¦</h3></div><div class="ni l"><p class="bd b dl z fp nf fr fs ng fu fw dk translated">itnext.io</p></div></div><div class="nj l"><div class="pr l nl nm nn nj no ml na"/></div></div></a></div></div></div>    
</body>
</html>