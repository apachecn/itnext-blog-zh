<html>
<head>
<title>Kubernetes tip: How to use the â€˜storageClassâ€™ attribute ğŸ¤”</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Kubernetesæç¤º:å¦‚ä½•ä½¿ç”¨â€œstorageClassâ€å±æ€§ğŸ¤”</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://itnext.io/kubernetes-tip-how-to-use-the-storageclass-attribute-75cf47e7c6b0?source=collection_archive---------3-----------------------#2019-10-11">https://itnext.io/kubernetes-tip-how-to-use-the-storageclass-attribute-75cf47e7c6b0?source=collection_archive---------3-----------------------#2019-10-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="b6f1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¿™æ˜¯ä¸€ç¯‡ç®€çŸ­çš„åšå®¢æ–‡ç« ï¼Œä»‹ç»äº†KubernetesåŠ¨æ€é¢„é…ç½®çš„ä¸€ä¸ªæ–¹é¢ï¼Œå½“äººä»¬ç¬¬ä¸€æ¬¡æ¢ç´¢å®ƒçš„æ—¶å€™ï¼Œç»å¸¸ä¼šè¢«ç»Šå€’(æˆ‘è‚¯å®šè¢«å¼„ç³Šæ¶‚äº†ï¼)</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi kl"><img src="../Images/9cd931e2b34723530f2732b9162fdeab.png" data-original-src="https://miro.medium.com/v2/resize:fit:256/format:webp/1*1Cc99RF4vtCSKaHDgz_iyQ.png"/></div></figure><p id="da51" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä¸ºäº†ä½¿ç”¨ä¸€ä¸ª<code class="fe kt ku kv kw b">StorageClass</code>ï¼Œä½ éœ€è¦åšçš„å°±æ˜¯ä»ä¸€ä¸ª<code class="fe kt ku kv kw b">PersistentVolumeClaim</code>ä¸­å¼•ç”¨å®ƒã€‚ä½†æ˜¯<code class="fe kt ku kv kw b">StorageClass</code>ä¸æ˜¯ä¸€ä¸ªå¼ºåˆ¶å­—æ®µâ€”â€”æ‰€ä»¥æœ‰å¯èƒ½æ ¹æœ¬ä¸ä½¿ç”¨å®ƒï¼Œæˆ–è€…æä¾›ä¸€ä¸ªç©ºå­—ç¬¦ä¸²(<code class="fe kt ku kv kw b">""</code>)ä½œä¸ºå®ƒçš„å€¼ã€‚ç†è§£è¿™äº›é€‰é¡¹åŠå…¶å½±å“éå¸¸é‡è¦ã€‚</p><p id="1d1a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è®©æˆ‘ä»¬æ¥æ¾„æ¸…è¿™äº›æ’åˆ—ç»„åˆï¼Œä¸€åŠ³æ°¸é€¸ï¼</p><blockquote class="kx ky kz"><p id="14ae" class="jn jo la jp b jq jr js jt ju jv jw jx lb jz ka kb lc kd ke kf ld kh ki kj kk ij bi translated"><em class="iq"> Kubernetes </em> <code class="fe kt ku kv kw b"><em class="iq">StorageClass</em></code> <em class="iq">æ¦‚å¿µ(ä»¥åŠæ›´å¤š)åœ¨</em> <a class="ae le" rel="noopener ugc nofollow" target="_blank" href="/tutorial-basics-of-kubernetes-volumes-part-2-b2ea6f397402"> <em class="iq">ã€Šæ•™ç¨‹:KubernetesåŸºç¡€çŸ¥è¯†å·(ç¬¬äºŒéƒ¨åˆ†)ã€‘</em> </a>ä¸­æœ‰æ·±å…¥çš„ä»‹ç»</p></blockquote><p id="ef1b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å°±åƒ<code class="fe kt ku kv kw b">PersistentVolume</code>å°è£…äº†å­˜å‚¨ç›¸å…³çš„ç»†èŠ‚ä¸€æ ·ï¼Œ<code class="fe kt ku kv kw b">StorageClass</code>æä¾›äº†ä¸€ç§æè¿°å­˜å‚¨â€œç±»åˆ«â€çš„æ–¹å¼ã€‚è¿™é‡Œæ˜¯ä¸€ä¸ª<a class="ae le" href="https://azure.microsoft.com/services/storage/disks/?WT.mc_id=medium-blog-abhishgu" rel="noopener ugc nofollow" target="_blank">å¤©è“è‰²ç£ç›˜</a>çš„<code class="fe kt ku kv kw b">StorageClass</code>çš„ä¾‹å­ã€‚</p><pre class="km kn ko kp gt lf kw lg lh aw li bi"><span id="e3d6" class="lj lk iq kw b gy ll lm l ln lo">apiVersion: storage.k8s.io/v1<br/>kind: StorageClass<br/>metadata:<br/>  labels:<br/>    kubernetes.io/cluster-service: "true"<br/>  name: default<br/>parameters:<br/>  cachingmode: ReadOnly<br/>  kind: Managed<br/>  storageaccounttype: Standard_LRS<br/>provisioner: kubernetes.io/azure-disk<br/>reclaimPolicy: Delete<br/>volumeBindingMode: Immediate</span></pre><h1 id="03a3" class="lp lk iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">å½“<code class="fe kt ku kv kw b"><em class="mm">storageClass</em></code>å±æ€§ç¼ºå¤±æ—¶</h1><p id="5ab8" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">å¦‚æœæƒ³åœ¨é›†ç¾¤ä¸­ä½¿ç”¨<code class="fe kt ku kv kw b">default</code>å­˜å‚¨ç±»ï¼Œå¯ä»¥é€‰æ‹©ä¸åœ¨<code class="fe kt ku kv kw b">PersistentVolumeClaim</code>ä¸­åŒ…å«<code class="fe kt ku kv kw b">storageClass</code>å±æ€§ã€‚ä¾‹å¦‚ï¼Œ<a class="ae le" href="https://azure.microsoft.com/services/storage/disks/?WT.mc_id=medium-blog-abhishgu" rel="noopener ugc nofollow" target="_blank"> Azure KubernetesæœåŠ¡</a>åŒ…æ‹¬ä¸¤ä¸ªé¢„æ’­ç§çš„å­˜å‚¨ç±»ã€‚</p><p id="6124" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ‚¨å¯ä»¥é€šè¿‡è¿è¡Œ<code class="fe kt ku kv kw b">kubectl get storageclass</code>å‘½ä»¤è¿›è¡Œæ£€æŸ¥</p><pre class="km kn ko kp gt lf kw lg lh aw li bi"><span id="15e2" class="lj lk iq kw b gy ll lm l ln lo">NAME                PROVISIONER                AGE<br/>default (default)   kubernetes.io/azure-disk   6d10h<br/>managed-premium     kubernetes.io/azure-disk   6d10h</span></pre><ul class=""><li id="84ae" class="ms mt iq jp b jq jr ju jv jy mu kc mv kg mw kk mx my mz na bi translated"><code class="fe kt ku kv kw b">default</code>å­˜å‚¨ç±»åˆ«:æä¾›ç”±æ ‡å‡†ç¡¬ç›˜æ”¯æŒçš„æ ‡å‡†<a class="ae le" href="https://docs.microsoft.com/azure/virtual-machines/windows/disks-types?WT.mc_id=medium-blog-abhishgu#standard-hdd" rel="noopener ugc nofollow" target="_blank"> Azureç£ç›˜</a></li><li id="0fee" class="ms mt iq jp b jq nb ju nc jy nd kc ne kg nf kk mx my mz na bi translated"><code class="fe kt ku kv kw b">managed-premium</code>å­˜å‚¨ç±»:è°ƒé…é«˜çº§ã€ç”±é«˜çº§SSDæ”¯æŒçš„Azureç£ç›˜ã€‘(<a class="ae le" href="https://docs.microsoft.com/azure/virtual-machines/windows/disks-types?WT.mc_id=medium-" rel="noopener ugc nofollow" target="_blank">https://docs . Microsoft . com/Azure/virtual-machines/windows/disks-typesï¼Ÿwt . MC _ id = medium-</a>blog-abhishgu # premium-SSD)</li></ul><blockquote class="kx ky kz"><p id="3bc0" class="jn jo la jp b jq jr js jt ju jv jw jx lb jz ka kb lc kd ke kf ld kh ki kj kk ij bi translated"><em class="iq">åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå³ä½¿</em> <code class="fe kt ku kv kw b"><em class="iq">PersistentVolume</em></code> <em class="iq">å­˜åœ¨å¹¶ä¸”ä¸</em> <code class="fe kt ku kv kw b"><em class="iq">PersistentVolumeClaim</em></code> <em class="iq">ä¸­çš„è¦æ±‚ç›¸åŒ¹é…ï¼Œä¹Ÿå°†ä½¿ç”¨</em> <code class="fe kt ku kv kw b"><em class="iq">default</em></code> <em class="iq">å­˜å‚¨ç±»(åŠå…¶å…³è”çš„</em> <code class="fe kt ku kv kw b"><em class="iq">provisioner</em></code> <em class="iq">)ã€‚</em></p></blockquote><h1 id="dfb0" class="lp lk iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">å½“<code class="fe kt ku kv kw b">storageClass</code>å±æ€§è®¾ç½®ä¸ºç©ºå­—ç¬¦ä¸²æ—¶</h1><p id="5a67" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">è¿™æ˜¯ä¸ªæ£˜æ‰‹çš„é—®é¢˜ï¼</p><p id="8c33" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ‚¨å·²ç»æœ‰äº†ä¸€ä¸ª<code class="fe kt ku kv kw b">PersistentVolume</code>ä»¥åŠç›¸åº”çš„å­˜å‚¨ä»‹è´¨ï¼Œå¹¶ä¸”æƒ³è¦ä½¿ç”¨å®ƒ(ä¸æ¶‰åŠè‡ªå®šä¹‰å­˜å‚¨ç±»æˆ–<code class="fe kt ku kv kw b">default</code>ç±»)</p><p id="150e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåªéœ€åœ¨<code class="fe kt ku kv kw b">PersistentVolumeClaim</code>ä¸­å°†<code class="fe kt ku kv kw b">storageClass</code>è®¾ç½®ä¸ºç©ºå­—ç¬¦ä¸²(<code class="fe kt ku kv kw b">""</code>)ã€‚è¿™å°†æŠ‘åˆ¶åŠ¨æ€é¢„é…ç½®ï¼</p><blockquote class="kx ky kz"><p id="3c0f" class="jn jo la jp b jq jr js jt ju jv jw jx lb jz ka kb lc kd ke kf ld kh ki kj kk ij bi translated"><em class="iq">æŸ¥çœ‹</em> <a class="ae le" rel="noopener ugc nofollow" target="_blank" href="/how-to-add-persistent-storage-to-your-kubernetes-apps-using-azure-disk-5eb081c1a31"> <em class="iq">â€œå¦‚ä½•ä½¿ç”¨Azure Diskå°†æŒä¹…å­˜å‚¨æ·»åŠ åˆ°æ‚¨çš„Kubernetesåº”ç”¨ç¨‹åºâ€</em> </a> <em class="iq">ä»¥æŸ¥çœ‹å®é™…æ“ä½œ</em></p></blockquote><h1 id="4584" class="lp lk iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">å½“å¼•ç”¨ç‰¹å®šçš„<code class="fe kt ku kv kw b">storageClass</code>å±æ€§æ—¶</h1><blockquote class="kx ky kz"><p id="064a" class="jn jo la jp b jq jr js jt ju jv jw jx lb jz ka kb lc kd ke kf ld kh ki kj kk ij bi translated"><em class="iq"/><a class="ae le" rel="noopener ugc nofollow" target="_blank" href="/how-to-use-custom-storage-classes-in-kubernetes-edc568acfdfe"><em class="iq">â€œå¦‚ä½•åœ¨Kubernetesä¸­ä½¿ç”¨è‡ªå®šä¹‰å­˜å‚¨ç±»ï¼Ÿâ€</em> </a> <em class="iq">åšæ–‡ç”¨ä¸€ä¸ªä¾‹å­</em>å±•ç¤ºäº†è¿™ä¸ªåœºæ™¯</p></blockquote><p id="2a33" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œé™¤äº†å·²ç»å®‰è£…åœ¨Kubernetesé›†ç¾¤ä¸­çš„å­˜å‚¨ç±»ä¹‹å¤–ï¼Œæ‚¨å¯èƒ½è¿˜éœ€è¦åˆ›å»ºè‡ªå®šä¹‰çš„å­˜å‚¨ç±»ï¼Œä¾‹å¦‚ï¼Œä¸€æ—¦åˆ é™¤äº†<code class="fe kt ku kv kw b">PersistentVolumeClaim</code>ï¼Œæ‚¨éœ€è¦æ”¹å˜å¤„ç†<code class="fe kt ku kv kw b">PersistentVolume</code>å’Œå­˜å‚¨ä»‹è´¨çš„ç§»é™¤çš„æ–¹å¼ã€‚</p><p id="6d34" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè‡ªå®šä¹‰å­˜å‚¨ç±»ä¸­æŒ‡å®šçš„<code class="fe kt ku kv kw b">provisioner</code>å°†ç”¨äºåˆ›å»ºå­˜å‚¨ä»‹è´¨(å’Œç›¸åº”çš„<code class="fe kt ku kv kw b">PersistentVolume</code>å¯¹è±¡)ä»¥æ»¡è¶³<code class="fe kt ku kv kw b">PersistentVolumeClaim</code>ä¸­çš„å­˜å‚¨è¯·æ±‚ç»†èŠ‚ã€‚</p><p id="b1c2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">æ³¨æ„</strong>:å¦‚æœä»<code class="fe kt ku kv kw b">PersistentVolumeClaim</code>å¼•ç”¨æ— æ•ˆçš„å­˜å‚¨ç±»ï¼ŒåŠ¨æ€é¢„é…ç½®å°†ä¼šå¤±è´¥</p></div><div class="ab cl ng nh hu ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ij ik il im in"><p id="e68f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç›®å‰å°±è¿™äº›ã€‚æˆ‘å¸Œæœ›å¾—åˆ°æ‚¨çš„åé¦ˆå’Œå»ºè®®ï¼åªéœ€<a class="ae le" href="https://twitter.com/abhi_tweeter" rel="noopener ugc nofollow" target="_blank">å‘æ¨æ–‡</a>æˆ–å‘è¡¨è¯„è®ºã€‚è¿˜æœ‰ï¼Œåˆ«å¿˜äº†å–œæ¬¢å’Œå…³æ³¨ğŸ˜ƒğŸ˜ƒ</p></div></div>    
</body>
</html>