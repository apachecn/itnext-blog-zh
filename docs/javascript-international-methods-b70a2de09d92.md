# JavaScript å›½é™…æ–¹æ³•

> åŸæ–‡ï¼š<https://itnext.io/javascript-international-methods-b70a2de09d92?source=collection_archive---------1----------------------->

# å› ä¸ºæ—¥æœŸæ—¶é—´æ ¼å¼å¾ˆéº»çƒ¦&å›½é™…æ ¼å¼å‡ ä¹ä¸å¯èƒ½

![](img/95cbb406a6950ef338e41d44bf17e1d7.png)

ä¸ºä»€ä¹ˆè¿™ä¹ˆéš¾ï¼Ÿï¼Ÿè’‚å§†Â·é«˜åœ¨ [Unsplash](https://unsplash.com/search/photos/developer?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) ä¸Šæ‹æ‘„çš„ç…§ç‰‡

# ä»‹ç»

æˆ‘å¾ˆå¹¸è¿ï¼Œå› ä¸ºæˆ‘å·¥ä½œçš„å…¬å¸ä¸»è¦ä½äºç¾å›½å’Œè‹±å›½ï¼Œåœ¨å¢¨è¥¿å“¥å’ŒåŠ æ‹¿å¤§ä¹Ÿæœ‰ä¸€äº›åˆ†éƒ¨ã€‚è¿™ä½¿æˆ‘çš„å·¥ä½œå˜å¾—å®¹æ˜“å¤šäº†ï¼Œå› ä¸ºæˆ‘ä¸å¿…å¤ªæ‹…å¿ƒå›½é™…åŒ–:ä¸ç”¨æ‹…å¿ƒè½¬æ¢æˆä¸åŒçš„æ—¥æœŸæ ¼å¼ï¼Œä¸ç”¨æ‹…å¿ƒè¯­è¨€ç¿»è¯‘äº§ç”Ÿçš„ç‰¹æ€§ï¼Œå½“ç„¶ä¹Ÿä¸ç”¨æ‹…å¿ƒå…¶ä»–å›½å®¶çš„åˆ—è¡¨å’Œè´§å¸çš„å¥‡æ€ªä¹‹å¤„(çœŸçš„å—â€”â€”å½“æ¶‰åŠåˆ°é‡‘é’±æ—¶ï¼Œè°ä¼šåœ¨å¥å·åé¢åŠ é€—å·å‘¢ï¼Ÿï¼Ÿ).

è™½ç„¶è¿™äº›ä¸æ˜¯æˆ‘çš„é—®é¢˜ï¼Œä½†å¹¶ä¸æ„å‘³ç€å…¶ä»–å·¥ç¨‹å¸ˆä¸ä¼šæ„Ÿåˆ°éš¾ä»¥ç½®ä¿¡çš„ç—›è‹¦ã€‚ä¾‹å¦‚ï¼Œç¼ºä¹å›½é™…æ ‡å‡†åŒ–(ä»¥åŠæ— æ³•è½¬æ¢æ•°å­—)å¯¼è‡´å…¬åˆ¶å•ä½ä¸è‹±åˆ¶å•ä½ä¸åŒ¹é…ï¼Œå¯¼è‡´ NASA çš„ç«æ˜Ÿè½¨é“é£è¡Œå™¨åœ¨ 1999 å¹´å®Œå…¨é”™è¿‡è¿›å…¥ç«æ˜Ÿè½¨é“ï¼ŒæŸå¤±é«˜è¾¾ 1 . 25 äº¿ç¾å…ƒã€‚

Oofâ€¦æ¥æº:[https://www.reactiongifs.com/picard-facepalm/](https://www.reactiongifs.com/picard-facepalm/)

è™½ç„¶æˆ‘çš„è½¯ä»¶å¼€å‘å›¢é˜Ÿæ‰€ç”¨çš„èµ„é‡‘å¹¶ä¸æ˜¯å¾ˆå¤§ï¼Œè€Œä¸”æˆ‘ä»¬çš„é”™è¯¯ä¼šå¯¼è‡´ä»£ç ä¸­çš„é”™è¯¯ï¼Œæˆ‘ä»¬é€šå¸¸å¯ä»¥åœ¨å‡ ä¸ªå°æ—¶æˆ–å‡ å¤©å†…ä¿®å¤è¿™äº›é”™è¯¯ï¼Œä½†æˆ‘è‚¯å®šèƒ½ä¸ NASA çš„å·¥ç¨‹å¸ˆæ„ŸåŒèº«å—ï¼Œæˆ‘ä¸æ•¢æƒ³è±¡ä¸€ä¸ªç®€å•çš„é”™è¯¯ï¼Œå¦‚æ²¡æœ‰ä»”ç»†æ£€æŸ¥æ¯ä¸ªäººåœ¨ Orbiter ä»£ç ä¸­ä½¿ç”¨çš„ç›¸åŒæµ‹é‡å€¼ï¼Œæ˜¯å¦‚ä½•é€ æˆè¿™æ ·çš„æŸå¤±çš„ã€‚

è¿™å°±æ˜¯ä¸ºä»€ä¹ˆï¼Œå½“æˆ‘å¬è¯´æœ€è¿‘å‘å¸ƒäº† ECMAScript å›½é™…åŒ– API æ—¶ï¼Œæˆ‘å¾ˆå…´å¥‹åœ°çœ‹åˆ°å“ªäº›æ”¹è¿›å°†ä½¿å…¨ä¸–ç•Œçš„ JavaScript å˜å¾—æ›´å¥½ï¼Œå¯¹ä½¿ç”¨å®ƒçš„æ¯ä¸ªäººæ¥è¯´æ›´æ ‡å‡†åŒ–ã€‚

> ä»Šå¤©ï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹**Intl:**ECMAScript å›½é™…åŒ– API çš„ä¸€äº›æœ€ä½³éƒ¨åˆ†ï¼Œå®ƒæä¾›äº†è¯­è¨€æ•æ„Ÿçš„å­—ç¬¦ä¸²æ¯”è¾ƒã€æ•°å­—æ ¼å¼åŒ–ä»¥åŠæ—¥æœŸå’Œæ—¶é—´æ ¼å¼åŒ–ã€‚

# å›½é™…æ—¥æœŸæ—¶é—´çªå‡ºæ˜¾ç¤º

åƒå¾€å¸¸ä¸€æ ·ï¼ŒMozilla çš„ MDN Web æ–‡æ¡£å¯¹æ–°çš„å›½é™… API åŠå…¶ç‰¹æ€§è¿›è¡Œäº†æœ€å¥½çš„æ€»ç»“:

> INTL å¯¹è±¡æä¾›äº†å¯¹å‡ ä¸ªæ„é€ å‡½æ•°ä»¥åŠå›½é™…åŒ–æ„é€ å‡½æ•°å’Œå…¶ä»–è¯­è¨€æ•æ„Ÿå‡½æ•°çš„è®¿é—®ã€‚â€” MDN ç½‘ç»œæ–‡æ¡£

æ–°çš„`**Intl**`å¯¹è±¡æœ‰å…­ä¸ªå±æ€§ï¼Œä½†åœ¨æˆ‘çœ‹æ¥ï¼Œå…¶ä¸­åªæœ‰äº”ä¸ªå€¼å¾—åœ¨è¿™ç¯‡åšæ–‡ä¸­å æœ‰ä¸€å¸­ä¹‹åœ°ã€‚

*   `**Intl.DateTimeFormat**`
*   `**Intl.RelativeTimeFormat**`
*   `**Intl.ListFormat**`
*   `**Intl.NumberFormat**`
*   `**Intl.PluralRules**`

å› æ­¤ï¼Œä¸å†èµ˜è¿°ï¼Œæˆ‘å°†æ·±å…¥ç ”ç©¶ç¬¬ä¸€ä¸ªå±æ€§:å›½é™…æ—¥æœŸæ—¶é—´æ ¼å¼ã€‚

## [å›½é™…æ—¥æœŸæ—¶é—´æ ¼å¼](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DateTimeFormat)

![](img/a9f0f6d66dfcc19edab0b72864684c15.png)

æ˜¯çš„ï¼Œæˆ‘ä»¬éƒ½å»è¿‡é‚£é‡Œã€‚æ˜¯çš„ï¼Œè¿™çœŸçš„æ˜¯ä¸€åœºå…³äºæ—¥æœŸå’Œæ—¶é—´çš„å™©æ¢¦ã€‚

`**Intl.DateTimeFormat**`å¯¹è±¡æ˜¯æ”¯æŒè¯­è¨€æ•æ„Ÿçš„æ—¥æœŸå’Œæ—¶é—´æ ¼å¼çš„å¯¹è±¡çš„æ„é€ å‡½æ•°ã€‚

æœ€åŸºæœ¬çš„ï¼Œæ—¥æœŸæ—¶é—´æ ¼å¼æ¥å—`locales`å’Œ`options`å¯¹è±¡ï¼Œå¹¶æ ¹æ®è¿™äº›é€‰é¡¹è¾“å‡ºæ ¼å¼åŒ–çš„æ—¶é—´æˆ³ã€‚

è¿™é‡Œæœ‰ä¸€ä¸ªä½¿ç”¨æ¥è‡ªå…¨çƒçš„`locales`æ¥æ ¼å¼åŒ–è¿™ä¸ª`date`å˜é‡çš„ä¾‹å­ã€‚

å›½é™…æœºåœºã€‚æ—¥æœŸæ—¶é—´æ ¼å¼ `**Locales**` **ç¤ºä¾‹**

```
var date = new Date(Date.UTC(2012, 11, 20, 3, 0, 0));// using US date time formattingconsole.log(new Intl.DateTimeFormat('en-US').format(date));// expected output: "12/19/2012" // using Great Britain date time formattingconsole.log(new Intl.DateTimeFormat('en-GB').format(date));
// expected output: "19/12/2012"// Include a fallback language, in this case US English with the Buddhist calendarconsole.log(new Intl.DateTimeFormat(['en-US-u-ca-buddhist']).format(date));
// expected output: "12/19/2555"
```

é™¤äº†èƒ½å¤Ÿä¼ å…¥ä½ç½®ä¹‹å¤–ï¼Œç”¨æˆ·è¿˜å¯ä»¥æä¾›ä¸ä½ç½®è¿åœ¨ä¸€èµ·çš„é™„åŠ å‚æ•°ï¼Œä¾‹å¦‚:

*   `nu` â€”ä¸åŒå›½å®¶ä½¿ç”¨çš„æ•°å­—ç³»ç»Ÿï¼Œ
*   `ca` â€”è¦ä½¿ç”¨çš„æ—¥å†ï¼Œ
*   `hc` â€”å°æ—¶å‘¨æœŸ(`h11`ã€`h24`ç­‰)ã€‚).

åœ¨æ·»åŠ åˆ°`locales`ä¹‹åï¼Œæ˜¯å¯é€‰çš„`options`å¯¹è±¡ï¼Œå®ƒå¯ä»¥åŒ…æ‹¬å¦‚ä¸‹å±æ€§:

*   `timezone` â€”è¿™å¯ä»¥æ˜¯`"UTCâ€`æˆ–è€…ç±»ä¼¼`"America/New_York"`çš„ä¸œè¥¿ï¼Œ
*   `hourCycle` â€”åŒæ ·ï¼Œåƒ`"h12"`æˆ–`"h23"`è¿™æ ·çš„è§„æ ¼ï¼Œ
*   æˆ‘æœ€å–œæ¬¢çš„ä¸€ä¸ª:`formatMatcher` â€”è¿™ä¸ªç®—æ³•å¯ä»¥æ¥å—ç”¨äºæè¿°æ—¥æœŸæ—¶é—´çš„å±æ€§ï¼Œå¹¶æ ¼å¼åŒ–è¾“å‡ºä»¥è¿›è¡ŒåŒ¹é…ã€‚

`formatMatcher`çš„å­é›†åŒ…æ‹¬ä»¥ä¸‹å†…å®¹:

*   `weekday`ã€`year`ã€`month`ã€`day`ã€`hour`ã€`minute`ã€`second`
*   `hour`ã€`minute`ã€`second`

å³ä½¿è¿™æ ·ï¼Œå­é›†å±æ€§ä¹Ÿæœ‰ä¸åŒçš„é€‰é¡¹ã€‚ä»¥ä¸‹æ˜¯`weekday`çš„é€‰é¡¹ã€‚

*   `"long"`(ä¾‹å¦‚`Thursday`)ï¼Œ
*   `"short"`(ä¾‹å¦‚`Thu`)ï¼Œ
*   `"narrow"`(å¦‚`T`)ã€‚

çœ‹çœ‹è¿™ä¸ªä½¿ç”¨`DateTimeFormat`çš„`options`å‚æ•°æ ¼å¼åŒ–è¾“å‡ºçš„ä¾‹å­ã€‚

å›½é™…æœºåœºã€‚DateTimeFormat `**Options**` **å‚æ•°ç¤ºä¾‹**

```
var date = new Date(Date.UTC(2012, 11, 20, 3, 0, 0));// request a weekday along with a long date in Japanesevar options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };console.log(new Intl.DateTimeFormat('ja-JP', options).format(date));
// expected output: "2012 å¹´ 12 æœˆ 19 æ—¥æ°´æ›œæ—¥"// an application may want to use UTC and make that visible in Germanoptions.timeZone = 'UTC';
options.timeZoneName = 'short';console.log(new Intl.DateTimeFormat('de-DE', options).format(date));
// expected output: "Donnerstag, 20\. Dezember 2012, UTC"// sometimes you want to be more precise in Australian Englishoptions = {
  hour: 'numeric', minute: 'numeric', second: 'numeric', 
  timeZone: 'Australia/Sydney',
  timeZoneName: 'short'
};console.log(new Intl.DateTimeFormat('en-AU', options).format(date));
// expected output: "2:00:00 pm AEDT"// even the US needs 24-hour time for some occasionsoptions = {
  year: 'numeric', month: 'numeric', day: 'numeric',
  hour: 'numeric', minute: 'numeric', second: 'numeric',
  hour12: false,
  timeZone: 'America/Los_Angeles' 
};console.log(new Intl.DateTimeFormat('en-US', options).format(date));
// expected output: "12/19/2012, 19:00:00"// to specify options but use the browser's default locale, use 'default'console.log(new Intl.DateTimeFormat('default', options).format(date));
// expected output: "12/19/2012, 19:00:00"
```

è¿™æ˜¯ä¸€ä¸ªå¾ˆé…·çš„åŠŸèƒ½ã€‚å®ƒå°†ä½¿æ­£ç¡®ç¿»è¯‘æ—¥æœŸå’Œæ—¶é—´å˜å¾—æ›´åŠ å®¹æ˜“ï¼Œå¹¶ä»¥å¦‚æ­¤å¤šçš„ç‰¹å®šæ–¹å¼æ ¼å¼åŒ–å®ƒä»¬ï¼Œä»¥è‡³äºåƒä¸“é—¨ä¸ºè§£æã€éªŒè¯å’Œæ“ä½œ JavaScript æ—¥æœŸå’Œæ—¶é—´è€Œåˆ¶ä½œçš„ [moment.js](https://momentjs.com/) è¿™æ ·çš„åŒ…å°†å˜å¾—æ²¡æœ‰å¿…è¦ã€‚

ç”±äºæˆ‘å·²ç»è°ˆåˆ°äº†æ—¥æœŸï¼Œæ‰€ä»¥æˆ‘æƒ³ç»§ç»­è®¨è®ºçš„ä¸‹ä¸€ä¸ªå±æ€§æ˜¯å›½é™…ç›¸å¯¹æ—¶é—´æ ¼å¼ã€‚

## [å›½é™…ç›¸å¯¹æ—¶é—´æ ¼å¼](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RelativeTimeFormat)

`**Intl.RelativeTimeFormat**`å¯¹è±¡æ˜¯ä¸€ä¸ªå¯¹è±¡çš„æ„é€ å‡½æ•°ï¼Œæ”¯æŒè¯­è¨€æ•æ„Ÿçš„ç›¸å¯¹æ—¶é—´æ ¼å¼ã€‚

ä¸`Intl.DateTimeFormat`ç±»ä¼¼ï¼Œè¯¥å¯¹è±¡æ¥å—ä¸€ä¸ª`locales`å‚æ•°å’Œä¸€ä¸ª`options`å¯¹è±¡ã€‚

`locales`å‚æ•°åœ¨è¿™ä¸ªç›¸å¯¹æ—¶é—´æ ¼å¼å¯¹è±¡ä¸­çš„åŠŸèƒ½ä¸åœ¨æ—¥æœŸæ—¶é—´æ ¼å¼ä¸­çš„åŠŸèƒ½å®Œå…¨ç›¸åŒï¼Œæ‰€ä»¥æˆ‘å°†åœ¨è¿™é‡Œè·³è¿‡ä»»ä½•è¿›ä¸€æ­¥çš„è§£é‡Šã€‚

è‡³äº`options`,`Intl.RelativeTimeFormat`å…·æœ‰å®ƒæ¥å—çš„å„ç§é™„åŠ å±æ€§:

*   `localeMatcher` â€”åŒºåŸŸåŒ¹é…ç®—æ³•ï¼Œé€‰é¡¹æœ‰`"best fit"`æˆ–`"lookup"`ï¼Œ
*   `numeric` â€”è¾“å‡ºæ¶ˆæ¯çš„æ ¼å¼ï¼Œ
*   `style` â€”å›½é™…åŒ–æ¶ˆæ¯çš„é•¿åº¦ã€‚

`style`éµå¾ªä¸`weekday`ç›¸åŒçš„çº¿è·¯ï¼Œå› ä¸ºå®ƒæœ‰ä¸‰ä¸ªä¸åŒçš„å€¼:

*   `"long"`(é»˜è®¤ï¼Œä¾‹å¦‚`in 2 months`)ï¼Œ
*   `"short"`(å¦‚`in 2 mo.`)ï¼Œ
*   æˆ–è€…`"narrow"`(ä¾‹å¦‚`in 2 mo.`)ã€‚

`narrow`å’Œ`short`å¯èƒ½ç›¸åŒï¼Œå…·ä½“è§†å›½å®¶è€Œå®šã€‚

ä»¥ä¸‹æ˜¯ä¸€äº›åœ¨å„ç§`locales`ä¸­ä½¿ç”¨`Intl.RelativeTimeFormat`å¹¶ä¼ é€’ç»™å®ƒä»¬å„ç§`options`çš„ç¤ºä¾‹ã€‚

å›½é™…æœºåœºã€‚RelativeTimeFormat ç¤ºä¾‹

```
var rtf1 = new Intl.RelativeTimeFormat('en', { style: 'narrow' });// relative time formats in Englishconsole.log(rtf1.format(3, 'quarter'));
//expected output: "in 3 qtrs."console.log(rtf1.format(-4, 'hour'));
//expected output: "4 hr. ago"var rtf2 = new Intl.RelativeTimeFormat('de', { numeric: 'auto' });// relative time formats in Germanconsole.log(rtf2.format(2, 'day'));
//expected output: "Ã¼bermorgen"// Create a relative time formatter in your locale
// with default values explicitly passed in.const rtf = new Intl.RelativeTimeFormat("en", {
    localeMatcher: "best fit", // other values: "lookup"
    numeric: "always", // other values: "auto"
    style: "long", // other values: "short" or "narrow"
});// Format relative time in English using negative value (-1).console.log(rtf.format(-1, "day"));
// > "1 day ago"// Format relative time in English using positive value (1).console.log(rtf.format(2, "day"));
// > "in 2 days"
```

å†ä¸€æ¬¡ï¼Œè¶…çº§æ–¹ä¾¿çš„æ˜¯ï¼Œä½œä¸ºå¼€å‘äººå‘˜ï¼Œæˆ‘ä»¬ä¸å¿…å¤„ç†æ ¼å¼åŒ–å¤©æ•°æˆ–å°æ—¶æ•°ç”šè‡³ä¸€äº›å•è¯çš„é€»è¾‘ï¼Œæ ¹æ®ä¼ å…¥çš„æ•°å­—ï¼Œåœ¨å¤šç§è¯­è¨€ä¸­ T30 ä¸æ¯” T31 å°‘ã€‚æ²¡æœ‰å¤æ‚çš„`if/else if/else`é€»è¾‘å—ï¼Œç”šè‡³æ²¡æœ‰ä¸‰å…ƒè¡¨è¾¾å¼ã€‚

åœ¨`Intl.RelativeTimeFormat`çš„å¸®åŠ©ä¸‹ï¼Œåªéœ€æŒ‡å®šè¦ä½¿ç”¨çš„è¯­è¨€ï¼Œ`numeric`è¾“å‡ºå’Œ`style`å°±å¯ä»¥äº†ã€‚ä¸é”™ï¼ğŸ˜„

å…³äºå›½é™…åŒ– APIï¼Œæ¥ä¸‹æ¥è®©æˆ‘ä»¬çœ‹çœ‹å¦ä¸€ä»¶å› è¯­è¨€è€Œå¼‚çš„äº‹æƒ…:åˆ—è¡¨æ˜¯å¦‚ä½•æ ¼å¼åŒ–çš„ã€‚

## [å›½é™…åˆ—è¡¨æ ¼å¼](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ListFormat)

å°†ä¸€ç§è¯­è¨€ä¸­çš„æ•°ç»„è½¬æ¢æˆç±»ä¼¼äºæ·»åŠ äº†`ands`æˆ–`ors`çš„å¯è¯»åˆ—è¡¨å·²ç»å¤Ÿéš¾çš„äº†ï¼Œè¯•ç€ç”¨å¤šç§è¯­è¨€æ¥åšå§ã€‚

å¯¹è±¡æ˜¯å¯¹è±¡çš„ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç”¨äºæ”¯æŒè¯­è¨€æ•æ„Ÿçš„åˆ—è¡¨æ ¼å¼ã€‚

æ­£å¦‚æœ¬æ–‡åå¤å‡ºç°çš„ä¸»é¢˜ä¸€æ ·ï¼Œ`ListFormat`æ¥å—çš„ç¬¬ä¸€ä¸ªå¯é€‰å‚æ•°æ˜¯ä¸€ä¸ª`locales`è§„èŒƒã€‚

ç¬¬äºŒä¸ªå¯¹è±¡æ˜¯`options`ï¼Œå…¶å‚æ•°å¦‚ä¸‹:

*   `localeMatcher` â€”åŒºåŸŸåŒ¹é…ç®—æ³•ï¼Œé€‰é¡¹åŒ`Intl.RelativeTimeFormat`ï¼Œ
*   `type` â€”è¾“å‡ºæ¶ˆæ¯çš„æ ¼å¼ã€‚å¯èƒ½çš„å€¼æœ‰`"conjunction"`ï¼Œä»£è¡¨åŸºäºâ€œä¸â€çš„åˆ—è¡¨(é»˜è®¤ï¼Œä¾‹å¦‚`1, 2, and 3`)ï¼Œæˆ–è€…`"disjunction"`ï¼Œä»£è¡¨åŸºäºâ€œæˆ–â€çš„åˆ—è¡¨(ä¾‹å¦‚`1, 2, or 3`)ã€‚`"unit"`ä»£è¡¨å¸¦æœ‰å•ä½çš„å€¼åˆ—è¡¨(å¦‚`7 pounds, 11 ounces`)ã€‚
*   `style` â€”æ ¼å¼åŒ–æ¶ˆæ¯çš„é•¿åº¦ã€‚å€¼åŒ…æ‹¬`"long"`ã€`"short"`æˆ–`"narrow"`ã€‚

ä¸‹é¢æ˜¯ä¸€äº›å¦‚ä½•åœ¨å®è·µä¸­ä½¿ç”¨`Intl.ListFormat`å¯¹è±¡çš„ä¾‹å­ã€‚

å›½é™…æœºåœºã€‚åˆ—è¡¨æ ¼å¼ç¤ºä¾‹

```
const vehicles = ['Cat', 'Dog', 'Fish'];// list formats in Englishconst formatter = new Intl.ListFormat('en', { style: 'long', type: 'conjunction' });console.log(formatter.format(vehicles));
// expected output: "Cat, Dog, and Fish"// list formats in Frenchconst formatter2 = new Intl.ListFormat('fr', { style: 'short', type: 'disjunction' });console.log(formatter2.format(vehicles));
// expected output: "Cat, Dog ou Fish"// list formats in Spanishconst formatter3 = new Intl.ListFormat('es', { style: 'narrow', type: 'unit' });console.log(formatter3.format(vehicles));
// expected output: "Cat Dog Fish"const list = ['BMW', 'Volvo', 'Audi'];// list formats in British Englishconsole.log(new Intl.ListFormat('en-GB', { style: 'long', type: 'conjunction' }).format(list));
// expected output: "BMW, Volvo and Audi"console.log(new Intl.ListFormat('en-GB', { style: 'short', type: 'disjunction' }).format(list));
// expected output: "BMW, Volvo or Audi"console.log(new Intl.ListFormat('en-GB', { style: 'narrow', type: 'unit' }).format(list));
// expected output: "BMW Volvo Audi"
```

ç»ˆäºï¼Œ*ç»ˆäº*æœ‰ä¸€ä¸ªå†…ç½®çš„ API å¯ä»¥è®©åˆ—è¡¨å˜å¾—å¥½çœ‹ï¼Œè¿™æœ‰å¤šæ£’ï¼Ÿè§é¬¼ï¼Œå³ä½¿å®ƒåªé€‚ç”¨äºè¯´è‹±è¯­çš„å›½å®¶æˆ–åªæœ‰è‹±è¯­è¯­è¨€çš„åº”ç”¨ç¨‹åºï¼Œæˆ‘ä¹Ÿä¼šæ¥å—ï¼Œè¿™å¤ªæœ‰ç”¨äº†ã€‚

ä½†æ˜¯ç­‰ç­‰ï¼æˆ‘è¿˜è¦ä»‹ç»å¦ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„æ„é€ å‡½æ•°:æ•°å­—æ ¼å¼åŒ–ç¨‹åºï¼ğŸ¤‘

## [å›½é™…å·ç æ ¼å¼](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NumberFormat)ğŸ’°

å„ä½ï¼Œä¸‹é›¨å§ã€‚

è™½ç„¶`**Intl.NumberFormat**` çš„å®šä¹‰ä¸€å¼€å§‹å¬èµ·æ¥å¹¶ä¸ä»¤äººå…´å¥‹ï¼Œä½†å…¶å«ä¹‰æ˜¯å¾ˆå¤§çš„ã€‚æ­¤å¯¹è±¡æ˜¯å¯ç”¨åŒºåˆ†è¯­è¨€çš„æ•°å­—æ ¼å¼çš„å¯¹è±¡çš„æ„é€ å‡½æ•°ã€‚ä½ çŸ¥é“è¿™æ„å‘³ç€ä»€ä¹ˆå—ï¼Ÿå›½é™…è´§å¸çš„æ ¼å¼åŒ–æ˜¯è½»è€Œæ˜“ä¸¾çš„äº‹ã€‚

é™¤äº†è¦ä½¿ç”¨çš„ç¼–å·ç³»ç»Ÿ`locales`å’Œ`nu`ä¹‹å¤–ï¼Œ`Intl.NumberFormat`å¯¹è±¡è¿˜å¯ä»¥æ¥å—ä»¥ä¸‹`options`å‚æ•°:

*   `localeMatcher`ï¼Œ
*   `style` â€”è¦ä½¿ç”¨çš„æ ¼å¼æ ·å¼ã€‚å¯èƒ½çš„å€¼æœ‰:`"decimal"`ç”¨äºæ™®é€šæ•°å­—æ ¼å¼ï¼Œ`"currency"`ç”¨äºè´§å¸æ ¼å¼ï¼Œ`"percent"`ç”¨äºç™¾åˆ†æ¯”æ ¼å¼ï¼›`"decimalâ€`æ˜¯é»˜è®¤æ ·å¼ã€‚
*   `currency` â€”è´§å¸æ ¼å¼ä¸­ä½¿ç”¨çš„è´§å¸ï¼Œ
*   `currencyDisplay` â€”å¦‚ä½•æ˜¾ç¤ºæ ¼å¼åŒ–åçš„è´§å¸ã€‚é€‰é¡¹æœ‰`"symbol"`ä½¿ç”¨æœ¬åœ°åŒ–çš„è´§å¸ç¬¦å·ï¼Œå¦‚â‚¬ï¼Œ`"code"`ä½¿ç”¨ ISO è´§å¸ä»£ç ï¼Œæˆ–è€…`"name"`ä½¿ç”¨æœ¬åœ°åŒ–çš„è´§å¸åç§°ï¼Œå¦‚`"dollar"`ã€‚
*   `useGrouping` â€”æ˜¯å¦ä½¿ç”¨åˆ†ç»„åˆ†éš”ç¬¦ï¼Œå¦‚åƒä½åˆ†éš”ç¬¦æˆ–åƒä½åˆ†éš”ç¬¦ã€‚å¯èƒ½çš„å€¼æ˜¯`true`å’Œ`false`ã€‚

å›´ç»•æ•°å­—è¿˜æœ‰å‡ ä¸ªé€‰é¡¹:`minimumIntegerDigits`ï¼Œ`maximumSignificantDigits`ï¼Œä½†æˆ‘è®¤ä¸ºå®ƒä»¬çš„ç”¨å¤„æœ‰é™ï¼Œæ‰€ä»¥æˆ‘åœ¨è¿™é‡Œå°±ä¸ä¸€ä¸€å®šä¹‰äº†ã€‚

**å›½é™…ã€‚æ•°å­—æ ¼å¼ç¤ºä¾‹**

```
var number = 123456.789;// currency formatting with euros in Germanconsole.log(new Intl.NumberFormat('de-DE', { style: 'currency', currency: 'EUR' }).format(number));
// expected output: "123.456,79 â‚¬"// currency formatting in Japanese where the Japanese yen doesn't use a minor unitconsole.log(new Intl.NumberFormat('ja-JP', { style: 'currency', currency: 'JPY' }).format(number));
// expected output: "ï¿¥123,457"// limiting an Indian currency format to three significant digitsconsole.log(new Intl.NumberFormat('en-IN', { maximumSignificantDigits: 3 }).format(number));
// expected output: "1,23,000"// Arabic in most Arabic speaking countries uses real Arabic digitsconsole.log(new Intl.NumberFormat('ar-EG').format(number));
// expected output: Ù¡Ù¢Ù£Ù¤Ù¥Ù¦Ù«Ù§Ù¨Ù©// India uses thousands/lakh/crore separatorsconsole.log(new Intl.NumberFormat('en-IN').format(number));
// expected output: 1,23,456.789// the nu extension key requests a numbering system, e.g. Chinese decimalconsole.log(new Intl.NumberFormat('zh-Hans-CN-u-nu-hanidec').format(number));
// expected output: ä¸€äºŒä¸‰,å››äº”å…­.ä¸ƒå…«ä¹// when requesting a language that may not be supported, such as
// Balinese, include a fallback language, in this case Indonesianconsole.log(new Intl.NumberFormat(['ban', 'id']).format(number));
// expected output: 123.456,789
```

åœ¨æˆ‘çœ‹æ¥ï¼Œå¯¹äºä¸€ä¸ªå›½é™…å…¬å¸æˆ–ç½‘ç«™æ¥è¯´ï¼Œè¿™ä¸€å®šæ˜¯å›½é™…åŒ– API çš„ä¸€ä¸ªå·¨å¤§çš„*å·¨å¤§çš„*å–ç‚¹ã€‚æˆ‘ä»¬ä¸éœ€è¦ä¸ºå­˜åœ¨çš„å„ç§è´§å¸å·®å¼‚æ‰‹å·¥ç¼–ç ï¼Œæˆ‘ä»¬å¯ä»¥ä¾é ä¸€ä¸ª API æ¥ä¸ºæˆ‘ä»¬å¤„ç†å®ƒâ€”â€”å¤šä¹ˆåˆç†å’Œçœæ—¶å•Šï¼

å¥½äº†ï¼Œä»Šå¤©æˆ‘è¦ä»‹ç»çš„æœ€åä¸€ä¸ªå±æ€§æ˜¯:`Intl.PluralRules`ã€‚

## [å›½é™…å¤æ•°è§„åˆ™](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/PluralRules)

å½“ä½ æƒ³åˆ°è‹±è¯­ä¸­å¤æ•°çš„è§„åˆ™æ—¶ï¼Œè§„åˆ™æ˜¯å¾ˆéš¾çš„:â€œä¸€åªç‹—â€å˜æˆäº†â€œä¸¤åªç‹—â€ï¼Œä½†æ˜¯â€œä¸€åªé¹…â€å˜æˆäº†â€œä¸¤åªé¹…â€ï¼Œâ€œä¸€åªâ€å˜æˆäº†â€œä¸¤åªâ€ï¼Œä½†æ˜¯å½“æè¿°ä¸€äº›æ¨¡ç³Šçš„ã€å¤§é‡çš„é¡¹ç›®æ—¶ï¼Œé™¤äº†â€œä¸¤åªâ€ä¹‹å¤–ï¼Œå°±å˜æˆäº†â€œå‡ åªâ€æˆ–â€œè®¸å¤šâ€æˆ–â€œå…¶ä»–â€ï¼Œç­‰ç­‰â€”â€”ä½ å¼€å§‹æ˜ç™½æˆ‘åœ¨è¯´ä»€ä¹ˆäº†å—ï¼Ÿ

ç°åœ¨æƒ³è±¡ä¸€ä¸‹éœ€è¦çŸ¥é“åƒè¿™æ ·çš„ä¸æ­¢ä¸€ç§è¯­è¨€çš„ä¸æˆæ–‡çš„è§„åˆ™â€¦å”‰ã€‚ğŸ˜‘

è¿™å°±æ˜¯å›½é™…å¤šå…ƒè§„åˆ™æˆä¸ºæ•‘å‘½ç¨»è‰çš„åœ°æ–¹ã€‚`**Intl.PluralRules**`å¯¹è±¡æ˜¯æ”¯æŒå¤šç§æ•æ„Ÿæ ¼å¼å’Œå¤šç§è¯­è¨€è§„åˆ™çš„å¯¹è±¡çš„æ„é€ å™¨ã€‚

è¿™ä¸ªæ„é€ å‡½æ•°æ¥å—`locales`(å½“ç„¶)ï¼Œå®ƒçš„`options`å¯¹è±¡æ¥å—ä»¥ä¸‹å‚æ•°:

*   `localeMatcher` â€”è¦ä½¿ç”¨çš„åŒºåŸŸè®¾ç½®åŒ¹é…ç®—æ³•ã€‚å¯èƒ½çš„å€¼æ˜¯`"lookup"`å’Œ`"best fit"`ï¼›é»˜è®¤ä¸º`"best fit"`ã€‚
*   `type` â€”è¦ä½¿ç”¨çš„ç±»å‹ã€‚å¯èƒ½çš„å€¼æœ‰:`"cardinal"`ä¸ºåŸºæ•°(æŒ‡äº‹ç‰©çš„æ•°é‡)ã€‚è¿™æ˜¯é»˜è®¤å€¼ã€‚æˆ–`"ordinal"`ä½œåºæ•°(æŒ‡äº‹ç‰©çš„æ’åºæˆ–ç­‰çº§ï¼Œå¦‚è‹±è¯­ä¸­çš„â€œç¬¬ä¸€â€ã€â€œç¬¬äºŒâ€ã€â€œç¬¬ä¸‰â€)ã€‚

**å›½é™…è´¸æ˜“çš„ç”¨é€”ã€‚å¤æ•°è§„åˆ™**

åœ¨ä»£ç ä¸­ä½¿ç”¨`Intl.PluralRules`æœ‰å‡ ç§ä¸åŒçš„æ–¹å¼ã€‚

**åŸºæœ¬ç”¨æ³•** â€”åœ¨æ²¡æœ‰æŒ‡å®šè¯­è¨€ç¯å¢ƒçš„åŸºæœ¬ç”¨æ³•ä¸­ï¼Œè¿”å›é»˜è®¤è¯­è¨€ç¯å¢ƒä¸­å¸¦æœ‰é»˜è®¤é€‰é¡¹çš„æ ¼å¼åŒ–å­—ç¬¦ä¸²ã€‚è¿™æœ‰åŠ©äºåŒºåˆ†å•æ•°å’Œå¤æ•°å½¢å¼ï¼Œå¦‚â€œcatâ€å’Œâ€œcatsâ€ã€‚

**åœ°åŒºç”¨æ³•** â€”ä½¿ç”¨`locales`æ—¶ï¼Œä¸‹é¢çš„ç¤ºä¾‹ä»£ç æ˜¾ç¤ºäº†æœ¬åœ°åŒ–å¤æ•°è§„åˆ™çš„ä¸€äº›å˜åŒ–ã€‚ä¸ºäº†è·å¾—åº”ç”¨ç¨‹åºç”¨æˆ·ç•Œé¢ä¸­ä½¿ç”¨çš„è¯­è¨€æ ¼å¼ï¼Œè¯·ç¡®ä¿ä½¿ç”¨`locales`å‚æ•°æŒ‡å®šè¯¥è¯­è¨€(å¯èƒ½è¿˜æœ‰ä¸€äº›å¤‡ç”¨è¯­è¨€)ã€‚

**é€‰é¡¹ç”¨æ³•** â€”å¯ä»¥ä½¿ç”¨`options`å‚æ•°å®šåˆ¶å¤šä¸ªç»“æœï¼Œè¯¥å‚æ•°æœ‰ä¸€ä¸ªåä¸º`type`çš„å±æ€§ï¼Œæ‚¨å¯ä»¥å°†å…¶è®¾ç½®ä¸º`ordinal`ã€‚è¿™æœ‰åŠ©äºæ‰¾å‡ºé¡ºåºæŒ‡ç¤ºå™¨ï¼Œä¾‹å¦‚â€œç¬¬ä¸€â€ã€â€œç¬¬äºŒâ€ã€â€œç¬¬ä¸‰â€ã€â€œç¬¬å››â€ã€â€œç¬¬å››åäºŒâ€ç­‰ç­‰ã€‚

ä¸‹é¢çš„ä»£ç ç‰‡æ®µæ¦‚è¿°äº†æˆ‘åˆšæ‰æè¿°çš„æ‰€æœ‰ç”¨æ³•ã€‚

å›½é™…æœºåœºã€‚å¤æ•°è§„åˆ™ç¤ºä¾‹

```
// basic usage examplesvar pr = new Intl.PluralRules();// examples of plural rules if in US English localeconsole.log(pr.select(0));
// expected output: 'other'console.log(pr.select(1)); 
// expected output: 'one'console.log(pr.select(2));
// expected output: 'other'// examples using `locale`
// for example: Arabic has different plural rulesconsole.log(new Intl.PluralRules('ar-EG').select(0));
// expected output: 'zero'console.log(new Intl.PluralRules('ar-EG').select(1)); 
// expected output: 'one'console.log(new Intl.PluralRules('ar-EG').select(2));
// expected output: 'two'console.log(new Intl.PluralRules('ar-EG').select(6));
// expected output: 'few'console.log(new Intl.PluralRules('ar-EG').select(18));
// expected output: 'many'// examples using `options`var pr = new Intl.PluralRules('en-US', { type: 'ordinal' });
// examples using US English and `options type` specificationconsole.log(pr.select(0));
// expected output: 'other'console.log(pr.select(1));
// expected output: 'one'console.log(pr.select(2));
// expected output: 'two'console.log(pr.select(3));
// expected output: 'few'console.log(pr.select(4));
// expected output: 'other'
```

å¾ˆä¸é”™ï¼Œæ˜¯å§ï¼Ÿæˆ‘æ‰¿è®¤ï¼Œåœ¨æ‰€æœ‰çš„`Intl`æ–¹æ³•ä¸­ï¼Œè¿™ç§æ–¹æ³•æ²¡æœ‰å…¶ä»–æ–¹æ³•åº”ç”¨å¹¿æ³›ï¼Œä½†æ˜¯æˆ‘ç¡®ä¿¡å®ƒä»ç„¶ä¼šæœ‰å®ƒçš„æˆåŠŸæ—¶åˆ»ã€‚

åŒæ ·å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™ç§æ–¹æ³•ä»ç„¶å¤„äºâ€œè‰æ¡ˆâ€çŠ¶æ€ï¼Œåœ¨ MDN çš„æ–‡æ¡£ä¸­æœ‰æ³¨é‡Šâ€œåˆå§‹å®šä¹‰â€,æ‰€ä»¥åœ¨è¯•å›¾åœ¨ç”Ÿäº§ä¸­å®Œå…¨ä¾èµ–å®ƒä¹‹å‰ï¼Œæˆ‘ä¼šæ¨è¿Ÿä¸€æ®µæ—¶é—´ã€‚

# ç»“è®º

ç¿»è¯‘é€‚ç”¨äºä¸åŒå›½å®¶å’Œè¯­è¨€çš„ç½‘ç«™å’Œåº”ç”¨ç¨‹åºå·²ç»å¤Ÿå›°éš¾çš„äº†ï¼Œä½†æ˜¯èƒ½å¤Ÿæ­£ç¡®å¤„ç†æ—¥æœŸæ—¶é—´æ ¼å¼ã€è´§å¸å’Œé¡¹ç›®åˆ—è¡¨ç­‰å…·æœ‰è®¸å¤šè¯­è¨€ç‰¹å®šè§„åˆ™çš„äº‹æƒ…æ˜¯ä¸€ä¸ªçœŸæ­£çš„æŒ‘æˆ˜ã€‚

ECMAScript å›½é™…åŒ– API çš„æœ€æ–°ç‰ˆæœ¬æ—¨åœ¨é€šè¿‡è®©å…¶æ–¹æ³•æ ¹æ®`locales`å’Œæ‚¨å¯èƒ½æƒ³è¦æŒ‡å®šçš„ä»»ä½•å…¶ä»–`options`æ¥ä¸ºæ‚¨è¿›è¡Œæ ¼å¼åŒ–ï¼Œä»è€Œä½¿è¿™äº›è‰°å·¨çš„ä»»åŠ¡å˜å¾—æ›´åŠ å®¹æ˜“ã€‚

å¯¹äºå¤„ç†å›½é™…éœ€æ±‚çš„ JavaScript å¼€å‘äººå‘˜æ¥è¯´ï¼Œè¿™å°†æ˜¯ä¸€ä¸ªå·¨å¤§çš„ç¦éŸ³ï¼Œæˆ‘æœ¬äººä¹ŸæœŸå¾…ç€å°†è¿™äº›æ–°ç‰¹æ€§èå…¥åˆ°æˆ‘è‡ªå·±çš„åº”ç”¨ç¨‹åºä¸­ï¼Œä»…ä»…æ˜¯ä¸ºäº†è¿™äº›ç‰¹æ€§æä¾›çš„ä¾¿åˆ©ã€‚

è¿‡å‡ å‘¨å†æ¥çœ‹çœ‹ï¼Œæˆ‘ä¼šå†™å…³äº JavaScriptã€ES6 æˆ–å…¶ä»–ä¸ web å¼€å‘ç›¸å…³çš„ä¸œè¥¿ï¼Œæ‰€ä»¥è¯·å…³æ³¨æˆ‘ï¼Œè¿™æ ·ä½ å°±ä¸ä¼šé”™è¿‡äº†ã€‚

æ„Ÿè°¢æ‚¨çš„é˜…è¯»ï¼Œæˆ‘å¸Œæœ›æ‚¨èƒ½çœ‹åˆ° ECMAScript å›½é™…åŒ– API èƒ½å¤Ÿä¸ºæ‚¨çš„åº”ç”¨ç¨‹åºæä¾›çš„ä»·å€¼ï¼Œå¹¶èƒ½å¤Ÿåœ¨æœªæ¥å°†ä¸€äº›å±æ€§æ•´åˆåˆ°æ‚¨çš„ web åº”ç”¨ç¨‹åºä¸­ã€‚å¦‚æœä½ è§‰å¾—æœ‰å¸®åŠ©ï¼Œè¯·ä¸ä½ çš„æœ‹å‹åˆ†äº«ï¼

å¦‚æœä½ å–œæ¬¢è¯»è¿™ç¯‡æ–‡ç« ï¼Œä½ å¯èƒ½ä¹Ÿä¼šå–œæ¬¢æˆ‘çš„å…¶ä»–ä¸€äº›åšå®¢:

*   [åŒæ—¶è¿è¡Œå¤šä¸ª Node.js æˆ– NPM å‘½ä»¤çš„ 4 ä¸ªè§£å†³æ–¹æ¡ˆ](/4-solutions-to-run-multiple-node-js-or-npm-commands-simultaneously-9edaa6215a93)
*   [è§†å£å•ä½ï¼Œä½ ä¸çŸ¥é“ä½†åº”è¯¥çŸ¥é“çš„ CSS](/viewport-units-the-css-you-didnt-know-about-but-should-24b104483429)
*   [JavaScript çš„å¼‚æ­¥/ç­‰å¾…ä¸æ‰¿è¯º:å¤§è¾©è®º](/javascripts-async-await-versus-promise-the-great-debate-6308cb2e10b3)

**å‚è€ƒèµ„æ–™å’Œæ›´å¤šèµ„æº:**

*   ECMAScript å›½é™…åŒ– APIï¼ŒMDN Docs:[https://developer . Mozilla . org/en-US/Docs/Web/JavaScript/Reference/Global _ Objects/Intl](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl)
*   å›½é™…æ—¥æœŸæ—¶é—´æ ¼å¼ï¼ŒMDN Docs:[https://developer . Mozilla . org/en-US/Docs/Web/JavaScript/Reference/Global _ Objects/datetime Format](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DateTimeFormat)
*   å›½é™…ç›¸å¯¹æ—¶é—´æ ¼å¼ï¼ŒMDN Docs:[https://developer . Mozilla . org/en-US/Docs/Web/JavaScript/Reference/Global _ Objects/RelativeTimeFormat](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RelativeTimeFormat)
*   å›½é™…åˆ—è¡¨æ ¼å¼ï¼ŒMDN Docs:[https://developer . Mozilla . org/en-US/Docs/Web/JavaScript/Reference/Global _ Objects/List Format](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ListFormat)
*   å›½é™…å·ç æ ¼å¼ï¼ŒMDN Docs:[https://developer . Mozilla . org/en-US/Docs/Web/JavaScript/Reference/Global _ Objects/Number Format](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NumberFormat)
*   å›½é™…å¤æ•°è§„åˆ™ï¼ŒMDN Docs:[https://developer . Mozilla . org/en-US/Docs/Web/JavaScript/Reference/Global _ Objects/Plural Rules](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/PluralRules)