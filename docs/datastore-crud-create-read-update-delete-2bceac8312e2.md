# æ•°æ®å­˜å‚¨â€” CRUD(åˆ›å»ºè¯»å–æ›´æ–°åˆ é™¤)

> åŸæ–‡ï¼š<https://itnext.io/datastore-crud-create-read-update-delete-2bceac8312e2?source=collection_archive---------2----------------------->

![](img/1ef912caab0809ebbd8a02fd929b0828.png)

# å†è§ Reduxï¼ŒMobXï¼Œé˜¿æ³¢ç½—ï¼

åç«¯å’Œå‰ç«¯çš„çº¿æ–­äº†ï¼å›½å®¶ç®¡ç†è€…è¿›åŒ–çš„åˆ›æ–°ä¸€æ­¥ã€‚

å¼€å‘ web å’Œç§»åŠ¨åº”ç”¨ç¨‹åºæœ€å›°éš¾çš„ä»»åŠ¡ä¹‹ä¸€æ˜¯åœ¨è®¾å¤‡ä¹‹é—´åŒæ­¥æ•°æ®å’Œæ‰§è¡Œç¦»çº¿æ“ä½œã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œå½“è®¾å¤‡ç¦»çº¿æ—¶ï¼Œæ‚¨çš„å®¢æˆ·åº”è¯¥èƒ½å¤Ÿç»§ç»­ä½¿ç”¨æ‚¨çš„åº”ç”¨ç¨‹åºï¼Œä¸ä»…å¯ä»¥è®¿é—®æ•°æ®ï¼Œè¿˜å¯ä»¥åˆ›å»ºå’Œä¿®æ”¹æ•°æ®ã€‚å½“è®¾å¤‡æ¢å¤åœ¨çº¿æ—¶ï¼Œåº”ç”¨ç¨‹åºå¿…é¡»é‡æ–°è¿æ¥åˆ°åç«¯ï¼ŒåŒæ­¥æ•°æ®å¹¶è§£å†³å†²çª(å¦‚æœæœ‰çš„è¯)ã€‚æ­£ç¡®å¤„ç†æ‰€æœ‰æç«¯æƒ…å†µéœ€è¦å¤§é‡æ— å·®åˆ«çš„ä»£ç ï¼Œå³ä½¿åœ¨å…·æœ‰è‡ªä¸»çªå˜å’Œå¢é‡åŒæ­¥çš„è®¾å¤‡ä¸Šä½¿ç”¨ AWS AppSync SDK ç¼“å­˜æ—¶ä¹Ÿæ˜¯å¦‚æ­¤ã€‚

Amplify DataStore åœ¨è®¾å¤‡ä¸Šæä¾›æŒä¹…å­˜å‚¨ï¼Œä»¥ä¾¿åœ¨æ‚¨è¿æ¥åˆ°äº’è”ç½‘æˆ–ç¦»çº¿çš„æƒ…å†µä¸‹è®°å½•ã€è¯»å–å’Œç›‘æ§æ•°æ®å˜åŒ–ï¼Œå¹¶ä¸”è¿˜å¯ä»¥è½»æ¾åœ°ä¸äº‘ä»¥åŠè®¾å¤‡ä¹‹é—´åŒæ­¥æ•°æ®ã€‚

Amplify DataStore å…è®¸å¼€å‘äººå‘˜ä½¿ç”¨åˆ†å¸ƒå¼æ•°æ®ç¼–å†™åº”ç”¨ç¨‹åºï¼Œè€Œæ— éœ€ä¸ºç¦»çº¿æˆ–åœ¨çº¿è„šæœ¬ç¼–å†™é¢å¤–çš„ä»£ç ã€‚

æ‚¨å¯ä»¥åœ¨æ²¡æœ‰ AWS å¸æˆ·çš„æƒ…å†µä¸‹åœ¨ä»…æœ¬åœ°æ¨¡å¼ä¸‹ç¦»çº¿ä½¿ç”¨ Amplify DataStoreï¼Œæˆ–è€…ä½¿ç”¨ AWS AppSync å’Œ Amazon DynamoDB æä¾›æ•´ä¸ªåç«¯ã€‚

æ•°æ®å­˜å‚¨åŒ…æ‹¬ä½¿ç”¨ GraphQL åç«¯çš„å¢é‡åŒæ­¥å’Œå‡ ä¸ªå†²çªè§£å†³ç­–ç•¥ã€‚

# AWS Amplify DataStore ç›¸å¯¹äº Reduxã€MobXã€Apolloã€Relayã€é€‰æ‹©å™¨çš„ä¼˜åŠ¿:

å°† AWS Amplify ä¸ Redux ç›¸æ¯”è¾ƒï¼ŒMobX æ˜¯ä¸æ­£ç¡®çš„ï¼Œå› ä¸º AWS Amplify ä¸ä»…æ˜¯ä¸€ä¸ªçŠ¶æ€ç®¡ç†å™¨ï¼Œè¿˜æ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯-æœåŠ¡å™¨ï¼Œæ‰€ä»¥åœ¨å®¢æˆ·ç«¯-æœåŠ¡å™¨ç±»ä¸­æˆ‘ä»¬å°†å®ƒä¸ Apollo å’Œ Relay ç›¸æ¯”è¾ƒã€‚

# 1.å³æ—¶å¼€ç®±å³ç”¨ã€‚

æˆ‘è®¤ä¸ºï¼Œå¦‚æœä¸€ä¸ªä¼ä¸šçš„ç§»åŠ¨åº”ç”¨ç¨‹åºæ²¡æœ‰å—åˆ°ä½¿ç”¨ web sockets æŠ€æœ¯å®ç°çš„è®¢é˜…äº‹ä»¶çš„å½±å“ï¼Œå°±ä¸èƒ½è®¤ä¸ºè¿™ä¸ªä¼ä¸šæ˜¯è®¤çœŸçš„ã€‚ç°åœ¨æœ‰å¤šå°‘åº”ç”¨ç¨‹åºåœ¨ web å¥—æ¥å­—ä¸Šå·¥ä½œï¼Ÿæˆ‘è®¤ä¸ºä¸ä¼šï¼Œå› ä¸ºå®æ—¶æ˜¯å¼€å‘è€…åœ¨åå°å’Œå‰ç«¯çš„é¢å¤–å·¥ä½œã€‚å¯¹äºæˆ‘ä»¬æ¥è¯´ï¼ŒAWS Amplify ä¸Šçš„[full stack server less](https://fullstackserverless.github.io/docs/amplify-01)å¼€å‘äººå‘˜ï¼Œå®æ—¶æ˜¯å¼€ç®±å³ç”¨çš„ï¼Œæ— è®ºæ˜¯åœ¨å‰ç«¯è¿˜æ˜¯åç«¯ï¼Œæˆ‘ä»¬ä¸éœ€è¦ä¸ºæ¯ä¸ªæ¨¡å‹ç¼–å†™é›†æˆ web sockets çš„å®ç°ä»£ç ï¼Œå› ä¸ºå®ƒæ˜¯è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¸ºæ‰€æœ‰ç”Ÿæˆçš„ä»£ç ç¼–å†™æ–‡æ¡£ï¼Œåœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­åŸºäº GraphQL schema æŒ‡ä»¤å®ç°ã€‚ä¸ºäº†ä¸è¢«å¤§è¯å“åˆ°ï¼Œæˆ‘ç»™ä½ çœ‹ä¸€ä¸ªæ¥è‡ª[ä¸Šä¸€è¯¾](https://fullstackserverless.github.io/docs/amplify-03)çš„ä¾‹å­ï¼Œå•†åº—åœ¨ AWS Amplify ä¸­æ˜¯å¦‚ä½•å®šä¹‰çš„:

è¿™å°±å†³å®šäº†åº—å†…çš„æ¨¡å¼ï¼Œä¸ä»…æ˜¯å‰ç«¯ï¼Œåç«¯ä¹Ÿæ˜¯å¦‚æ­¤ã€‚å‰ç«¯å’Œåç«¯çš„ä¸€ä¸ªçœŸå®æ¥æºã€‚æ˜¯çš„ï¼Œæ˜¯çš„ï¼Œæˆ‘çœ‹åˆ°æˆ‘è¿™è¾ˆå­è¿˜ä¼šä¸æ­¢ä¸€æ¬¡é‡å¤ï¼Œæ—¢ç„¶è¿™æ˜¯ä¸€ä¸ªæ€æ‰‹çº§çš„ç‰¹æ€§å’Œå¦™è¯­ vs Reduxï¼ŒMobXï¼ŒApolloï¼ŒRelayã€‚

å°±æ˜¯è¿™ä¸ªæ¶æ„ï¼Œä¸åŒäº Reduxï¼ŒMobXï¼ŒApolloï¼ŒæŠ¹å»äº†åç«¯å’Œå‰ç«¯ä¹‹é—´çš„ç•Œé™ã€‚å¹¶å°† AWS Amplify æ•°æ®å­˜å‚¨ç½®äºæ¯ä¸ªäººä¹‹ä¸Š

å¦‚æœæ‚¨æ¥è‡ªåç«¯ï¼Œé‚£ä¹ˆæ‚¨ä¸å†éœ€è¦å‘æ•°æ®åº“ä¸­ç¼–å†™è§£æå™¨å¹¶å°†è®¢é˜…æ‹–åˆ°æ¯ä¸ªæ•°æ®æ¨¡å‹ä¸­ã€‚

æ— æœåŠ¡å™¨â€”â€”è¿™æ˜¯åç«¯å¼€å‘äººå‘˜å¼€å§‹å­¦ä¹ å‰ç«¯çš„æ—¶å€™ï¼Œå› ä¸ºä»–ä»¬çš„æœåŠ¡åªéœ€è¦ç”¨äºé‚£äº›è·Ÿä¸ä¸Šæ—¶ä»£çš„é¡¹ç›®ï¼Œå¹¶ä¸”ä»–ä»¬ä¸èƒ½å®æ—¶ç”Ÿæ´»ã€‚

# 2.ä»£ç ç”Ÿæˆã€‚

ä»€ä¹ˆæ˜¯ä»£ç ç”Ÿæˆï¼Œä½ å¯ä»¥ä¸ç”¨æˆ‘åœ¨ç»´åŸºç™¾ç§‘ä¸Šé˜…è¯»ï¼Œé™¤éä½ çŸ¥é“å®ƒçš„æ„æ€ï¼Œè¿™è®©æˆ‘ä»¬æƒ³èµ·äº†ä½ è‡ªå·±ã€‚ç”¨ fetch è¿˜æ˜¯ axiosï¼Ÿé€šè¿‡å‘æ·±æ— API å‘é€è¯·æ±‚ï¼Œæˆ‘ä»¬ä¹Ÿæ˜¯ç»“åˆ Reduxï¼ŒMobXï¼ŒApolloï¼ŒRelay æ¥å†™çš„ã€‚è¿™æ˜¯ä»Šå¤©çš„å¦ä¸€æ¡æ–°é—»ï¼ä½ ä¸å†éœ€è¦ç¼–å†™è¿™äº› API è°ƒç”¨ï¼Œä½ åªéœ€è¦è°ƒç”¨å®ƒä»¬ã€‚è¿™æ„å‘³ç€æ‚¨ä¸å†éœ€è¦ä½¿ç”¨æœåŠ¡å™¨è¯·æ±‚ä»£ç åˆ›å»ºè¿™ä¸ªåºå¤§çš„ daddyï¼Œå› ä¸ºåœ¨ AWS Amplify DataStore ä¸­ï¼Œå®ƒä»¬ä¹Ÿæ˜¯åŸºäºæ‚¨çš„å­˜å‚¨åœ¨æ‚¨çš„é¡¹ç›®ä¸­ç”Ÿæˆçš„ï¼Œç”±å®ƒä»¬çš„ç¬¬ä¸€ä¸ªé¡¹ç›®çš„å®Œå…¨ç›¸åŒçš„ GraphQL å›¾å®šä¹‰ã€‚è¿™æ˜¯ä¸€ä¸ªå‘½ä»¤:

```
npm run amplify-modelgen
```

ç»“æœï¼Œæˆ‘ä»¬å¾—åˆ°äº†åŒ…å«ç”Ÿæˆä»£ç çš„ models æ–‡ä»¶å¤¹ã€‚

![](img/3b6ba1bb53183eed705ca7b4e973a5da.png)

å’Œæ¨é€åˆ°æœåŠ¡å™¨åçš„ graphql æ–‡ä»¶å¤¹ï¼Œæ‰€æœ‰è¯·æ±‚éƒ½åœ¨ Flowã€TS æˆ–æ™®é€š JavaScript ä¸­ã€‚

![](img/c3fd181f8a11687eeca97aa5e19baf69.png)

# 3.ç¦»çº¿æ•°æ®å’Œäº‘åŒæ­¥

åº”ç”¨ç¨‹åºåœ¨çº¿åï¼Œæ— éœ€ç¼–å†™é¢å¤–çš„ä»£ç å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ã€‚æœ‰æ—¶ä½ ä¼šå‘ç°è‡ªå·±å¤„äºä¸€ä¸ªä¸å¯é çš„æƒ…å†µï¼Œä½†ä½ æœ€å¥½ç­‰å¾…æ›´é•¿çš„æ—¶é—´ï¼Œè€Œä¸æ˜¯æ˜æ˜¾å¤±è´¥çš„è¡ŒåŠ¨ã€‚Apollo æœ‰ apollo-link-retryï¼Œå®ƒåœ¨é»˜è®¤å°è¯•ä¹‹é—´æä¾›æŒ‡æ•°çº§å›æ»šå’ŒæœåŠ¡å™¨è¯·æ±‚ã€‚çš„ç¡®ï¼Œä»–(ç›®å‰)ä¸å¤„ç†å“åº”ä¸­ GraphQL é”™è¯¯çš„é‡è¯•ï¼Œåªå¤„ç†ç½‘ç»œé”™è¯¯ã€‚Reduxã€MobX å½“ç„¶æ²¡æœ‰è¿™ä¸ªè§£å†³æ–¹æ¡ˆï¼Œå› ä¸ºå®ƒä»¬ä¸æ˜¯å®¢æˆ·ç«¯ï¼Œä½ å¿…é¡»ä½¿ç”¨ç¬¬ä¸‰æ–¹ä¸­é—´ä»¶ï¼Œå› ä¸º REST å°±åƒä¸€ä¸ªé€€ä¼‘çš„ç¥–çˆ¶ï¼Œæœ‰ä»»ä½•å­™å­å­™å¥³çš„æ”¯æŒã€‚ [GraphQL vs REST](https://fullstackserverless.github.io/docs/amplify-02) çš„è¯¦ç»†åˆ†æã€‚AWS Amplify DataStore ä¸ä»…æœ‰ä¸€ä¸ª apollo-link-retry çš„æ¨¡æ‹Ÿï¼Œè¿˜æœ‰ä¸€ä¸ªå†…ç½®çš„å¯å®šåˆ¶çš„ç†Ÿæ‚‰ç¼–ç¨‹æ¨¡å‹ï¼Œåœ¨äº‘ä¸­å…·æœ‰è‡ªåŠ¨ç‰ˆæœ¬æ§åˆ¶ã€å†²çªæ£€æµ‹å’Œè§£å†³ã€‚

åœ¨ AWS Amplify çš„ç¼ºç‚¹ä¸­ï¼Œæˆ‘æƒ³æä¸€ä¸‹ Apollo hooks çš„åŠ è½½å’Œå¼€ç®±å³ç”¨çš„é”™è¯¯å‡å°‘äº†å‰ç«¯ç¼–å†™çš„ä»£ç é‡ã€‚

[å®˜æ–¹æ–‡ä»¶](https://aws-amplify.github.io/docs/js/datastore)

æœ¬è¯¾ç»“æŸæ—¶ï¼Œæˆ‘ä»¬å°†ä¸æ‚¨ä¸€èµ·æ”¶é›†ä½¿ç”¨ Amplify DataStore çš„ç§»åŠ¨åº”ç”¨ç¨‹åº:

![](img/0951419cbe66748d9a006feb345afb33.png)

# èµ°å§ã€‚

æˆ‘ä»¬çš„ AWS æ”¾å¤§æ”¯æŒèŠå¤©[ä¸å’Œ](https://discord.gg/Ntuttww)

è¯¥å™¨ä»¶çš„æœ€ç»ˆä»£ç å¯åœ¨ [Github](https://github.com/fullstackserverless/startup/tree/datastore) ä¸Šæ‰¾åˆ°ã€‚

![](img/342577d5100184f294435772f4b5ca62.png)

# å…‹éš†å­˜å‚¨åº“

å¦‚æœç»§ç»­ä¸Šä¸€è¯¾ï¼Œå¯ä»¥ç›´æ¥è¿›å…¥æ­¥éª¤ 5ã€‚

```
git clone [https://github.com/fullstackserverless/startup.git](https://github.com/fullstackserverless/startup.git)
```

è½¬åˆ°é¡¹ç›®æ–‡ä»¶å¤¹

```
cd startup
```

å®‰è£…ä¾èµ–é¡¹

```
yarn
```

æˆ–è€…

```
npm install
```

![](img/090d7312e94c38086c38931961178a6f.png)

# æ³¨å†Œæ‚¨çš„ AWS å¸æˆ·

å¯¹äºé‚£äº›è¿˜æ²¡æœ‰æ³¨å†Œçš„ AWS æˆ‘ä»¬æŒ‰ç…§[è¿™ä¸ª](https://aws-amplify.github.io/docs/)æŒ‡ä»¤è¿›è¡Œæ³¨å†ŒğŸ“ƒé€šè¿‡è§†é¢‘æ•™ç¨‹ĞµĞ¼ï¼Œæˆ‘ä»¬æ£€æŸ¥äº†æ‰€æœ‰ 5 ä¸ªæ­¥éª¤ã€‚

> ä½ éœ€è¦ä¸€å¼ é“¶è¡Œå¡ğŸ’³ï¼Œå“ªé‡Œåº”è¯¥è¶…è¿‡ 1 ä¸ªäº¿ğŸ’µåœ¨è¿™é‡Œï¼Œæˆ‘ä»¬çœ‹åˆ°å¹¶æ”¾å…¥äº† Amplify å‘½ä»¤è¡Œç•Œé¢(CLI)

![](img/9a3b802716edc9254471e713d5cd16c9.png)

# åœ¨ React æœ¬åœ°é¡¹ç›®ä¸­åˆå§‹åŒ– AWS Amplify

åœ¨ React æœ¬åœ°é¡¹ç›®çš„æ ¹ç›®å½•ä¸­åˆå§‹åŒ–æˆ‘ä»¬çš„ AWS Amplify é¡¹ç›®ã€‚

```
amplify init
```

æˆ‘ä»¬å›ç­”è¿™äº›é—®é¢˜:

![](img/89941d97fe6bc63c6f4b57fe3bca15bc.png)

é¡¹ç›®å·²åˆå§‹åŒ–ğŸš€

![](img/753c1b2c3c4510bc347ae4b5f944888c.png)

# è¿æ¥èº«ä»½éªŒè¯æ’ä»¶

ç°åœ¨åº”ç”¨ç¨‹åºå·²ç»åœ¨äº‘ä¸­äº†ï¼Œæ‚¨å¯ä»¥æ·»åŠ ä¸€äº›ç‰¹æ€§ï¼Œæ¯”å¦‚å…è®¸ç”¨æˆ·æ³¨å†Œæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå¹¶ç™»å½•ã€‚

æˆ‘ä»¬è¿æ¥è®¤è¯åŠŸèƒ½ã€‚

```
amplify add auth
```

![](img/ea7e0d55a7369ad5d3881c95b9b9a886.png)

å‘äº‘æäº¤æ›´æ”¹ğŸ’­

```
amplify push
```

âœ”æ‰€æœ‰çš„èµ„æºéƒ½åœ¨äº‘ä¸­æ›´æ–°

æˆ‘ä»¬æ”¶é›†é¡¹ç›®å¹¶æ£€æŸ¥è®¤è¯çš„æ“ä½œã€‚

![](img/41470d5e7a07ca9f8c3052e759577ae1.png)![](img/28cd1538cc652f572a200c53c67bbdd9.png)

# æ”¾å¤§åº”ç”¨ç¨‹åº

å¼€å§‹ä½¿ç”¨æ•°æ®å­˜å‚¨çš„æœ€å¿«æ–¹æ³•æ˜¯ä½¿ç”¨ npx è„šæœ¬ amplify-appã€‚

```
npx amplify-app@latest
```

![](img/529850b38f27f1011d380a50b4df1a55.png)

# å®‰è£…ä¾èµ–é¡¹

è¯¦ç»†å®‰è£…[æ­¤å¤„](https://aws-amplify.github.io/docs/js/datastore#setup)

å¦‚æœæ‚¨æœ‰ä¸€ä¸ª React æœ¬æœº Cliï¼Œé‚£ä¹ˆ

```
yarn add @aws-amplify/datastore @react-native-community/netinfo @react-native-community/async-storage
```

å¦‚æœæ‚¨ä½¿ç”¨ React Native> 0.60ï¼Œåˆ™è¿è¡Œä»¥ä¸‹ iOS å‘½ä»¤:

```
cd ios && pod install && cd ..
```

![](img/72ee675db630c197f51f76a7094b818b.png)

# è¿æ¥ API æ’ä»¶(åº”ç”¨ç¨‹åºåŒæ­¥)

å¦‚æœæ‚¨åœ¨æœ€åä¸€è¯¾çš„[ä¸­è¿æ¥äº†å®ƒï¼Œåˆ™è·³è¿‡è¿™ä¸€æ­¥ã€‚å¦‚æœæ²¡æœ‰ï¼Œè¿æ¥ API æ’ä»¶](https://fullstackserverless.github.io/docs/amplify-03)

```
amplify add api
```

![](img/1df46d95626eb453161f5a4f8bdc2a1e.png)

åœ¨é€‰å®šé¡¹ç›®ä¹‹åï¼ŒGraphQL æ¨¡å¼å°†åœ¨`amplify/backend/api/<datasourcename>/schema.graphql`ä¸­æ‰“å¼€ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œæ’å…¥è¿™ä¸ªæ¨¡å‹:

è¿™é‡Œæœ‰æ›´å¤šå…³äº[çš„ä¿¡æ¯](https://fullstackserverless.github.io/docs/amplify-03#schemagraphql)

![](img/c144a08056ef34d9b9fbfc0050a2cde0.png)

# æ¨¡å‹ç”Ÿæˆ

å¯¹æ•°æ®å»ºæ¨¡å¹¶åˆ›å»ºæ•°æ®å­˜å‚¨æ‰€ä½¿ç”¨çš„æ¨¡å‹æ˜¯å¼€å§‹çš„ç¬¬ä¸€æ­¥ã€‚GraphQL ä½œä¸º JavaScriptã€iOS å’Œ Android å¯¹äºè¿™ä¸ªè¿‡ç¨‹çš„é€šç”¨è¯­è¨€ï¼Œåœ¨ä¸äº‘ç«¯åŒæ­¥æ—¶ä¹Ÿä½œä¸ºç½‘ç»œåè®®ä½¿ç”¨ã€‚GraphQL ä¹Ÿæ”¯æŒä¸€äº›ç‰¹æ€§ï¼Œæ¯”å¦‚ AppSync ä¸­çš„ Automergeã€‚å¯ä»¥ä½¿ç”¨ NPX è„šæœ¬æˆ–ä»å‘½ä»¤è¡Œä½¿ç”¨ Amplify CLI æ¥ç”Ÿæˆæ¨¡å‹ã€‚

> *æ‚¨ä¸éœ€è¦ AWS å¸æˆ·æ¥è¿è¡Œå®ƒå¹¶åœ¨æœ¬åœ°ä½¿ç”¨æ•°æ®å­˜å‚¨ï¼Œä½†æ˜¯ï¼Œå¦‚æœæ‚¨æƒ³è¦ä¸äº‘åŒæ­¥ï¼Œå»ºè®®æ‚¨æŒ‰ç…§ä¸Šä¸€è¯¾çš„è¯´æ˜å®‰è£…å’Œé…ç½® Amplify CLI*

ç”±äºæˆ‘ä»¬åœ¨ä¸Šä¸€è¯¾ä¸­æè¿°äº†ç”µè·¯ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥è¿è¡Œå‘½ä»¤äº†

```
npm run amplify-modelgen
```

å¹¶åœ¨ src/models æ–‡ä»¶å¤¹ä¸­è·å–ç”Ÿæˆçš„æ¨¡å‹

![](img/bfc57dc865dc410a55bf06a9335aabc0.png)

# æ›´æ–° API

æˆ‘ä»¬åŒ…æ‹¬æ‰€æœ‰ API çš„æ•°æ®å­˜å‚¨

```
amplify update api
```

![](img/c4227436b1355d416d7f2211430fba2a.png)

å‘äº‘æäº¤æ›´æ”¹ğŸ’­

```
amplify push
```

âœ”æ‰€æœ‰çš„èµ„æºéƒ½åœ¨äº‘ä¸­æ›´æ–°

![](img/950400d714d9f201bad17eb0a392719c.png)

# é˜…è¯»

åˆ›å»º Jobs main src/screens/Jobs/Jobs main . js å±å¹•

![](img/e11daac2c41b25a8c69fcef5d44590b0.png)

åœ¨è¿™ä¸ªå±å¹•ä¸Šï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ pagination é€‰é¡¹è¿›è¡ŒæŸ¥è¯¢ï¼Œå…¶ä¸­çš„æ•°å­—æ˜¯é€šè¿‡ useQuery é’©å­å¾—åˆ°çš„ï¼Œå®ƒå°†å‘æˆ‘ä»¬è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæˆ‘ä»¬å°†æŠŠè¿™ä¸ªæ•°ç»„å‘é€åˆ° Flatlistã€‚

è¦æŠ«éœ²ç©ºç¼ºçš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·åˆ›å»ºå±å¹• job detail src/screens/Jobs/job detail . js

![](img/7682b67293c659cf525126ffcc88c5a8.png)![](img/60b592e243819f7aabf90912374f7094.png)

# åˆ›å»ºæ›´æ–°åˆ é™¤

åˆ›å»ºå±å¹• JobAdd src/screens/Jobs/JobAdd . jsï¼Œæˆ‘ä»¬åœ¨å…¶ä¸­æ‰§è¡Œå‡½æ•° CREATE UPDATE DELETE

![](img/2c9ac4dfaef626f6fe09bb6195f58ec0.png)

åœ¨ screens/Jobs/index.js ä¸­ï¼Œæˆ‘ä»¬å¯¼å‡ºå±å¹•

```
*export* * *from* './JobsMain'*export* * *from* './JobDetail'*export* * *from* './JobAdd'
```

![](img/db15959dbf686cc957472e18f48106b8.png)

# èˆªè¡Œ

æ·»åŠ å¯¼å…¥ä½œä¸šå±å¹•å¹¶å°†å®ƒä»¬è¿æ¥åˆ° StackNavigator

![](img/16a86f1b76a7009acf9f686d0c2213fa.png)

# ä½œä¸šæŒ‰é’®

åœ¨ screens/Authenticator/User/index . js ä¸­ç¼–è¾‘ç”¨æˆ·å±å¹•

æ„å»ºåº”ç”¨ç¨‹åºå¹¶è¿›è¡Œæµ‹è¯•

## [#](https://fullstackserverless.github.io/docs/amplify-04#done-) æå®šäº†âœ…

# å‚è€ƒèµ„æ–™:

[https://AWS-amplify . github . io](https://aws-amplify.github.io/)

[https://learning . oreilly . com/library/view/full-stack-server less/9781492059882/](https://learning.oreilly.com/library/view/full-stack-serverless/9781492059882/)

[https://www . altex soft . com/blog/engineering/graph QL-core-features-architecture-pros-and-cons/](https://www.altexsoft.com/blog/engineering/graphql-core-features-architecture-pros-and-cons/)

[https://engineering . FB . com/core-data/graph QL-a-data-query-language/](https://engineering.fb.com/core-data/graphql-a-data-query-language/)

[https://graphql.org/learn](https://graphql.org/learn)

[![](img/e4b39fe8ea6b64823bf021c3647a7f5c.png)](https://www.patreon.com/fullstackserverless)