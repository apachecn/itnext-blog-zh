# Terraform å¤‡å¿˜å•

> åŸæ–‡ï¼š<https://itnext.io/terraform-cheat-sheet-3f7c5c55cfbc?source=collection_archive---------0----------------------->

## å‘½ä»¤å‚è€ƒä¸æœ‰ç”¨çš„ä¾‹å­ï¼

æœ‰æ—¶ï¼Œæ‚¨åªæƒ³ç›´æ¥æ‰¾åˆ°éœ€è¦ä¸ç‰¹å®šå·¥å…·ä¸€èµ·ä½¿ç”¨çš„å‘½ä»¤ï¼Œè€Œä¸å¿…æµè§ˆæ‰€æœ‰æ–‡æ¡£ã€‚åœ¨æœ¬å¸–ä¸­ï¼Œæˆ‘å°†é‡ç‚¹ä»‹ç» Terraform CLI ä¸­å¸¸ç”¨çš„å‘½ä»¤ï¼Œè¿™æ ·æ‚¨å°±å¯ä»¥è½»æ¾åœ°ç›´æ¥å¼€å§‹æ“ä½œäº†ï¼

![](img/adf5960398ad724195b194ba17340f53.png)

æ ¼ä¼¦Â·å¡æ–¯æ»•æ–¯-å½¼å¾—æ–¯åœ¨ [Unsplash](https://unsplash.com/s/photos/list?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) ä¸Šçš„ç…§ç‰‡

æœ¬å‘½ä»¤å‚è€ƒæŒ‡å—æ˜¯åœ¨ç¼–å†™æ—¶ä½¿ç”¨ Terraform çš„æœ€æ–°ç‰ˆæœ¬ 1.1.9 ç¼–å†™çš„ã€‚éšç€æ—¶é—´çš„æ¨ç§»ï¼Œå¯ä»¥æ·»åŠ æ–°çš„å‘½ä»¤å’Œå­å‘½ä»¤ï¼Œä½†ä¸åº”è¯¥æœ‰å¤ªå¤§çš„å˜åŒ–ã€‚æ‚¨å¯ä»¥åœ¨æ­¤è·å¾— Terraform çš„æœ€æ–°ç‰ˆæœ¬:

[](https://www.terraform.io/downloads) [## HashiCorp çš„ä¸‹è½½| Terraform

### è½¯ä»¶åŒ…ç®¡ç†å™¨ brew tap hashi corp/tap brew install hashi corp/tap/terraform MAC OS äºŒè¿›åˆ¶ä¸‹è½½å¸¦å®½ç”±â€¦æä¾›

www.terraform.io](https://www.terraform.io/downloads) 

# åœ°å½¢å‘½ä»¤å¿«é€Ÿå‚è€ƒ

## å†…å®¹

*   å¯»æ±‚å¸®åŠ©
*   æ˜¾ç¤ºä½ çš„åœ°å½¢ç‰ˆæœ¬
*   æ ¼å¼åŒ–æ‚¨çš„ Terraform ä»£ç 
*   åˆå§‹åŒ–æ‚¨çš„ç›®å½•
*   ä¸‹è½½å¹¶å®‰è£…æ¨¡å—
*   éªŒè¯æ‚¨çš„åœ°å½¢ä»£ç 
*   è§„åˆ’æ‚¨çš„åŸºç¡€è®¾æ–½
*   éƒ¨ç½²æ‚¨çš„åŸºç¡€è®¾æ–½
*   æ‘§æ¯ä½ çš„åŸºç¡€è®¾æ–½
*   â€œæ±¡æŸ“â€æˆ–â€œä¸æ±¡æŸ“â€ä½ çš„èµ„æº
*   åˆ·æ–°çŠ¶æ€æ–‡ä»¶
*   æŸ¥çœ‹æ‚¨çš„çŠ¶æ€æ–‡ä»¶
*   æ“ä½œæ‚¨çš„çŠ¶æ€æ–‡ä»¶
*   å°†ç°æœ‰åŸºç¡€è®¾æ–½å¯¼å…¥ Terraform çŠ¶æ€
*   è·å–æä¾›å•†ä¿¡æ¯
*   ç®¡ç†æ‚¨çš„å·¥ä½œåŒº
*   æŸ¥çœ‹æ‚¨çš„è¾“å‡º
*   é‡Šæ”¾å·¥ä½œåŒºçš„é”å®š
*   ç™»å½•å’Œæ³¨é”€è¿œç¨‹ä¸»æœº(Terraform Cloud)
*   åˆ¶ä½œä¾èµ–å…³ç³»å›¾
*   æµ‹è¯•ä½ çš„è¡¨æƒ…

## **è·å¾—å¸®åŠ©**

`terraform -help` â€”è·å–å¯æ‰§è¡Œçš„å‘½ä»¤åˆ—è¡¨åŠæè¿°ã€‚å¯ä»¥ä¸ä»»ä½•å…¶ä»–å­å‘½ä»¤ä¸€èµ·ä½¿ç”¨ï¼Œä»¥è·å–æ›´å¤šä¿¡æ¯ã€‚

`terraform fmt -help` â€”æ˜¾ç¤º`fmt`å‘½ä»¤çš„å¸®åŠ©é€‰é¡¹ã€‚

## **æ˜¾ç¤ºä½ çš„åœ°å½¢ç‰ˆæœ¬**

`terraform version` â€”æ˜¾ç¤ºæ‚¨çš„ Terraform çš„å½“å‰ç‰ˆæœ¬ï¼Œå¹¶åœ¨æœ‰æ›´æ–°ç‰ˆæœ¬å¯ä¾›ä¸‹è½½æ—¶é€šçŸ¥æ‚¨ã€‚

## **æ ¼å¼åŒ–æ‚¨çš„åœ°å½¢ä»£ç **

è¿™åº”è¯¥æ˜¯åˆ›å»ºé…ç½®æ–‡ä»¶åè¿è¡Œçš„ç¬¬ä¸€ä¸ªå‘½ä»¤ï¼Œä»¥ç¡®ä¿ä½¿ç”¨ HCL æ ‡å‡†æ ¼å¼åŒ–ä»£ç ã€‚è¿™ä½¿å¾—è·Ÿè¸ªæ›´å®¹æ˜“ï¼Œå¹¶ä¸”æœ‰åŠ©äºåä½œã€‚

`terraform fmt` â€”ä½¿ç”¨ HCL è¯­è¨€æ ‡å‡†æ ¼å¼åŒ–æ‚¨çš„ Terraform é…ç½®æ–‡ä»¶ã€‚

`terraform fmt --recursive` â€”ä¹Ÿæ ¼å¼åŒ–å­ç›®å½•ä¸­çš„æ–‡ä»¶

`terraform fmt --diff` â€”æ˜¾ç¤ºåŸå§‹é…ç½®æ–‡ä»¶å’Œæ ¼å¼æ›´æ”¹ä¹‹é—´çš„å·®å¼‚ã€‚

`terraform fmt --check` â€”åœ¨è‡ªåŠ¨åŒ– CI/CD ç®¡é“ä¸­å¾ˆæœ‰ç”¨ï¼Œæ£€æŸ¥æ ‡å¿—å¯ç”¨äºç¡®ä¿é…ç½®æ–‡ä»¶æ ¼å¼æ­£ç¡®ï¼Œå¦åˆ™é€€å‡ºçŠ¶æ€å°†ä¸ºéé›¶ã€‚å¦‚æœæ–‡ä»¶æ ¼å¼æ­£ç¡®ï¼Œé€€å‡ºçŠ¶æ€å°†ä¸ºé›¶ã€‚

## **åˆå§‹åŒ–ä½ çš„ç›®å½•**

`terraform init` â€”ä¸ºäº†å‡†å¤‡ä¸ Terraform ä¸€èµ·ä½¿ç”¨çš„å·¥ä½œç›®å½•ï¼Œ`terraform init`å‘½ä»¤æ‰§è¡Œåç«¯åˆå§‹åŒ–ã€å­æ¨¡å—å®‰è£…å’Œæ’ä»¶å®‰è£…ã€‚

`terraform init -get-plugins=false` â€”åˆå§‹åŒ–å·¥ä½œç›®å½•ï¼Œä¸è¦ä¸‹è½½æ’ä»¶ã€‚

`terraform init -lock=false` â€”åˆå§‹åŒ–å·¥ä½œç›®å½•ï¼Œåç«¯è¿ç§»æ—¶ä¸è¦æŒæœ‰çŠ¶æ€é”ã€‚

`terraform init -input=false` â€”åˆå§‹åŒ–å·¥ä½œç›®å½•ï¼Œç¦ç”¨äº¤äº’æç¤ºã€‚

`terraform init -migrate-state` â€”é‡æ–°é…ç½®åç«¯ï¼Œå¹¶å°è¯•è¿ç§»ä»»ä½•ç°æœ‰çŠ¶æ€ã€‚

`terraform init -verify-plugins=false` â€”åˆå§‹åŒ–å·¥ä½œç›®å½•ï¼Œä¸éªŒè¯å“ˆå¸Œå…¬å¸ç­¾åçš„æ’ä»¶

å…³äº`terraform init`å‘½ä»¤çš„è¯¦ç»†çº²è¦ï¼Œè¯·çœ‹[æˆ‘çš„å¸–å­](https://faun.pub/terraform-init-command-overview-with-quick-usage-examples-752a5719c317)ï¼

## **ä¸‹è½½å¹¶å®‰è£…æ¨¡å—**

æ³¨æ„è¿™é€šå¸¸ä¸æ˜¯å¿…éœ€çš„ï¼Œå› ä¸ºè¿™æ˜¯`terraform init`å‘½ä»¤çš„ä¸€éƒ¨åˆ†ã€‚

`terraform get` â€”ä¸‹è½½å¹¶å®‰è£…é…ç½®æ‰€éœ€çš„æ¨¡å—ã€‚

`terraform get -update` â€”æ ¹æ®å¯ç”¨æ¨¡å—æ£€æŸ¥å·²å®‰è£…æ¨¡å—çš„ç‰ˆæœ¬ï¼Œå¦‚æœå¯ç”¨ï¼Œåˆ™å®‰è£…æ–°ç‰ˆæœ¬ã€‚

## **éªŒè¯æ‚¨çš„åœ°å½¢ä»£ç **

`terraform validate` â€”éªŒè¯ç›®å½•ä¸­çš„é…ç½®æ–‡ä»¶ï¼Œå¹¶ä¸”ä¸è®¿é—®ä»»ä½•è¿œç¨‹çŠ¶æ€æˆ–æœåŠ¡ã€‚`terraform init`åº”è¯¥åœ¨æ­¤å‘½ä»¤ä¹‹å‰è¿è¡Œã€‚

## **è§„åˆ’æ‚¨çš„åŸºç¡€è®¾æ–½**

`terraform plan` â€”è®¡åˆ’å°†ç”Ÿæˆä¸€ä¸ªæ‰§è¡Œè®¡åˆ’ï¼Œå‘æ‚¨æ˜¾ç¤ºå°†é‡‡å–ä»€ä¹ˆè¡ŒåŠ¨ï¼Œè€Œä¸å®é™…æ‰§è¡Œè®¡åˆ’çš„è¡ŒåŠ¨ã€‚

`terraform plan -out=<path>` â€”å°†è®¡åˆ’æ–‡ä»¶ä¿å­˜åˆ°ç»™å®šè·¯å¾„ã€‚ç„¶åå¯ä»¥ä¼ é€’ç»™`terraform apply`å‘½ä»¤ã€‚

åˆ›å»ºä¸€ä¸ªæ‘§æ¯æ‰€æœ‰ç‰©ä½“çš„è®¡åˆ’ï¼Œè€Œä¸æ˜¯é€šå¸¸çš„è¡ŒåŠ¨ã€‚

## **éƒ¨ç½²**ä½ çš„**åŸºç¡€è®¾æ–½**

`terraform apply` â€”æ ¹æ®é…ç½®æ–‡ä»¶åˆ›å»ºæˆ–æ›´æ–°åŸºç¡€æ¶æ„ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå°†é¦–å…ˆç”Ÿæˆä¸€ä¸ªè®¡åˆ’ï¼Œå¹¶éœ€è¦åœ¨åº”ç”¨ä¹‹å‰è¿›è¡Œå®¡æ‰¹ã€‚

`terraform apply -auto-approve` â€”åº”ç”¨æ›´æ”¹ï¼Œæ— éœ€ä»¥äº¤äº’æ–¹å¼å‘è®¡åˆ’é”®å…¥â€œæ˜¯â€ã€‚åœ¨è‡ªåŠ¨åŒ– CI/CD ç®¡é“ä¸­å¾ˆæœ‰ç”¨ã€‚

`terraform apply <planfilename>` â€”æä¾›ä½¿ç”¨`terraform plan -out`å‘½ä»¤ç”Ÿæˆçš„æ–‡ä»¶ã€‚å¦‚æœæä¾›ï¼ŒTerraform å°†åœ¨æ²¡æœ‰ä»»ä½•ç¡®è®¤æç¤ºçš„æƒ…å†µä¸‹é‡‡å–è®¡åˆ’ä¸­çš„æªæ–½ã€‚

`terraform apply -lock=false` â€”åœ¨åœ°å½¢åº”ç”¨æ“ä½œæœŸé—´ï¼Œä¸è¦ä¿æŒçŠ¶æ€é”å®šã€‚å¦‚æœå…¶ä»–å·¥ç¨‹å¸ˆå¯èƒ½å¯¹åŒä¸€å·¥ä½œç©ºé—´è¿è¡Œå¹¶å‘å‘½ä»¤ï¼Œè¯·è°¨æ…ä½¿ç”¨ã€‚

`terraform apply -parallelism=<n>` â€”æŒ‡å®šå¹¶è¡Œè¿è¡Œçš„æ“ä½œæ•°é‡ã€‚

`terraform apply -var="domainpassword=password123"` â€”ä¼ å…¥ä¸€ä¸ªå˜é‡å€¼ã€‚

`terraform apply -var-file="varfile.tfvars"` â€”ä¼ å…¥åŒ…å«åœ¨æ–‡ä»¶ä¸­çš„å˜é‡ã€‚

`terraform apply -target=â€module.appgw.0"` â€”ä»…å°†æ›´æ”¹åº”ç”¨äºç›®æ ‡èµ„æºã€‚

## **æ‘§æ¯**ä½ çš„**åŸºç¡€è®¾æ–½**

`terraform destroy` â€”ç ´å Terraform ç®¡ç†çš„åŸºç¡€è®¾æ–½ã€‚

`terraform destroy -target=â€module.appgw.0"` â€”ä»…é”€æ¯ç›®æ ‡èµ„æºã€‚

`terraform destroy -auto-approve` â€”é”€æ¯åŸºç¡€è®¾æ–½ï¼Œæ— éœ€å¯¹è®¡åˆ’äº¤äº’å¼é”®å…¥â€œæ˜¯â€ã€‚åœ¨è‡ªåŠ¨åŒ– CI/CD ç®¡é“ä¸­å¾ˆæœ‰ç”¨ã€‚

## â€œæ±¡æŸ“â€æˆ–â€œä¸æ±¡æŸ“â€ä½ çš„èµ„æº

ä½¿ç”¨`taint`å‘½ä»¤å°†èµ„æºæ ‡è®°ä¸ºæœªå®Œå…¨è¿è¡Œã€‚å®ƒå°†è¢«åˆ é™¤å¹¶é‡æ–°åˆ›å»ºã€‚

`terraform taint vm1.name` â€”æ±¡æŸ“æŒ‡å®šçš„èµ„æºå®ä¾‹ã€‚

`terraform untaint vm1.name` â€”å–æ¶ˆå¯¹å·²ç»è¢«æ±¡æŸ“çš„èµ„æºå®ä¾‹çš„ç€è‰²ã€‚

## **åˆ·æ–°çŠ¶æ€æ–‡ä»¶**

`terraform refresh` â€”ç”¨åŒ…å« Terraform ä¸­è¢«ç®¡ç†èµ„æºä¿¡æ¯çš„æ›´æ–°å…ƒæ•°æ®ä¿®æ”¹çŠ¶æ€æ–‡ä»¶ã€‚ä¸ä¼šä¿®æ”¹æ‚¨çš„åŸºç¡€è®¾æ–½ã€‚

## **æŸ¥çœ‹**ä½ çš„**çŠ¶æ€æ–‡ä»¶**

`terraform show` â€”ä»¥äººç±»å¯è¯»çš„æ ¼å¼æ˜¾ç¤ºçŠ¶æ€æ–‡ä»¶ã€‚

`terraform show <path to statefile>` â€”å¦‚æœæ‚¨æƒ³è¦è¯»å–ç‰¹å®šçš„çŠ¶æ€æ–‡ä»¶ï¼Œæ‚¨å¯ä»¥æä¾›è¯¥æ–‡ä»¶çš„è·¯å¾„ã€‚å¦‚æœæ²¡æœ‰æä¾›è·¯å¾„ï¼Œåˆ™æ˜¾ç¤ºå½“å‰çŠ¶æ€æ–‡ä»¶ã€‚

## **æ“çºµ**ä½ çš„**çŠ¶æ€æ–‡ä»¶**

`terraform state` â€”ä»¥ä¸‹å­å‘½ä»¤ä¹‹ä¸€å¿…é¡»ä¸è¯¥å‘½ä»¤ä¸€èµ·ä½¿ç”¨ï¼Œä»¥æ“ä½œçŠ¶æ€æ–‡ä»¶ã€‚

`terraform state list` â€”åˆ—å‡ºå½“å‰çŠ¶æ€æ–‡ä»¶ä¸­è·Ÿè¸ªçš„æ‰€æœ‰èµ„æºã€‚

`terraform state mv` â€”ç§»åŠ¨çŠ¶æ€ä¸­çš„é¡¹ç›®ï¼Œä¾‹å¦‚ï¼Œå½“æ‚¨éœ€è¦å‘Šè¯‰ Terraform é¡¹ç›®å·²è¢«é‡å‘½åæ—¶ï¼Œè¿™å¾ˆæœ‰ç”¨ï¼Œä¾‹å¦‚`terraform state mv vm1.oldname vm1.newname`

`terraform state pull > state.tfstate` â€”è·å–å½“å‰çŠ¶æ€å¹¶å°†å…¶è¾“å‡ºåˆ°æœ¬åœ°æ–‡ä»¶ã€‚

`terraform state push` â€”ä»æœ¬åœ°çŠ¶æ€æ–‡ä»¶æ›´æ–°è¿œç¨‹çŠ¶æ€ã€‚

`terraform state replace-provider hashicorp/azurerm customproviderregistry/azurerm` â€”æ›¿æ¢æä¾›è€…ï¼Œè¿™åœ¨åˆ‡æ¢åˆ°ä½¿ç”¨è‡ªå®šä¹‰æä¾›è€…æ³¨å†Œè¡¨æ—¶å¾ˆæœ‰ç”¨ã€‚

`terraform state rm` â€”ä»çŠ¶æ€æ–‡ä»¶ä¸­åˆ é™¤æŒ‡å®šçš„å®ä¾‹ã€‚åœ¨ Terraform ä¹‹å¤–æ‰‹åŠ¨åˆ é™¤èµ„æºæ—¶éå¸¸æœ‰ç”¨ã€‚

`terraform state show <resourcename>` â€”æ˜¾ç¤ºçŠ¶æ€æ–‡ä»¶ä¸­æŒ‡å®šçš„èµ„æºã€‚

## å°†ç°æœ‰åŸºç¡€è®¾æ–½å¯¼å…¥ Terraform çŠ¶æ€

`terraform import vm1.name -i id123` â€”å°† id ä¸º 123 çš„è™šæ‹Ÿæœºå¯¼å…¥åˆ° vm1.name ä¸‹é…ç½®æ–‡ä»¶ä¸­å®šä¹‰çš„é…ç½®ä¸­

`terraform import vm1.name -i id123 -allow-missing-config` â€”å¦‚æœé…ç½®å—ä¸å­˜åœ¨ï¼Œå¯¼å…¥å¹¶å…è®¸ã€‚

## **è·å–æä¾›å•†ä¿¡æ¯**

`terraform providers` â€”æ˜¾ç¤ºé…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨çš„æä¾›è€…åŠå…¶è¦æ±‚çš„æ ‘ã€‚

## ç®¡ç†æ‚¨çš„å·¥ä½œåŒº

`terraform workspace` â€”ä»¥ä¸‹å­å‘½ä»¤ä¹‹ä¸€å¿…é¡»ä¸ workspace å‘½ä»¤ä¸€èµ·ä½¿ç”¨ã€‚å½“å·¥ç¨‹å¸ˆæƒ³è¦æµ‹è¯•ç¨å¾®ä¸åŒçš„ä»£ç ç‰ˆæœ¬æ—¶ï¼Œå·¥ä½œåŒºä¼šå¾ˆæœ‰ç”¨ã€‚ä¸å»ºè®®ä½¿ç”¨å·¥ä½œåŒºæ¥éš”ç¦»æˆ–åˆ†ç¦»ä¸åŒå¼€å‘é˜¶æ®µä¹‹é—´çš„ç›¸åŒåŸºç¡€æ¶æ„ï¼Œä¾‹å¦‚å¼€å‘/ UAT /ç”Ÿäº§ï¼Œæˆ–ä¸åŒçš„å†…éƒ¨å›¢é˜Ÿã€‚

`terraform workspace show` â€”æ˜¾ç¤ºå½“å‰å·¥ä½œç©ºé—´çš„åç§°ã€‚

`terraform workspace list` â€”åˆ—å‡ºæ‚¨çš„å·¥ä½œåŒºã€‚

`terraform workspace select <workspace name>` â€”é€‰æ‹©ä¸€ä¸ªæŒ‡å®šçš„å·¥ä½œç©ºé—´ã€‚

`terraform workspace new <workspace name>` â€”åˆ›å»ºä¸€ä¸ªå…·æœ‰æŒ‡å®šåç§°çš„æ–°å·¥ä½œåŒºã€‚

`terraform workspace delete <workspace name>` â€”åˆ é™¤æŒ‡å®šçš„å·¥ä½œç©ºé—´ã€‚

## æŸ¥çœ‹æ‚¨çš„è¾“å‡º

`terraform output` â€”åˆ—å‡ºå½“å‰ä¿å­˜åœ¨çŠ¶æ€æ–‡ä»¶ä¸­çš„æ‰€æœ‰è¾“å‡ºã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒä»¬æ˜¾ç¤ºåœ¨`terraform apply`çš„æœ«å°¾ï¼Œå¦‚æœæ‚¨æƒ³å•ç‹¬æŸ¥çœ‹å®ƒä»¬ï¼Œè¯¥å‘½ä»¤ä¼šå¾ˆæœ‰ç”¨ã€‚

`terraform output -state=<path to state file>` â€”åˆ—å‡ºä¿å­˜åœ¨æŒ‡å®šçŠ¶æ€æ–‡ä»¶ä¸­çš„è¾“å‡ºã€‚

`terraform output -json` â€”ä»¥ JSON æ ¼å¼åˆ—å‡ºä¿å­˜åœ¨çŠ¶æ€æ–‡ä»¶ä¸­çš„è¾“å‡ºï¼Œä»¥ä½¿å®ƒä»¬æˆä¸ºæœºå™¨å¯è¯»çš„ã€‚

`terraform output vm1_public_ip` â€”åˆ—å‡ºçŠ¶æ€æ–‡ä»¶ä¸­ä¿å­˜çš„ç‰¹å®šè¾“å‡ºã€‚

## é‡Šæ”¾å·¥ä½œåŒºçš„é”å®š

`terraform force-unlock <lock_id>` â€”ä»æ‚¨çš„å·¥ä½œåŒºä¸­åˆ é™¤å…·æœ‰æŒ‡å®šé” ID çš„é”ã€‚å½“ä¸€ä¸ªé”è¢«â€œå¡ä½â€æ—¶ï¼Œé€šå¸¸æ˜¯åœ¨ä¸å®Œå…¨çš„åœ°å½¢è¿è¡Œä¹‹åï¼Œè¿™æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚

## ç™»å½•å’Œæ³¨é”€è¿œç¨‹ä¸»æœº(Terraform Cloud)

`terraform login` â€”ä½¿ç”¨æµè§ˆå™¨è·å– terra form cloud(app . terra form . io)çš„ API ä»¤ç‰Œã€‚

`terraform login <hostname>` â€”ç™»å½•åˆ°æŒ‡å®šçš„ä¸»æœºã€‚

`terraform logout` â€”é»˜è®¤æƒ…å†µä¸‹ï¼Œå¯¹äº terra form Cloud(app . terra form . io)ï¼Œåœ¨ç™»å½•ååˆ é™¤æœ¬åœ°å­˜å‚¨çš„å‡­æ®ã€‚

`terraform logout <hostname>` â€”ä»¥æŒ‡å®šçš„ä¸»æœºåç™»å½•åï¼Œåˆ é™¤æœ¬åœ°å­˜å‚¨çš„å‡­æ®ã€‚

## åˆ¶ä½œä¾èµ–å…³ç³»å›¾

`terraform graph` â€”ç”¨ç‚¹è¯­è¨€ç”Ÿæˆä¸€ä¸ªå›¾å½¢ï¼Œæ˜¾ç¤ºçŠ¶æ€æ–‡ä»¶ä¸­å¯¹è±¡ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚è¿™å¯ä»¥é€šè¿‡ä¸€ä¸ªå«åš Graphwiz çš„ç¨‹åºæ¥æ¸²æŸ“ã€‚

`terraform graph -plan=tfplan` â€”ä½¿ç”¨æŒ‡å®šçš„è®¡åˆ’æ–‡ä»¶(ä½¿ç”¨`terraform plan -out=tfplan`ç”Ÿæˆ)ç”Ÿæˆä¾èµ–å›¾ã€‚

`terraform graph -type=plan` â€”æŒ‡å®šè¦è¾“å‡ºçš„å›¾å½¢ç±»å‹ï¼Œå¯ä»¥æ˜¯`plan, plan-refresh-only, plan-destroy,`æˆ–`apply`ã€‚

## æµ‹è¯•ä½ çš„è¡¨æƒ…

`terraform console` â€”å…è®¸ä½¿ç”¨å‘½ä»¤è¡Œåœ¨äº¤äº’å¼æ§åˆ¶å°ä¸Šæµ‹è¯•å’Œæµè§ˆè¡¨è¾¾å¼ã€‚ä¾‹å¦‚ 1+2:)

## æ‘˜è¦

æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨åœ¨ä½¿ç”¨ Terraform CLI æ—¶ç›´æ¥è·å¾—æ‰€éœ€çš„å‘½ä»¤ï¼

æƒ³è¦æ›´å¤šçš„ Terraform å†…å®¹ï¼Ÿç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹æˆ‘åœ¨ Terraform ä¸Šçš„å…¶ä»–æ–‡ç« ï¼

å¹²æ¯ï¼ğŸ»

[](https://www.buymeacoffee.com/jackwesleyroper) [## Jack Roper æ­£åœ¨ Azureã€Azure DevOpsã€Terraformã€Kubernetes å’Œ Cloud tech ä¸Šå†™åšå®¢ï¼

### å¸Œæœ›æˆ‘çš„åšå®¢èƒ½å¸®åˆ°ä½ ï¼Œä½ ä¼šå–œæ¬¢å®ƒçš„å†…å®¹ï¼æˆ‘çœŸçš„å¾ˆå–œæ¬¢å†™æŠ€æœ¯å†…å®¹å’Œåˆ†äº«â€¦

www.buymeacoffee.com](https://www.buymeacoffee.com/jackwesleyroper)