# å¸¦æœ‰è¡¨æƒ…ç¬¦å·çš„å‡½æ•°å¼ç¼–ç¨‹åŸºç¡€

> åŸæ–‡ï¼š<https://itnext.io/an-emoji-lovers-guide-to-functional-programming-part-1-241d8d4c9223?source=collection_archive---------0----------------------->

![](img/340a0bbf86d5ec4926929328322c8f60.png)

## è¡¨æƒ…ç¬¦å·çˆ±å¥½è€…çš„å‡½æ•°å¼ç¼–ç¨‹æŒ‡å—

## å­¦ä¹ æ•°ç»„æ˜ å°„å’Œé—­åŒ…çš„å‡½æ•°åŸºç¡€

*ç”¨è¡¨æƒ…ç¬¦å·å’Œ JavaScript å­¦ä¹ å‡½æ•°å¼ç¼–ç¨‹ã€‚ä»£ç ç¤ºä¾‹åº”è¯¥è¶³å¤Ÿç®€å•ï¼Œä¸éœ€è¦ä»»ä½•å…ˆéªŒçŸ¥è¯†å°±å¯ä»¥ç†è§£ï¼Œä½†æ˜¯æˆ‘å¯ä»¥æƒ³è±¡å®ƒçœ‹èµ·æ¥æœ‰ç‚¹å¥‡æ€ªã€‚è¿˜æœ‰ï¼ŒJavaScript å®é™…ä¸Šä¸å…è®¸è¡¨æƒ…ç¬¦å·ä½œä¸º JavaScript å˜é‡åã€‚å‡ºäºè¿™ä¸ªåŸå› ï¼Œè¿™äº›ä»£ç ç¤ºä¾‹ä¸ä¼šåœ¨æ²¡æœ‰ä¿®æ”¹çš„æƒ…å†µä¸‹è¿è¡Œã€‚*

*   [*ç”¨é£Ÿç‰©è¡¨æƒ…ç¬¦å·åˆ¶ä½œä¾¿ä¾¿ã€‚*](https://medium.com/@Sawtaytoes/an-emoji-lovers-guide-to-functional-programming-part-1-241d8d4c9223)
*   [*æŠŠæš´é£äº‘å˜æˆæ™´æœ—çš„äº‘ã€‚*](https://medium.com/@Sawtaytoes/an-emoji-lovers-guide-to-functional-programming-part-2-800b438c7ce3)
*   [*ç”¨å‡é€Ÿå™¨é€ ç‹¬è§’å…½ï¼*](https://medium.com/@Sawtaytoes/an-emoji-lovers-guide-to-functional-programming-part-3-ef78e3156e)
*   [*ç®¡é“æ“ä½œå‘˜ç°åœ¨ï¼*](https://medium.com/@Sawtaytoes/an-emoji-lovers-guide-to-functional-programming-part-4-735c17ca4113)
*   [*ä¸ºé£Ÿè‚‰åŠ¨ç‰©è¿‡æ»¤è‚‰ç±»ã€‚*](https://medium.com/@Sawtaytoes/an-emoji-lovers-guide-to-functional-programming-part-5-a6bc3324a839)
*   [*ä½¿ç”¨é€’å½’ä¸å½’çº¦ã€‚*](https://medium.com/@Sawtaytoes/an-emoji-lovers-guide-to-functional-programming-part-6-5c1d441d36af)

å‡½æ•°å¼ç¼–ç¨‹å¯èƒ½å¾ˆéš¾ç†è§£ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªå¿«é€Ÿä½¿ç”¨é£Ÿç‰©è¡¨æƒ…ç¬¦å·çš„æ–¹æ³•:

```
ğŸ’© = [ğŸ”, ğŸŸ, ğŸª].reduce(eat)
```

æ¼‚äº®å§ï¼Ÿå¦‚æœä½ æŠŠæ±‰å ¡ã€è–¯æ¡å’Œé¥¼å¹²æ”¾åœ¨å‡è‚¥å™¨é‡Œï¼Œä½ æœ€ç»ˆä¼šå¾—åˆ°ä¾¿ä¾¿ï¼

å¦‚æœä½ ä¸æ˜ç™½è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥ä»ä¸€äº›ç®€å•çš„åŸºæœ¬æ•°å­¦å¼€å§‹:

```
ğŸ˜‚ = ğŸ˜¢ + ğŸ˜€ğŸ˜¶ = ğŸ¤ - ğŸ˜
```

æˆ‘ä»¬å†ä¸¾ä¸€ä¸ªå‡½æ•°çš„ä¾‹å­ã€‚æˆ‘ä»¬æœ‰ä¸€æ’äº‘ã€‚æˆ‘ä»¬å°†å¤„ç†è¿™ä¸ªæ•°ç»„ï¼Œç„¶åè¿”å›å¦ä¸€ä¸ªæ•°ç»„ã€‚

```
[ğŸŒ©ï¸, â›ˆï¸] = [â˜ï¸, ğŸŒ§ï¸].map(add(âš¡))
```

æœ€å¥½çš„å‡½æ•°å¼ç¼–ç¨‹ï¼æˆ‘ä»¬æ‹¿äº†ä¸€äº›äº‘è¡¨æƒ…ç¬¦å·ï¼Œç»™æ¯ä¸€ä¸ªéƒ½åŠ äº†é—ªç”µï¼Œç”¨é—ªç”µåšäº†äº‘ï¼å°±åƒé­”æ³•ä¸€æ ·ï¼

åœ¨æˆ‘ä»¬è¿›å…¥ç–¯ç‹‚å°é•‡ä¹‹å‰ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸ªä½¿ç”¨ä¸åŒèŒƒä¾‹çš„ä¾‹å­:

```
addLighting = item => item + âš¡
ğŸŒ©ï¸ = addLightning(â˜ï¸)addSun = item => item + â˜€ï¸
â›… = addSun(â˜ï¸)
```

è¿™æ®µä»£ç è™½ç„¶æœ‰æ•ˆï¼Œä½†å¹¶ä¸æ¯ç‡¥(ä¸è¦é‡å¤)ã€‚å¯¹äºæˆ‘ä»¬æƒ³è¦åšçš„æ¯ä¸ª`add`æ“ä½œï¼Œæˆ‘ä»¬å¿…é¡»æ‰‹å·¥åˆ›å»ºä¸€ä¸ªå…¨æ–°çš„å‡½æ•°ã€‚ç›¸åï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•ä¸€ä¸ªæ›´å¥½çš„è§£å†³æ–¹æ¡ˆ:

```
add = (item, additive) => item + additiveğŸŒ©ï¸ = add(â˜ï¸, âš¡)â›… = add(â˜ï¸, â˜€ï¸)
```

å¤ªæ£’äº†ã€‚æˆ‘ä»¬å·²ç»åˆ›å»ºäº†ä¸€ä¸ªæ¥å—å¤šä¸ªå‚æ•°å¹¶è¿”å›ä¸€ä¸ªå€¼çš„é€šç”¨å‡½æ•°ã€‚ä½†æ˜¯æˆ‘ä»¬è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼å¦‚æœæˆ‘ä»¬æƒ³å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹éƒ½è°ƒç”¨`add`ï¼Œå°±åƒæˆ‘ä»¬ä¹‹å‰å¯¹`map`æ‰€åšçš„é‚£æ ·ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿå¼ºåˆ¶æ€§åœ°è¿™æ ·åšï¼Œçœ‹èµ·æ¥ä¼šåƒè¿™æ ·:

```
clouds = [â˜ï¸, ğŸŒ§ï¸]
stormyClouds = []add = (item, additive) => item + additivefor (let i = 0, l = clouds.length; i < l; i++) {
    stormyClouds
    .push(
        add(clouds[i], âš¡)
    )
}
```

çœ‹èµ·æ¥è¶³å¤Ÿç®€å•ï¼Œä½†æ˜¯`for`å¾ªç¯ç¡®å®å¾ˆä¹±ã€‚æˆ‘ä»¬ä¸ä»…åœ¨å¾ªç¯çš„æ¯ä¸€è½®å¯¹`i`è¿›è¡Œäº†å˜å¼‚ï¼Œè€Œä¸”è¿˜å°†å€¼æ¨å…¥äº†å¾ªç¯ä¹‹å¤–çš„`stormyClouds`æ•°ç»„ã€‚

JavaScript ä¹Ÿæœ‰`for-in`å¾ªç¯ï¼Œä¸ºä½ è·Ÿè¸ª`i`ï¼›æ‰€ä»¥ï¼Œä½ çš„`for`å¾ªç¯å¯ä»¥å¹²å‡€å¾ˆå¤šã€‚

```
for (let i in clouds) {
    stormyClouds
    .push(
        add(clouds[i], âš¡)
    )
}
```

ä½†æ˜¯ï¼Œå½“æˆ‘ä»¬çœŸæ­£å…³å¿ƒçš„æ˜¯è¯¥æŒ‡æ•°çš„å€¼æ—¶ï¼Œä¸ºä»€ä¹ˆè¦ä¼ é€’è¿™ä¸ªæŒ‡æ•°å‘¢ï¼Ÿforeach å¾ªç¯ï¼Œåœ¨ JavaScript ä¸­ç§°ä¸º`for-of`ï¼Œè®©æˆ‘ä»¬æ›´æ¥è¿‘å‡½æ•°å¼æ–¹æ³•:

```
for (let cloud of clouds) {
    stormyClouds
    .push(
        add(cloud, âš¡)
    )
}
```

æ—¢ç„¶æˆ‘ä»¬å·²ç»åœ¨è¿™é‡Œäº†ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç”¨`forEach`æ›¿æ¢`for-of`æ¥å¿«é€Ÿæ¸…ç†è¿™ä¸ªé—®é¢˜:

```
clouds
.forEach(cloud => {
    stormyClouds
    .push(
        add(cloud, âš¡)
    )
})
```

ç•¥å¥½ï¼Œä½†ä¸æ»¡æ„ã€‚ç”±äº`forEach`æ¥å—ä¸€ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å…¶ä»–åœ°æ–¹åˆ›å»ºè¯¥å‡½æ•°ï¼Œç„¶ååƒè¿™æ ·ä¼ é€’å®ƒ:

```
addLightning = cloud => {
    stormyClouds
    .push(
        add(cloud, âš¡)
    )
}clouds.forEach(addLightning)
```

è™½ç„¶`addLighting`å‡½æ•°ä½¿å•å…ƒæµ‹è¯•å˜å¾—ç®€å•ï¼Œä½†æˆ‘ä»¬è¿˜æ˜¯å›åˆ°äº†è‡ªå·±èº«ä¸Šã€‚ç°åœ¨æˆ‘ä»¬å›åˆ°åˆ›å»ºä¸€æ¬¡æ€§å‡½æ•°ã€‚å¦‚æœä½ æƒ³å†™ä¸€ä¸ª`addSun`ï¼Œä½ å°†ä¼šå¤åˆ¶ç²˜è´´å¾ˆå¤šç›¸åŒçš„ä»£ç ã€‚æˆ‘ä»¬çš„ä»£ç ä»ç„¶ä¸å¹²ç‡¥ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸€èˆ¬åœ°å†™å®ƒã€‚è¿™æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿ

è¿™å°±æ˜¯æˆ‘ä»¬éœ€è¦ä¸€ä¸ªäº†ç»“çš„åœ°æ–¹ã€‚æˆ‘ä»¬ä¸`map`ä¸€èµ·ä½¿ç”¨çš„åŸå§‹`add`å‡½æ•°å®é™…ä¸Šæ˜¯è¿™æ ·çš„:

```
add = additive => item => item + additive
```

è¿™ä¸ª`add`å‡½æ•°å…è®¸æˆ‘ä»¬ç”Ÿæˆå‡½æ•°ã€‚å®ƒæ¥å—ä¸€ä¸ª`additive`ï¼Œç„¶åè¿”å›å¦ä¸€ä¸ªæ¥å—`item`çš„å‡½æ•°ã€‚å…³é”®æ˜¯ç¬¬ä¸€æ¬¡è°ƒç”¨`add`å®é™…ä¸Šä»€ä¹ˆéƒ½ä¸åšï¼›å®ƒåªæ˜¯å­˜å‚¨`additive`ï¼Œæ‰€ä»¥å½“å†…éƒ¨å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œå®ƒå¯ä»¥è®¿é—®`additive`ï¼Œå³ä½¿å®ƒä»æœªè¢«ä¼ å…¥ï¼

ç°åœ¨æˆ‘ä»¬å¯ä»¥å³æ—¶ç”Ÿæˆ`addLighting`å’Œ`addSun`:

```
addLightning = add(âš¡)
ğŸŒ©ï¸ = addLightning(â˜ï¸)addSun = add(â˜€ï¸)
â›… = addSun(â˜ï¸)
```

è¿™æ˜¯å¦ä¸€ç§çœ‹å¾…å®ƒçš„æ–¹å¼:

```
ğŸŒ©ï¸ = add(âš¡)(â˜ï¸)â›… = add(â˜€ï¸)(â˜ï¸)
```

å¾ˆå¥‡æ€ªå§ï¼Ÿä¸ºä»€ä¹ˆæˆ‘ä»¬è¦è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œç„¶åè°ƒç”¨é‚£ä¸ªå‡½æ•°ï¼Œè€Œæˆ‘ä»¬åªéœ€è¦ä¸¤ä¸ªå‚æ•°å°±å¯ä»¥äº†å‘¢ï¼Ÿæ˜¯å› ä¸ºå¤åˆ¶ç²˜è´´çš„é—®é¢˜ã€‚ä½¿ç”¨é—­åŒ…ï¼Œæˆ‘ä»¬å¯ä»¥åˆ é™¤å¤§é‡æ ·æ¿æ–‡ä»¶ï¼Œåˆ›å»ºè¿”å›å…¶ä»–é€šç”¨å‡½æ•°çš„é€šç”¨å‡½æ•°ã€‚

ä½¿ç”¨è¿‡ç¨‹æ–¹æ³•ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šè¿™æ ·å†™:

```
clouds = [â˜ï¸, ğŸŒ§ï¸]
stormyClouds = []
sunnyClouds = []add = (item, additive)=> item + additiveaddLightning = cloud => {
    stormyClouds
    .push(
        add(cloud, âš¡)
    )
}addSun = cloud => {
    sunnyClouds
    .push(
        add(cloud, â˜€ï¸)
    )
}for(let i = 0, l = clouds.length; i < l; i++) {
    addLightning(clouds[i])
}for(let i = 0, l = clouds.length; i < l; i++) {
    addSun(clouds[i])
}[ğŸŒ©ï¸, â›ˆï¸] = stormyClouds
[â›…, ğŸŒ¦ï¸] = sunnyClouds
```

ä½†æ˜¯ä½¿ç”¨å‡½æ•°å¼ç¼–ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™éå¸¸ç®€æ´çš„ä»£ç æ¥åšå®Œå…¨ç›¸åŒçš„äº‹æƒ…:

```
add = additive => item => item + additive[ğŸŒ©ï¸, â›ˆï¸] = [â˜ï¸, ğŸŒ§ï¸].map(add(âš¡))
[â›…, ğŸŒ¦ï¸] = [â˜ï¸, ğŸŒ§ï¸].map(add(â˜€ï¸))
```

è¶…çº§è¶…çº§å¼ºå¤§ï¼ç›¸åŒçš„åŠŸèƒ½åªéœ€è¦ 3 è¡Œä»£ç ï¼ä¸ºäº†æ›´æ·±å…¥ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™ä¸€ä¸ª`subtract`å‡½æ•°:

```
subtract = subtractor => item => item - subtractor
```

ç°åœ¨æˆ‘ä»¬å¯ä»¥åè¿‡æ¥åšåŒæ ·çš„æ“ä½œ:

```
[â˜ï¸, ğŸŒ§ï¸] = [ğŸŒ©ï¸, â›ˆï¸ï¸].map(subtract(âš¡))
[â˜ï¸, ğŸŒ§ï¸] = [â›…, ğŸŒ¦ï¸].map(subtract(â˜€ï¸))
```

ä¿çš®ï¼è®©æˆ‘ä»¬æ›´è¿›ä¸€æ­¥ã€‚æˆ‘ä»¬å®é™…ä¸Šå¯ä»¥`map`æ•°ç»„ï¼Œç„¶åé€šè¿‡é“¾æ¥è¿™äº›å‡½æ•°å†æ¬¡`map`å®ƒ:

```
[â›…, ğŸŒ¦ï¸] = (
    [ğŸŒ©ï¸, â›ˆï¸ï¸]
    .map(subtract(âš¡))
    .map(add(â˜€ï¸))
)
```

æ›¾ç»é£é›¨äº¤åŠ çš„ç°åœ¨é˜³å…‰æ˜åªšã€‚å‡å»é—ªç”µï¼ŒåŠ ä¸Šå¤ªé˜³ã€‚æ¯æ¬¡è°ƒç”¨`map`æ—¶ï¼Œå®ƒéƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°æ•°ç»„ã€‚ä½ ç¬¬ä¸€æ¬¡è¿è¡Œå®ƒæ—¶ï¼Œæˆ‘ä»¬å¾—åˆ°çš„æ˜¯å¸¸è§„çš„æ— é—ªç”µäº‘ã€‚ç¬¬äºŒæ¬¡è¿è¡Œæ—¶ï¼Œå®ƒä¼šæ·»åŠ  sunã€‚è¶…çº§ç®€å•ï¼Œè¶…çº§å¼ºå¤§ã€‚

**æ„Ÿå—åŠ›é‡ï¼**

## [ç‚¹å‡»æ­¤å¤„è¿›å…¥ç¬¬ 2 éƒ¨åˆ†ï¼](https://medium.com/@Sawtaytoes/an-emoji-lovers-guide-to-functional-programming-part-2-800b438c7ce3)

# æ›´å¤šé˜…è¯»

å¦‚æœæ‚¨å¯¹ä¸å‡½æ•°å¼ç¼–ç¨‹ç›¸å…³çš„æ›´å¤šä¸»é¢˜æ„Ÿå…´è¶£ï¼Œæ‚¨åº”è¯¥çœ‹çœ‹æˆ‘çš„å…¶ä»–æ–‡ç« :

*   [å®‰å…¨é‡æ„æ—§ä»£ç :ç¬¬ 1 éƒ¨åˆ†](/how-to-safely-refactor-old-code-part-1-a1a853263fec)
*   [ä½¿ç”¨ Redux çš„ç§˜å¯†:createNamespaceReducer](https://medium.com/@Sawtaytoes/the-secret-to-using-redux-createnamespacereducer-d3fed2ccca4a)
*   [åœ¨ React ç»„ä»¶ä¸­ä½¿ç”¨ Redux è¿˜åŸå‰‚](https://medium.com/@Sawtaytoes/using-redux-reducers-in-react-components-4e92985dd9cb)
*   [Redux-Observable å¯ä»¥è§£å†³ä½ çš„çŠ¶æ€é—®é¢˜](https://medium.com/@Sawtaytoes/redux-observable-can-solve-your-state-problems-15b23a9649d7)
*   [RxJS å’Œå¯è§‚å¯Ÿçš„ Flic æŒ‰é’®](https://medium.com/flicblog/flic-buttons-and-the-observable-customization-using-rxjs-2214bc53d407)

*æˆ‘æ„Ÿè°¢* ***è´¾æ–¯æ±€Â·è‹æ‹‰å¾·*** *åœ¨å·¥ä½œä¸­é¼“èˆäººå¿ƒçš„æ‡ˆæ€ çŠ¶æ€:*

```
ğŸ’© = [ğŸ”, ğŸŸ, ğŸª].reduce(eat)
```