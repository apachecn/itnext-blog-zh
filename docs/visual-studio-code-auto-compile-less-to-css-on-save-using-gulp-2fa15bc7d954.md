# Visual Studio ä»£ç :ä½¿ç”¨ Gulp åœ¨ä¿å­˜æ—¶å°† Less è‡ªåŠ¨ç¼–è¯‘ä¸º CSS

> åŸæ–‡ï¼š<https://itnext.io/visual-studio-code-auto-compile-less-to-css-on-save-using-gulp-2fa15bc7d954?source=collection_archive---------4----------------------->

![](img/dce14290cb4db3c5256dded4d175e65b.png)

ç…§ç‰‡ç”±[å†…æ£®Â·æœå§†åŠ³](https://unsplash.com/@nate_dumlao?utm_source=medium&utm_medium=referral)åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) æ‹æ‘„

æˆ‘ä»¬å¼€å‘æ¥å£çš„é€Ÿåº¦è¶Šæ¥è¶Šå¿«ï¼Œä½¿ç”¨ä¿å­˜ç¼–è¯‘æ¥ç¼–è¯‘æ›´å°‘çš„ CSS ä»£ç ã€‚

æ²¡æœ‰ç¼–è¾‘å™¨æ’ä»¶ã€‚æ²¡æœ‰è‚®è„çš„æŠŠæˆã€‚æ²¡æœ‰éš¾æ‡‚çš„ä»£ç ã€‚

æˆ‘å°†ä¸ºæ‚¨æä¾›ä¸€ä¸ªå¹²å‡€çš„ Javascript ä»£ç ç‰‡æ®µï¼Œä»¥åŠå‡ ç§’é’Ÿå†…å®Œæˆè®¾ç½®çš„ç®€å•æ­¥éª¤ã€‚

# è®¾ç½®

æ‚¨éœ€è¦:

*   **ä¸€**ä¸€**é¡¹ç›®ç›®å½•** : `mkdir project`
*   **ä¸€é¥®è€Œå°½:**

åœ¨å…¨çƒå’Œæ‚¨çš„é¡¹ç›®ä¸­:

`npm install -g gulp`æˆ–`yarn global add gulp`

`cd project`

`npm install gulp`æˆ–`yarn add gulp`

*   ä»…åœ¨æ‚¨çš„é¡¹ç›®ä¸­

`cd project`

`npm install gulp-less`æˆ–`yarn add gulp-less`

ä½ å®Œäº†ã€‚å‰è¿›ã€‚

# ç®€çŸ­çš„è§£é‡Š

**Gulp** æ˜¯ä¸€ä¸ª Javascript ä»»åŠ¡è¿è¡Œå™¨ï¼Œå¯ä»¥è®©ä½ è‡ªåŠ¨åŒ–å¤šä½™çš„ä»»åŠ¡ã€‚

å®ƒæœ‰å¾ˆå¤šéå¸¸æœ‰ç”¨çš„å†…ç½®åŠŸèƒ½ã€‚

å…¶ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨æ–‡ä»¶ç›‘è§†å™¨ï¼Œå®ƒå…è®¸æˆ‘ä»¬åœ¨æ–‡ä»¶æ”¹å˜æ—¶æ‰§è¡Œä»»åŠ¡ã€‚

**Gulp-Less** æ˜¯ä¸€ä¸ª Gulp æ’ä»¶ï¼Œä¸“é—¨ç”¨äºå°†è¾ƒå°‘çš„æ–‡ä»¶ç¼–è¯‘æˆ CSSã€‚å®ƒä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªæ›´å°‘çš„ç¼–è¯‘å™¨ã€‚

# å·¥ä½œç‰‡æ®µ

*æ‚¨å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚è½»æ¾å®šåˆ¶ã€‚*

**é¦–å…ˆï¼Œ**åœ¨ä½ çš„é¡¹ç›®ç›®å½•çš„æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œå‘½åä¸º`gulpfile.js`ã€‚

è¿™å°±æ˜¯ Gulp æœŸæœ›ä½ å¦‚ä½•ç»„ç»‡ä½ çš„ä»»åŠ¡ï¼Œæ‰€ä»¥ä¸è¦ç”¨ä¸åŒçš„åç§°ã€‚

**ç„¶åï¼Œ**å°†è¿™æ®µä»£ç å¤åˆ¶ç²˜è´´åˆ°`gulpfile.js`:

**æœ€åï¼Œ**æ‰“å¼€ä¸€ä¸ªç»ˆç«¯(ä½¿ç”¨ VSCode ä¸­çš„`cmd`æˆ–`Ctrl + Shift + Ã¹`)å¹¶è¿è¡Œè¯¥å‘½ä»¤:

`gulp default`

**ä½ å®Œæˆäº†ã€‚**

æ¯æ¬¡ä½ ä¿®æ”¹ä¸€ä¸ªä½äºä½ çš„`srcDir`ä¸­çš„ Less æ–‡ä»¶ï¼Œå®ƒéƒ½ä¼šç¼–è¯‘å®ƒå¹¶ç”Ÿæˆä½äºä½ çš„`dstDir`ä¸­çš„ç›¸åº” CSS æ–‡ä»¶ã€‚

*æˆ‘æ‰€è¯´çš„â€œä¿®æ”¹æ–‡ä»¶â€æ˜¯æŒ‡ä½¿ç”¨* `*Ctrl + S*` *æˆ–* `*File > Save*`

# è¿›ä¸€æ­¥çš„ç»†èŠ‚:å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ

é¦–å…ˆï¼Œæˆ‘ä»¬åªæ˜¯å¯¼å…¥ä¸¤ä¸ªæ¨¡å—:`gulp | gulp-less`ã€‚

ç„¶åï¼Œæˆ‘ä»¬å®šä¹‰ Less æ–‡ä»¶çš„ä½ç½®ï¼Œä»¥åŠæˆ‘ä»¬å¸Œæœ› CSS æ–‡ä»¶ç”Ÿæˆçš„ä½ç½®ã€‚

`Line 9`:æˆ‘ä»¬æ­£åœ¨å®šä¹‰ä¸€ä¸ªåä¸ºâ€œlessâ€çš„ Gulp ä»»åŠ¡ï¼Œç”±æˆ‘ä»¬çš„è‡ªå®šä¹‰å‡½æ•°å®šä¹‰ã€‚

`Line 11`:æˆ‘ä»¬å‘½ä»¤å¤§å£å–`srcDir`ä¸­æ‰€æœ‰çš„`.less`æ–‡ä»¶ä½œä¸ºæºã€‚(ä½¿ç”¨`*.less`

`Line 12`:æˆ‘ä»¬å‘½ä»¤ Gulp å°†æ‰€æœ‰è¿™äº›æ–‡ä»¶æ”¾å…¥æ¥è‡ª`gulp-less`æ¨¡å—çš„`less`å‡½æ•°(ä½¿ç”¨`pipe`)ã€‚è¿™ä¸ªå‡½æ•°å°†æŠŠæ¯ä¸ªæ–‡ä»¶ç¼–è¯‘æˆå®ƒä»¬çš„ CSS å‰¯æœ¬ã€‚

`Line 13`:æˆ‘ä»¬å‘½ä»¤ Gulp ä»è¾ƒå°çš„æºæ–‡ä»¶ä¸­å–å‡ºæ‰€æœ‰åŠ¨æ€åˆ›å»ºçš„ CSS æ–‡ä»¶ï¼Œå¹¶ä¿å­˜åˆ°`srcDir`ã€‚

ç„¶è€Œï¼Œè¿™é¡¹ä»»åŠ¡æœ¬èº«å¹¶ä¸èƒ½è§£å†³ä»»ä½•é—®é¢˜ã€‚è¿™åªæ˜¯ä¸€ä¸ªåœ¨æŸå¤„å®šä¹‰çš„ä»»åŠ¡ï¼Œå®ƒæœ¬èº«ä¸ä¼šå¯¹æ–‡ä»¶å˜åŒ–åšå‡ºååº”ã€‚

**è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ:**

`Line 17`:å½“ä½äº`srcDir`çš„æ–‡ä»¶å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæˆ‘ä»¬å‘Šè¯‰ Gulp æ‰§è¡Œ`less`ä»»åŠ¡ã€‚

**æœ€åï¼Œ**è¿è¡Œ`gulp default`å°†è¿è¡Œ`default`ä»»åŠ¡ï¼Œæ¯æ¬¡æ–‡ä»¶æ”¹å˜æ—¶ï¼Œä»»åŠ¡æœ¬èº«è¿è¡Œ`less`ä»»åŠ¡ã€‚

# **æ›´è¿›ä¸€æ­¥**

èµ·åˆï¼Œæˆ‘ä¸æƒ³å¼€å§‹å­¦ä¹ æµ·æ´‹ä¸­çš„å¦ä¸€é¡¹æŠ€æœ¯ï¼Œä½†æ˜¯ä¼™è®¡ï¼Œ(ç›¸ä¿¡æˆ‘)å€¼å¾—èŠ±æ—¶é—´å»å­¦ä¹ ã€‚

Gulp å¯ä»¥è®©ä½ è‡ªåŠ¨åŒ–å¤§é‡çš„äº‹æƒ…ï¼Œæ¯”å¦‚:

*   æ–‡ä»¶ç¼©å°/ç¾åŒ–ã€‚
*   æµè§ˆå™¨å…¼å®¹æ€§çš„è‡ªåŠ¨å‰ç¼€ã€‚
*   ä¿å­˜æ—¶åˆ·æ–°æµè§ˆå™¨ã€‚
*   è®¸å¤šå…¶ä»–è€—æ—¶çš„ä»»åŠ¡ä½ æœ€å¥½è®© Gulp ä¸ºä½ å¤„ç†ğŸ˜ƒ

æ­¤å¤–ï¼ŒVSCode æœ‰ä¸€ä¸ª`Tasks`é€‰é¡¹å¡ï¼Œæ‚¨å¯ä»¥ä»ä¸­è¿è¡Œ gulp ä»»åŠ¡ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆ`gulpfile.js`å‘½åå¾ˆé‡è¦ã€‚

æ›´è¿›ä¸€æ­¥ï¼ŒVSCode å…è®¸ä½ å®šä¹‰è¿è¡Œä»»åŠ¡çš„å¿«æ·é”®ï¼Œè¿™æ ·è¾“å…¥å‘½ä»¤æˆ–è€…ç‚¹å‡»`Tasks`å°±ä¸å†æ˜¯ä½ çš„ç—›è‹¦äº†ã€‚

[ä½¿ç”¨é”®ç›˜å¿«æ·é”®è¿è¡Œä»»åŠ¡è¯·å‚è§æ­¤é“¾æ¥](https://code.visualstudio.com/docs/editor/tasks#_binding-keyboard-shortcuts-to-tasks)

> æ³¨æ„ï¼Œè¿è¡Œ`gulp default`ä¼šä¸€ç›´è¿è¡Œå¹¶è§‚å¯Ÿæ–‡ä»¶ï¼Œç›´åˆ°ä½ å…³é—­ç¼–è¾‘å™¨/å‘½ä»¤è¡Œè§£é‡Šå™¨ã€‚

# æ„Ÿè°¢é˜…è¯»

å°½æˆ‘æ‰€èƒ½åœ¨ä»Šå¹´çš„æ¯ä¸€å‘¨ä¸ºæ‚¨æä¾›æœ‰ä»·å€¼çš„å†…å®¹ã€‚

æˆ‘è‚¯å®šä¼šæ„Ÿè°¢ 50 æ¬¡é¼“æŒğŸ‘¼

æŸ¥çœ‹æˆ‘çš„ä¸Šä¸€ç¯‡æ–‡ç« :

 [## ä½¿ç”¨ Google Analytics è·Ÿè¸ªæ‚¨ç½‘ç«™ä¸Šçš„å®šåˆ¶äº‹ä»¶

### åœ¨è·Ÿè¸ªç”¨æˆ·æ–¹é¢ï¼Œè°·æ­Œåˆ†ææ˜¯ä¸€ä¸ªéå¸¸å¼ºå¤§çš„è§£å†³æ–¹æ¡ˆã€‚ä½†æ˜¯ï¼Œæ¯ä¸ªäººéƒ½åŒ…å«çš„å°è„šæœ¬â€¦

dmware.fr](https://dmware.fr/track-custom-events-on-your-website-using-google-analytics/) 

æ¬¢è¿è‡´ç”µ **david.mellul@outlook.fr.**

ä¸ªäººç½‘ç«™æ›´å¤šæœ‰ä»·å€¼çš„å†…å®¹: [https://dmware.fr](https://dmware.fr)

![](img/4a6d158585592dad923f1c41ee8b582e.png)

[å´æ€¡](https://unsplash.com/@takeshi2?utm_source=medium&utm_medium=referral)åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) ä¸Šçš„ã€Šç™½è‰²é©¬å…‹æ¯é‡Œçš„å¡å¸ƒå¥‡è¯ºï¼Œç™½è‰²æ³¡æ²«è‰ºæœ¯åœ¨æœ¨æ¡Œä¸Šã€‹