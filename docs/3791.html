<html>
<head>
<title>Test-Driven Development In Flutter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">é¢¤æŒ¯çš„è¯•éªŒé©±åŠ¨å‘å±•</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://itnext.io/test-driven-development-in-flutter-e7fe7921ea92?source=collection_archive---------2-----------------------#2020-02-25">https://itnext.io/test-driven-development-in-flutter-e7fe7921ea92?source=collection_archive---------2-----------------------#2020-02-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/d3d6716746051a75e0adfcdd1c1b3955.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N2BXwOQSUtG8FegnyudvuA.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">è¯•éªŒé©±åŠ¨çš„å‘å±•é¢¤æŒ¯</figcaption></figure><p id="1445" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">æµ‹è¯•é©±åŠ¨å¼€å‘(TDD)æ˜¯è½¯ä»¶å¼€å‘ä¸­çš„ä¸€ä¸ªåŸåˆ™ï¼Œå®ƒç¦æ­¢æˆ‘ä»¬åœ¨ç¼–å†™æµ‹è¯•ä¹‹å‰ç¼–å†™ä»£ç /å®ç°ã€‚</p><p id="f548" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">æ ¹æ®Bobå”å”çš„è¯´æ³•ï¼ŒTDDæœ‰3æ¡è§„åˆ™:</p><blockquote class="la lb lc"><p id="4dd3" class="kc kd ld ke b kf kg kh ki kj kk kl km le ko kp kq lf ks kt ku lg kw kx ky kz ij bi translated"><em class="iq"> 1ã€‚é™¤éæ˜¯ä¸ºäº†é€šè¿‡å¤±è´¥çš„å•å…ƒæµ‹è¯•ï¼Œå¦åˆ™ä¸å…è®¸ç¼–å†™ä»»ä½•äº§å“ä»£ç ã€‚</em></p><p id="1a28" class="kc kd ld ke b kf kg kh ki kj kk kl km le ko kp kq lf ks kt ku lg kw kx ky kz ij bi translated"><em class="iq"> 2ã€‚ä¸å…è®¸ç¼–å†™ä»»ä½•è¶…è¿‡è¶³ä»¥å¯¼è‡´å¤±è´¥çš„å•å…ƒæµ‹è¯•ï¼›ç¼–è¯‘å¤±è´¥å°±æ˜¯å¤±è´¥ã€‚</em></p><p id="98e8" class="kc kd ld ke b kf kg kh ki kj kk kl km le ko kp kq lf ks kt ku lg kw kx ky kz ij bi translated"><em class="iq"> 3ã€‚é™¤äº†è¶³ä»¥é€šè¿‡ä¸€ä¸ªå¤±è´¥çš„å•å…ƒæµ‹è¯•ä¹‹å¤–ï¼Œæ‚¨ä¸å…è®¸ç¼–å†™æ›´å¤šçš„äº§å“ä»£ç ã€‚<br/>â€”â€”é²å‹ƒå¤§å”(</em><a class="ae lh" href="http://butunclebob.com/ArticleS.UncleBob.TheThreeRulesOfTdd" rel="noopener ugc nofollow" target="_blank"><em class="iq">http://butunclebob.com/ArticleS.UncleBob.TheThreeRulesOfTdd</em></a><em class="iq">)</em></p></blockquote><p id="36c4" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">è¿™æ˜¯ä¸€ä¸ªæˆ‘ä»¬å¿…é¡»é‡å¤çš„å¾ªç¯ã€‚æˆ‘ä»¬å¯¹æˆ‘ä»¬æƒ³è¦å®ç°çš„ä¸œè¥¿å†™ä¸€ä¸ªæµ‹è¯•ï¼Œè¿™æ ·å½“æµ‹è¯•è¿è¡Œæ—¶ï¼Œç»“æœå°†æ˜¯â€œå¤±è´¥â€,ç„¶åæˆ‘ä»¬å†™ä¸€ä¸ª<strong class="ke ir">è¶³å¤Ÿ</strong>çš„å®ç°ï¼Œè¿™æ ·æµ‹è¯•å°±é€šè¿‡äº†ã€‚ç„¶åï¼Œæˆ‘ä»¬ä¿®æ­£æˆ‘ä»¬çš„ä»£ç è´¨é‡ï¼Œè¿™å¯èƒ½æ˜¯æˆ‘ä»¬å¿½ç•¥çš„ï¼Œå› ä¸ºæˆ‘ä»¬å…³æ³¨äºä½¿æµ‹è¯•é€šè¿‡è€Œä¸ä½¿æµ‹è¯•å¤±è´¥ã€‚</p><p id="e143" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">æœ‰äº›äººè¯•å›¾å…ˆå†™å®ç°ï¼Œå†å†™æµ‹è¯•ï¼Œç„¶ååªæäº¤æµ‹è¯•ã€‚è¿™å°±æ˜¯ç°åœ¨äººä»¬åº”è¯¥å¦‚ä½•å¯¹å¾…TDDã€‚ä½ åº”è¯¥æ³¨æ„åˆ°ï¼Œä½ åªèƒ½å®ç°è¶³å¤Ÿé€šè¿‡æµ‹è¯•çš„ä»£ç (Bobå”å”çš„è§„åˆ™3)ã€‚</p><h1 id="bfb9" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">é¢¤æŒ¯ä¸­çš„TDD</h1><p id="dce8" class="pw-post-body-paragraph kc kd iq ke b kf mg kh ki kj mh kl km kn mi kp kq kr mj kt ku kv mk kx ky kz ij bi translated">ä¸ºäº†ç†è§£Flutterä¸­çš„è¿™ä¸ªæ¦‚å¿µï¼Œè®©æˆ‘ä»¬è·³åˆ°ä¸€ä¸ªå®é™…çš„ä¾‹å­ä¸­ã€‚å‡ºäºæœ¬æ•™ç¨‹çš„ç›®çš„ï¼Œæˆ‘å°†ä½¿ç”¨PiggyXåº”ç”¨ç¨‹åºã€‚è¿™äº›ä»£ç å¯ä»¥åœ¨Githubä¸Šæ‰¾åˆ°ã€‚ç‚¹å‡»<a class="ae lh" href="https://github.com/Mastersam07/PiggyX" rel="noopener ugc nofollow" target="_blank">è¿™é‡Œçš„</a>è¿›å…¥ä»£ç ã€‚</p><p id="718b" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">æˆ‘ä»¬å°†åˆ›å»ºå¹¶æµ‹è¯•å‡ ä¸ªç®€å•çš„åŠŸèƒ½:<code class="fe ml mm mn mo b">EmailFieldValidator</code>ã€<code class="fe ml mm mn mo b">PasswordFieldValidator</code>ã€‚è®©æˆ‘ä»¬é€šè¿‡åˆ›å»ºä¸€ä¸ªåä¸º<code class="fe ml mm mn mo b">loginpage.dart</code>çš„æ–°æ–‡ä»¶æ¥åˆ†ç¦»ç™»å½•é€»è¾‘ï¼Œå¹¶å®ç°å¦‚ä¸‹:</p><pre class="mp mq mr ms gt mt mo mu mv aw mw bi"><span id="b028" class="mx lj iq mo b gy my mz l na nb">class EmailFieldValidator {<br/>  static String <em class="ld">validate</em>(String value) {<br/>    return false;<br/>  }<br/>}<br/><br/>class PasswordFieldValidator {<br/>  static String <em class="ld">validate</em>(String value) {<br/>    return false;<br/>  }<br/>}</span></pre><p id="eee5" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">è®©æˆ‘ä»¬ä¸ºä¸Šé¢çš„éªŒè¯å™¨ç¼–å†™æµ‹è¯•ã€‚æˆ‘ä»¬è½¬åˆ°æµ‹è¯•æ–‡ä»¶å¤¹ï¼Œåˆ é™¤é»˜è®¤çš„<code class="fe ml mm mn mo b">widget_tests.dart</code>ï¼Œå¹¶æ·»åŠ ä¸€ä¸ªåä¸º<code class="fe ml mm mn mo b">fieldvalidators_tests.dart</code>çš„æ–°æ–‡ä»¶ã€‚æˆ‘ä»¬å®ç°å¦‚ä¸‹æ‰€ç¤ºçš„æµ‹è¯•:</p><pre class="mp mq mr ms gt mt mo mu mv aw mw bi"><span id="cfc5" class="mx lj iq mo b gy my mz l na nb">import 'package:PiggyX/ui/loginpage.dart';<br/>import 'package:flutter_test/flutter_test.dart';<br/><br/>void main() {<br/><br/>  test('empty email returns error string', () {<br/><br/>    final result = EmailFieldValidator.<em class="ld">validate</em>('');<br/>    expect(result, 'Email can\'t be empty');<br/>  });<br/><br/>  test('non-empty email returns null', () {<br/><br/>    final result = EmailFieldValidator.<em class="ld">validate</em>('email');<br/>    expect(result, null);<br/>  });<br/><br/>  test('empty password returns error string', () {<br/><br/>    final result = PasswordFieldValidator.<em class="ld">validate</em>('');<br/>    expect(result, 'Password can\'t be empty');<br/>  });<br/><br/>  test('non-empty password returns null', () {<br/><br/>    final result = PasswordFieldValidator.<em class="ld">validate</em>('password');<br/>    expect(result, null);<br/>  });<br/>}</span></pre><p id="9e61" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">åœ¨ä¸Šé¢çš„å†…å®¹ä¸­ï¼Œæˆ‘ä»¬é¢„è®¡ä¼šå‡ºç°ä»¥ä¸‹æƒ…å†µ:<br/> i)ç”µå­é‚®ä»¶å­—æ®µä¸å¾—ä¸ºç©º<br/> ii)å¯†ç å­—æ®µä¸å¾—ä¸ºç©º<br/>å¦‚æœæˆ‘ä»¬æƒ³è¦ï¼Œæˆ‘ä»¬å¯ä»¥æ‰©å±•æµ‹è¯•ç”¨ä¾‹ï¼Œä½†å‡ºäºæœ¬æ•™ç¨‹å’Œæœ¬<a class="ae lh" href="https://github.com/Mastersam07/PiggyX" rel="noopener ugc nofollow" target="_blank">åº”ç”¨ç¨‹åº</a>çš„ç›®çš„ï¼Œæˆ‘ä»¬å°†åšæŒä½¿ç”¨è¿™ä¸¤ä¸ªã€‚</p><p id="03d3" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">å½“æˆ‘ä»¬å°è¯•åœ¨å®ç°ä¹‹å‰è¿è¡Œ<code class="fe ml mm mn mo b">flutter test</code>æ—¶ï¼Œæ‚¨å¯èƒ½ä¼šçœ‹åˆ°<code class="fe ml mm mn mo b">+0 -4: Some tests failed</code>ã€‚è¿™å‘Šè¯‰æˆ‘ä»¬ï¼Œ0ä¸ªæµ‹è¯•é€šè¿‡(+)ï¼Œ4ä¸ªæµ‹è¯•å¤±è´¥(-)ğŸ˜ª ğŸ˜ª ğŸ˜ªã€‚</p><p id="0ac6" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">è®©æˆ‘ä»¬ç°åœ¨åœ¨TDDæ¨¡å¼ä¸‹ä¿®å¤å®ƒä»¬å§ï¼</p><p id="2528" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">å‰å¾€<code class="fe ml mm mn mo b">loginpage.dart</code>å¹¶ä¿®ç†<code class="fe ml mm mn mo b">EmailFieldValidator</code>:</p><pre class="mp mq mr ms gt mt mo mu mv aw mw bi"><span id="3b82" class="mx lj iq mo b gy my mz l na nb">static String <em class="ld">validate</em>(String value) {<br/>  return value.isEmpty ? 'Email can\'t be empty' : null;<br/>}</span></pre><p id="1835" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">å†æ¬¡è¿è¡Œæµ‹è¯•ï¼Œæ‚¨åº”è¯¥ä¼šçœ‹åˆ°<code class="fe ml mm mn mo b">+2 -2</code>ã€‚</p><p id="b572" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">ç°åœ¨è®©æˆ‘ä»¬å‰å¾€<code class="fe ml mm mn mo b">loginpage.dart</code>å¹¶ç”¨ä»¥ä¸‹ä»£ç ä¿®å¤<code class="fe ml mm mn mo b">PasswordFieldValidator</code>:</p><pre class="mp mq mr ms gt mt mo mu mv aw mw bi"><span id="8d3e" class="mx lj iq mo b gy my mz l na nb">static String <em class="ld">validate</em>(String value) {<br/>  return value.isEmpty ? 'Password can\'t be empty' : null;<br/>}</span></pre><p id="5c2e" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">å†æ¬¡è¿è¡Œæµ‹è¯•ï¼Œæ‚¨åº”è¯¥<code class="fe ml mm mn mo b">+4: All Tests Passed!</code>ğŸ’ƒ ğŸ’ƒ ğŸ’ƒ</p><p id="2806" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">æ‚¨å·²ç»ä½¿ç”¨Flutterä»¥TDDæ–¹å¼æˆåŠŸæµ‹è¯•äº†æ‚¨çš„åº”ç”¨ç¨‹åºï¼ä½ åº”è¯¥å¾—åˆ°ä¸€äº›è£èª‰ã€‚ç°åœ¨ï¼Œå¯ä»¥å®‰å…¨åœ°å®Œæˆæˆ‘ä»¬çš„å¾ªç¯äº†ï¼Œå› ä¸ºæˆ‘ä»¬ç‰¹æ€§çš„ç›®æ ‡ç°åœ¨å·²ç»å®Œæˆäº†(åªåˆ¶ä½œUI)ï¼</p><p id="cb58" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">è¿™äº›ä»£ç å¯ä»¥åœ¨GitHub repo <a class="ae lh" href="https://github.com/Mastersam07/PiggyX" rel="noopener ugc nofollow" target="_blank"> PiggyX </a>ä¸­æ‰¾åˆ°ã€‚</p><p id="4c72" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">åŠ åˆ†<br/> </strong>å¯¹äºå˜²è®½ä¾èµ–ï¼Œå¯ä»¥åˆ©ç”¨<a class="ae lh" href="https://pub.dev/packages/mockito" rel="noopener ugc nofollow" target="_blank"> mockitoåŒ…</a>ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬éœ€è¦èƒ½å¤Ÿæ¨¡æ‹Ÿæ¥è‡ªåº”ç”¨ç¨‹åºéœ€æ±‚çš„æ•°æ®ï¼Œä»¥ä¾¿æ ¹æ®APIè¿›è¡Œèº«ä»½éªŒè¯ï¼Œè€Œä¸æ˜¯ä¾èµ–äºå®æ—¶APIï¼Œæ¨¡æ‹Ÿå®æ—¶webæœåŠ¡æˆ–æ•°æ®åº“ä»¥æ ¹æ®æƒ…å†µè¿”å›ç‰¹å®šç»“æœï¼Œä½¿ç”¨firebase.e.t.cè¿›è¡Œæ“ä½œã€‚æˆ‘ä»¬éœ€è¦åšçš„å°±æ˜¯é€šè¿‡æ‰‹åŠ¨ç¼–ç æˆ–ä½¿ç”¨<a class="ae lh" href="https://pub.dev/packages/mockito" rel="noopener ugc nofollow" target="_blank"> mockitoåŒ…</a>åˆ›å»ºä¸€ä¸ªç±»çš„æ›¿ä»£å®ç°ã€‚ä½ å¯ä»¥éµå¾ªè¿™ä¸ªå…³äº<a class="ae lh" href="https://flutter.dev/docs/cookbook/testing/unit/mocking" rel="noopener ugc nofollow" target="_blank">å˜²è®½</a>çš„æŒ‡å—ã€‚</p><p id="7d12" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·éšæ—¶å‘è¡¨è¯„è®ºğŸ™‚ã€‚</p><h1 id="2d7d" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">å‚è€ƒèµ„æ–™:</h1><p id="5f73" class="pw-post-body-paragraph kc kd iq ke b kf mg kh ki kj mh kl km kn mi kp kq kr mj kt ku kv mk kx ky kz ij bi translated"><a class="ae lh" href="https://flutter.dev/docs/cookbook/testing" rel="noopener ugc nofollow" target="_blank">é¢¤æŒ¯æµ‹è¯•</a> <br/> <a class="ae lh" href="https://flutter.dev/docs/testing" rel="noopener ugc nofollow" target="_blank">æµ‹è¯•é¢¤æŒ¯app</a><br/><a class="ae lh" href="https://flutter.dev/docs/cookbook/testing/unit/mocking" rel="noopener ugc nofollow" target="_blank">å˜²è®½ä¾èµ–ä½¿ç”¨Mockito </a> <br/> <a class="ae lh" href="https://pub.dev/packages/mockito" rel="noopener ugc nofollow" target="_blank"> MockitoåŒ…</a></p></div></div>    
</body>
</html>