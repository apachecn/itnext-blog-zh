<html>
<head>
<title>Serve react component with Rails</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ä¸ºååº”å…ƒä»¶æä¾›å¯¼è½¨</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://itnext.io/serve-react-component-with-rails-67efa4b5785d?source=collection_archive---------4-----------------------#2018-02-21">https://itnext.io/serve-react-component-with-rails-67efa4b5785d?source=collection_archive---------4-----------------------#2018-02-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/40b2b3251749808ef5fa04bf64156705.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ohQul8IFYtRTzpGbKaIovA.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">webgrinder.pl</figcaption></figure><p id="bcb3" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">ä½¿ç”¨Reactä½œä¸ºå‰ç«¯å’ŒRailsåç«¯æ˜¯ä¸€ä¸ªæƒŠäººçš„ç»„åˆã€‚ä¸ºæ­¤æˆ‘ä½¿ç”¨äº†<a class="ae la" href="https://github.com/reactjs/react-rails#use-with-asset-pipeline" rel="noopener ugc nofollow" target="_blank"> <strong class="ke ir"> react-rails </strong> </a> gemï¼Œè¿™æ˜¯ä¸€ä¸ªä½¿ç”¨reactå’Œrailsçš„çµæ´»å·¥å…·ã€‚</p><p id="7d56" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><a class="ae la" href="https://www.linkedin.com/cws/share?url=https%3A%2F%2Fitnext.io%2Fserve-react-component-with-rails-67efa4b5785d" rel="noopener ugc nofollow" target="_blank"> <em class="lb">ç‚¹å‡»è¿™é‡Œåœ¨LinkedInä¸Šåˆ†äº«è¿™ç¯‡æ–‡ç« </em> </a></p><h1 id="3d06" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">ä¸é“¾è½®èµ„äº§ç®¡çº¿ä¸€èµ·ä½¿ç”¨</h1><p id="0586" class="pw-post-body-paragraph kc kd iq ke b kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv me kx ky kz ij bi translated">å°†<code class="fe mf mg mh mi b">react-rails</code>æ·»åŠ åˆ°gemæ–‡ä»¶ã€‚</p><pre class="mj mk ml mm gt mn mi mo mp aw mq bi"><span id="bb3e" class="mr ld iq mi b gy ms mt l mu mv">gem 'react-rails'</span></pre><p id="9c96" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">éšåæ˜¯ä»¥ä¸‹å‘½ä»¤</p><pre class="mj mk ml mm gt mn mi mo mp aw mq bi"><span id="a6e1" class="mr ld iq mi b gy ms mt l mu mv">$ bundle install<br/>$ rails g react:install</span></pre><p id="fab0" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><code class="fe mf mg mh mi b">react:install</code>ç”Ÿæˆå™¨å°†è‡ªåŠ¨åœ¨æ‚¨çš„èµ„äº§ç®¡é“ä¸­åŒ…å«react JavaScriptåº“</p><pre class="mj mk ml mm gt mn mi mo mp aw mq bi"><span id="f576" class="mr ld iq mi b gy ms mt l mu mv"><strong class="mi ir">create</strong> app/assets/javascripts/components <br/><strong class="mi ir">insert</strong> app/assets/javascripts/application.js <br/><strong class="mi ir">create</strong> app/assets/javascripts/components.js<br/><strong class="mi ir">create</strong> app/assets/javascripts/server_rendering.js<br/><strong class="mi ir">create</strong> config/initializers/react_server_rendering.rb</span></pre><p id="6dcb" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">å®‰è£…å®Œæˆï¼</p><h1 id="c9c9" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">ç¬¬ä¸€éƒ¨åˆ†</h1><p id="945d" class="pw-post-body-paragraph kc kd iq ke b kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv me kx ky kz ij bi translated">æˆ‘ä»¬éœ€è¦åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯åœ¨componentsæ–‡ä»¶å¤¹ä¸­å»ºç«‹ä¸€ä¸ª<strong class="ke ir"> jsx </strong>æ–‡ä»¶ã€‚</p><pre class="mj mk ml mm gt mn mi mo mp aw mq bi"><span id="6ac9" class="mr ld iq mi b gy ms mt l mu mv"><em class="lb">// app/assets/javascripts/components/first.es6.jsx </em></span><span id="5a6e" class="mr ld iq mi b gy mw mt l mu mv">class <strong class="mi ir">FirstComponent</strong> extends <strong class="mi ir">React</strong>.<strong class="mi ir">Component</strong>{</span><span id="cb94" class="mr ld iq mi b gy mw mt l mu mv"><strong class="mi ir">   constructor</strong>(props, context) {<br/>      super(props, context);<br/>      this.state = { <br/>         name: props.name,<br/>      };<br/>   }</span><span id="186c" class="mr ld iq mi b gy mw mt l mu mv"><strong class="mi ir">   componentDidMount</strong>(){}</span><span id="6805" class="mr ld iq mi b gy mw mt l mu mv"><strong class="mi ir">   render</strong>() {<br/>      return (<br/>         <!-- -->&lt;div&gt;<br/>            &lt;h1&gt;Hello: {this.state.name}&lt;/h1&gt;<br/>         &lt;/div&gt;<br/>      <!-- -->)<br/>   }<br/>}</span></pre><blockquote class="mx my mz"><p id="3f04" class="kc kd lb ke b kf kg kh ki kj kk kl km na ko kp kq nb ks kt ku nc kw kx ky kz ij bi translated"><strong class="ke ir">é˜…è¯»</strong> : <a class="ae la" href="https://reactjs.org/docs/react-component.html#the-component-lifecycle" rel="noopener ugc nofollow" target="_blank">ååº”ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ</a></p></blockquote><h1 id="cccd" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">æœåŠ¡å™¨ç«¯æ¸²æŸ“</h1><p id="843e" class="pw-post-body-paragraph kc kd iq ke b kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv me kx ky kz ij bi translated">è¦è®©Railsæ¸²æŸ“Reactç»„ä»¶ï¼Œæœ‰ä¸¤ç§æ–¹æ³•ã€‚</p><h2 id="9e69" class="mr ld iq bd le nd ne dn li nf ng dp lm kn nh ni lq kr nj nk lu kv nl nm ly nn bi translated">ä½¿ç”¨ååº”ç»„ä»¶è§†å›¾åŠ©æ‰‹</h2><p id="51c0" class="pw-post-body-paragraph kc kd iq ke b kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv me kx ky kz ij bi translated">åœ¨ä½ çš„è§†å›¾ä¸­ä½¿ç”¨<code class="fe mf mg mh mi b">react_component</code>åŠ©æ‰‹æ–¹æ³•ï¼Œå³<em class="lb"> index.html.erb </em></p><pre class="mj mk ml mm gt mn mi mo mp aw mq bi"><span id="580b" class="mr ld iq mi b gy ms mt l mu mv">&lt;%= react_component('FirstComponent', {name: 'John'}, {prerender: true}) %&gt;</span></pre><p id="b8cd" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><code class="fe mf mg mh mi b">react_component</code>æ˜¯ååº”è½¨é“çš„ä¸€éƒ¨åˆ†ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œå®ƒç”¨äºå°†assetsç›®å½•ä¸‹componentsæ–‡ä»¶å¤¹ä¸­åä¸º<code class="fe mf mg mh mi b">FirstComponent</code>çš„ç»„ä»¶æ”¾åˆ°è§†å›¾ä¸­ã€‚</p><h2 id="996b" class="mr ld iq bd le nd ne dn li nf ng dp lm kn nh ni lq kr nj nk lu kv nl nm ly nn bi translated">ä½¿ç”¨æ§åˆ¶å™¨åŠ¨ä½œ</h2><p id="492d" class="pw-post-body-paragraph kc kd iq ke b kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv me kx ky kz ij bi translated">react-rails gemå…è®¸æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå‘ˆç°reactç»„ä»¶çš„æ§åˆ¶å™¨åŠ¨ä½œã€‚è¿™æ¶ˆé™¤äº†å¯¹<em class="lb"> html.erb </em>æ¨¡æ¿çš„éœ€è¦ã€‚</p><pre class="mj mk ml mm gt mn mi mo mp aw mq bi"><span id="b558" class="mr ld iq mi b gy ms mt l mu mv"><em class="lb"># app/controllers/some_controller.rb</em><br/><strong class="mi ir">class</strong> <strong class="mi ir">SomeController</strong> <strong class="mi ir">&lt;</strong> ApplicationController<br/>  <strong class="mi ir">def</strong> <strong class="mi ir">index</strong><br/>    render component: '<!-- -->FirstComponent<!-- -->', props: { name: 'Jhon' }<br/>  <strong class="mi ir">end</strong><br/><strong class="mi ir">end</strong></span></pre><p id="085b" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">å¤ªå¥½äº†ï¼æˆ‘ä»¬åªæ˜¯æ¸²æŸ“æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªç»„ä»¶ã€‚</p><h1 id="9eb8" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated"><strong class="ak">ç»“è®º</strong></h1><p id="936b" class="pw-post-body-paragraph kc kd iq ke b kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv me kx ky kz ij bi translated">ä½¿ç”¨react-railså¯ä»¥ä½¿ç”¨åµŒå…¥å¼ruby HTMLåˆ›å»ºé¡µé¢çš„ä¸€éƒ¨åˆ†ï¼Œä½¿ç”¨reactç»„ä»¶åˆ›å»ºé¡µé¢çš„å¦ä¸€éƒ¨åˆ†ã€‚ä¸–ç•Œæ—ä¸šäººå‘˜åä¼š(Woodmen of the World)..</p><p id="923d" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><em class="lb">(é€šè¿‡ç»™åˆ«äºº</em>å¸®åŠ©åˆ«äººæ‰¾åˆ°æˆ‘åœ¨Mediumä¸Šçš„æ–‡ç« ğŸ‘ğŸ½<em class="lb">ä¸‹å›¾ã€‚)</em></p></div></div>    
</body>
</html>