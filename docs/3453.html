<html>
<head>
<title>Hitchhikerâ€™s Guide to the C# scripting</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">C#è„šæœ¬çš„æ­ä¾¿è½¦æŒ‡å—</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://itnext.io/hitchhikers-guide-to-the-c-scripting-13e45f753af9?source=collection_archive---------0-----------------------#2019-12-19">https://itnext.io/hitchhikers-guide-to-the-c-scripting-13e45f753af9?source=collection_archive---------0-----------------------#2019-12-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="52ff" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">æˆ‘ä»¬çŸ¥é“C#æ˜¯ä¸€ç§ç¼–ç¨‹è¯­è¨€ï¼Œä½†æ˜¯æˆ‘ä»¬å·²ç»æœ‰å‡ å¹´æ²¡æœ‰ç”¨æˆ‘ä»¬å–œçˆ±çš„è¯­è¨€CSharpç¼–å†™è„šæœ¬äº†ï¼è®©æˆ‘ä»¬å¼€å§‹æ—…ç¨‹å§ã€‚</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/e8fc4406503b6138a34eab1517ec7c39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1186/format:webp/1*wpbWKS2YSYt-tsGiliKUPQ.jpeg"/></div></figure></div><div class="ab cl kq kr hx ks" role="separator"><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv"/></div><div class="im in io ip iq"><h1 id="b66f" class="kx ky it bd kz la lb lc ld le lf lg lh jz li ka lj kc lk kd ll kf lm kg ln lo bi translated">èƒŒæ™¯</h1><blockquote class="lp lq lr"><p id="5f7b" class="ls lt lu lv b lw lx ju ly lz ma jx mb mc md me mf mg mh mi mj mk ml mm mn mo im bi translated">C#è„šæœ¬è¢«å¼•å…¥åˆ°ã€‚NETç¤¾åŒºä¸ç½—æ–¯æ—CTPæ—©åœ¨2011å¹´10æœˆã€‚C#è„šæœ¬èƒŒåçš„ä¸»è¦æ€æƒ³æ˜¯å…è®¸åœ¨è¿è¡Œæ—¶åŠ¨æ€è¯„ä¼°ä»£ç ã€‚è™½ç„¶è¿‡å»æœ‰å…¶ä»–æŠ€æœ¯å…è®¸è¿™æ ·åš(åå°„ã€‚Emitã€CodeDOMç­‰ã€‚)ï¼ŒRoslyné€šè¿‡å¼•å…¥è„šæœ¬å°†è¿™ä¸€æ¦‚å¿µæ¨å‘äº†æ–°çš„é«˜åº¦â€”â€”ä½¿ç”¨çš„ä¸æ˜¯å¸¸è§„çš„ä¸¥æ ¼C#ï¼Œè€Œæ˜¯C#è¯­è¨€è¯­ä¹‰çš„å®½æ¾ç‰ˆæœ¬ã€‚</p><p id="bab8" class="ls lt lu lv b lw lx ju ly lz ma jx mb mc md me mf mg mh mi mj mk ml mm mn mo im bi translated">å‚è€ƒ:<br/><a class="ae mp" href="https://blogs.msdn.microsoft.com/cdndevs/2015/12/01/adding-c-scripting-to-your-development-arsenal-part-1/" rel="noopener ugc nofollow" target="_blank">https://blogs . msdn . Microsoft . com/cdn devs/2015/12/01/adding-c-scripting-to-your-development-é˜¿æ£®çº³-part-1/ </a></p></blockquote><p id="0bc4" class="pw-post-body-paragraph ls lt it lv b lw lx ju ly lz ma jx mb mq md me mf mr mh mi mj ms ml mm mn mo im bi translated">ä½ ç”¨C# å†™è„šæœ¬äº†å—ï¼Ÿæœ‰äº›äººå¯èƒ½ä¸åŒæ„ç”¨C#ç¼–å†™è„šæœ¬ï¼Œå› ä¸ºè¿˜æœ‰å…¶ä»–é¢å‘è„šæœ¬çš„å·¥å…·ï¼Œæ¯”å¦‚bashã€power-shellï¼Œæœ‰æ—¶è¿˜æœ‰Pythonã€‚</p><p id="a245" class="pw-post-body-paragraph ls lt it lv b lw lx ju ly lz ma jx mb mq md me mf mr mh mi mj ms ml mm mn mo im bi translated"><strong class="lv iu">ç„¶è€Œï¼Œ</strong></p><p id="b745" class="pw-post-body-paragraph ls lt it lv b lw lx ju ly lz ma jx mb mq md me mf mr mh mi mj ms ml mm mn mo im bi translated">æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æœ‰ä¸€äº›åœ¨åå°è¿è¡Œè‰¯å¥½çš„åº“æˆ–ä»£ç ï¼Œä½ éœ€è¦å†™ä¸€äº›è„šæœ¬æ¥è‡ªåŠ¨åŒ–å¤§é‡çš„å·¥ä½œã€‚ä¸ºæ­¤ï¼Œæ‚¨ä¸å¿…å­¦ä¹ PowerShellæˆ–ä»»ä½•å…¶ä»–è„šæœ¬è¯­è¨€ï¼</p><ul class=""><li id="e682" class="mt mu it lv b lw lx lz ma mq mv mr mw ms mx mo my mz na nb bi translated">âœ”ä¸æ‰€æœ‰å¥½çš„å›¾ä¹¦é¦†åˆä½œã€‚JSONã€å®‰å…¨æ€§å’Œæ‰€æœ‰ç¨‹åºé›†)</li><li id="b6a7" class="mt mu it lv b lw nc lz nd mq ne mr nf ms ng mo my mz na nb bi translated">âœ”ä½ ä¸éœ€è¦å­¦ä¹ ä¸€é—¨æ–°çš„è¯­è¨€</li><li id="8d90" class="mt mu it lv b lw nc lz nd mq ne mr nf ms ng mo my mz na nb bi translated">âœ”è·¨å¹³å°(Macï¼ŒLinuxï¼ŒWindowsï¼ŒRaspberry Pi â€¦)</li></ul></div><div class="ab cl kq kr hx ks" role="separator"><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv"/></div><div class="im in io ip iq"><h1 id="e820" class="kx ky it bd kz la lb lc ld le lf lg lh jz li ka lj kc lk kd ll kf lm kg ln lo bi translated">C#è„šæœ¬ç¼–å†™å…¥é—¨</h1><p id="24c5" class="pw-post-body-paragraph ls lt it lv b lw nh ju ly lz ni jx mb mq nj me mf mr nk mi mj ms nl mm mn mo im bi translated">åœ¨CSharpä¸­ç¼–å†™è„šæœ¬æ²¡ä»€ä¹ˆå¤§ä¸äº†çš„ï¼›è¿™ä¸æ‚¨æ¯å¤©åœ¨å¼ºå¥çš„åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨çš„<code class="fe nm nn no np b">C#</code>ç›¸åŒã€‚</p><h2 id="2e1d" class="nq ky it bd kz nr ns dn ld nt nu dp lh mq nv nw lj mr nx ny ll ms nz oa ln ob bi translated">C#è„šæœ¬æ–‡ä»¶çš„ç»“æ„</h2><ol class=""><li id="f61c" class="mt mu it lv b lw nh lz ni mq oc mr od ms oe mo of mz na nb bi translated">C#è„šæœ¬æ–‡ä»¶åªæ˜¯æ‰©å±•åä¸º<code class="fe nm nn no np b">.csx</code>çš„çº¯æ–‡æœ¬æ–‡ä»¶</li><li id="4e81" class="mt mu it lv b lw nc lz nd mq ne mr nf ms ng mo of mz na nb bi translated">ä½¿ç”¨<code class="fe nm nn no np b">#r "path of a DLL assembly"</code>é¢„å¤„ç†å™¨æŒ‡ä»¤ï¼Œä½ å¯ä»¥å°†æ¯ä¸ªDLLå¼•ç”¨åˆ°è„šæœ¬ä¸­</li><li id="5fd4" class="mt mu it lv b lw nc lz nd mq ne mr nf ms ng mo of mz na nb bi translated">ä»å®ç°ç±»åˆ°ä½¿ç”¨å‘½åç©ºé—´ï¼Œæ¯ä¸ªC#ä»£ç éƒ½åœ¨æ–‡ä»¶å†…éƒ¨å·¥ä½œ</li></ol><p id="68ea" class="pw-post-body-paragraph ls lt it lv b lw lx ju ly lz ma jx mb mq md me mf mr mh mi mj ms ml mm mn mo im bi translated">ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„CRXæ–‡ä»¶çš„ä¾‹å­:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="56fc" class="pw-post-body-paragraph ls lt it lv b lw lx ju ly lz ma jx mb mq md me mf mr mh mi mj ms ml mm mn mo im bi translated">åªéœ€æµè§ˆä¸€ä¸‹ä»£ç ï¼Œå°±å¯ä»¥çœ‹åˆ°ä½ å¯ä»¥åšä»»ä½•äº‹æƒ…ï¼</p><p id="6c31" class="pw-post-body-paragraph ls lt it lv b lw lx ju ly lz ma jx mb mq md me mf mr mh mi mj ms ml mm mn mo im bi translated">ä¸è¿‡æ˜¯<code class="fe nm nn no np b">csx</code>æ¡£ã€‚ä½ æ‰“ç®—å¦‚ä½•æ‰§è¡Œå®ƒï¼Ÿè¦ç¼–å†™è„šæœ¬ï¼Œä½ éœ€è¦ä¸€ä¸ªç‰¹å®šçš„å·¥å…·ã€‚æœ‰å‡ ä¸ªè¿™æ ·çš„ä¾‹å­:</p><ul class=""><li id="3a59" class="mt mu it lv b lw lx lz ma mq mv mr mw ms mx mo my mz na nb bi translated"><strong class="lv iu">ç½—æ–¯æ—Mono CSI </strong>(å¦‚æœä½ å®‰è£…äº†Visual Studioæˆ–Mono SDKï¼Œä½ çš„æ“ä½œç³»ç»Ÿä¸Šå°±ä¼šæœ‰)</li><li id="29a7" class="mt mu it lv b lw nc lz nd mq ne mr nf ms ng mo my mz na nb bi translated"><a class="ae mp" href="https://github.com/filipw/dotnet-script" rel="noopener ugc nofollow" target="_blank"> <strong class="lv iu">ç‚¹ç½‘-è„šæœ¬</strong> </a>å…¨å±€ç‚¹ç½‘å·¥å…·</li><li id="1d10" class="mt mu it lv b lw nc lz nd mq ne mr nf ms ng mo my mz na nb bi translated"><a class="ae mp" href="https://www.cs-script.net/" rel="noopener ugc nofollow" target="_blank"><strong class="lv iu"/></a></li></ul><p id="a807" class="pw-post-body-paragraph ls lt it lv b lw lx ju ly lz ma jx mb mq md me mf mr mh mi mj ms ml mm mn mo im bi translated">æˆ‘å°†è§£é‡Šæˆ‘ä¸Šé¢æåˆ°çš„æ‰€æœ‰å·¥å…·ï¼Œæœ€åï¼Œæˆ‘ä»¬å°†å¯¹å®ƒä»¬è¿›è¡Œæ¯”è¾ƒã€‚</p><h2 id="05c9" class="nq ky it bd kz nr ns dn ld nt nu dp lh mq nv nw lj mr nx ny ll ms nz oa ln ob bi translated">ä½¿ç”¨Mono/Roslyn CSIè¿è¡Œè„šæœ¬</h2><p id="ccbf" class="pw-post-body-paragraph ls lt it lv b lw nh ju ly lz ni jx mb mq nj me mf mr nk mi mj ms nl mm mn mo im bi translated">æˆ‘å·²ç»åœ¨æˆ‘çš„æ“ä½œç³»ç»Ÿä¸Šå®‰è£…äº†<strong class="lv iu"> Mono SDK </strong>ï¼Œæ‰€ä»¥æˆ‘å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œç›´æ¥è®¿é—®<code class="fe nm nn no np b">csi.exe</code>ï¼æ‚¨å¯ä»¥ä½¿ç”¨æ‰€åœ¨çš„<strong class="lv iu">æˆ–<strong class="lv iu">æ‰€åœ¨çš„</strong>å‘½ä»¤<strong class="lv iu">æ¥æ£€æŸ¥å®ƒæ˜¯å¦åœ¨è·¯å¾„ä¸Šã€‚</strong></strong></p><pre class="kj kk kl km gt oi np oj ok aw ol bi"><span id="9736" class="nq ky it np b gy om on l oo op">C:\&gt;where csi<br/>C:\Program Files\Mono\bin\csi<br/>C:\Program Files\Mono\bin\csi.bat</span></pre><p id="6ae2" class="pw-post-body-paragraph ls lt it lv b lw lx ju ly lz ma jx mb mq md me mf mr mh mi mj ms ml mm mn mo im bi translated">CSIå‘½ä»¤çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯<code class="fe nm nn no np b">csx</code>æ–‡ä»¶ã€‚</p><pre class="kj kk kl km gt oi np oj ok aw ol bi"><span id="7587" class="nq ky it np b gy om on l oo op">&gt; csi sample-job1.csx</span><span id="1f53" class="nq ky it np b gy oq on l oo op">Hello World!<br/>Hello World, This file is created at 19/12/2019 11:40:37</span></pre><p id="e451" class="pw-post-body-paragraph ls lt it lv b lw lx ju ly lz ma jx mb mq md me mf mr mh mi mj ms ml mm mn mo im bi translated">å› ä¸ºå®ƒåœ¨è§£é‡Šå™¨æ¨¡å¼ä¸‹è¿è¡Œæ–‡ä»¶ï¼Œæ‰€ä»¥éœ€è¦ä¸€ç§’é’Ÿã€‚ç°åœ¨è®©æˆ‘ä»¬å¼•ç”¨ä¸€äº›æ±‡ç¼–åˆ°CSXæ–‡ä»¶ä¸­ã€‚</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="02c9" class="pw-post-body-paragraph ls lt it lv b lw lx ju ly lz ma jx mb mq md me mf mr mh mi mj ms ml mm mn mo im bi translated">æˆ‘ä¸‹è½½äº†<strong class="lv iu"> Newtonsoftçš„<code class="fe nm nn no np b">Assembly dll</code>ã€‚å¹¶æŠŠå®ƒæ”¾åœ¨æˆ‘çš„CSXæ–‡ä»¶æ—è¾¹ã€‚</strong></p><pre class="kj kk kl km gt oi np oj ok aw ol bi"><span id="ac79" class="nq ky it np b gy om on l oo op">&gt; csi sample-job2.csx</span><span id="37dd" class="nq ky it np b gy oq on l oo op">{"Id":"5611f423-9819-4f02-887e-4d39e9a9b0b8","Name":"FooBar","Enabled":true}</span></pre><p id="3df6" class="pw-post-body-paragraph ls lt it lv b lw lx ju ly lz ma jx mb mq md me mf mr mh mi mj ms ml mm mn mo im bi translated">æˆ‘ç”¨çš„æ˜¯<strong class="lv iu"> JsonConvertã€‚åºåˆ—åŒ–è™šæ‹Ÿå¯¹è±¡çš„SerializeObject </strong>æ–¹æ³•ã€‚</p><p id="3b67" class="pw-post-body-paragraph ls lt it lv b lw lx ju ly lz ma jx mb mq md me mf mr mh mi mj ms ml mm mn mo im bi translated">ğŸ’¡<em class="lu">å¦‚æœä½ åªæ˜¯æ‰“å¼€</em> <code class="fe nm nn no np b"><em class="lu">csi</em></code> <em class="lu"> appï¼Œå®ƒä¼šåœ¨ç»ˆç«¯æ‰§è¡Œreplï¼Œä½ å¯ä»¥é€è¡Œæ‰§è¡ŒC#ä»£ç ã€‚</em></p><pre class="kj kk kl km gt oi np oj ok aw ol bi"><span id="5ee0" class="nq ky it np b gy om on l oo op">C:\&gt;csi<br/>Microsoft (R) Visual C# Interactive Compiler version 3.3.1-beta4-19462-11 ()<br/>Copyright (C) Microsoft Corporation. All rights reserved.</span><span id="3423" class="nq ky it np b gy oq on l oo op">Type "#help" for more information.<br/>&gt; var message= "Hello World";<br/>&gt; Console.WriteLine(message);<br/>Hello World<br/>&gt;</span></pre><h2 id="f156" class="nq ky it bd kz nr ns dn ld nt nu dp lh mq nv nw lj mr nx ny ll ms nz oa ln ob bi translated">å‚è€ƒNuGetåŒ…æ€ä¹ˆæ ·ï¼Ÿ</h2><p id="816a" class="pw-post-body-paragraph ls lt it lv b lw nh ju ly lz ni jx mb mq nj me mf mr nk mi mj ms nl mm mn mo im bi translated">å¯æƒœCSIä¸æ”¯æŒNuGetã€‚å› æ­¤ï¼Œæ‚¨å¿…é¡»æ‰‹åŠ¨ä¸‹è½½DLLç¨‹åºé›†å¹¶å°†å…¶æ”¾åœ¨è„šæœ¬æ—è¾¹ã€‚ä½†æ˜¯æ­£å¦‚æˆ‘å·²ç»æåˆ°çš„ï¼Œè¿˜æœ‰å…¶ä»–å·¥å…·ä¹Ÿæ”¯æŒNuGetã€‚</p><p id="3148" class="pw-post-body-paragraph ls lt it lv b lw lx ju ly lz ma jx mb mq md me mf mr mh mi mj ms ml mm mn mo im bi translated">ğŸ“’<em class="lu">ç¡®ä¿ä½ çš„å¹³å°ä¸Šå®‰è£…äº†</em><a class="ae mp" href="https://dotnet.microsoft.com/" rel="noopener ugc nofollow" target="_blank"><strong class="lv iu"><em class="lu">dotnet runtime/SDK</em></strong><em class="lu"/></a><em class="lu">ã€‚</em></p><h2 id="3a6f" class="nq ky it bd kz nr ns dn ld nt nu dp lh mq nv nw lj mr nx ny ll ms nz oa ln ob bi translated">dot net-è„šæœ¬å…¨å±€å·¥å…·</h2><p id="3feb" class="pw-post-body-paragraph ls lt it lv b lw nh ju ly lz ni jx mb mq nj me mf mr nk mi mj ms nl mm mn mo im bi translated">å…³äº<strong class="lv iu"> dotnet core CLI </strong>æœ€å¥½çš„äº‹æƒ…ä¹‹ä¸€æ˜¯å®ƒçš„å…¨çƒå·¥å…·ã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œè¯»åˆ°å®ƒä»¬<a class="ae mp" href="https://docs.microsoft.com/en-us/dotnet/core/tools/global-tools" rel="noopener ugc nofollow" target="_blank">ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå®ƒä»¬åªæ˜¯ä¸€ä¸ªåŒ…å«æ§åˆ¶å°åº”ç”¨ç¨‹åºçš„ç‰¹æ®ŠNuGetåŒ…ã€‚å…¨å±€å·¥å…·å¯ä»¥å®‰è£…åœ¨è®¡ç®—æœºä¸ŠPATHç¯å¢ƒå˜é‡ä¸­åŒ…å«çš„é»˜è®¤ä½ç½®æˆ–è‡ªå®šä¹‰ä½ç½®ã€‚</a></p><p id="6deb" class="pw-post-body-paragraph ls lt it lv b lw lx ju ly lz ma jx mb mq md me mf mr mh mi mj ms ml mm mn mo im bi translated">è¯¥å·¥å…·å¯ä»¥è¿™æ ·å®‰è£…:</p><pre class="kj kk kl km gt oi np oj ok aw ol bi"><span id="2272" class="nq ky it np b gy om on l oo op">&gt; dotnet tool install -g dotnet-script</span><span id="7a37" class="nq ky it np b gy oq on l oo op">You can invoke the tool using the following command: dotnet-script<br/>Tool 'dotnet-script' (version '0.50.1') was successfully installed.</span></pre><p id="6840" class="pw-post-body-paragraph ls lt it lv b lw lx ju ly lz ma jx mb mq md me mf mr mh mi mj ms ml mm mn mo im bi translated"><strong class="lv iu"> dotnet-scriptå·¥å…·</strong>å†…ç½®äº†NuGetæ”¯æŒï¼æ‰€ä»¥æ‚¨å¯ä»¥å¾ˆå®¹æ˜“åœ°ä½¿ç”¨è¿™ä¸ªæŒ‡ä»¤æ¥å¼•ç”¨æ‚¨å–œæ¬¢çš„ä»»ä½•NuGetåŒ…ã€‚</p><pre class="kj kk kl km gt oi np oj ok aw ol bi"><span id="6988" class="nq ky it np b gy om on l oo op">#r â€œnuget: PackageId, versionâ€</span><span id="78f8" class="nq ky it np b gy oq on l oo op">// for e.g:<br/>// #r â€œnuget: Newtonsoft.Json, 12.0.3â€</span></pre><p id="355b" class="pw-post-body-paragraph ls lt it lv b lw lx ju ly lz ma jx mb mq md me mf mr mh mi mj ms ml mm mn mo im bi translated">è¯·ç¡®ä¿æ‚¨è®¾ç½®äº†ç‰ˆæœ¬ï¼Œå› ä¸º<strong class="lv iu"> dotnet-script </strong>å°†ä¸ºä¸‹æ¬¡æ‰§è¡Œç¼“å­˜åŒ…ï¼Œè¿™å°†ä½¿è„šæœ¬è¿è¡Œå¾—æ›´å¿«ï¼</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="62ec" class="pw-post-body-paragraph ls lt it lv b lw lx ju ly lz ma jx mb mq md me mf mr mh mi mj ms ml mm mn mo im bi translated">ç¬¬ä¸€æ¬¡å¯åŠ¨æœ‰ç‚¹æ…¢ï¼Œå› ä¸ºå®ƒè¦ä¸‹è½½NuGetåŒ…åŠå…¶ä¾èµ–é¡¹ï¼</p><pre class="kj kk kl km gt oi np oj ok aw ol bi"><span id="3db4" class="nq ky it np b gy om on l oo op">&gt; dotnet script sample-job3.csx</span><span id="a431" class="nq ky it np b gy oq on l oo op">{"Id":"5f14b3be-d634-414d-95e2-b015fda6d383","Name":"FooBar","Enabled":true}</span></pre><p id="a06c" class="pw-post-body-paragraph ls lt it lv b lw lx ju ly lz ma jx mb mq md me mf mr mh mi mj ms ml mm mn mo im bi translated">ç»“æœè¿˜æ˜¯ä¸€æ ·çš„å§ï¼Ÿ</p><p id="88e1" class="pw-post-body-paragraph ls lt it lv b lw lx ju ly lz ma jx mb mq md me mf mr mh mi mj ms ml mm mn mo im bi translated">dotnet-scriptçš„ä¸€ä¸ªå¾ˆå¤§çš„ä¼˜ç‚¹å°±æ˜¯æ­å»ºäº†ä¸€ä¸ªæ¡†æ¶ï¼Œå¯ä»¥å¸®åŠ©ä½ ä¸ºä½ çš„è„šæœ¬åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå¹¶ä¸ºä½ å¿ƒçˆ±çš„VSCodeè®¾ç½®å¯åŠ¨è®¾ç½®ï¼</p><pre class="kj kk kl km gt oi np oj ok aw ol bi"><span id="cbc2" class="nq ky it np b gy om on l oo op">&gt; dotnet-script init</span><span id="46a9" class="nq ky it np b gy oq on l oo op">Creating VS Code launch configuration file<br/>...'\path\.vscode\launch.json' [Created]<br/>Creating OmniSharp configuration file<br/>...'\path\omnisharp.json' [Created]<br/>Creating default script file 'main.csx'<br/>Creating 'main.csx'<br/>...'\path\main.csx' [Created]</span></pre><p id="8d78" class="pw-post-body-paragraph ls lt it lv b lw lx ju ly lz ma jx mb mq md me mf mr mh mi mj ms ml mm mn mo im bi translated">é€šè¿‡è¿™ç§é…ç½®ï¼Œæ‚¨å¯ä»¥åœ¨VSCodeä¸­è¿è¡Œå’Œè°ƒè¯•æ‚¨çš„ä»£ç ï¼</p><h2 id="4469" class="nq ky it bd kz nr ns dn ld nt nu dp lh mq nv nw lj mr nx ny ll ms nz oa ln ob bi translated">Script-CS-ä½¿ç”¨ç®€å•çš„æ–‡æœ¬ç¼–è¾‘å™¨è½»æ¾ç¼–å†™å’Œæ‰§è¡ŒC#ã€‚</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi or"><img src="../Images/a6fc6086fd6148a57084ffd2f940cf3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:920/format:webp/1*bhfFk1GmMYgSiHdG1Y7mDA.png"/></div></figure><p id="8a01" class="pw-post-body-paragraph ls lt it lv b lw lx ju ly lz ma jx mb mq md me mf mr mh mi mj ms ml mm mn mo im bi translated">ä¸<code class="fe nm nn no np b">dotnet-script</code>å’Œ<code class="fe nm nn no np b">CSI</code>ç›¸æ¯”ï¼ŒScript-CSæœ‰ç‚¹ä¸åŒã€‚å®‰è£…å®ƒçš„å”¯ä¸€æ–¹æ³•æ˜¯é€šè¿‡Chocolatyï¼Œè¿™æ˜¯ä¸€ä¸ªwindowsè½¯ä»¶åŒ…å®‰è£…ç¨‹åºã€‚</p><pre class="kj kk kl km gt oi np oj ok aw ol bi"><span id="c78e" class="nq ky it np b gy om on l oo op"># install it with chocolaty</span><span id="e0e0" class="nq ky it np b gy oq on l oo op">cinst scriptcs</span></pre><p id="2b1b" class="pw-post-body-paragraph ls lt it lv b lw lx ju ly lz ma jx mb mq md me mf mr mh mi mj ms ml mm mn mo im bi translated">å®‰è£…åï¼Œæ‚¨å¯ä»¥è®¿é—®CMDä¸­çš„<strong class="lv iu">è„šæœ¬</strong>å‘½ä»¤ã€‚é€šè¿‡åœ¨cmdä¸­é”®å…¥<code class="fe nm nn no np b">scripts</code>,å°†è¿è¡Œ<strong class="lv iu"> scriptcs-repl </strong>,è¿™å…è®¸æ‚¨é€è¡Œè¾“å…¥C#ä»£ç :</p><pre class="kj kk kl km gt oi np oj ok aw ol bi"><span id="68f6" class="nq ky it np b gy om on l oo op">C:\&gt;scriptcs<br/>Moving directory '.cache' to '.scriptcs_cache'...<br/>scriptcs (ctrl-c to exit or :help for help)</span><span id="7b23" class="nq ky it np b gy oq on l oo op">&gt; var message = "Hello World";<br/>&gt; Console.WriteLine(message);<br/>Hello World<br/>&gt;</span></pre><p id="c733" class="pw-post-body-paragraph ls lt it lv b lw lx ju ly lz ma jx mb mq md me mf mr mh mi mj ms ml mm mn mo im bi translated">å¯¹äºå®‰è£…NuGetåŒ…ï¼Œå¯ä»¥ä½¿ç”¨<code class="fe nm nn no np b"><strong class="lv iu">-install</strong></code>å‚æ•°ã€‚<strong class="lv iu">è¿™åº”è¯¥åœ¨æ‚¨çš„è„šæœ¬æ–‡ä»¶å¤¹ä¸­æ‰§è¡Œã€‚</strong></p><pre class="kj kk kl km gt oi np oj ok aw ol bi"><span id="be51" class="nq ky it np b gy om on l oo op">C:\&gt;scriptcs -install Newtonsoft.Json</span><span id="079c" class="nq ky it np b gy oq on l oo op">Installing packages...<br/>Installed: Newtonsoft.Json<br/>Package installation succeeded.<br/>Saving packages in scriptcs_packages.config...<br/>Creating scriptcs_packages.config...<br/>Added Newtonsoft.Json (v9.0.1, .NET 4.5) to scriptcs_packages.config<br/>Successfully updated scriptcs_packages.config.</span></pre><p id="b13f" class="pw-post-body-paragraph ls lt it lv b lw lx ju ly lz ma jx mb mq md me mf mr mh mi mj ms ml mm mn mo im bi translated">ç”¨ScriptCsç¼–å†™ä»£ç ä¸å…¶ä»–ä»£ç æ²¡æœ‰ä»€ä¹ˆä¸åŒï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="2f23" class="pw-post-body-paragraph ls lt it lv b lw lx ju ly lz ma jx mb mq md me mf mr mh mi mj ms ml mm mn mo im bi translated">å¹¶åƒè¿™æ ·æ‰§è¡Œå®ƒ:</p><pre class="kj kk kl km gt oi np oj ok aw ol bi"><span id="1ad0" class="nq ky it np b gy om on l oo op">C:\&gt;scriptcs sample-job2.csx</span><span id="0bd6" class="nq ky it np b gy oq on l oo op">{"Id":"e3a9d76e-d558-46d1-8d1a-b831c8013e16","Name":"FooBar","Enabled":true}</span></pre><p id="945f" class="pw-post-body-paragraph ls lt it lv b lw lx ju ly lz ma jx mb mq md me mf mr mh mi mj ms ml mm mn mo im bi translated">å¼•ç”¨ç»„ä»¶å’Œå…¶ä»–ä¸<code class="fe nm nn no np b">#r</code>æŒ‡ä»¤ç›¸åŒã€‚</p><h2 id="0b95" class="nq ky it bd kz nr ns dn ld nt nu dp lh mq nv nw lj mr nx ny ll ms nz oa ln ob bi translated">æ’é™¤æ•…éšœ</h2><blockquote class="lp lq lr"><p id="d08d" class="ls lt lu lv b lw lx ju ly lz ma jx mb mc md me mf mg mh mi mj mk ml mm mn mo im bi translated">å¯æƒœæ–‡ç« æ²¡æœ‰æåˆ°å¦‚ä½•åœ¨å®é™…çš„IDEä¸­åœ¨éœ€è¦çš„æ—¶å€™è°ƒè¯•è¿™æ ·ä¸€ä¸ªè„šæœ¬â€¦â€¦<br/>â€”<a class="ae mp" href="https://www.reddit.com/r/csharp/comments/ectt1v/hitchhikers_guide_to_the_c_scripting/fbe2l1g?utm_source=share&amp;utm_medium=web2x" rel="noopener ugc nofollow" target="_blank">https://www . Reddit . com/r/cs harp/comments/ectt1v/hitchligers _ guide _ to _ the _ c _ scripting/FBE 2 l1gï¼ŸUTM _ source = share&amp;UTM _ medium = web2x</a></p></blockquote><p id="e897" class="pw-post-body-paragraph ls lt it lv b lw lx ju ly lz ma jx mb mq md me mf mr mh mi mj ms ml mm mn mo im bi translated">ä½ ä¸èƒ½ç”¨CSI <strong class="lv iu">è°ƒè¯•ä½ çš„è„šæœ¬ï¼Œä½†æ˜¯</strong> <em class="lu"> Script-CS </em>å’Œ<em class="lu"> Dotnet-Script </em>æä¾›è°ƒè¯•ï¼Œå°½ç®¡<a class="ae mp" href="https://marketplace.visualstudio.com/items?itemName=IgalTabachnik.AnyScriptCS" rel="noopener ugc nofollow" target="_blank"> Script-CSè°ƒè¯•å¾ˆæ£˜æ‰‹ï¼Œéœ€è¦Visual Studio </a>å’Œä¸€ä¸ªä¸æœ€æ–°çš„Visual Studioä¸æ˜¯100%å…¼å®¹çš„æ‰©å±•ã€‚åœ¨è¿™ä¸€èŠ‚ä¸­ï¼Œæˆ‘åªè®¨è®º<strong class="lv iu"> dotnet-script </strong>è°ƒè¯•ã€‚</p><ol class=""><li id="c140" class="mt mu it lv b lw lx lz ma mq mv mr mw ms mx mo of mz na nb bi translated">ç”¨dotnet-script scaffolderåˆå§‹åŒ–æ–°è„šæœ¬</li></ol><pre class="kj kk kl km gt oi np oj ok aw ol bi"><span id="107c" class="nq ky it np b gy om on l oo op">&gt; mkdir foo-bar</span><span id="4643" class="nq ky it np b gy oq on l oo op">&gt; cd foo-bar</span><span id="e1dd" class="nq ky it np b gy oq on l oo op">&gt; dotnet-script init foobar<br/>Creating VS Code launch configuration file<br/>...'\foo-bar\.vscode\launch.json' [Created]<br/>Creating OmniSharp configuration file<br/>...'\foo-bar\omnisharp.json' [Created]<br/>Creating 'foobar'<br/>...'\foo-bar\foobar.csx' [Created]</span></pre><p id="3a87" class="pw-post-body-paragraph ls lt it lv b lw lx ju ly lz ma jx mb mq md me mf mr mh mi mj ms ml mm mn mo im bi translated">å®‰è£…<a class="ae mp" href="https://code.visualstudio.com/download" rel="noopener ugc nofollow" target="_blank"> VSCode </a>å¦‚æœä½ è¿˜æ²¡æœ‰å®‰è£…å®ƒï¼Œé‚£ä¹ˆåƒè¿™æ ·æ‰“å¼€è„šæœ¬çš„æ–‡ä»¶å¤¹:</p><pre class="kj kk kl km gt oi np oj ok aw ol bi"><span id="b6bd" class="nq ky it np b gy om on l oo op">code .</span></pre><p id="90da" class="pw-post-body-paragraph ls lt it lv b lw lx ju ly lz ma jx mb mq md me mf mr mh mi mj ms ml mm mn mo im bi translated">å¦‚æœè¿™æ˜¯ä½ ç¬¬ä¸€æ¬¡æ‰“å¼€ä»»ä½•<code class="fe nm nn no np b">.cs</code>æˆ–<code class="fe nm nn no np b">.csx</code>æ–‡ä»¶ï¼ŒVSCodeå°†å®‰è£…<a class="ae mp" href="https://code.visualstudio.com/docs/languages/csharp" rel="noopener ugc nofollow" target="_blank"> C#æ‰©å±•</a>å’Œ<a class="ae mp" href="http://www.omnisharp.net/" rel="noopener ugc nofollow" target="_blank"> Omnisharp </a>å®ƒéœ€è¦ä¸åˆ°ä¸€åˆ†é’Ÿçš„æ—¶é—´ã€‚ç°åœ¨ä½ å¯ä»¥è½»æ¾åœ°è®¾ç½®æ–­ç‚¹å¹¶æŒ‰ä¸‹<strong class="lv iu"> F5 </strong>æ¥è¿è¡Œå’Œè°ƒè¯•ä½ çš„è„šæœ¬ï¼</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ot ou di ov bf ow"><div class="gh gi os"><img src="../Images/7516640e52ed4980974e8d238273410a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*OnqnNNoqHljbDEew1eE-PA.gif"/></div></div><figcaption class="ox oy gj gh gi oz pa bd b be z dk translated">VSCodeä¸­çš„è°ƒè¯•ç¤ºä¾‹</figcaption></figure><h2 id="bbeb" class="nq ky it bd kz nr ns dn ld nt nu dp lh mq nv nw lj mr nx ny ll ms nz oa ln ob bi translated">ç”¨å“ªä¸ªï¼Ÿ</h2><pre class="kj kk kl km gt oi np oj ok aw ol bi"><span id="f0cd" class="nq ky it np b gy om on l oo op">.-----------------.------.-------.----------------.--------.<br/>|      Name       | Repl | Nuget | Cross-Platform |  Debug |<br/>:-----------------+------+-------+----------------+--------:<br/>| Mono/Roslyn CSI | Yes  | No    | Yes            | No     |<br/>:-----------------+------+-------+----------------+--------:<br/>| Script-CS       | Yes  | Yes   | No             | Yes(1) |<br/>:-----------------+------+-------+----------------+--------:<br/>| Dotnet-Script   | Yes  | Yes   | Yes            | Yes    |<br/>'-----------------'------'-------'----------------'--------'</span><span id="c361" class="nq ky it np b gy oq on l oo op">1. Script-CS supports debugging but it requies complete Visual Studio and it's not easy to do</span></pre><p id="e9bb" class="pw-post-body-paragraph ls lt it lv b lw lx ju ly lz ma jx mb mq md me mf mr mh mi mj ms ml mm mn mo im bi translated">ä¾æˆ‘æ‹™è§ï¼Œ<strong class="lv iu"> dotnet-script </strong>æ˜¯æœ€å¥½çš„é€‰æ‹©ï¼Œå®ƒæœ‰è®¸å¤šå…¶ä»–åŠŸèƒ½ï¼Œå¦‚ç¼–è¯‘æˆ<strong class="lv iu"> exe </strong>ä½†è¿™åªæ˜¯æˆ‘çš„æ‹™è§ï¼Œå®ƒæ€»æ˜¯å–å†³äºä½ å’Œä½ çš„éœ€æ±‚ï¼Œä½ éœ€è¦çœ‹çœ‹å“ªä¸ªå·¥å…·æ›´å¥½åœ°è§£å†³ä½ çš„é—®é¢˜ã€‚</p><h2 id="faed" class="nq ky it bd kz nr ns dn ld nt nu dp lh mq nv nw lj mr nx ny ll ms nz oa ln ob bi translated">å‚è€ƒ</h2><p id="3418" class="pw-post-body-paragraph ls lt it lv b lw nh ju ly lz ni jx mb mq nj me mf mr nk mi mj ms nl mm mn mo im bi translated"><strong class="lv iu">è¿™æ˜¯æˆ‘ç”¨æ¥äº†è§£C#è„šæœ¬èƒŒæ™¯çš„ä¸€äº›å‚è€ƒèµ„æ–™ã€‚</strong></p><ol class=""><li id="a003" class="mt mu it lv b lw lx lz ma mq mv mr mw ms mx mo of mz na nb bi translated"><a class="ae mp" href="https://devblogs.microsoft.com/visualstudio/introducing-the-microsoft-roslyn-ctp/" rel="noopener ugc nofollow" target="_blank">ä»‹ç»å¾®è½¯â€œç½—æ–¯æ—â€CTP </a></li><li id="e377" class="mt mu it lv b lw nc lz nd mq ne mr nf ms ng mo of mz na nb bi translated"><a class="ae mp" href="https://blogs.msdn.microsoft.com/cdndevs/2015/12/01/adding-c-scripting-to-your-development-arsenal-part-1/" rel="noopener ugc nofollow" target="_blank">å°†C#è„šæœ¬æ·»åŠ åˆ°æ‚¨çš„å¼€å‘å·¥å…·ä¸­</a></li></ol></div><div class="ab cl kq kr hx ks" role="separator"><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv"/></div><div class="im in io ip iq"><h2 id="3fe8" class="nq ky it bd kz nr ns dn ld nt nu dp lh mq nv nw lj mr nx ny ll ms nz oa ln ob bi translated">å¦‚æœä½ å–œæ¬¢æˆ‘çš„æ–‡ç« ï¼Œè¯·å¤šçœ‹çœ‹æˆ‘å…³äºC#çš„å…¶ä»–æ–‡ç« </h2><ul class=""><li id="3c0c" class="mt mu it lv b lw nh lz ni mq oc mr od ms oe mo my mz na nb bi translated"><a class="ae mp" rel="noopener ugc nofollow" target="_blank" href="/run-c-natively-in-the-browser-through-the-web-assembly-via-mono-wasm-60f3d55dd05a">ä½¿ç”¨mono-wasmé€šè¿‡webç¨‹åºé›†åœ¨æµè§ˆå™¨ä¸­æœ¬åœ°è¿è¡ŒC#</a></li></ul></div></div>    
</body>
</html>