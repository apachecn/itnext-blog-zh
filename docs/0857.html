<html>
<head>
<title>Testing Vue Components with Mocha and Webpack</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ç”¨Mochaå’ŒWebpackæµ‹è¯•Vueç»„ä»¶</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://itnext.io/testing-vue-components-with-mocha-and-webpack-594a9f7e28b9?source=collection_archive---------2-----------------------#2018-06-10">https://itnext.io/testing-vue-components-with-mocha-and-webpack-594a9f7e28b9?source=collection_archive---------2-----------------------#2018-06-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/0d951718846fa3da84b854d6d72b7e18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gkSwF-41U1EePJU5ToNZ8w.png"/></div></div></figure><p id="4509" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æˆ‘å†™ä¸‹äº†å¼€å§‹ä½¿ç”¨Vue.js + TDDçš„æ‰€æœ‰å¿…è¦æ­¥éª¤ã€‚æœ€å°‘è¯´è¯ï¼Œåªæ˜¯ä»£ç ï¼ğŸ¤“</p><h1 id="c85a" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">åŸºæœ¬è®¾ç½®</h1><p id="aa91" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">æˆ‘ä»¬å°†ä»åœ¨ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤å¼€å§‹:</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="b83e" class="mi kx iq me b gy mj mk l ml mm">$ mkdir vue-tdd &amp;&amp; cd $_<br/>$ npm init -y</span></pre><p id="a3e6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">è¿™å°†åˆ›å»ºä¸€ä¸ªåä¸º<strong class="ka ir"> vue-tdd </strong>çš„æ–°ç›®å½•ï¼Œå¹¶åœ¨å…¶ä¸­æ­å»ºä¸€ä¸ªåŸºæœ¬çš„<code class="fe mn mo mp me b">package.json</code>æ–‡ä»¶ã€‚</p><p id="c48c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…Vueå¹¶é…ç½®Webpackï¼Œä»¥ä¾¿å®ƒå¯ä»¥ç¼–è¯‘<code class="fe mn mo mp me b">.vue</code>æ–‡ä»¶ã€‚</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="5f84" class="mi kx iq me b gy mj mk l ml mm">$ npm install vue --save<br/>$ npm install webpack webpack-cli --save-dev</span></pre><p id="837f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ç°åœ¨æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€äº›æ–‡ä»¶æ¥ä½¿ç”¨:</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="8341" class="mi kx iq me b gy mj mk l ml mm">$ touch index.html app.js webpack.config.js</span></pre><p id="bf72" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æˆ‘ä»¬çš„é¡¹ç›®ç°åœ¨çœ‹èµ·æ¥åƒè¿™æ ·:</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="4240" class="mi kx iq me b gy mj mk l ml mm">./index.html<br/>./app.js<br/>./package.json<br/>./package-lock.json<br/>./webpack.config.js<br/>./node_modules/</span></pre><p id="8b79" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">è®©æˆ‘ä»¬æ·»åŠ ä¸€äº›åŸºæœ¬çš„æ ·æ¿ä»£ç åˆ°æˆ‘ä»¬çš„æ–‡ä»¶ä¸­ï¼Œè®©äº‹æƒ…å¼€å§‹è¿è¡Œï¼</p><figure class="lz ma mb mc gt jr"><div class="bz fp l di"><div class="mq mr l"/></div></figure><figure class="lz ma mb mc gt jr"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="8561" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æˆ‘ä»¬è¿˜æ²¡æœ‰ä¸€ä¸ª<code class="fe mn mo mp me b">bundle.js</code>æ–‡ä»¶ï¼Œä½†æ˜¯è¿™ä¸ªåŸºæœ¬çš„<code class="fe mn mo mp me b">webpack.config.js</code>æ–‡ä»¶ä¼šä¸ºæˆ‘ä»¬ç¼–è¯‘ä¸€ä¸ª:</p><figure class="lz ma mb mc gt jr"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="7ea7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">è¿è¡Œ<code class="fe mn mo mp me b">node_modules/.bin/webpack</code>ï¼Œè®©Webpackå‘æŒ¥å®ƒçš„é­”åŠ›ï¼æˆ–è€…æ›´å¥½çš„æ˜¯ï¼Œå°†ä¸‹é¢çš„è„šæœ¬æ·»åŠ åˆ°<code class="fe mn mo mp me b">package.json</code></p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="a988" class="mi kx iq me b gy mj mk l ml mm">"scripts": {<br/>  "watch": "webpack -w -d"<br/>}</span></pre><p id="9e95" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ä»ç°åœ¨å¼€å§‹ï¼Œæˆ‘ä»¬åªéœ€è¿è¡Œ<code class="fe mn mo mp me b">npm run watch</code>ï¼Œä¿å­˜åWebpackä¼šè‡ªåŠ¨ç¼–è¯‘<code class="fe mn mo mp me b">app.js</code>ã€‚</p><h1 id="e830" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">ç¼–è¯‘Vueç»„ä»¶</h1><p id="84a9" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">å¥½äº†ï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç®€å•çš„Vueç»„ä»¶ï¼Œè®©æ‚¨åœ¨è¾“å…¥å­—æ®µä¸­é”®å…¥æ‚¨çš„å§“åï¼Œç„¶åæ‰“å°å‡ºæ¥:</p><figure class="lz ma mb mc gt jr"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="69dd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">å°†ç»„ä»¶æ·»åŠ åˆ°<code class="fe mn mo mp me b">index.html</code>å¹¶å¯¼å…¥åˆ°<code class="fe mn mo mp me b">app.js</code></p><figure class="lz ma mb mc gt jr"><div class="bz fp l di"><div class="mq mr l"/></div></figure><figure class="lz ma mb mc gt jr"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="2eec" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ä¸ºäº†ç¼–è¯‘Vueç»„ä»¶ï¼Œéœ€è¦ä¿®æ”¹<code class="fe mn mo mp me b">webpack.config.js</code>æ–‡ä»¶ã€‚è¿™å¯ä»¥ä½¿ç”¨Vue Loaderæ¥å®Œæˆï¼Œå®ƒæ˜¯Webpackçš„ä¸€ä¸ªåŠ è½½å™¨ã€‚</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="ffc6" class="mi kx iq me b gy mj mk l ml mm">$ npm install vue-loader --save-dev</span></pre><figure class="lz ma mb mc gt jr"><div class="bz fp l di"><div class="mq mr l"/></div></figure><h1 id="8ae8" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">å®‰è£…Vueæµ‹è¯•å·¥å…·</h1><p id="90ed" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">éšç€Webpackçš„é…ç½®å’ŒVueç»„ä»¶çš„å·¥ä½œï¼Œç»ˆäºåˆ°äº†ä¸€äº›TDDçš„æ—¶å€™äº†ï¼æˆ‘ä¸€ç›´åœ¨éµå¾ªè¿™ä¸ªå…³äº<a class="ae ms" href="https://vue-test-utils.vuejs.org/guides/#testing-single-file-components-with-mocha-webpack" rel="noopener ugc nofollow" target="_blank">å¦‚ä½•ä½¿ç”¨Mochaå’ŒVueæµ‹è¯•å·¥å…·çš„æŒ‡å—</a>ã€‚</p><p id="5e4b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ç¬¬ä¸€æ­¥å½“ç„¶æ˜¯å¤šè¿è¡Œå‡ æ¬¡<code class="fe mn mo mp me b">npm install</code>:</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="61a1" class="mi kx iq me b gy mj mk l ml mm">$ npm install --save-dev @vue/test-utils mocha mocha-webpack<br/>$ npm install --save-dev jsdom jsdom-global<br/>$ npm install --save-dev expect</span></pre><p id="1a3f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ç„¶åæˆ‘ä»¬åº”è¯¥å°†ä¸€ä¸ª<code class="fe mn mo mp me b">test</code>è„šæœ¬æ·»åŠ åˆ°æˆ‘ä»¬çš„<code class="fe mn mo mp me b">package.json</code>æ–‡ä»¶ä¸­:</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="1d2c" class="mi kx iq me b gy mj mk l ml mm">"scripts": {<br/>  "test": "mocha-webpack -w --webpack-config webpack.config.js --require test/setup.js test/**/*.spec.js",<br/>  "watch": "webpack -w -d"<br/>}</span></pre><p id="8b62" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">åœ¨è¿™ä¸ªè„šæœ¬ä¸­ï¼Œæ‚¨å¯èƒ½ä¼šæ³¨æ„åˆ°å®ƒæœŸæœ›æ‰¾åˆ°ä¸€ä¸ªåŒ…å«ä¸€ä¸ª<code class="fe mn mo mp me b">setup.js</code>æ–‡ä»¶å’Œ<code class="fe mn mo mp me b">something-something.spec.js</code>æ–‡ä»¶çš„<code class="fe mn mo mp me b">test/</code>ç›®å½•ã€‚<br/><code class="fe mn mo mp me b">*.spec.js</code>æ–‡ä»¶ï¼Œæ­£å¦‚ä½ å¯èƒ½çŒœåˆ°çš„ï¼Œæ˜¯åŒ…å«æˆ‘ä»¬çš„æµ‹è¯•çš„æ–‡ä»¶ã€‚ä½†æ˜¯<code class="fe mn mo mp me b">setup.js</code>æ–‡ä»¶å‘¢ï¼Ÿ<br/>è¿™å…¶å®å¾ˆç®€å•ï¼Œåªéœ€è¦åŒ…å«è¿™ä¸¤è¡Œ:</p><figure class="lz ma mb mc gt jr"><div class="bz fp l di"><div class="mq mr l"/></div></figure><h2 id="e957" class="mi kx iq bd ky mt mu dn lc mv mw dp lg kj mx my lk kn mz na lo kr nb nc ls nd bi translated">ä»€ä¹ˆéƒ½æ²¡å‘ç”Ÿï¼Ÿ</h2><p id="c9ed" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">å½“æˆ‘è‡ªå·±å°è¯•è¿™ä¸ªçš„æ—¶å€™ï¼Œæˆ‘é‡åˆ°äº†ä¸€ä¸ªé—®é¢˜ã€‚å¥½åƒå½“æˆ‘è·‘çš„æ—¶å€™ä»€ä¹ˆéƒ½æ²¡å‘ç”Ÿã€‚æ§åˆ¶å°ä¸­çš„è¾“å‡ºåªæ˜¾ç¤ºäº†ç±»ä¼¼è¿™æ ·çš„å†…å®¹:</p><blockquote class="ne nf ng"><p id="0c79" class="jy jz nh ka b kb kc kd ke kf kg kh ki ni kk kl km nj ko kp kq nk ks kt ku kv ij bi translated"><strong class="ka ir">web pack:</strong>31æ¯«ç§’å†…ç¼–è¯‘æˆåŠŸ</p></blockquote><p id="2f02" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">åœ¨å‘æˆ‘çš„æœ‹å‹è°·æ­Œå’¨è¯¢äº†ä¸€ä¸‹ä¹‹åï¼Œæˆ‘åœ¨GitHubä¸Šå‘ç°äº†ä¸‹é¢è¿™ä¸ªå¸–å­:</p><div class="nl nm gp gr nn no"><a href="https://github.com/zinserjan/mocha-webpack/issues/209" rel="noopener  ugc nofollow" target="_blank"><div class="np ab fo"><div class="nq ab nr cl cj ns"><h2 class="bd ir gy z fp nt fr fs nu fu fw ip bi translated">Mocha-webpackä¼¼ä¹æ— æ³•ä¸webpack 4é—®é¢˜#209 zinserjan/mocha-webpackä¸€èµ·ä½¿ç”¨</h2><div class="nv l"><h3 class="bd b gy z fp nt fr fs nu fu fw dk translated">é—®é¢˜ä½¿ç”¨æœ€æ–°çš„webpack 4è¿è¡Œmocha-webpackä¼¼ä¹ä¼šå¤±è´¥ã€‚ä¸æ˜¾ç¤ºæµ‹è¯•è¾“å‡ºã€‚æˆ‘åˆ›å»ºäº†ä¸€ä¸ªâ€¦</h3></div><div class="nw l"><p class="bd b dl z fp nt fr fs nu fu fw dk translated">github.com</p></div></div><div class="nx l"><div class="ny l nz oa ob nx oc jw no"/></div></div></a></div><p id="5219" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">åŸæ¥Mocha-WebpackåŒ…è¿˜ä¸æ”¯æŒWebpack 4ã€‚(OMGè¿™ä¸ªJSç”Ÿæ€åœˆï¼ğŸ˜…)<br/>ä½†ä¼—æ‰€å‘¨çŸ¥ï¼Œä¸€åˆ‡éƒ½å¯ä»¥ç”¨<code class="fe mn mo mp me b">npm install</code>è§£å†³ï¼</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="98d5" class="mi kx iq me b gy mj mk l ml mm">$ npm install mocha-webpack@next</span></pre><p id="b0c3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬ç°åœ¨å†æ¬¡è¿è¡Œ<code class="fe mn mo mp me b">npm run test</code>ï¼Œæ‚¨åº”è¯¥ä¼šçœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„å†…å®¹:</p><figure class="lz ma mb mc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi od"><img src="../Images/bb95d85ba70438824a31740de47fe1d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2g-SopHXOqRrY81mJfD1LQ.png"/></div></div></figure><h1 id="60e6" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">åˆ›å»ºä¸€ä¸ªæµ‹è¯•</h1><p id="1285" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">æœ€åï¼Œæ˜¯æ—¶å€™çœŸæ­£å¼€å§‹ç¼–å†™æµ‹è¯•äº†ã€‚è®©æˆ‘ä»¬ä¸º<code class="fe mn mo mp me b">my-name</code>ç»„ä»¶åˆ›å»ºä¸€ä¸ªæµ‹è¯•ã€‚å¦‚æœä½ ä¸è®°å¾—äº†ï¼Œè¿™æ˜¯å®ƒçš„æ ·å­:</p><figure class="lz ma mb mc gt jr"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="fba3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æˆ‘å¸Œæœ›æµ‹è¯•èƒ½è¯å®è¿™ä¸‰ä»¶äº‹æ˜¯æœ‰æ•ˆçš„:</p><ol class=""><li id="0d22" class="oe of iq ka b kb kc kf kg kj og kn oh kr oi kv oj ok ol om bi translated">é»˜è®¤æƒ…å†µä¸‹ï¼Œåç§°å€¼åº”è¯¥æ˜¯æˆ‘çš„åå­—ã€‚</li><li id="320c" class="oe of iq ka b kb on kf oo kj op kn oq kr or kv oj ok ol om bi translated">æˆ‘å¯ä»¥åœ¨è¾“å…¥æ¡†ä¸­å†™ä¸‹æˆ‘çš„åå­—</li><li id="a31f" class="oe of iq ka b kb on kf oo kj op kn oq kr or kv oj ok ol om bi translated">åç§°å€¼åº”è¯¥å·²ç»æ›´æ”¹ä¸ºæˆ‘å†™çš„ä»»ä½•åç§°</li></ol><p id="3071" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æµ‹è¯•çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„:</p><figure class="lz ma mb mc gt jr"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="30de" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">å½“æˆ‘ä»¬å†æ¬¡è¿è¡Œ<code class="fe mn mo mp me b">npm run test</code>æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥ä¼šçœ‹åˆ°æµ‹è¯•é€šè¿‡ã€‚</p><figure class="lz ma mb mc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi os"><img src="../Images/41828298fc0e7eafd6e318106236bfcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3YjWtYRpJJfGqEtAeajPCg.png"/></div></div></figure><p id="1e49" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">å°±æ˜¯è¿™æ ·ï¼ç»è¿‡ä¸€å †<code class="fe mn mo mp me b">npm install</code>å’Œé…ç½®ï¼Œæˆ‘ä»¬çš„æµ‹è¯•ç¯å¢ƒç»ˆäºå¯åŠ¨å¹¶è¿è¡Œäº†ï¼</p></div></div>    
</body>
</html>