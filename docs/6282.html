<html>
<head>
<title>ğŸ”¥ Building Angular Micro Frontend with NgRx state sharing and NX cli</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ğŸ”¥åˆ©ç”¨NgRxçŠ¶æ€å…±äº«å’ŒNX cliæ„å»ºè§’åº¦å¾®å‰ç«¯</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://itnext.io/building-angular-micro-frontend-with-ngrx-state-sharing-and-nx-cli-7e9af10ebd03?source=collection_archive---------0-----------------------#2021-10-09">https://itnext.io/building-angular-micro-frontend-with-ngrx-state-sharing-and-nx-cli-7e9af10ebd03?source=collection_archive---------0-----------------------#2021-10-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="5e81" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">å¦‚ä½•åœ¨å‡ ä¹ä¸ç¼–ç çš„æƒ…å†µä¸‹æ„å»ºå¥å£®çš„å¾®å‰ç«¯æ¶æ„ï¼›)</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/a55534ddbb9621143ac55aa803a39b78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-eGLDC4N_MezfTE46vNXeQ.png"/></div></div></figure><div class="la lb gp gr lc ld"><a href="https://medium.com/subscribe/@easy-web" rel="noopener follow" target="_blank"><div class="le ab fo"><div class="lf ab lg cl cj lh"><h2 class="bd iu gy z fp li fr fs lj fu fw is bi translated">æ¯å½“ç»´å¡”åˆ©Â·èˆç”«ç´ç§‘å‘è¡¨æ–‡ç« æ—¶ï¼Œå°±æ”¶åˆ°ä¸€å°ç”µå­é‚®ä»¶ã€‚</h2><div class="lk l"><h3 class="bd b gy z fp li fr fs lj fu fw dk translated">æ¯å½“ç»´å¡”åˆ©Â·èˆç”«ç´ç§‘å‘è¡¨æ–‡ç« æ—¶ï¼Œå°±æ”¶åˆ°ä¸€å°ç”µå­é‚®ä»¶ã€‚é€šè¿‡æ³¨å†Œï¼Œæ‚¨å°†åˆ›å»ºä¸€ä¸ªä¸­å‹å¸æˆ·ï¼Œå¦‚æœæ‚¨è¿˜æ²¡æœ‰â€¦</h3></div><div class="ll l"><p class="bd b dl z fp li fr fs lj fu fw dk translated">medium.com</p></div></div><div class="lm l"><div class="ln l lo lp lq lm lr ky ld"/></div></div></a></div><p id="0482" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">é˜…è¯»å®Œæœ¬æ–‡åï¼Œæ‚¨å°†èƒ½å¤Ÿæ„å»ºä¸€ä¸ªå…·æœ‰å…±äº«çŠ¶æ€ç®¡ç†çš„é«˜åº¦å¯ä¼¸ç¼©çš„å¾®å‰ç«¯åº”ç”¨ç¨‹åºã€‚è¯·æ³¨æ„ï¼Œè¿™æ˜¯ä¸€ä¸ªæŠ€æœ¯åˆ†æ­¥æŒ‡å—ï¼Œä¸åŒ…æ‹¬æ¦‚å¿µæ¦‚è¿°ã€‚å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äºå¾®å‰ç«¯æ¶æ„çš„çŸ¥è¯†ï¼Œ<a class="ae ls" href="https://medium.com/@easy-web/how-micro-frontend-changes-the-future-of-angular-bb4deb2cfdad" rel="noopener">å…ˆæŸ¥çœ‹è¿™ç¯‡æ–‡ç« </a>ã€‚</p></div><div class="ab cl lt lu hx lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="im in io ip iq"><h1 id="32d6" class="ma mb it bd mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx bi translated">å†…å®¹</h1><ul class=""><li id="358f" class="my mz it js b jt na jx nb kb nc kf nd kj ne kn nf ng nh ni bi translated"><a class="ae ls" href="#dd36" rel="noopener ugc nofollow"> <strong class="js iu"> Githubé¡¹ç›®</strong> <strong class="js iu">ç¯èŠ‚ï¼›</strong> </a></li><li id="e6e8" class="my mz it js b jt nj jx nk kb nl kf nm kj nn kn nf ng nh ni bi translated"><a class="ae ls" href="#01e9" rel="noopener ugc nofollow"> <strong class="js iu">ç®€ä»‹ï¼›</strong>T11ã€‘</a></li><li id="d1e5" class="my mz it js b jt nj jx nk kb nl kf nm kj nn kn nf ng nh ni bi translated"><a class="ae ls" href="#1ea3" rel="noopener ugc nofollow"> <strong class="js iu">æœ¯è¯­ï¼›</strong>T15ã€‘</a></li><li id="39d5" class="my mz it js b jt nj jx nk kb nl kf nm kj nn kn nf ng nh ni bi translated"><a class="ae ls" href="#4594" rel="noopener ugc nofollow"> <strong class="js iu">æ¦‚å¿µè¯æ˜ï¼›</strong>T19ã€‘</a></li><li id="dba7" class="my mz it js b jt nj jx nk kb nl kf nm kj nn kn nf ng nh ni bi translated"><a class="ae ls" href="#0ad5" rel="noopener ugc nofollow"> <strong class="js iu">ç”Ÿæˆappéª¨æ¶ï¼›</strong> </a></li><li id="5999" class="my mz it js b jt nj jx nk kb nl kf nm kj nn kn nf ng nh ni bi translated"><a class="ae ls" href="#da2e" rel="noopener ugc nofollow"> <strong class="js iu">è¿æ¥å¾®å‰ç«¯ï¼›</strong> </a></li><li id="757b" class="my mz it js b jt nj jx nk kb nl kf nm kj nn kn nf ng nh ni bi translated"><a class="ae ls" href="#b7d6" rel="noopener ugc nofollow"> <strong class="js iu">åˆ†äº«çŠ¶æ€ï¼›</strong> </a></li><li id="551c" class="my mz it js b jt nj jx nk kb nl kf nm kj nn kn nf ng nh ni bi translated"><a class="ae ls" href="#30e9" rel="noopener ugc nofollow"> <strong class="js iu">å»ºç«‹çŒ«æ€ï¼›</strong> </a></li><li id="a5f7" class="my mz it js b jt nj jx nk kb nl kf nm kj nn kn nf ng nh ni bi translated"><a class="ae ls" href="#694f" rel="noopener ugc nofollow"> <strong class="js iu">å°†çŒ«çŠ¶æ€è¿æ¥åˆ°UIï¼›</strong> </a></li><li id="fba2" class="my mz it js b jt nj jx nk kb nl kf nm kj nn kn nf ng nh ni bi translated"><a class="ae ls" href="#5f2d" rel="noopener ugc nofollow"> <strong class="js iu">ç»“è®ºï¼›</strong> </a></li><li id="e916" class="my mz it js b jt nj jx nk kb nl kf nm kj nn kn nf ng nh ni bi translated"><a class="ae ls" href="#e865" rel="noopener ugc nofollow"> <strong class="js iu">äº†è§£æ›´å¤š</strong> </a></li></ul></div><div class="ab cl lt lu hx lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="im in io ip iq"><h1 id="dd36" class="ma mb it bd mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx bi translated"><strong class="ak"> Githubé¡¹ç›®é“¾æ¥</strong></h1><div class="la lb gp gr lc ld"><a href="https://github.com/Vitashev/mf-app" rel="noopener  ugc nofollow" target="_blank"><div class="le ab fo"><div class="lf ab lg cl cj lh"><h2 class="bd iu gy z fp li fr fs lj fu fw is bi translated">GitHub - Vitashev/mf-app:å¸¦NgRxçŠ¶æ€å…±äº«çš„è§’åº¦å¾®å‰ç«¯</h2><div class="lk l"><h3 class="bd b gy z fp li fr fs lj fu fw dk translated">è¿™ä¸ªé¡¹ç›®æ˜¯ç”¨Nxç”Ÿæˆçš„ã€‚ğŸ”æ™ºèƒ½ï¼Œå¯æ‰©å±•çš„æ„å»ºæ¡†æ¶Nxæ”¯æŒè®¸å¤šæ’ä»¶ï¼Œå¢åŠ äº†â€¦</h3></div><div class="ll l"><p class="bd b dl z fp li fr fs lj fu fw dk translated">github.com</p></div></div><div class="lm l"><div class="no l lo lp lq lm lr ky ld"/></div></div></a></div></div><div class="ab cl lt lu hx lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="im in io ip iq"><h1 id="01e9" class="ma mb it bd mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx bi translated">ä»‹ç»</h1><p id="38e9" class="pw-post-body-paragraph jq jr it js b jt na jv jw jx nb jz ka kb np kd ke kf nq kh ki kj nr kl km kn im bi translated"><strong class="js iu">å¾®å‰ç«¯</strong> â€”æ˜¯å®¢æˆ·ç«¯æ¶æ„è®¾è®¡ï¼Œå½“å•ç‹¬çš„ç»„ä»¶æˆ–é¡µé¢æ‰˜ç®¡åœ¨å•ç‹¬çš„åŸŸä¸­æ—¶ã€‚å¦‚æœè€ƒè™‘åˆ°<strong class="js iu">è·¯ç”±ã€çŠ¶æ€ç®¡ç†ã€</strong>å’Œ<strong class="js iu">ç»„ä»¶å…±äº«</strong>ï¼Œè¿™å¬èµ·æ¥å¯èƒ½å¾ˆéš¾å®ç°ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°†æ„å»ºä¸€ä¸ªå®Œæ•´çš„åº”ç”¨ç¨‹åºï¼Œå®ƒæ‹¥æœ‰å¯æ‰©å±•çš„<strong class="js iu">å¾®å‰ç«¯</strong>æ‰€éœ€çš„ä¸€åˆ‡ã€‚æˆ‘ä»¬å°†ä½¿ç”¨<strong class="js iu"> NX </strong>å‘½ä»¤è¡Œç”Ÿæˆå¤§éƒ¨åˆ†æ¶æ„ï¼Œç„¶åæ·»åŠ æœ€å°‘çš„ç¼–ç ã€‚</p></div><div class="ab cl lt lu hx lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="im in io ip iq"><h1 id="1ea3" class="ma mb it bd mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx bi translated">æœ¯è¯­</h1><ul class=""><li id="d66f" class="my mz it js b jt na jx nb kb nc kf nd kj ne kn nf ng nh ni bi translated"><strong class="js iu"> Shell </strong> â€”ä¸»å®¹å™¨appï¼Œå¯èƒ½æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªåµŒå…¥å¼å¾®appï¼›</li><li id="48da" class="my mz it js b jt nj jx nk kb nl kf nm kj nn kn nf ng nh ni bi translated"><strong class="js iu">å¾®app </strong> â€”æ‹¥æœ‰ä¸€ä¸ªä¸šåŠ¡å­åŸŸï¼Œé›†æˆåˆ°<strong class="js iu">å¤–å£³</strong>ï¼Œå•ç‹¬æ‰˜ç®¡<strong class="js iu">çš„å°appï¼›</strong></li></ul></div><div class="ab cl lt lu hx lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="im in io ip iq"><h1 id="4594" class="ma mb it bd mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx bi translated">æ¦‚å¿µè¯æ˜</h1><p id="1311" class="pw-post-body-paragraph jq jr it js b jt na jv jw jx nb jz ka kb np kd ke kf nq kh ki kj nr kl km kn im bi translated">è¿™ä¸ªç®€å•çš„<strong class="js iu"> Angular </strong> appå°†ç”±2ä¸ª<strong class="js iu">å¾®å‰ç«¯</strong>åŸŸç»„æˆ:</p><ul class=""><li id="1af4" class="my mz it js b jt ju jx jy kb ns kf nt kj nu kn nf ng nh ni bi translated">ä»¥åŠ<strong class="js iu">å›¾åº“</strong>é¡µé¢â€”â€”ä¸€ä¸ªå°†å±•ç¤ºçŒ«å’ªå›¾åº“çš„<strong class="js iu">å¾®åº”ç”¨</strong>ã€‚ç”¨æˆ·å¯ä»¥åˆ‡æ¢åˆ°<em class="nv">é€‰æ‹©</em>æˆ–<em class="nv">å–æ¶ˆé€‰æ‹©</em>çŒ«ï¼Œä»¥åœ¨<strong class="js iu">ä¸»é¡µ</strong>ä¸Šæ˜¾ç¤ºæ‰€é€‰æ‹©çš„çŒ«ã€‚</li><li id="edf5" class="my mz it js b jt nj jx nk kb nl kf nm kj nn kn nf ng nh ni bi translated"><strong class="js iu">ä¸»é¡µ</strong>é¡µé¢â€”â€”æ˜¯ä¸€ä¸ª<strong class="js iu">å¤–å£³</strong>åº”ç”¨ï¼Œæ˜¾ç¤ºäº†ä¸€ä¸ª<em class="nv">é€‰ä¸­çš„çŒ«</em>çš„åˆ—è¡¨ã€‚</li><li id="494e" class="my mz it js b jt nj jx nk kb nl kf nm kj nn kn nf ng nh ni bi translated"><strong class="js iu"> NgRx </strong>å°†è´Ÿè´£<em class="nv">çŠ¶æ€ç®¡ç†</em>ã€‚</li></ul><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nw"><img src="../Images/06e23f1f38ec7cf9b586361cc561b3d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*nx5INXc-aRp9KjokKWs-hA.gif"/></div></div></figure><p id="d0da" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æµç¨‹å¦‚ä¸‹:</p><ul class=""><li id="e579" class="my mz it js b jt ju jx jy kb ns kf nt kj nu kn nf ng nh ni bi translated"><strong class="js iu"> Shell </strong> appä¼šè°ƒåº¦åŠ¨ä½œè°ƒç”¨<em class="nv">cats</em>API<em class="nv">API</em>å¹¶ä¿å­˜çŠ¶æ€ä¸‹çš„å“åº”ã€‚</li><li id="df99" class="my mz it js b jt nj jx nk kb nl kf nm kj nn kn nf ng nh ni bi translated">å½“åœ¨<strong class="js iu">å›¾åº“</strong>é¡µé¢åˆ‡æ¢çŒ«æ—¶ï¼Œæˆ‘ä»¬ä»<em class="nv">é€‰ä¸­çŒ«çŠ¶æ€</em>ä¸­<em class="nv">æ·»åŠ </em>æˆ–<em class="nv">ç§»é™¤</em>çŒ«ã€‚</li><li id="7f94" class="my mz it js b jt nj jx nk kb nl kf nm kj nn kn nf ng nh ni bi translated"><em class="nv">é€‰æ‹©çš„çŒ«çŠ¶æ€</em>å°†è¢«å…±äº«åˆ°ä¸€ä¸ª<strong class="js iu">ä¸»é¡µ</strong>ä¸Šï¼Œè¯¥ä¸»é¡µè¢«æ‰˜ç®¡åœ¨ä¸€ä¸ªå•ç‹¬çš„åŸŸä¸­ã€‚</li></ul><p id="ae02" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æ•´ä¸ªæ¶æ„å°†ç”±<strong class="js iu"> NX </strong>å‘½ä»¤è¡Œåè°ƒã€‚å®ƒå°†ç”Ÿæˆåº”ç”¨ç¨‹åºçš„æ¡†æ¶ï¼Œæˆ‘ä»¬åªéœ€è¦ä¸€äº›åŸºæœ¬çš„ç¼–ç å°†å®ƒç²˜åœ¨ä¸€èµ·ã€‚</p><p id="d23e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æˆ‘ä»¬èµ°å§ï¼</p></div><div class="ab cl lt lu hx lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="im in io ip iq"><h1 id="0ad5" class="ma mb it bd mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx bi translated">æ­£åœ¨ç”Ÿæˆåº”ç”¨ç¨‹åºæ¡†æ¶</h1><p id="bfd7" class="pw-post-body-paragraph jq jr it js b jt na jv jw jx nb jz ka kb np kd ke kf nq kh ki kj nr kl km kn im bi translated">å…ˆä»ç”Ÿæˆå¾®å‰ç«¯appç»“æ„å¼€å§‹ï¼Œåˆ›å»º<strong class="js iu">Nx</strong>T54ã€‘workspaceï¼›</p><pre class="kp kq kr ks gt nx ny nz oa aw ob bi"><span id="ab97" class="oc mb it ny b gy od oe l of og"><strong class="ny iu">npx create-nx-workspace mf-app</strong></span></pre><p id="05ad" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">å®ƒæç¤º:</p><p id="3d28" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="nv">åœ¨æ–°çš„å·¥ä½œç©ºé—´é‡Œåˆ›å»ºä»€ä¹ˆ</em>â€”â€”é€‰æ‹©<strong class="js iu"> <em class="nv">æ¸…ç©º</em> </strong>å›è½¦ï¼›</p><p id="19fa" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="nv">ç”¨Nxäº‘ï¼Ÿ</em>â€”â€”<strong class="js iu">â€”â€”<em class="nv">æ²¡æœ‰</em>â€”â€”</strong>â€”â€”<strong class="js iu">å›è½¦ï¼›</strong></p><p id="ab9a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> NX </strong>ç”Ÿæˆäº†ä¸€ä¸ª<em class="nv"> monorepo </em>é¡¹ç›®ç»“æ„ï¼Œç”±äºæˆ‘ä»¬å°†è¦ä½¿ç”¨<strong class="js iu"> Angular </strong>ï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…æ‰€æœ‰å¿…éœ€çš„<strong class="js iu"> Angular </strong>åº“ï¼Œäº‹å®ä¸Šï¼Œå®ƒåªæœ‰ä¸€ä¸ªå‘½ä»¤:</p><pre class="kp kq kr ks gt nx ny nz oa aw ob bi"><span id="6f0e" class="oc mb it ny b gy od oe l of og">cd mf-app/ <br/><strong class="ny iu">npm install --save-dev @nrwl/angular</strong></span></pre><p id="57b3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">å¾ˆç®€å•ï¼Œæ¥ä¸‹æ¥è®©æˆ‘ä»¬ç”Ÿæˆä¸€ä¸ª<strong class="js iu"> shell </strong> appï¼Œè¿™å°†æ˜¯æˆ‘ä»¬çš„<strong class="js iu"> Home </strong>é¡µé¢æ¥æ˜¾ç¤º<em class="nv">é€‰ä¸­çš„çŒ«</em>ã€‚</p><pre class="kp kq kr ks gt nx ny nz oa aw ob bi"><span id="86cd" class="oc mb it ny b gy od oe l of og"><strong class="ny iu">npx nx g @nrwl/angular:app shell --mfe --mfeType=host --port=3000 --routing=true</strong></span></pre><p id="ef47" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">å‡ºç°æç¤ºæ—¶:â€œ<em class="nv">æ‚¨å¸Œæœ›ä½¿ç”¨å“ªç§æ ·å¼è¡¨æ ¼å¼ï¼Ÿ</em>â€”<strong class="js iu"><em class="nv">CSS</em></strong>å’Œ<strong class="js iu">å›è½¦ï¼›</strong></p><p id="5d2a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">ç„¶åå°è¯•è¿è¡Œå®ƒ:</p><pre class="kp kq kr ks gt nx ny nz oa aw ob bi"><span id="ca06" class="oc mb it ny b gy od oe l of og"><strong class="ny iu">nx run shell:serve-mfe</strong></span></pre><p id="fbc0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">å¾ˆå¥½ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦ç”Ÿæˆå•ç‹¬æ‰˜ç®¡çš„<strong class="js iu">å›¾åº“</strong> appï¼Œç¨åæˆ‘ä»¬ä¼šæŠŠå®ƒå’Œ<strong class="js iu"> shell </strong>è¿æ¥èµ·æ¥ã€‚</p><pre class="kp kq kr ks gt nx ny nz oa aw ob bi"><span id="9230" class="oc mb it ny b gy od oe l of og"><strong class="ny iu">npx nx g @nrwl/angular:app gallery --mfe --mfeType=remote --port=3001 --host=shell --routing=true</strong></span></pre><p id="9122" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">å¹¶è¿è¡Œå®ƒ:</p><pre class="kp kq kr ks gt nx ny nz oa aw ob bi"><span id="6a56" class="oc mb it ny b gy od oe l of og"><strong class="ny iu">nx run gallery:serve</strong></span></pre></div><div class="ab cl lt lu hx lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="im in io ip iq"><h1 id="da2e" class="ma mb it bd mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx bi translated">è¿æ¥å¾®å‰ç«¯</h1><p id="c905" class="pw-post-body-paragraph jq jr it js b jt na jv jw jx nb jz ka kb np kd ke kf nq kh ki kj nr kl km kn im bi translated">æˆ‘ä»¬å·²ç»å®Œæˆäº†æ„å»ºæ‰˜ç®¡åœ¨å•ç‹¬ç«¯å£ä¸­çš„2ä¸ªåº”ç”¨ç¨‹åºï¼Œç°åœ¨æ˜¯æ—¶å€™å°†å®ƒä»¬è¿æ¥åœ¨ä¸€èµ·äº†ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦é“¾æ¥åˆ°<strong class="js iu">å¤–å£³</strong>è·¯ç”±çš„<strong class="js iu">ä¸»é¡µ</strong>å’Œ<strong class="js iu">ç”»å»Š</strong>é¡µé¢ã€‚</p><p id="93f5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">è¿è¡Œè¿™ä¸ªå‘½ä»¤æ¥ç”Ÿæˆ<strong class="js iu">ä¸»é¡µ</strong>ç»„ä»¶:</p><pre class="kp kq kr ks gt nx ny nz oa aw ob bi"><span id="2365" class="oc mb it ny b gy od oe l of og">cd apps/shell/src/app<br/><strong class="ny iu">nx g @nrwl/angular:component Home --module=app.module.ts</strong></span></pre><p id="c07d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">å°†è·¯çº¿æ·»åŠ åˆ°:</p><ul class=""><li id="80d8" class="my mz it js b jt ju jx jy kb ns kf nt kj nu kn nf ng nh ni bi translated"><strong class="js iu">apps/shell/src/app/app . module . ts</strong></li></ul><pre class="kp kq kr ks gt nx ny nz oa aw ob bi"><span id="9906" class="oc mb it ny b gy od oe l of og">RouterModule.forRoot([<br/>    <strong class="ny iu">{<br/>        path: '',<br/>        component: HomeComponent<br/>    },<br/>    </strong>{<br/>        path: 'gallery',<br/>        loadChildren: () =&gt; import('gallery/Module').then((m) =&gt; m.RemoteEntryModule),<br/>    },<br/>],<br/>{ initialNavigation: 'enabledBlocking' }),</span></pre><p id="df12" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">è½¬åˆ°<strong class="js iu"> shell </strong> appç»„ä»¶ï¼Œæ·»åŠ é¡µé¢å¯¼èˆªHTML:</p><ul class=""><li id="5abd" class="my mz it js b jt ju jx jy kb ns kf nt kj nu kn nf ng nh ni bi translated"><strong class="js iu">apps/shell/src/app/app . component . html</strong></li></ul><pre class="kp kq kr ks gt nx ny nz oa aw ob bi"><span id="6e2f" class="oc mb it ny b gy od oe l of og"><strong class="ny iu">&lt;ul&gt;<br/>    &lt;li routerLink="/"&gt;Home&lt;/li&gt;<br/>    &lt;li routerLink="/gallery"&gt;Gallery&lt;/li&gt;<br/>&lt;/ul&gt;<br/>&lt;router-outlet&gt;&lt;/router-outlet&gt;</strong></span></pre><p id="daa1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">é‡å»ºåï¼Œåº”ç”¨ç¨‹åºå°†å¦‚ä¸‹æ‰€ç¤º:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oh"><img src="../Images/f45cc752defa5384cee62f30d0c03eaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*RnJ2VNVk6s8p9e3MgGFBsw.gif"/></div></div></figure></div><div class="ab cl lt lu hx lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="im in io ip iq"><h1 id="b7d6" class="ma mb it bd mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx bi translated">å…±äº«çŠ¶æ€</h1><p id="e0e7" class="pw-post-body-paragraph jq jr it js b jt na jv jw jx nb jz ka kb np kd ke kf nq kh ki kj nr kl km kn im bi translated">æˆ‘ä»¬å·²ç»å®Œæˆäº†ä¸€åŠï¼Œæœ€åä¸€æ­¥æ˜¯ç”Ÿæˆ<strong class="js iu"> NgRx </strong>å­˜å‚¨å¹¶ä¸<em class="nv">é€‰æ‹©çš„çŒ«</em>å…±äº«çŠ¶æ€ã€‚</p><p id="2170" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æˆ‘ä»¬å°†ä»ç”Ÿæˆä¸€ä¸ªå…±äº«çš„<em class="nv">æ•°æ®å­˜å‚¨åº“</em>å¼€å§‹ï¼Œå®ƒå°†åŒ…å«æˆ‘ä»¬çš„å…±äº«çŠ¶æ€ã€‚</p><pre class="kp kq kr ks gt nx ny nz oa aw ob bi"><span id="b856" class="oc mb it ny b gy od oe l of og"><strong class="ny iu">nx g @nrwl/angular:lib shared/data-store</strong></span></pre><blockquote class="oi oj ok"><p id="1249" class="jq jr nv js b jt ju jv jw jx jy jz ka ol kc kd ke om kg kh ki on kk kl km kn im bi translated"><em class="it">ğŸ’¡</em>æ³¨æ„:æ‰€æœ‰æ”¾ç½®åœ¨<strong class="js iu">å…±äº«</strong>æ–‡ä»¶å¤¹ä¸­çš„åº“å°†ä½œä¸ºä¸€ä¸ªå•ç‹¬çš„æ³¨å…¥</p></blockquote><p id="08e4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">ç„¶åï¼Œæˆ‘ä»¬éœ€è¦å°†åº“åŒæ—¶æš´éœ²ç»™<strong class="js iu"> shell </strong>å’Œ<strong class="js iu">å¾®app </strong>ã€‚</p><blockquote class="oi oj ok"><p id="6a26" class="jq jr nv js b jt ju jv jw jx jy jz ka ol kc kd ke om kg kh ki on kk kl km kn im bi translated"><em class="it">ğŸ’¡</em>æ³¨æ„:å¦‚æœæ‚¨ä½¿ç”¨ä¸ºæ‚¨é…ç½®åº“çš„æ–°ç‰ˆæœ¬nxï¼Œè¯·è·³è¿‡è¿™ä¸€æ­¥</p></blockquote><p id="8e42" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æ·»åŠ åˆ«å:</p><pre class="kp kq kr ks gt nx ny nz oa aw ob bi"><span id="5506" class="oc mb it ny b gy od oe l of og">sharedMappings.register(path.join(__dirname, '../../tsconfig.base.json'), [<br/>   <strong class="ny iu"> '@mf-app/shared/data-store'</strong><br/>]);</span></pre><p id="2bf3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">åœ¨ä¸¤ä¸ªåœ°æ–¹:</p><ul class=""><li id="2135" class="my mz it js b jt ju jx jy kb ns kf nt kj nu kn nf ng nh ni bi translated"><strong class="js iu">apps/gallery/web pack . config . js</strong></li><li id="7b6b" class="my mz it js b jt nj jx nk kb nl kf nm kj nn kn nf ng nh ni bi translated"><strong class="js iu">apps/shell/web pack . config . js</strong></li></ul><p id="6f1c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">åœ¨æˆ‘ä»¬ç”Ÿæˆ<strong class="js iu"> NgRx </strong>å•†åº—ä¹‹å‰ï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª<strong class="js iu">å›¾åº“</strong>æ¨¡å—ï¼Œæˆ‘ä»¬çš„å•†åº—å°†é“¾æ¥åˆ°è¯¥æ¨¡å—:</p><pre class="kp kq kr ks gt nx ny nz oa aw ob bi"><span id="d660" class="oc mb it ny b gy od oe l of og"><strong class="ny iu">nx g @nrwl/angular:module gallery-store --project=shared-data-store</strong></span></pre><p id="d3c1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æœ€åï¼Œç”Ÿæˆ<strong class="js iu"> NgRx </strong>å¸¦æœ‰é—¨é¢æœåŠ¡çš„å•†åº—çš„å¦ä¸€ä¸ªå‘½ä»¤:</p><pre class="kp kq kr ks gt nx ny nz oa aw ob bi"><span id="5ae8" class="oc mb it ny b gy od oe l of og"><strong class="ny iu">nx g @nrwl/angular:ngrx gallery --module=libs/shared/data-store/src/lib/gallery-store/gallery-store.module.ts --directory state --no-interactive --facade</strong></span></pre><p id="ddab" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">ä»<em class="nv">å…±äº«</em>åº“ä¸­å¯¼å‡º<strong class="js iu">é—¨é¢</strong>æœåŠ¡å’Œ<strong class="js iu">ç”»å»Š</strong> <strong class="js iu">å•†åº—</strong>æ¨¡å—:</p><ul class=""><li id="3f37" class="my mz it js b jt ju jx jy kb ns kf nt kj nu kn nf ng nh ni bi translated"><strong class="js iu">libs/shared/data-store/src/index . ts</strong></li></ul><pre class="kp kq kr ks gt nx ny nz oa aw ob bi"><span id="c198" class="oc mb it ny b gy od oe l of og">export * from './lib/shared-data-store.module';<br/><strong class="ny iu">export * from './lib/gallery-store/gallery-store.module';<br/>export * from './lib/gallery-store/state/gallery.facade';</strong></span></pre></div><div class="ab cl lt lu hx lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="im in io ip iq"><h1 id="30e9" class="ma mb it bd mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx bi translated">å»ºç«‹çŒ«ä¹‹å·</h1><p id="d325" class="pw-post-body-paragraph jq jr it js b jt na jv jw jx nb jz ka kb np kd ke kf nq kh ki kj nr kl km kn im bi translated">åœ¨æˆ‘ä»¬å®Œæˆäº†ä¸»è¦æ¶æ„çš„åŸå‹ä¹‹åï¼Œæ˜¯æ—¶å€™è¿›è¡Œä¸€äº›ç¼–ç äº†ã€‚æˆ‘ä»¬å°†æ„å»º<em class="nv"> API </em>æœåŠ¡ï¼Œåˆ›å»º<em class="nv">é€‰æ‹©çŒ«çŠ¶æ€</em>ï¼Œæœ€åï¼Œå°†å®ƒä¸<strong class="js iu">ä¸»é¡µ</strong>å’Œ<strong class="js iu">å›¾åº“</strong>ç²˜åˆåœ¨ä¸€èµ·ã€‚è®©æˆ‘ä»¬ä»æœåŠ¡å¼€å§‹:</p><pre class="kp kq kr ks gt nx ny nz oa aw ob bi"><span id="e10f" class="oc mb it ny b gy od oe l of og">cd libs/shared/data-store/src/lib/gallery-store<br/><strong class="ny iu">nx g @nrwl/angular:service api/GalleryApi</strong></span></pre><p id="b465" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æ·»åŠ ä¸€äº›ä»£ç :</p><ul class=""><li id="9c46" class="my mz it js b jt ju jx jy kb ns kf nt kj nu kn nf ng nh ni bi translated"><strong class="js iu">libs/shared/data-store/src/lib/gallery-store/API/gallery-API . service . ts</strong></li></ul><pre class="kp kq kr ks gt nx ny nz oa aw ob bi"><span id="491a" class="oc mb it ny b gy od oe l of og">export class GalleryApiService {<br/>    constructor(<strong class="ny iu">private http: HttpClient</strong>) {}</span><span id="979e" class="oc mb it ny b gy oo oe l of og">   <strong class="ny iu"> getCatsList() {<br/>        const limit = 20;<br/>        const url = `https://www.reddit.com/r/catswithjobs/.json?limit=${limit}`;</strong></span><span id="c863" class="oc mb it ny b gy oo oe l of og">        <strong class="ny iu">return this.http.get(url).pipe(<br/>            map((response: any) =&gt; {<br/>                const cats = [] as any;<br/>                response.data.children.forEach((res: any) =&gt; {<br/>                    const title = res.data.title;<br/>                    const id = res.data.id;<br/>                    const url = res.data.preview?.images[0]?.resolutions[2]?.url;<br/>                    if (url) {<br/>                        cats.push({<br/>                            id,<br/>                            title,<br/>                            url:url.replaceAll('&amp;amp;', '&amp;')<br/>                        });<br/>                    }<br/>                });</strong><br/>              <strong class="ny iu">  return cats;<br/>           })</strong><br/>    <strong class="ny iu">  );<br/>    }</strong><br/>}</span></pre><p id="aa72" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æ›´æ–°ä¾èµ–å…³ç³»:</p><ul class=""><li id="1d87" class="my mz it js b jt ju jx jy kb ns kf nt kj nu kn nf ng nh ni bi translated"><strong class="js iu">libs/shared/data-store/src/lib/gallery-store/gallery-store . module . ts</strong></li></ul><pre class="kp kq kr ks gt nx ny nz oa aw ob bi"><span id="274d" class="oc mb it ny b gy od oe l of og">imports: [<br/>    CommonModule,<br/>    <strong class="ny iu">HttpClientModule</strong>,<br/>    ....<br/>],<br/>providers: [GalleryFacade, <strong class="ny iu">GalleryApiService</strong>],</span></pre><p id="33cb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦æ›´æ–°å‰¯ä½œç”¨:</p><ul class=""><li id="a21a" class="my mz it js b jt ju jx jy kb ns kf nt kj nu kn nf ng nh ni bi translated"><strong class="js iu">libs/shared/data-store/src/lib/gallery-store/state/gallery . effects . ts</strong></li></ul><pre class="kp kq kr ks gt nx ny nz oa aw ob bi"><span id="e33e" class="oc mb it ny b gy od oe l of og">....<br/>fetch({<br/>    run: (action) =&gt; {<br/>        <strong class="ny iu">return this.galleryApiService.getCatsList().pipe(<br/>            map((res) =&gt; GalleryActions.loadGallerySuccess({<br/>                    gallery: res,<br/>                })<br/>            )<br/>        );</strong><br/>    },<br/>....<br/>constructor(<br/>    private readonly actions$: Actions,<br/>    <strong class="ny iu">private galleryApiService: GalleryApiService</strong><br/>) {}<br/>....</span></pre><p id="8502" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">ç„¶åè®©æˆ‘ä»¬æ·»åŠ <em class="nv">åˆ‡æ¢é€‰æ‹©çŒ«</em>åŠ¨ä½œ:</p><ul class=""><li id="1b05" class="my mz it js b jt ju jx jy kb ns kf nt kj nu kn nf ng nh ni bi translated"><strong class="js iu">libs/shared/data-store/src/lib/gallery-store/state/gallery . actions . ts</strong></li></ul><pre class="kp kq kr ks gt nx ny nz oa aw ob bi"><span id="4898" class="oc mb it ny b gy od oe l of og"><strong class="ny iu">export const toggleSelectCat = createAction(<br/>   '[Gallery] Toggle Select Cats',<br/>   props&lt;{ cat: any }&gt;()<br/>);</strong></span></pre><p id="114b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">å®æ–½<em class="nv">å‡é€Ÿå™¨</em>:</p><ul class=""><li id="b1d7" class="my mz it js b jt ju jx jy kb ns kf nt kj nu kn nf ng nh ni bi translated"><strong class="js iu">libs/shared/data-store/src/lib/gallery-store/state/gallery . reducer . ts</strong></li></ul><pre class="kp kq kr ks gt nx ny nz oa aw ob bi"><span id="f655" class="oc mb it ny b gy od oe l of og">...<br/>export interface State extends EntityState&lt;GalleryEntity&gt;{<br/>    selectedId?: string | number;<br/>    <strong class="ny iu">selectedCats: Map&lt;string, any&gt;;</strong><br/>...<br/>export const initialState: State = galleryAdapter.getInitialState({<br/>    <strong class="ny iu">selectedCats: new Map(),</strong><br/>    loaded: false,<br/>});<br/>....<br/>const galleryReducer = createReducer(<br/>    initialState,<br/>    <strong class="ny iu">on(GalleryActions.toggleSelectCat, (state, { cat }) =&gt; {<br/>        const newState = { ...state };<br/>        if (newState.selectedCats.has(cat.id)) {<br/>            newState.selectedCats.delete(cat.id);<br/>        } else {<br/>            newState.selectedCats.set(cat.id, cat);<br/>        }<br/>        return newState;<br/>    }),</strong><br/>...</span></pre><p id="9443" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æ·»åŠ <em class="nv">é€‰æ‹©çŒ«çŠ¶æ€</em>é€‰æ‹©å™¨:</p><ul class=""><li id="7995" class="my mz it js b jt ju jx jy kb ns kf nt kj nu kn nf ng nh ni bi translated"><strong class="js iu">libs/shared/data-store/src/lib/gallery-store/state/gallery . selectors . ts</strong></li></ul><pre class="kp kq kr ks gt nx ny nz oa aw ob bi"><span id="5f0e" class="oc mb it ny b gy od oe l of og"><strong class="ny iu">export const getSelectedCats = createSelector(<br/>    getGalleryState,<br/>    (state: State) =&gt; state.selectedCats<br/>);</strong></span></pre><p id="9433" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æœ€åä¸€æ­¥æ˜¯æ›´æ–°<strong class="js iu">é—¨é¢</strong>æœåŠ¡:</p><ul class=""><li id="b607" class="my mz it js b jt ju jx jy kb ns kf nt kj nu kn nf ng nh ni bi translated"><strong class="js iu">libs/shared/data-store/src/lib/gallery-store/state/gallery . facade . ts</strong></li></ul><pre class="kp kq kr ks gt nx ny nz oa aw ob bi"><span id="4ba7" class="oc mb it ny b gy od oe l of og"><strong class="ny iu">...<br/>selectedCats$ = this.store.pipe(select(GallerySelectors.getSelectedCats));</strong></span><span id="a63a" class="oc mb it ny b gy oo oe l of og">constructor(private readonly store: Store) {}</span><span id="824f" class="oc mb it ny b gy oo oe l of og"><strong class="ny iu">isCatSelected(catId: any) {<br/>    return this.selectedCats$.pipe(<br/>        map((selectedCats) =&gt; selectedCats.has(catId))<br/>    );<br/>}</strong></span><span id="537c" class="oc mb it ny b gy oo oe l of og"><strong class="ny iu">toggleSelectCat(cat: any) {<br/>    this.store.dispatch(GalleryActions.toggleSelectCat({ cat }));<br/>}</strong><br/>...</span></pre><p id="8e63" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æˆ‘ä»¬å·²ç»å®Œæˆäº†<em class="nv">çŠ¶æ€</em>é€»è¾‘çš„å®ç°ï¼Œè¿™åªæ˜¯ä¸€ç‚¹ç¼–ç ï¼Œä½†æ˜¯ä¸»è¦éƒ¨åˆ†å·²ç»å‡†å¤‡å¥½äº†ã€‚æœ€åä¸€ç‚¹æ˜¯â€”â€”å°†çŠ¶æ€ä¸æˆ‘ä»¬çš„UIè¿æ¥èµ·æ¥ã€‚</p></div><div class="ab cl lt lu hx lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="im in io ip iq"><h1 id="694f" class="ma mb it bd mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx bi translated">å°†catsçŠ¶æ€è¿æ¥åˆ°UI</h1><p id="fc09" class="pw-post-body-paragraph jq jr it js b jt na jv jw jx nb jz ka kb np kd ke kf nq kh ki kj nr kl km kn im bi translated">æˆ‘ä»¬éœ€è¦åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯å°†æˆ‘ä»¬çš„<strong class="js iu">å›¾åº“</strong> <strong class="js iu">å•†åº—</strong>æ¨¡å—è¿æ¥åˆ°<strong class="js iu"> shell </strong> appï¼Œå®ƒå°†å¯¹<strong class="js iu">å•†åº—</strong>å’Œ<strong class="js iu">é—¨é¢</strong>æœåŠ¡è¿›è¡Œä¾èµ–æ³¨å…¥ã€‚</p><ul class=""><li id="e230" class="my mz it js b jt ju jx jy kb ns kf nt kj nu kn nf ng nh ni bi translated"><strong class="js iu">apps/shell/src/app/app . module . ts</strong></li></ul><pre class="kp kq kr ks gt nx ny nz oa aw ob bi"><span id="9d87" class="oc mb it ny b gy od oe l of og">imports: [<br/>    BrowserModule,<br/>    <strong class="ny iu">StoreModule.forRoot({}),<br/>    EffectsModule.forRoot([]),<br/>    GalleryStoreModule,</strong><br/>...</span></pre><blockquote class="oi oj ok"><p id="0454" class="jq jr nv js b jt ju jv jw jx jy jz ka ol kc kd ke om kg kh ki on kk kl km kn im bi translated"><em class="it">ğŸ’¡</em>æ³¨æ„:å¦‚æœæ‚¨åœ¨æ§åˆ¶å°ä¸­çœ‹åˆ°è¿™æ ·çš„è­¦å‘Š:</p><p id="981f" class="jq jr nv js b jt ju jv jw jx jy jz ka ol kc kd ke om kg kh ki on kk kl km kn im bi translated">è­¦å‘Š:æœªæŒ‡å®šæ‰€éœ€çš„ç‰ˆæœ¬ï¼Œæ— æ³•è‡ªåŠ¨ç¡®å®šç‰ˆæœ¬ã€‚åœ¨æè¿°æ–‡ä»¶(/Users/macbook/Desktop/projects/micro-frontend/MF-app/node _ modules/@ angular/common/package . JSON)ä¸­æ‰¾ä¸åˆ°â€œ<a class="ae ls" href="http://twitter.com/angular/common" rel="noopener ugc nofollow" target="_blank">â€æ‰€éœ€çš„ç‰ˆæœ¬ã€‚å®ƒéœ€è¦åœ¨ä¾èµ–é¡¹ã€å¼€å‘ä¾èµ–é¡¹æˆ–å¯¹ç­‰ä¾èµ–é¡¹ä¸­ã€‚</a></p><p id="28bb" class="jq jr nv js b jt ju jv jw jx jy jz ka ol kc kd ke om kg kh ki on kk kl km kn im bi translated">è¿™æ„å‘³ç€webpackæ‰¾ä¸åˆ°å…±äº«åŒ…çš„ç‰ˆæœ¬ï¼Œæ‚¨éœ€è¦æ˜¾å¼åœ°å®šä¹‰å®ƒã€‚ä¸ºäº†ä¿®å¤å®ƒï¼Œåœ¨<strong class="js iu"> shell </strong>å’Œ<strong class="js iu">micro</strong>app web pack . config . jsä¸­æ˜¾å¼è®¾ç½®å®ƒ</p></blockquote><pre class="kp kq kr ks gt nx ny nz oa aw ob bi"><span id="2444" class="oc mb it ny b gy od oe l of og">shared: {<br/>   '@angular/core': {<br/>      singleton: true,<br/>      strictVersion: true,<br/>      <strong class="ny iu">requiredVersion: '12.2.9',</strong><br/>   },<br/>   '@angular/common': {<br/>      singleton: true,<br/>      strictVersion: true,<br/>      <strong class="ny iu">requiredVersion: '12.2.9',</strong><br/>   },<br/>...</span></pre><p id="4924" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">å¥½äº†ï¼Œæˆ‘ä»¬è¿˜æœ‰å‡ ä¸ªæ­¥éª¤ï¼Œè®©æˆ‘ä»¬å°†UIæ·»åŠ åˆ°<strong class="js iu">å›¾åº“</strong>é¡µé¢ã€‚</p><ul class=""><li id="16d4" class="my mz it js b jt ju jx jy kb ns kf nt kj nu kn nf ng nh ni bi translated"><strong class="js iu">apps/gallery/src/app/remote-entry/entry . component . ts</strong></li></ul><pre class="kp kq kr ks gt nx ny nz oa aw ob bi"><span id="68f0" class="oc mb it ny b gy od oe l of og"><strong class="ny iu">import { Component } from '@angular/core';<br/>import { GalleryFacade } from '@mf-app/shared/data-store';</strong></span><span id="a6b4" class="oc mb it ny b gy oo oe l of og"><strong class="ny iu">@Component({<br/>   selector: 'ng-mfe-gallery-entry',<br/>   template: `&lt;div class="container"&gt;<br/>      &lt;ng-container *ngFor="let cat of cats | async"&gt;<br/>         &lt;div class="child" (click)="toggleSelectCat(cat)" [ngClass]="{ selected: isSelected(cat.id) | async }"&gt;<br/>             &lt;h3&gt;{{ cat.title }}&lt;/h3&gt;<br/>            &lt;div&gt;<br/>              &lt;img [src]="cat.url" alt="" /&gt;<br/>            &lt;/div&gt;<br/>          &lt;/div&gt;<br/>       &lt;/ng-container&gt;<br/>   &lt;/div&gt;`,<br/>   styles: [`<br/>      .container {<br/>          display: grid;<br/>          width: 100%;<br/>          grid-template-columns: repeat(4, 1fr);<br/>      }<br/>      .selected {<br/>          border: 3px solid purple;<br/>      }<br/>      img {<br/>          width: 20vw;<br/>      }`,<br/>    ],<br/>})<br/>export class RemoteEntryComponent {<br/>    cats = this.galleryFacade.allGallery$ as any;<br/>    selectedCats = this.galleryFacade.selectedCats$;<br/>    constructor(private galleryFacade: GalleryFacade) {}</strong></span><span id="14e4" class="oc mb it ny b gy oo oe l of og"><strong class="ny iu">    toggleSelectCat(cat: any) {<br/>        this.galleryFacade.toggleSelectCat(cat);<br/>    }</strong></span><span id="2df8" class="oc mb it ny b gy oo oe l of og"><strong class="ny iu">    isSelected(catId: any) {<br/>        return this.galleryFacade.isCatSelected(catId);<br/>    }<br/>}</strong></span></pre><p id="b192" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æ­¤å¤–ï¼Œæ›´æ–°shellåº”ç”¨ç¨‹åºä¸­çš„<strong class="js iu">ä¸»é¡µ</strong>é¡µé¢ç»„ä»¶</p><ul class=""><li id="091e" class="my mz it js b jt ju jx jy kb ns kf nt kj nu kn nf ng nh ni bi translated"><strong class="js iu">apps/shell/src/app/home/home . component . ts</strong></li></ul><pre class="kp kq kr ks gt nx ny nz oa aw ob bi"><span id="05cc" class="oc mb it ny b gy od oe l of og"><strong class="ny iu">import { GalleryFacade } from '@mf-app/shared/data-store';<br/>import { Component, OnInit } from '@angular/core';<br/>import { map } from 'rxjs/operators';</strong></span><span id="a610" class="oc mb it ny b gy oo oe l of og"><strong class="ny iu">@Component({<br/>    selector: 'mf-app-gallery-entry',<br/>    template: `&lt;div class="container"&gt;<br/>       &lt;ng-container *ngFor="let cat of cats | async"&gt;<br/>           &lt;div class="child"&gt;<br/>               &lt;h3&gt;{{ cat.title }}&lt;/h3&gt;<br/>               &lt;div&gt;<br/>                   &lt;img [src]="cat.url" alt="" /&gt;<br/>               &lt;/div&gt;<br/>           &lt;/div&gt;<br/>       &lt;/ng-container&gt;<br/>    &lt;/div&gt;`,<br/>    styles: [`<br/>        .container {<br/>            display: grid;<br/>            width: 100%;<br/>            grid-template-columns: repeat(4, 1fr);<br/>        }</strong></span><span id="38fb" class="oc mb it ny b gy oo oe l of og"><strong class="ny iu">        img {<br/>            width: 20vw;<br/>        }`,<br/>    ],<br/>})</strong></span><span id="7fad" class="oc mb it ny b gy oo oe l of og"><strong class="ny iu">export class HomeComponent {<br/>    cats = this.galleryFacade.selectedCats$.pipe(<br/>        map((selectedCats: any) =&gt; Array.from(selectedCats.values()))) as any;</strong></span><span id="8b15" class="oc mb it ny b gy oo oe l of og"><strong class="ny iu">    constructor(private galleryFacade: GalleryFacade) {}<br/>}</strong></span></pre><p id="0225" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æœ€åï¼Œä»shellä¸­çš„appç»„ä»¶è°ƒç”¨<em class="nv"> API </em>:</p><ul class=""><li id="e30a" class="my mz it js b jt ju jx jy kb ns kf nt kj nu kn nf ng nh ni bi translated"><strong class="js iu">apps/shell/src/app/app . component . ts</strong></li></ul><pre class="kp kq kr ks gt nx ny nz oa aw ob bi"><span id="99c0" class="oc mb it ny b gy od oe l of og">...<br/><strong class="ny iu">export class AppComponent implements OnInit {<br/>    constructor(private galleryFacade: GalleryFacade) {}<br/>    ngOnInit(): void {<br/>        this.galleryFacade.init();<br/>    }<br/>}</strong></span></pre><p id="e694" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">ä¸è¦å¿˜è®°æ¸…ç†ä»¥ä¸‹æ‰€æœ‰æ ·å¼:</p><ul class=""><li id="4165" class="my mz it js b jt ju jx jy kb ns kf nt kj nu kn nf ng nh ni bi translated"><strong class="js iu">apps/gallery/src/app/app . component . CSS</strong></li><li id="4fb1" class="my mz it js b jt nj jx nk kb nl kf nm kj nn kn nf ng nh ni bi translated"><strong class="js iu">apps/shell/src/app/app . component . CSS</strong></li></ul><p id="234a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">äº«å—æœ€ç»ˆç»“æœ:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nw"><img src="../Images/06e23f1f38ec7cf9b586361cc561b3d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*nx5INXc-aRp9KjokKWs-hA.gif"/></div></div></figure><h1 id="5f2d" class="ma mb it bd mc md op mf mg mh oq mj mk ml or mn mo mp os mr ms mt ot mv mw mx bi translated">ç»“è®º</h1><p id="b182" class="pw-post-body-paragraph jq jr it js b jt na jv jw jx nb jz ka kb np kd ke kf nq kh ki kj nr kl km kn im bi translated">è¯¥åº”ç”¨ç¨‹åºå¯ä»¥ä½¿ç”¨ç›¸åŒçš„å‘½ä»¤è½»æ¾æ‰©å±•ä¸ºå¦ä¸€ä¸ª<strong class="js iu">å¾®å‹</strong>åº”ç”¨ç¨‹åºã€‚å¦‚æœä½ å­¦åˆ°äº†æ–°çš„ä¸œè¥¿ï¼Œè¯·åˆ†äº«å¹¶ç•™ä¸‹è¯„è®ºã€‚</p><div class="la lb gp gr lc ld"><a href="https://medium.com/subscribe/@easy-web" rel="noopener follow" target="_blank"><div class="le ab fo"><div class="lf ab lg cl cj lh"><h2 class="bd iu gy z fp li fr fs lj fu fw is bi translated">æ¯å½“ç»´å¡”åˆ©Â·èˆç”«ç´ç§‘å‘è¡¨æ–‡ç« æ—¶ï¼Œå°±æ”¶åˆ°ä¸€å°ç”µå­é‚®ä»¶ã€‚</h2><div class="lk l"><h3 class="bd b gy z fp li fr fs lj fu fw dk translated">æ¯å½“ç»´å¡”åˆ©Â·èˆç”«ç´ç§‘å‘è¡¨æ–‡ç« æ—¶ï¼Œå°±æ”¶åˆ°ä¸€å°ç”µå­é‚®ä»¶ã€‚é€šè¿‡æ³¨å†Œï¼Œæ‚¨å°†åˆ›å»ºä¸€ä¸ªä¸­å‹å¸æˆ·ï¼Œå¦‚æœæ‚¨è¿˜æ²¡æœ‰â€¦</h3></div><div class="ll l"><p class="bd b dl z fp li fr fs lj fu fw dk translated">medium.com</p></div></div><div class="lm l"><div class="ln l lo lp lq lm lr ky ld"/></div></div></a></div><div class="la lb gp gr lc ld"><a href="https://medium.com/@easy-web/membership" rel="noopener follow" target="_blank"><div class="le ab fo"><div class="lf ab lg cl cj lh"><h2 class="bd iu gy z fp li fr fs lj fu fw is bi translated">é€šè¿‡æˆ‘çš„æ¨èé“¾æ¥åŠ å…¥Mediumç»´å¡”åˆ©Â·èˆç”«ç´ç§‘</h2><div class="lk l"><h3 class="bd b gy z fp li fr fs lj fu fw dk translated">ä½œä¸ºä¸€ä¸ªåª’ä½“ä¼šå‘˜ï¼Œä½ çš„ä¼šå‘˜è´¹çš„ä¸€éƒ¨åˆ†ä¼šç»™ä½ é˜…è¯»çš„ä½œå®¶ï¼Œä½ å¯ä»¥å®Œå…¨æ¥è§¦åˆ°æ¯ä¸€ä¸ªæ•…äº‹â€¦</h3></div><div class="ll l"><p class="bd b dl z fp li fr fs lj fu fw dk translated">medium.com</p></div></div><div class="lm l"><div class="ou l lo lp lq lm lr ky ld"/></div></div></a></div></div><div class="ab cl lt lu hx lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="im in io ip iq"><h1 id="e865" class="ma mb it bd mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx bi translated"><strong class="ak">äº†è§£æ›´å¤šä¿¡æ¯</strong></h1><div class="la lb gp gr lc ld"><a href="https://medium.com/@easy-web/how-micro-frontend-changes-the-future-of-angular-bb4deb2cfdad" rel="noopener follow" target="_blank"><div class="le ab fo"><div class="lf ab lg cl cj lh"><h2 class="bd iu gy z fp li fr fs lj fu fw is bi translated">å¾®å‰ç«¯å¦‚ä½•æ”¹å˜Angularçš„æœªæ¥ï¼Ÿ</h2><div class="lk l"><h3 class="bd b gy z fp li fr fs lj fu fw dk translated">è®©æˆ‘ä»¬æ¥çœ‹çœ‹ä¸ºä»€ä¹ˆAngularæ˜¯æœ€å¥½çš„å¾®å‰ç«¯</h3></div><div class="ll l"><p class="bd b dl z fp li fr fs lj fu fw dk translated">medium.com</p></div></div><div class="lm l"><div class="ov l lo lp lq lm lr ky ld"/></div></div></a></div></div></div>    
</body>
</html>