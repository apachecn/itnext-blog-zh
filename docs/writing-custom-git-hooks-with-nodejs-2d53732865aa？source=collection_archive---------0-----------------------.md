# ç”¨ NodeJS ç¼–å†™å®šåˆ¶ Git æŒ‚é’©

> åŸæ–‡ï¼š<https://itnext.io/writing-custom-git-hooks-with-nodejs-2d53732865aa?source=collection_archive---------0----------------------->

æœ€åˆå‘å¸ƒåœ¨[å¼€å‘åˆ°](https://dev.to/shaharkazaz/writing-custom-git-hooks-with-nodejs-3f8b)ä¸­ã€‚

![](img/c3b796a385baa67a14eaf02889dfdd5c.png)

Git æŒ‚é’©æ˜¯ä¸€ä¸ªæœ‰ç”¨çš„å·¥å…·ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹å›¢é˜Ÿä¸­å·¥ä½œæ—¶ã€‚
ä»–ä»¬å¯ä»¥å¸®åŠ©æˆ‘ä»¬å°†ä»£ç é£æ ¼å’Œæ—æŒºæ ‡å‡†åº”ç”¨äºæˆ‘ä»¬çš„æš‚å­˜æ–‡ä»¶ã€‚

åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ç¼–å†™å‡ ä¸ªå¼ºå¤§çš„ Javascript git æŒ‚é’©ï¼Œå®ƒä»¬å°†å¸®åŠ©æˆ‘ä»¬ç®¡ç†æˆ‘ä»¬çš„ä»£ç åº“ï¼Œå¹¶æ‹¥æœ‰æ›´æµç•…çš„å¼€å‘ä½“éªŒã€‚

# è¿è¡Œè„šæœ¬

æˆ‘ä»¬å°†åœ¨å“ˆå£«å¥‡çš„å¸®åŠ©ä¸‹è¿è¡Œæˆ‘ä»¬çš„é’©å­ğŸ¶ã€‚
åœ¨æˆ‘ä»¬[å®‰è£…äº† Husky](https://github.com/typicode/husky#install) ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦åšçš„ä¸‹ä¸€ä»¶äº‹å°±æ˜¯è¿è¡Œæˆ‘ä»¬çš„èŠ‚ç‚¹è„šæœ¬ã€‚
è®©æˆ‘ä»¬å°†è„šæœ¬æ·»åŠ åˆ°`package.json`è„šæœ¬éƒ¨åˆ†ï¼Œå¹¶ä½¿ç”¨ husky è°ƒç”¨å®ƒ:

```
scripts: {  
  ...
  "hooks:pre-commit": "node ./hooks/pre-commit.js",
  "hooks:pre-push": "node ./hooks/pre-push.js"
},
...
husky: {
  "pre-commit": "npm run hooks:pre-commit",
  "pre-push": "npm run hooks:pre-push"
},
```

å·®ä¸å¤šå°±æ˜¯è¿™æ ·ï¼Œç°åœ¨è®©æˆ‘ä»¬çœ‹çœ‹
`pre-commit`å’Œ`pre-push`é’©å­çš„ä¸€äº›æœ‰ç”¨çš„å®ç°ã€‚

## æ‰§è¡Œ. js

æˆ‘ä¸ºæˆ‘çš„é’©å­è„šæœ¬åˆ›å»ºäº†ä¸€ä¸ª`exec.js`åŠ©æ‰‹å‡½æ•°ï¼Œå®ƒåŒ…è£…äº†`shelljs`çš„`exec`å‡½æ•°ã€‚
`exec`å‡½æ•°ç”Ÿæˆä¸€ä¸ªå¤–å£³ï¼Œç„¶ååœ¨è¯¥å¤–å£³ä¸­æ‰§è¡Œç»™å®šçš„å‘½ä»¤:

# é¢„æäº¤ğŸ“¦

## 1.åˆ†è¡Œåç§°çº¦å®š

ä»…å…è®¸åˆ›å»ºå…·æœ‰ä»¥ä¸‹å‰ç¼€ä¹‹ä¸€çš„åˆ†æ”¯:`feature|fix|hotfix|chore|tests|automation`

## 2.âœ‹ç¦å”®ä»£å¸

è°æ²¡å¿˜è®°å»æ‰ä¸€ä¸ª`debugger`ï¼Ÿè¿˜æ˜¯ä¸€ä¸ªæµ‹è¯•ä¸­çš„`fdescribe`ï¼Ÿä¸å†æœ‰äº†ï¼

# é¢„æ¨ğŸš€

## 1.è‡ªåŠ¨åŒæ­¥ä¸»æœº

æˆ‘ä»¬æ³¨æ„åˆ°å¼€å‘äººå‘˜ç»å¸¸å¿˜è®°ä»è¿œç¨‹å®šæœŸæ›´æ–°ä»–ä»¬çš„åˆ†æ”¯ã€‚

è¿™æ˜¯ä¸€ä¸ªç®€å•ä½†é‡è¦çš„é’©å­ï¼Œå®ƒä»è¿œç¨‹`master`æ›´æ–°æ‚¨çš„æœ¬åœ°åˆ†æ”¯ã€‚

## 2.âœ‹ç¦æ

æœ‰äº›åˆ†æ”¯æˆ‘ä»¬ä¸å¸Œæœ›å®ƒä»¬çš„æäº¤åœ¨`master`
ç»“æŸï¼Œæ¯”å¦‚`staging`åˆ†æ”¯ã€‚

æˆ‘ä»¬å°†åœ¨è¿™äº›åˆ†æ”¯ä¸­æäº¤ä¸€ä¸ªå……å½“â€œæ ‡å¿—â€çš„ commitğŸš©ã€‚
åœ¨æ¨é€åˆ°è¿œç¨‹ä¹‹å‰ï¼Œæˆ‘ä»¬å°†éªŒè¯è¯¥æäº¤ä¸æ˜¯è¢«æ¨é€åˆ°çš„åˆ†æ”¯çš„ä¸€éƒ¨åˆ†(æˆ‘ä»¬æ˜¾ç„¶å°†åˆ é™¤`staging`åˆ†æ”¯ä¸­çš„è¿™æ®µä»£ç )ã€‚

# å¤–å–é£Ÿå“

æˆ‘ä»¬çœ‹åˆ°äº†ä¸€äº›ä½¿ç”¨ git æŒ‚é’©çš„æœ‰ç”¨ç¤ºä¾‹ï¼Œä»¥åŠä½¿ç”¨ Husky å’Œ NodeJS åº”ç”¨ç­–ç•¥å’Œé˜²æ­¢é”™è¯¯æäº¤æ˜¯å¤šä¹ˆå®¹æ˜“ã€‚

ç°åœ¨ä½ å¯ä»¥ç”¨æœ€é€‚åˆä½ çš„é¡¹ç›®ğŸ¥³çš„æ–¹å¼å®šåˆ¶è¿™äº›é’©å­

# ä½ è¯•è¿‡ Transloco å—ï¼ŸğŸŒ

`ng-neat`ä»‹ç» **Transloco** ï¼ŒAngular çš„å›½é™…åŒ–(i18n)åº“ã€‚å®ƒå…è®¸ä½ ä¸ºä½ çš„å†…å®¹å®šä¹‰ä¸åŒè¯­è¨€çš„ç¿»è¯‘ï¼Œå¹¶åœ¨è¿è¡Œæ—¶è½»æ¾åœ°åœ¨å®ƒä»¬ä¹‹é—´åˆ‡æ¢ã€‚

å®ƒå…¬å¼€äº†ä¸€ä¸ªä¸°å¯Œçš„ API æ¥é«˜æ•ˆã€å¹²å‡€åœ°ç®¡ç†ç¿»è¯‘ã€‚å®ƒæä¾›äº†å¤šä¸ªæ’ä»¶ï¼Œå°†æ”¹å–„æ‚¨çš„å¼€å‘ä½“éªŒã€‚
æˆ‘ä»¬/æˆ‘å¼ºçƒˆå»ºè®®æ‚¨é˜…è¯»æ›´å¤šç›¸å…³å†…å®¹å¹¶[æŸ¥çœ‹](https://github.com/ngneat/transloco)ï¼

[](https://netbasal.com/introducing-transloco-angular-internationalization-done-right-54710337630c) [## ğŸš€Transloco ç®€ä»‹:è§’åº¦å›½é™…åŒ–è¿›å±•é¡ºåˆ©

### æœ‰ä¸€æ®µæ—¶é—´ï¼Œæˆ‘ä¸€ç›´åœ¨è€ƒè™‘åˆ›å»ºä¸€ä¸ª Angular i18n åº“ï¼Œå®ƒåŒ…å«äº†æˆ‘è„‘æµ·ä¸­çš„ä¸€äº›æ¦‚å¿µã€‚

netbasal.com](https://netbasal.com/introducing-transloco-angular-internationalization-done-right-54710337630c) [](https://medium.com/@shahar.kazaz/translation-files-validation-in-angular-with-transloco-e6ba02467f33) [## ä½¿ç”¨ Transloco åœ¨ Angular ä¸­éªŒè¯ç¿»è¯‘æ–‡ä»¶

### å½“ä¸å¤šä¸ªå›¢é˜Ÿä¸€èµ·å¼€å‘ä¸€ä¸ªä¼ä¸šåº”ç”¨ç¨‹åºæ—¶ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°åˆå¹¶å†²çªâ€¦

medium.com](https://medium.com/@shahar.kazaz/translation-files-validation-in-angular-with-transloco-e6ba02467f33) [](/lazy-load-translation-files-in-angular-using-transloco-2d3afed116ce) [## ä½¿ç”¨ Transloco åœ¨ Angular ä¸­å»¶è¿ŸåŠ è½½ç¿»è¯‘æ–‡ä»¶

### åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•ä½¿ç”¨ Angular Transloco çš„å›½é™…åŒ–åº“æ¥å»¶è¿ŸåŠ è½½â€¦

itnext.io](/lazy-load-translation-files-in-angular-using-transloco-2d3afed116ce)