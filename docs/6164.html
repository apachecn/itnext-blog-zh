<html>
<head>
<title>Goodbye Docker Desktop, Hello Minikube!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å†è§Dockeræ¡Œé¢ï¼Œä½ å¥½Minikubeï¼</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://itnext.io/goodbye-docker-desktop-hello-minikube-3649f2a1c469?source=collection_archive---------0-----------------------#2021-09-06">https://itnext.io/goodbye-docker-desktop-hello-minikube-3649f2a1c469?source=collection_archive---------0-----------------------#2021-09-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/a85bd5cf643113cadee33fca281790e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BWP9sVNTNn01xDlvGKNY0g.png"/></div></div></figure><p id="14d9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æˆ‘ç”¨Dockeræ¡Œé¢åœ¨Macä¸Šå¯ç”¨Dockerå’ŒKuberneteså·²ç»æœ‰ä¸€æ®µæ—¶é—´äº†ã€‚å³ä½¿å®ƒç–¯ç‹‚çš„åå™¬CPUå’Œå†…å­˜ï¼Œè®©ç²‰ä¸ç–¯ç‹‚ã€‚éšç€â€œåœ¨ä½ çš„è„¸ä¸Šâ€å¼¹å‡ºæ¥è¿«ä½¿å‡çº§Dockerå’Œè½¯ä»¶è®¸å¯è¯çš„å˜åŒ–ï¼Œæ˜¯æ—¶å€™å»åˆ«å¤„å¯»æ‰¾æœ¬åœ°Kuberneteså¼€å‘éœ€æ±‚äº†ã€‚</p><p id="c6f0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">è¿™ç¯‡æ–‡ç« åªå…³æ³¨Macã€‚å¦‚æœä½ å·²ç»åœ¨Linuxä¸Šè¯•è¿‡äº†ï¼Œè®©æˆ‘çŸ¥é“æ•ˆæœå¦‚ä½•ã€‚</p><blockquote class="kw"><p id="62a5" class="kx ky iq bd kz la lb lc ld le lf kv dk translated">ä½ åœ¨è‹¹æœM1ç¡…(ARM64)å—ï¼Ÿè·³è½¬åˆ°å¸–å­æœ«å°¾ï¼Œè·å–M1çš„å…·ä½“è¯´æ˜ã€‚</p></blockquote><h1 id="2ccf" class="lg lh iq bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">å¸è½½Dockeræ¡Œé¢</h1><p id="7676" class="pw-post-body-paragraph jy jz iq ka b kb me kd ke kf mf kh ki kj mg kl km kn mh kp kq kr mi kt ku kv ij bi translated">æˆ‘ä»¬å…ˆä»ç§»é™¤Dockeræ¡Œé¢å¼€å§‹ã€‚</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="9d4c" class="ms lh iq mo b gy mt mu l mv mw">brew uninstall docker</span></pre><p id="8a16" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">è¿™å°†ä¸ä»…æ·˜æ±°Dockerï¼Œè¿˜ä¼šæ·˜æ±°Hyperkitã€Dockerå®ˆæŠ¤è¿›ç¨‹(å…è®¸æ„å»ºæ˜ åƒ)ã€Docker CLI(ä¸å®ˆæŠ¤è¿›ç¨‹äº¤äº’)ã€Kubernetesé›†ç¾¤å’ŒkubectläºŒè¿›åˆ¶æ–‡ä»¶(é™¤éæ‚¨å•ç‹¬éƒ¨ç½²äº†å®ƒä»¬)ã€‚å¦‚æœä½ æ²¡æœ‰ä½¿ç”¨å®¶é…¿ï¼Œç„¶åå¸è½½ç›¸åº”çš„å·¥å…·ã€‚</p><p id="e194" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">è®©æˆ‘ä»¬æŠŠè¿™äº›å·¥å…·ä¸€ä»¶ä¸€ä»¶æ‹¿å›æ¥ã€‚</p><h1 id="4773" class="lg lh iq bd li lj lk ll lm ln lo lp lq lr mx lt lu lv my lx ly lz mz mb mc md bi translated">å®‰è£…Hyperkit</h1><p id="f915" class="pw-post-body-paragraph jy jz iq ka b kb me kd ke kf mf kh ki kj mg kl km kn mh kp kq kr mi kt ku kv ij bi translated">å¯¹äºMacä¸Šçš„æœ¬åœ°Kubernetesé›†ç¾¤ï¼ŒHyperkitä»ç„¶æ˜¯ä¸€ä¸ªå¯è¡Œçš„é€‰æ‹©ã€‚è®©æˆ‘ä»¬å®‰è£…å®ƒã€‚</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="bad0" class="ms lh iq mo b gy mt mu l mv mw">brew install hyperkit</span></pre><p id="3162" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ç¡®ä¿å®ƒå®‰è£…æ­£ç¡®ã€‚</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="5ca0" class="ms lh iq mo b gy mt mu l mv mw">â¯ hyperkit -v<br/>hyperkit: 0.20200908</span><span id="7e12" class="ms lh iq mo b gy na mu l mv mw">Homepage: <a class="ae nb" href="https://github.com/docker/hyperkit" rel="noopener ugc nofollow" target="_blank">https://github.com/docker/hyperkit</a><br/>License: BSD</span></pre><h1 id="1d54" class="lg lh iq bd li lj lk ll lm ln lo lp lq lr mx lt lu lv my lx ly lz mz mb mc md bi translated">å®‰è£…Docker CLI</h1><p id="2c3c" class="pw-post-body-paragraph jy jz iq ka b kb me kd ke kf mf kh ki kj mg kl km kn mh kp kq kr mi kt ku kv ij bi translated">æˆ‘ä»¬æƒ³æ‘†è„±Dockeræ¡Œé¢ï¼Œä½†ä¸æ˜¯Dockeræœ¬èº«ã€‚Dockerä»ç„¶æ˜¯ä¸€ä¸ªæœ‰ç”¨çš„å¼€æºå®¹å™¨ç®¡ç†å·¥å…·ï¼Œå¦‚æœä½ æœ‰ä¸€å †Dockeræ–‡ä»¶è¦å¤„ç†ï¼ŒDocker CLIä¼šå¾ˆæœ‰ç”¨ã€‚</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="c953" class="ms lh iq mo b gy mt mu l mv mw">brew install docker</span></pre><blockquote class="nc nd ne"><p id="e466" class="jy jz nf ka b kb kc kd ke kf kg kh ki ng kk kl km nh ko kp kq ni ks kt ku kv ij bi translated">æ³¨æ„:ä¸è¦è¿è¡Œ<code class="fe nj nk nl mo b">brew install --cask docker</code>ã€‚è¿™å°†å®‰è£…Dockeræ¡Œé¢ï¼Œæˆ‘ä»¬å°†å›åˆ°æˆ‘ä»¬å¼€å§‹çš„åœ°æ–¹ï¼</p></blockquote><p id="8539" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">è¿™å°†å®‰è£…Docker CLIï¼Œä½†ä¸ä¼šå®‰è£…Dockerå®ˆæŠ¤ç¨‹åº(<code class="fe nj nk nl mo b">dockerd</code>)ã€‚ä½ å¯ä»¥é€šè¿‡è¿è¡Œ<code class="fe nj nk nl mo b">docker info</code>çœ‹åˆ°è¿™ä¸€ç‚¹ã€‚</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="c621" class="ms lh iq mo b gy mt mu l mv mw">â¯ docker info<br/>Client:<br/> Context:    default<br/> Debug Mode: false</span><span id="04ed" class="ms lh iq mo b gy na mu l mv mw">Server:<br/>ERROR: Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?</span></pre><h1 id="1eb2" class="lg lh iq bd li lj lk ll lm ln lo lp lq lr mx lt lu lv my lx ly lz mz mb mc md bi translated">å®‰è£…Kubectl</h1><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="da82" class="ms lh iq mo b gy mt mu l mv mw">brew install kubectl</span></pre><p id="c088" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">è¿™é‡Œæ²¡ä»€ä¹ˆå¥½è¯´çš„ã€‚</p><h1 id="f554" class="lg lh iq bd li lj lk ll lm ln lo lp lq lr mx lt lu lv my lx ly lz mz mb mc md bi translated">å®‰è£…Minikube(å’ŒDockerå®ˆæŠ¤è¿›ç¨‹)</h1><p id="fe53" class="pw-post-body-paragraph jy jz iq ka b kb me kd ke kf mf kh ki kj mg kl km kn mh kp kq kr mi kt ku kv ij bi translated">éšç€Hyperkitçš„éƒ¨ç½²ï¼Œæˆ‘ä»¬å·²ç»å‡†å¤‡å¥½éƒ¨ç½²Kubernetesé›†ç¾¤ï¼Œå¹¶åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­è·å¾—ä¸€ä¸ªDockerå®ˆæŠ¤è¿›ç¨‹ã€‚</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="d286" class="ms lh iq mo b gy mt mu l mv mw">brew install minikube</span></pre><p id="eb03" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">åœ¨æˆ‘ä»¬å¼€å§‹ä½¿ç”¨Kubernetesé›†ç¾¤ä¹‹å‰ï¼Œéœ€è¦äº†è§£ä¸€äº›æœ‰ç”¨çš„ä¿¡æ¯:</p><h2 id="eb23" class="ms lh iq bd li nm nn dn lm no np dp lq kj nq nr lu kn ns nt ly kr nu nv mc nw bi translated">ä½¿ç”¨ä»€ä¹ˆé©±åŠ¨ç¨‹åºï¼Ÿ</h2><p id="ca47" class="pw-post-body-paragraph jy jz iq ka b kb me kd ke kf mf kh ki kj mg kl km kn mh kp kq kr mi kt ku kv ij bi translated">æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬æ˜¯åœ¨è™šæ‹Ÿæœºã€å®¹å™¨ä¸­éƒ¨ç½²Kubernetesï¼Œè¿˜æ˜¯ç›´æ¥éƒ¨ç½²è£¸æœºï¼Ÿæ ¹æ®æ“ä½œç³»ç»Ÿçš„ä¸åŒï¼Œè¿™é‡Œæœ‰å„ç§é€‰é¡¹<a class="ae nb" href="https://minikube.sigs.k8s.io/docs/drivers/" rel="noopener ugc nofollow" target="_blank"/>ã€‚æˆ‘ä»¬å°†ä½¿ç”¨Macç‰ˆçš„Hyperkité©±åŠ¨ç¨‹åº(AMD64)å’ŒM1ç‰ˆçš„Podmané©±åŠ¨ç¨‹åº(è§æœ¬æ–‡æœ«å°¾)ã€‚</p><h2 id="14ae" class="ms lh iq bd li nm nn dn lm no np dp lq kj nq nr lu kn ns nt ly kr nu nv mc nw bi translated">ä½¿ç”¨ä»€ä¹ˆå®¹å™¨è¿è¡Œæ—¶ï¼Ÿ</h2><p id="743e" class="pw-post-body-paragraph jy jz iq ka b kb me kd ke kf mf kh ki kj mg kl km kn mh kp kq kr mi kt ku kv ij bi translated">å¯ç”¨é€‰é¡¹â€”â€”dockerã€containerdå’ŒCRI-oã€‚Containerdæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œå› ä¸ºKubernetesæœ¬èº«æ­£åœ¨æ”¾å¼ƒDockerï¼Œè½¬è€Œæ”¯æŒcontainer dã€‚ä½†æ˜¯å› ä¸ºæˆ‘ä»¬å¸Œæœ›dockerå®ˆæŠ¤è¿›ç¨‹èƒ½å¤Ÿæ„å»ºDockeræ˜ åƒï¼Œæ‰€ä»¥è®©æˆ‘ä»¬ä½¿ç”¨Dockerã€‚</p><h2 id="48e5" class="ms lh iq bd li nm nn dn lm no np dp lq kj nq nr lu kn ns nt ly kr nu nv mc nw bi translated">è®¾ç½®CPUã€å†…å­˜é™åˆ¶</h2><p id="2925" class="pw-post-body-paragraph jy jz iq ka b kb me kd ke kf mf kh ki kj mg kl km kn mh kp kq kr mi kt ku kv ij bi translated">å°±åƒDocker Desktopä¸€æ ·ï¼Œè®¾ç½®æ­£ç¡®çš„CPUå’Œå†…å­˜é™åˆ¶æ˜¯æ˜æ™ºçš„ï¼Œå°¤å…¶æ˜¯å¦‚æœæ‚¨æ‰“ç®—è¿è¡Œè®¸å¤špodsçš„è¯ã€‚</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="6259" class="ms lh iq mo b gy mt mu l mv mw">minikube config set cpus 6<br/>minikube config set memory 12g</span></pre><p id="d585" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æœ€åï¼Œè®©æˆ‘ä»¬å¼€å§‹Kubernetesé›†ç¾¤ã€‚</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="8f51" class="ms lh iq mo b gy mt mu l mv mw">â¯ minikube start --kubernetes-version=v1.19.14 --driver=hyperkit --container-runtime=docker</span></pre><p id="f03b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ä½¿ç”¨æ ‡å¿—<code class="fe nj nk nl mo b">--kubernetes-version</code>æ¥éƒ¨ç½²ç‰¹å®šçš„Kubernetesç‰ˆæœ¬ã€‚æ”¾ä¸‹æ ‡è®°ï¼Œç®€å•åœ°éƒ¨ç½²æœ€æ–°ç‰ˆæœ¬ã€‚æˆ‘æ ¹æ®éœ€è¦éƒ¨ç½²äº†ä¸€ä¸ªæ—§ç‰ˆæœ¬ã€‚</p><p id="0d41" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ä»¥ä¸‹æ˜¯ä¸Šè¿°å‘½ä»¤çš„è¾“å‡º:</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="4e8e" class="ms lh iq mo b gy mt mu l mv mw">ğŸ˜„  minikube v1.23.0 on Darwin 11.5.2<br/>    â–ª MINIKUBE_ACTIVE_DOCKERD=minikube<br/>âœ¨  Using the hyperkit driver based on user configuration<br/>ğŸ‘  Starting control plane node minikube in cluster minikube<br/>ğŸ’¾  Downloading Kubernetes v1.19.14 preload ...     <br/>    &gt; preloaded-images-k8s-v12-v1...: 470.78 MiB / 470.78 MiB  100.00% 6.17 MiB<br/>ğŸ”¥  Creating hyperkit VM (CPUs=6, Memory=12288MB, Disk=20000MB) ...<br/>â—  This VM is having trouble accessing <a class="ae nb" href="https://k8s.gcr.io" rel="noopener ugc nofollow" target="_blank">https://k8s.gcr.io</a><br/>ğŸ’¡  To pull new external images, you may need to configure a proxy: <a class="ae nb" href="https://minikube.sigs.k8s.io/docs/reference/networking/proxy/" rel="noopener ugc nofollow" target="_blank">https://minikube.sigs.k8s.io/docs/reference/networking/proxy/</a><br/>ğŸ³  Preparing Kubernetes v1.19.14 on Docker 20.10.8 ...<br/>    â–ª Generating certificates and keys ...<br/>    â–ª Booting up control plane ...<br/>    â–ª Configuring RBAC rules ...<br/>ğŸ”  Verifying Kubernetes components...<br/>    â–ª Using image gcr.io/k8s-minikube/storage-provisioner:v5<br/>ğŸŒŸ  Enabled addons: storage-provisioner, default-storageclass</span><span id="bd1f" class="ms lh iq mo b gy na mu l mv mw">â—  /usr/local/bin/kubectl is version 1.22.1, which may have incompatibilites with Kubernetes 1.19.14.<br/>    â–ª Want kubectl v1.19.14? Try 'minikube kubectl -- get pods -A'<br/>ğŸ„  Done! kubectl is now configured to use "minikube" cluster and "default" namespace by default</span></pre><blockquote class="nc nd ne"><p id="8d31" class="jy jz nf ka b kb kc kd ke kf kg kh ki ng kk kl km nh ko kp kq ni ks kt ku kv ij bi translated">å¦‚æœæ‚¨åœ¨æœ¬åœ°è¿è¡Œ<code class="fe nj nk nl mo b">dnsmasq</code>,é›†ç¾¤å†…çš„DNSè§£æå¯èƒ½ä¼šå‡ºç°æ•…éšœã€‚ä½ å¯ä»¥å¸è½½å®ƒï¼Œä¹Ÿå¯ä»¥å°†<code class="fe nj nk nl mo b">listen-address=192.168.64.1</code>æ·»åŠ åˆ°<code class="fe nj nk nl mo b">dnsmasq.conf</code>ä¸­ã€‚æ›´å¤šä¿¡æ¯å¯ä»¥åœ¨<a class="ae nb" href="https://minikube.sigs.k8s.io/docs/drivers/hyperkit/" rel="noopener ugc nofollow" target="_blank">è¿™é‡Œ</a>æ‰¾åˆ°ã€‚</p></blockquote><p id="f2ac" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">å·²ç»è®¾ç½®äº†ä¸Šä¸‹æ–‡ã€‚æˆ‘ä»¬å¯ä»¥ç”¨<code class="fe nj nk nl mo b">kubectl</code>æ£€æŸ¥é›†ç¾¤ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="95f9" class="ms lh iq mo b gy mt mu l mv mw">â¯ minikube kubectl get nodes<br/>NAME       STATUS   ROLES    AGE    VERSION<br/>minikube   Ready    master   7m6s   v1.19.14</span></pre><p id="b638" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">å› ä¸ºæˆ‘ä»¬å·²ç»éƒ¨ç½²äº†kubectläºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨å®ƒã€‚</p><p id="559a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æ­¤æ—¶ï¼Œæˆ‘ä»¬æœ‰äº†ä¸€ä¸ªKubernetesé›†ç¾¤ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨Dockeré©±åŠ¨ç¨‹åºæ—¶ï¼ŒDockerå®ˆæŠ¤è¿›ç¨‹ä¹Ÿåœ¨è¿è¡Œã€‚åœ¨ä½¿ç”¨å®ˆæŠ¤è¿›ç¨‹ä¹‹å‰ï¼Œè®©æˆ‘ä»¬è®¾ç½®ç¯å¢ƒå˜é‡ã€‚</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="9dad" class="ms lh iq mo b gy mt mu l mv mw">eval $(minikube docker-env)</span></pre><p id="ba1e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">è®©æˆ‘ä»¬ç¡®è®¤dockerå®ˆæŠ¤è¿›ç¨‹æ˜¯å¯è®¿é—®çš„ã€‚</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="bce7" class="ms lh iq mo b gy mt mu l mv mw">â¯ docker info<br/>Client:<br/> Context:    default<br/> Debug Mode: false</span><span id="213e" class="ms lh iq mo b gy na mu l mv mw">Server:<br/> Containers: 14<br/>  Running: 14<br/>  Paused: 0<br/>  Stopped: 0<br/> Images: 10<br/> Server Version: 20.10.8<br/> Storage Driver: overlay2<br/>  Backing Filesystem: extfs<br/> ...</span></pre><p id="45b1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">è¿™æ˜¯K9Sçš„Minikubeé›†ç¾¤çš„æ ·å­ã€‚</p><figure class="mj mk ml mm gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nx"><img src="../Images/efd70a6ab05c87997ef542da7e750af2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K4FCX7goEtekfksg9ZOGdA.png"/></div></div><figcaption class="ny nz gj gh gi oa ob bd b be z dk translated">æ–°å®‰è£…çš„Minikubeé›†ç¾¤çš„K9Så¿«ç…§</figcaption></figure><h1 id="a076" class="lg lh iq bd li lj lk ll lm ln lo lp lq lr mx lt lu lv my lx ly lz mz mb mc md bi translated">éœ€è¦Dockerä½œæ›²å—ï¼Ÿ</h1><p id="bbc1" class="pw-post-body-paragraph jy jz iq ka b kb me kd ke kf mf kh ki kj mg kl km kn mh kp kq kr mi kt ku kv ij bi translated">ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…Docker Compose:</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="ec88" class="ms lh iq mo b gy mt mu l mv mw">brew install docker-compose</span></pre><h1 id="250f" class="lg lh iq bd li lj lk ll lm ln lo lp lq lr mx lt lu lv my lx ly lz mz mb mc md bi translated">åœ¨Minikubeå¤–éƒ¨å…¬å¼€æœåŠ¡</h1><p id="dcea" class="pw-post-body-paragraph jy jz iq ka b kb me kd ke kf mf kh ki kj mg kl km kn mh kp kq kr mi kt ku kv ij bi translated">å¯¹äºæœ¬åœ°å¼€å‘ï¼Œé€šå¸¸é€šè¿‡æµè§ˆå™¨æˆ–CLIä»ç¬”è®°æœ¬ç”µè„‘è®¿é—®æœåŠ¡ã€‚ç«¯å£è½¬å‘å§‹ç»ˆæ˜¯ä¸€ä¸ªé€‰é¡¹ï¼Œä½†æœ‰æ—¶å…¥å£æˆ–è´Ÿè½½å¹³è¡¡å™¨æ˜¯æœ‰ç”¨çš„ã€‚è®©æˆ‘ä»¬çœ‹çœ‹ä»–ä»¬å¦‚ä½•ä¸Minikubeä¸€èµ·å·¥ä½œã€‚</p><h2 id="760b" class="ms lh iq bd li nm nn dn lm no np dp lq kj nq nr lu kn ns nt ly kr nu nv mc nw bi translated">å¤„ç†å…¥å£èµ„æº</h2><p id="76c2" class="pw-post-body-paragraph jy jz iq ka b kb me kd ke kf mf kh ki kj mg kl km kn mh kp kq kr mi kt ku kv ij bi translated">æˆ‘ä»¬æœ‰ä¸€ä¸ªKubernetesé›†ç¾¤ï¼Œå¯ä»¥åœ¨å…¶ä¸­éƒ¨ç½²æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºã€‚ä½†æ˜¯æˆ‘ä»¬å¦‚ä½•è®¿é—®å…¥å£èµ„æºå‘¢ï¼ŸMinikubeæœ‰ä¸€ä¸ªå¸¦æ’ä»¶çš„å›ç­”ã€‚</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="dbc1" class="ms lh iq mo b gy mt mu l mv mw">â¯ minikube addons enable ingress<br/>    â–ª Using image k8s.gcr.io/ingress-nginx/controller:v1.0.0-beta.3<br/>    â–ª Using image k8s.gcr.io/ingress-nginx/kube-webhook-certgen:v1.0<br/>    â–ª Using image k8s.gcr.io/ingress-nginx/kube-webhook-certgen:v1.0<br/>ğŸ”  Verifying ingress addon...</span></pre><p id="a170" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">è¿™å°†éƒ¨ç½²Nginxå…¥å£æ§åˆ¶å™¨ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œå®ƒä¼šå°†NginxæœåŠ¡éƒ¨ç½²ä¸º<code class="fe nj nk nl mo b">NodePort</code>ï¼Œå¹¶å°†Minikube IPç›´æ¥æŒ‡å‘Ingressã€‚å…ˆæ‰¾åˆ°IPå†è¯´ã€‚</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="1f90" class="ms lh iq mo b gy mt mu l mv mw">â¯ minikube ip<br/>192.168.64.12</span></pre><p id="fde0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">è®©æˆ‘ä»¬åœ¨ç«¯å£80ä¸Šè°ƒç”¨ä¸Šé¢çš„IPï¼Œåº”è¯¥ä¼šå¾—åˆ°Nginxçš„å“åº”ã€‚</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="ec29" class="ms lh iq mo b gy mt mu l mv mw">â¯ curl <a class="ae nb" href="http://192.168.64.12" rel="noopener ugc nofollow" target="_blank">http://192.168.64.12</a><br/>&lt;html&gt;<br/>&lt;head&gt;&lt;title&gt;404 Not Found&lt;/title&gt;&lt;/head&gt;<br/>&lt;body&gt;<br/>&lt;center&gt;&lt;h1&gt;404 Not Found&lt;/h1&gt;&lt;/center&gt;<br/>&lt;hr&gt;&lt;center&gt;nginx&lt;/center&gt;<br/>&lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="fd2b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">è¯·è®°ä½ï¼ŒIngressåœ¨DNSä¸Šå·¥ä½œï¼Œå®ƒåº”è¯¥è§£æä¸ºMinikube IPã€‚å¦‚æœå…¶ä¸­ä¸€ä¸ªåç«¯æœåŠ¡è°ƒç”¨è¯¥DNSï¼Œé™¤éæ˜ç¡®é…ç½®ï¼Œå¦åˆ™å®ƒå°†å¤±è´¥ã€‚åˆä¸€ä¸ªæ•‘æ˜Ÿï¼</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="9d8e" class="ms lh iq mo b gy mt mu l mv mw">â¯ minikube addons enable ingress-dns<br/>    â–ª Using image cryptexlabs/minikube-ingress-dns:0.3.0</span></pre><p id="0937" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">è¿™å°†åœ¨Kubernetesé›†ç¾¤å†…çš„Minikube IPä¸Šå¯åŠ¨ä¸€ä¸ªDNSæœåŠ¡å™¨ã€‚è¿˜éœ€è¦è‡ªå®šä¹‰è§£æå™¨æ¥å¼ºåˆ¶è‡ªå®šä¹‰TLDçš„DNSè§£æ(å¦‚ã€‚æµ‹è¯•ï¼Œä¸è¦ä½¿ç”¨ã€‚æœ¬åœ°)è¢«é‡å®šå‘åˆ°ä¸Šé¢å¯åŠ¨çš„DNSæœåŠ¡å™¨ã€‚Minikube Ingress DNSæ–‡æ¡£å¾ˆå¥½åœ°è§£é‡Šäº†è¿™ä¸€ç‚¹ã€‚æŒ‰ç…§è¿™é‡Œçš„æ­¥éª¤ï¼Œæ‚¨å°†æ‹¥æœ‰ä¸€ä¸ªå¸¦æœ‰è‡ªå®šä¹‰DNSçš„å·¥ä½œå…¥å£è®¾ç½®ã€‚</p><h2 id="bd64" class="ms lh iq bd li nm nn dn lm no np dp lq kj nq nr lu kn ns nt ly kr nu nv mc nw bi translated">è´Ÿè½½å¹³è¡¡å™¨æœåŠ¡</h2><p id="f5f8" class="pw-post-body-paragraph jy jz iq ka b kb me kd ke kf mf kh ki kj mg kl km kn mh kp kq kr mi kt ku kv ij bi translated">éƒ¨ç½²è´Ÿè½½å¹³è¡¡å™¨ç±»å‹çš„æœåŠ¡å¹¶ä»ä¸»æœºè®¿é—®å®ƒï¼Œå°±åƒåœ¨äº‘ä¸­éƒ¨ç½²ä¸€æ ·ï¼Œè¿™ä¸æ˜¯å¾ˆå¥½å—ï¼Ÿå¤šäºäº†<code class="fe nj nk nl mo b">metallb</code>æ’ä»¶ï¼Œè¿™å¾ˆç®€å•ã€‚</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="c7fa" class="ms lh iq mo b gy mt mu l mv mw">minikube addons enable metallb</span></pre><p id="ba6b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">è¿™å°†éƒ¨ç½²å¦å¤–ä¸¤ä¸ªpodï¼Œå®ƒä»¬è´Ÿè´£ä¸ºè´Ÿè½½å¹³è¡¡å™¨æœåŠ¡åˆ†é…å¤–éƒ¨IPã€‚å¦åˆ™ï¼ŒæœåŠ¡å°†æ°¸è¿œæ‹¥æœ‰<code class="fe nj nk nl mo b">pending</code>å¤–éƒ¨IPã€‚</p><p id="a321" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">åœ¨ä½¿ç”¨<code class="fe nj nk nl mo b">metallb</code>ä¹‹å‰è¿˜æœ‰ä¸€ä¸ªæ­¥éª¤ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code class="fe nj nk nl mo b">metallb</code>æ— æ³•çŸ¥é“å“ªäº›IPèŒƒå›´å¯åˆ†é…ç»™è´Ÿè½½å¹³è¡¡å™¨æœåŠ¡ã€‚è¿è¡Œä»¥ä¸‹å‘½ä»¤ä»¥æä¾›ä¸€ä¸ªèŒƒå›´ã€‚</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="0e41" class="ms lh iq mo b gy mt mu l mv mw">â¯ minikube addons configure metallb<br/>-- Enter Load Balancer Start IP: 192.168.64.5<br/>-- Enter Load Balancer End IP: 192.168.64.15<br/>    â–ª Using image metallb/speaker:v0.9.6<br/>    â–ª Using image metallb/controller:v0.9.6<br/>âœ…  metallb was successfully configured</span></pre><p id="28e1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æ ¹æ®æ‚¨çš„Minikube IPï¼Œåˆ†é…åŒ…å«Minikube IPçš„å°èŒƒå›´IPã€‚ç°åœ¨ï¼Œæ¯å½“æ‚¨éƒ¨ç½²è´Ÿè½½å¹³è¡¡å™¨æœåŠ¡æ—¶ï¼Œå°†åˆ†é…æ­¤èŒƒå›´å†…çš„ä¸€ä¸ªIPã€‚</p><h1 id="3eb0" class="lg lh iq bd li lj lk ll lm ln lo lp lq lr mx lt lu lv my lx ly lz mz mb mc md bi translated">å…¶ä»–é—®é¢˜</h1><h2 id="ee1a" class="ms lh iq bd li nm nn dn lm no np dp lq kj nq nr lu kn ns nt ly kr nu nv mc nw bi translated">ç™»å½•åˆ°è¿œç¨‹æ³¨å†Œè¡¨</h2><p id="cc5c" class="pw-post-body-paragraph jy jz iq ka b kb me kd ke kf mf kh ki kj mg kl km kn mh kp kq kr mi kt ku kv ij bi translated">ä½ å¯èƒ½ä»ç„¶æœ‰æ—§çš„<code class="fe nj nk nl mo b">~/.docker/config.json</code>ï¼Œå°†<code class="fe nj nk nl mo b">credsStore</code>è®¾ç½®ä¸º<code class="fe nj nk nl mo b">osxkeychain</code>æˆ–<code class="fe nj nk nl mo b">desktop</code>ã€‚è¿™åœ¨æ–°çš„è®¾ç½®ä¸­ä¸èµ·ä½œç”¨ã€‚è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè®©æˆ‘ä»¬å®‰è£…Dockerå‡­è¯åŠ©æ‰‹ã€‚</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="717a" class="ms lh iq mo b gy mt mu l mv mw">brew install docker-credential-helper</span></pre><p id="b9d1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">å‡­è¯å°†åƒä»¥å‰ä¸€æ ·å‚¨å­˜åœ¨MacOSé’¥åŒ™ä¸²ä¸­ã€‚å¦‚æœè¿™ä¸èµ·ä½œç”¨ï¼Œä¸€ä¸ªå¿«é€Ÿçš„è§£å†³æ–¹æ³•æ˜¯åˆ é™¤<code class="fe nj nk nl mo b">~/.docker/config.json</code>æ–‡ä»¶å¹¶å†æ¬¡ç™»å½•æ³¨å†Œä¸­å¿ƒã€‚</p><h2 id="24f2" class="ms lh iq bd li nm nn dn lm no np dp lq kj nq nr lu kn ns nt ly kr nu nv mc nw bi translated">ä¿ç•™Dockeræ˜ åƒå’Œæ°¸ä¹…å·å£°æ˜</h2><p id="e7b3" class="pw-post-body-paragraph jy jz iq ka b kb me kd ke kf mf kh ki kj mg kl km kn mh kp kq kr mi kt ku kv ij bi translated"><em class="nf">å¢åŠ äº†2021å¹´9æœˆ7æ—¥</em></p><p id="f167" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Docker Desktopçš„ä¸€ä¸ªä¼˜ç‚¹æ˜¯ï¼Œæ‚¨å¯ä»¥å…³é—­Kubernetesé›†ç¾¤ï¼Œç¨åå†å¯åŠ¨å®ƒï¼Œå¹¶ä½¿ç”¨ç›¸åŒçš„Dockeræ˜ åƒå’ŒæŒä¹…å·è¿è¡Œæ‚¨çš„podsã€‚ä¾‹å¦‚ï¼Œåœ¨Kubernetesä¸­è¿è¡Œæœ¬åœ°æ•°æ®åº“æ—¶ï¼Œè¿™å¾ˆæœ‰ç”¨ã€‚è®©æŒä¹…å·åœ¨é‡å¯æ—¶å¯ç”¨æ˜¯å¾ˆæ–¹ä¾¿çš„ã€‚</p><p id="15e7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ä½¿ç”¨Minikubeï¼Œå¦‚æœæˆ‘ç”¨<code class="fe nj nk nl mo b">minikube stop</code>å…³é—­é›†ç¾¤(å’ŒHyperkit VM ),å®ƒä¼šåˆ é™¤Dockeræ˜ åƒå’Œæ‰€æœ‰æŒä¹…å·ã€‚çœŸçƒ¦äººã€‚å¹¸è¿çš„æ˜¯ï¼ŒMinikubeæä¾›äº†ä¸€ç§é˜²æ­¢åˆ é™¤çš„æ–¹æ³•ã€‚æˆ‘ä»¬å¯ä»¥<em class="nf">æš‚åœ</em>å®ƒï¼Œè€Œä¸æ˜¯åœæ­¢Kubernetesé›†ç¾¤å’ŒHyperkitè™šæ‹Ÿæœºã€‚</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="492a" class="ms lh iq mo b gy mt mu l mv mw">minikube pause</span></pre><p id="36ab" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">è¯¥å‘½ä»¤ç»ˆæ­¢Kubernetesé›†ç¾¤ï¼Œä½†ä¸åˆ é™¤Hyperkitè™šæ‹Ÿæœºã€‚è¿™é‡Šæ”¾äº†æ›´å¤šçš„CPUï¼ŒåŒæ—¶ä»ç„¶ä¿ç•™æ‰€æœ‰Dockeræ˜ åƒå’ŒæŒä¹…å·ã€‚ä½†æ˜¯ç­‰ç­‰ï¼Œè¿˜æœ‰æ›´å¥½çš„ï¼å®ƒä¸ä¼šåœæ­¢dockerå®ˆæŠ¤ç¨‹åºã€‚æ‰€ä»¥ä½ å¯ä»¥ç»§ç»­ä½¿ç”¨Docker CLIï¼Œåªæ˜¯åˆ«å¿˜äº†ç”¨<code class="fe nj nk nl mo b">eval $(minikube docker-env)</code>è®¾ç½®Dockerç¯å¢ƒã€‚</p><p id="7d9d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">å½“æ‚¨æƒ³ç»§ç»­åœ¨Kubernetesé›†ç¾¤ä¸Šå·¥ä½œæ—¶ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤:</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="5130" class="ms lh iq mo b gy mt mu l mv mw">minikube unpause</span></pre><p id="b988" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ä½ å°†ä¼šå¾—åˆ°æ‰€æœ‰çš„ç³»ç»Ÿèˆ±ï¼ŒåŒ…æ‹¬æ’ä»¶ã€‚è¿™ç”šè‡³é€‚ç”¨äºç¬”è®°æœ¬ç”µè„‘é‡å¯ï¼</p><h2 id="7d92" class="ms lh iq bd li nm nn dn lm no np dp lq kj nq nr lu kn ns nt ly kr nu nv mc nw bi translated">ç å¤´é›†è£…ç®±è£…è®¢çº¿</h2><p id="c665" class="pw-post-body-paragraph jy jz iq ka b kb me kd ke kf mf kh ki kj mg kl km kn mh kp kq kr mi kt ku kv ij bi translated"><em class="nf">å¢åŠ äº†2021å¹´9æœˆ7æ—¥</em></p><p id="065e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Reddit çš„å¥½æœ‹å‹æŒ‡å‡ºï¼ŒDockerå®¹å™¨ä¸­çš„ç»‘å®šæŒ‚è½½<code class="fe nj nk nl mo b">(-v)</code>åœ¨Minikubeå’ŒDockerè®¾ç½®ä¸­ä¸èƒ½å¼€ç®±å³ç”¨ã€‚è¿™æ˜¯Dockerå®¹å™¨çš„å¸¸è§æ“ä½œï¼Œåº”è¯¥å¯ä»¥æ­£å¸¸å·¥ä½œã€‚</p><p id="47b8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ç”±äºä½¿ç”¨äº†ä¸­é—´Hyperkitè™šæ‹Ÿæœºï¼Œå› æ­¤å®‰è£…å·éœ€è¦ä¸¤æ­¥æ“ä½œã€‚é¦–å…ˆï¼Œè®©æˆ‘ä»¬å°†ç¬”è®°æœ¬ç”µè„‘ä¸Šçš„ç£ç›˜æŒ‚è½½åˆ°Hyperkit VMã€‚</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="241f" class="ms lh iq mo b gy mt mu l mv mw">minikube mount /myvolume:/test</span></pre><p id="2935" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">è¿™å°†åœ¨Hyperkit VMä¸­çš„è·¯å¾„<code class="fe nj nk nl mo b">/test</code>å¤„æŒ‚è½½æœ¬åœ°æ–‡ä»¶å¤¹<code class="fe nj nk nl mo b">/myvolume</code>ã€‚è¯¥è¿›ç¨‹ä»å¤„äºæ´»åŠ¨çŠ¶æ€ï¼Œå› æ­¤æ‚¨åº”è¯¥ä¸å»ç®¡è¿™ä¸ªç»ˆç«¯ã€‚</p><p id="b4fd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">åœ¨å¦ä¸€ä¸ªç»ˆç«¯ä¸­ï¼Œè¿è¡ŒDockerå®¹å™¨å¹¶å°†<code class="fe nj nk nl mo b">/test</code>å·ç»‘å®šåˆ°å®¹å™¨ä¸­çš„ä¸€ä¸ªè·¯å¾„ã€‚</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="7fff" class="ms lh iq mo b gy mt mu l mv mw">docker run --rm -it -v /test:/inside busybox /bin/sh</span></pre><p id="2c00" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">è¿™å°†æŠŠ<code class="fe nj nk nl mo b">/test</code>å·æŒ‚è½½åˆ°Hyperkit VMå®¹å™¨å†…çš„è·¯å¾„<code class="fe nj nk nl mo b">/inside</code>ä¸Šã€‚å®é™…ä¸Šï¼Œè¿™ä½¿å¾—å®¹å™¨å†…ç¬”è®°æœ¬ç”µè„‘ä¸Š<code class="fe nj nk nl mo b">/myvolume</code>ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹éƒ½å¤„äºè¯»å†™æ¨¡å¼ã€‚å¤ªæ£’äº†ã€‚</p><h1 id="d742" class="lg lh iq bd li lj lk ll lm ln lo lp lq lr mx lt lu lv my lx ly lz mz mb mc md bi translated">è‹¹æœç¡…M1æ€ä¹ˆæ ·ï¼Ÿ</h1><p id="9cf1" class="pw-post-body-paragraph jy jz iq ka b kb me kd ke kf mf kh ki kj mg kl km kn mh kp kq kr mi kt ku kv ij bi translated"><em class="nf">å¢åŠ äº†2022å¹´2æœˆ5æ—¥</em></p><p id="780c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ä¸Šä¸ªæœˆï¼Œæˆ‘ç»ˆäºä¹°åˆ°äº†è‹¹æœM1ï¼ä»é‚£æ—¶èµ·ï¼Œæˆ‘ä¸€ç›´è¯•å›¾æ‰¾å‡ºä¸€ç§ä¸ä½¿ç”¨Dockeræ¡Œé¢è¿è¡ŒMinikubeçš„æ–¹æ³•â€¦ç›´åˆ°ç°åœ¨:)</p><p id="2e22" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">åŸºäºARM64çš„è‹¹æœM1é¢ä¸´ä¸€äº›æŒ‘æˆ˜ã€‚å‡ºä¹æ„æ–™çš„æ˜¯ï¼ŒHyperkitå¯¹M1ä¸èµ·ä½œç”¨ï¼Œè€Œä¸”<a class="ae nb" href="https://github.com/moby/hyperkit/issues/310#issuecomment-1003707160" rel="noopener ugc nofollow" target="_blank">å¯èƒ½æ°¸è¿œä¹Ÿä¸ä¼šå¯¹</a>èµ·ä½œç”¨ã€‚æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ›¿ä»£å·¥å…·æ¥åˆ›å»ºè™šæ‹Ÿæœºã€‚æ³¢å¾·æ›¼å‡ºåœºã€‚</p><p id="650e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æ ¹æ®ä»–ä»¬çš„<a class="ae nb" href="https://podman.io" rel="noopener ugc nofollow" target="_blank">ç½‘ç«™</a>ï¼Œæ³¢å¾·æ›¼æ˜¯Dockerçš„ç›´æ¥æ›¿ä»£è€…ã€‚å­—é¢<code class="fe nj nk nl mo b">alias docker=podman</code>ã€‚ä»¤äººå…´å¥‹çš„æ¶ˆæ¯æ˜¯ï¼Œæ³¢å¾·æ›¼å¢åŠ äº†å¯¹è‹¹æœM1å…¬å¸çš„æ”¯æŒï¼æˆ‘ä»¬å°†ä½¿ç”¨Podman machine(ä¸docker machineç›¸ä¼¼)ç‰¹æ€§ä½¿æˆ‘ä»¬è‡ªå·±æˆä¸ºä¸€ä¸ªè™šæ‹Ÿæœºã€‚åœ¨å¼•æ“ç›–ä¸‹ï¼Œæ³¢å¾·æ›¼å’ŒDocker Desktopéƒ½ä½¿ç”¨QEMUæ–½å±•ä»–ä»¬çš„é­”æ³•ã€‚</p><p id="fd53" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">å…ˆè£…æ³¢å¾·æ›¼ã€‚</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="87e0" class="ms lh iq mo b gy mt mu l mv mw">brew install podman</span></pre><p id="4cc1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">åˆ›å»ºå…·æœ‰æ‰€éœ€è§„æ ¼çš„è™šæ‹Ÿæœºã€‚</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="e8af" class="ms lh iq mo b gy mt mu l mv mw">â¯ podman machine init --cpus 6 --memory 12288 --disk-size 50 --image-path next<br/>Downloading VM image: fedora-coreos-35.20220131.1.0-qemu.aarch64.qcow2.xz: done<br/>Extracting compressed file</span><span id="30ba" class="ms lh iq mo b gy na mu l mv mw">â¯ podman machine start<br/>INFO[0000] waiting for clients...<br/>INFO[0000] listening tcp://127.0.0.1:7777<br/>INFO[0000] new connection from  to /var/folders/2x/wz0vrff903q0p3lpn959b8zw0000gn/T/podman/qemu_podman-machine-default.sock<br/>Waiting for VM ...<br/>Machine "podman-machine-default" started successfully</span></pre><p id="ed1e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ä½¿ç”¨PodmanæœåŠ¡çš„æ ¹ç›®çš„åœ°éœ€è¦ä¸€ä¸ªå°çš„è°ƒæ•´ï¼Œä»¥ä½¿å…¶ä¸Minikubeä¸€èµ·å·¥ä½œã€‚å¦‚æœæ²¡æœ‰è¿™ä¸ªè°ƒæ•´ï¼ŒMinikubeå°†å¤±è´¥ï¼Œå¹¶æ˜¾ç¤ºâ€œé”™è¯¯:è¯·æ±‚çš„cgroupæ§åˆ¶å™¨â€œcpuâ€ä¸å¯ç”¨:OCIè¿è¡Œæ—¶é”™è¯¯â€ã€‚</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="4823" class="ms lh iq mo b gy mt mu l mv mw">â¯ podman system connection default podman-machine-default-root</span><span id="7e30" class="ms lh iq mo b gy na mu l mv mw">â¯ podman system connection list<br/>Name                          Identity                                          URI<br/>podman-machine-default        /Users/x/.ssh/podman-machine-default  ssh://core@localhost:57623/run/user/1000/podman/podman.sock<br/>podman-machine-default-root*  /Users/x/.ssh/podman-machine-default  ssh://root@localhost:57623/run/podman/podman.sock</span></pre><p id="9822" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æ³¢å¾·æ›¼å‡†å¤‡å¥½äº†ã€‚ä¸‹ä¸€æ­¥æ˜¯ä½¿ç”¨Podmané©±åŠ¨ç¨‹åºå¯åŠ¨Minikubeé›†ç¾¤ã€‚åªéœ€è¿è¡Œä¸‹é¢çš„å‘½ä»¤ã€‚</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="bcb3" class="ms lh iq mo b gy mt mu l mv mw">â¯ minikube start --kubernetes-version=v1.22.5 --driver=podman --container-runtime=cri-o -p minipod<br/>ğŸ˜„  minikube v1.28.0 on Darwin 12.6.1 (arm64)<br/>ğŸ†•  Kubernetes 1.25.3 is now available. If you would like to upgrade, specify: --kubernetes-version=v1.25.3<br/>âœ¨  Using the podman (experimental) driver based on existing profile<br/>ğŸ‘  Starting control plane node minikube in cluster minikube<br/>ğŸšœ  Pulling base image ...<br/>E1218 00:06:49.506418   69295 cache.go:203] Error downloading kic artifacts:  not yet implemented, see issue #8426<br/>ğŸ”„  Restarting existing podman container for "minikube" ...<br/>ğŸ  Preparing Kubernetes v1.22.5 on CRI-O 1.24.3 ...<br/>E1218 00:06:57.412980   69295 start.go:130] Unable to get host IP: RoutableHostIPFromInside is currently only implemented for linux<br/>ğŸ”—  Configuring CNI (Container Networking Interface) ...<br/>ğŸ”  Verifying Kubernetes components...<br/>    â–ª Using image gcr.io/k8s-minikube/storage-provisioner:v5<br/>ğŸŒŸ  Enabled addons: storage-provisioner, default-storageclass</span><span id="8a82" class="ms lh iq mo b gy na mu l mv mw">ğŸ„  Done! kubectl is now configured to use "minikube" cluster and "default" namespace by default</span></pre><p id="3f3c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">è¿™æ ·ï¼Œæˆ‘ä»¬å°±æœ‰äº†ä¸€ä¸ªè¿è¡Œåœ¨è‹¹æœM1ä¸Šçš„Minikubeé›†ç¾¤ï¼Œè€Œä¸éœ€è¦Dockeræ¡Œé¢ï¼</p><h1 id="b763" class="lg lh iq bd li lj lk ll lm ln lo lp lq lr mx lt lu lv my lx ly lz mz mb mc md bi translated">ç»“è®º</h1><p id="b6b8" class="pw-post-body-paragraph jy jz iq ka b kb me kd ke kf mf kh ki kj mg kl km kn mh kp kq kr mi kt ku kv ij bi translated">åœ¨ä¸€ä¸ªå‘¨æ—¥ä¸‹åˆèŠ±äº†å‡ ä¸ªå°æ—¶åï¼Œæˆ‘å¯¹è¿™é‡Œçš„å¸ƒç½®å¾ˆæ»¡æ„ã€‚æˆ‘ä»¬å»æ‰äº†Docker Desktopï¼Œä»£ä¹‹ä»¥Hyperkit(M1çš„Podman)å’ŒMinikubeã€‚æˆ‘ä»¬ä»ç„¶å¯ä»¥ä½¿ç”¨Docker APIåœ¨æœ¬åœ°Kubernetesé›†ç¾¤ä¸­ç®¡ç†Dockeræ–‡ä»¶å’Œéƒ¨ç½²åº”ç”¨ç¨‹åºã€‚æœ€é‡è¦çš„æ˜¯ï¼Œç¬”è®°æœ¬ç”µè„‘æ­£åœ¨æ„‰å¿«åœ°è¿è¡Œï¼Œé¢å¤–çš„èµ„æºå¯ä»¥è¢«Slackã€Notionå’Œå…¶ä»–ç”µå­åº”ç”¨ç¨‹åºä½¿ç”¨ï¼›-)</p><h1 id="fdda" class="lg lh iq bd li lj lk ll lm ln lo lp lq lr mx lt lu lv my lx ly lz mz mb mc md bi translated">èµ„æº</h1><ol class=""><li id="8d2d" class="oc od iq ka b kb me kf mf kj oe kn of kr og kv oh oi oj ok bi translated"><a class="ae nb" href="https://www.ianlewis.org/en/container-runtimes-part-1-introduction-container-r" rel="noopener ugc nofollow" target="_blank">å®¹å™¨è¿è¡Œæ—¶ç®€ä»‹</a></li><li id="797f" class="oc od iq ka b kb ol kf om kj on kn oo kr op kv oh oi oj ok bi translated"><a class="ae nb" href="https://minikube.sigs.k8s.io/docs/" rel="noopener ugc nofollow" target="_blank"> Minikubeæ–‡æ¡£</a></li><li id="45f1" class="oc od iq ka b kb ol kf om kj on kn oo kr op kv oh oi oj ok bi translated"><a class="ae nb" href="https://docs.podman.io/en/latest/" rel="noopener ugc nofollow" target="_blank">æ³¢å¾·æ›¼æ–‡æ¡£</a></li></ol></div></div>    
</body>
</html>