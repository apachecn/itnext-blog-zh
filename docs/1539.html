<html>
<head>
<title>Prometheus With AlertManager</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å¸¦è­¦æŠ¥å™¨çš„æ™®ç½—ç±³ä¿®æ–¯</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://itnext.io/prometheus-with-alertmanager-f2a1f7efabd6?source=collection_archive---------0-----------------------#2018-11-19">https://itnext.io/prometheus-with-alertmanager-f2a1f7efabd6?source=collection_archive---------0-----------------------#2018-11-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/92c1d570690af55e34bcd713485142f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qHCuSdfq6eKpePUX"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">Hugo Jehanne åœ¨<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šæ‹æ‘„çš„ç…§ç‰‡</figcaption></figure><p id="7274" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æ²¡æœ‰è­¦æŠ¥ï¼Œç›‘æ§æ˜¯ä¸å®Œæ•´çš„ã€‚æˆ‘ä»¬å·²ç»åœ¨<a class="ae kc" rel="noopener ugc nofollow" target="_blank" href="/monitoring-with-prometheus-using-ansible-812bf710ef43">ä¸Šä¸€ç¯‡</a>ä¸­çœ‹è¿‡æ™®ç½—ç±³ä¿®æ–¯çš„ç›‘æ§ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†è®¨è®ºä½¿ç”¨ansibleè®¾ç½®è­¦æŠ¥å’ŒAlertManagerã€‚<a class="ae kc" href="https://prometheus.io/docs/alerting/alertmanager/" rel="noopener ugc nofollow" target="_blank"> AlertManager </a>æ˜¯ä¸€ä¸ªå•ç‹¬çš„äºŒè¿›åˆ¶ç¨‹åºï¼Œå¤„ç†PrometheusæœåŠ¡å™¨å‘é€çš„è­¦æŠ¥å¹¶é€šçŸ¥æœ€ç»ˆç”¨æˆ·ã€‚</p><p id="c9b9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ä¸ºäº†é˜²æ­¢åœæœºå‘ç”Ÿï¼Œæˆ‘ä»¬éœ€è¦ä¾é ç›‘æ§å’Œè­¦æŠ¥ã€‚ç›‘æ§æœ‰åŠ©äºé¢„æµ‹æ½œåœ¨é—®é¢˜æˆ–é€šçŸ¥æˆ‘ä»¬ç³»ç»Ÿä¸­çš„å½“å‰é—®é¢˜ï¼Œå¹¶æä¾›æœ‰å…³é—®é¢˜çš„è¯¦ç»†ä¿¡æ¯ã€‚è­¦æŠ¥æœ‰åŠ©äºåœ¨é—®é¢˜å‘ç”Ÿæ—¶ç«‹å³å‘å‡ºé€šçŸ¥ã€‚è­¦æŠ¥å¯¹äºç›‘æ§è‡³å…³é‡è¦ã€‚å®ƒä»¬å…è®¸å›¢é˜Ÿé€šè¿‡ç”µè¯ã€é€šçŸ¥æˆ–å…¶ä»–åª’ä»‹æ¥è¯†åˆ«é—®é¢˜ï¼Œä»¥ä¾¿å›¢é˜Ÿå¯ä»¥å¿«é€Ÿé‡‡å–è¡ŒåŠ¨ï¼Œå¹¶æœ€å¤§é™åº¦åœ°å‡å°‘å…³é”®ç³»ç»Ÿåœæœºæ—¶é—´ã€‚åœ¨ä»»ä½•ç³»ç»Ÿä¸­ï¼Œç›‘æ§å’Œè­¦æŠ¥éƒ½åº”è¢«è§†ä¸ºä¸€ç­‰å…¬æ°‘ã€‚æ™®ç½—ç±³ä¿®æ–¯ä¸­çš„è­¦æˆ’åˆ†ä¸ºä¸¤éƒ¨åˆ†ã€‚é¦–å…ˆï¼Œé¢„è­¦è§„åˆ™æ˜¯åœ¨Prometheusé…ç½®ä¸­å®šä¹‰çš„ã€‚å¦‚æœè¾¾åˆ°ä»»ä½•è­¦æŠ¥æ¡ä»¶ï¼ŒPrometheuså°†å‘è­¦æŠ¥ç®¡ç†å™¨å‘é€è­¦æŠ¥ã€‚å…¶æ¬¡ï¼ŒAlertManageré€šè¿‡å…¶é™é»˜ã€ç¦æ­¢ã€åˆ†ç»„å’Œå‘é€é€šçŸ¥çš„ç®¡é“æ¥ç®¡ç†è­¦æŠ¥ã€‚é™éŸ³æ˜¯å°†è­¦æŠ¥é™éŸ³ä¸€æ®µæ—¶é—´ã€‚æ£€æŸ¥è­¦æŠ¥æ˜¯å¦ä¸æ´»åŠ¨çš„é™é»˜è­¦æŠ¥åŒ¹é…ï¼Œå¦‚æœå‘ç°åŒ¹é…ï¼Œåˆ™ä¸å‘é€é€šçŸ¥ã€‚æŠ‘åˆ¶æ˜¯æŒ‡åœ¨å…¶ä»–è­¦æŠ¥å·²ç»è§¦å‘çš„æƒ…å†µä¸‹ï¼ŒæŠ‘åˆ¶æŸäº›è­¦æŠ¥çš„é€šçŸ¥ã€‚å°†æ€§è´¨ç›¸ä¼¼çš„ç»„è­¦æŠ¥åˆ†ç»„åˆ°å•ä¸ªé€šçŸ¥ä¸­ã€‚è¿™æœ‰åŠ©äºé˜²æ­¢åŒæ—¶è§¦å‘å¤šä¸ªé€šçŸ¥ã€‚</p><p id="ec22" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Prometheusçš„æŠ¥è­¦è®¾ç½®æ­¥éª¤å¦‚ä¸‹:</p><ol class=""><li id="1bcd" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated">è®¾ç½®å’Œé…ç½®AlertManagerã€‚</li><li id="32ab" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">åœ¨Prometheusä¸Šé…ç½®é…ç½®æ–‡ä»¶ï¼Œä»¥ä¾¿å®ƒå¯ä»¥ä¸AlertManageré€šä¿¡ã€‚</li><li id="a822" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">åœ¨PrometheusæœåŠ¡å™¨é…ç½®ä¸­å®šä¹‰è­¦æŠ¥è§„åˆ™ã€‚</li><li id="a5b4" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">åœ¨AlertManagerä¸­å®šä¹‰è­¦æŠ¥æœºåˆ¶ï¼Œé€šè¿‡Slackã€ç”µå­é‚®ä»¶ã€PagerDutyç­‰å‘é€è­¦æŠ¥ã€‚</li></ol><p id="9e8e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">è®©æˆ‘ä»¬ä½¿ç”¨Ansibleè®¾ç½®AlertManagerã€‚é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºâ€œalertmanagerâ€ç”¨æˆ·å’Œç”¨æˆ·ç»„ï¼Œè¿™æœ‰åŠ©äºéš”ç¦»AlertManageræœåŠ¡çš„æ‰€æœ‰æƒå¹¶æä¾›å®‰å…¨æ€§ã€‚è¯¥ç”¨æˆ·ä¸èƒ½ä¿®æ”¹ä¸å±äºè‡ªå·±çš„æ•°æ®ã€‚è¯¥ç”¨æˆ·ä¸èƒ½ç™»å½•å®ä¾‹ï¼Œåªèƒ½åœ¨å®ä¾‹å†…éƒ¨ä½¿ç”¨ã€‚æˆ‘ä»¬ä½¿ç”¨å¯å˜å˜é‡æ¥æä¾›çµæ´»æ€§ã€‚</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="48ba" class="ly lz iq lu b gy ma mb l mc md">- name: Creating alertmanager user group<br/>  group: name="{{groupId}}"<br/>  become: true</span><span id="8f5b" class="ly lz iq lu b gy me mb l mc md">- name: Creating alertmanager user<br/>  user:<br/>    name: "{{userId}}"<br/>    group: "{{groupId}}"<br/>    system: yes<br/>    shell: "/sbin/nologin"<br/>    comment: "{{userId}} nologin User"<br/>    createhome: "no"<br/>    state: present</span></pre><p id="4492" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æˆ‘ä»¬å°†ä¸‹è½½å¹¶å®‰è£…æ‹¥æœ‰AlertManagerç”¨æˆ·æ‰€æœ‰æƒçš„alertmanagerã€‚å®‰è£…åï¼Œæ¸…ç†å®‰è£…è¿‡ç¨‹æ‰€éœ€çš„æ‰€æœ‰ä¸´æ—¶æ–‡ä»¶ã€‚</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="851d" class="ly lz iq lu b gy ma mb l mc md">- name: Download alertmanager<br/>  unarchive:<br/>    src: "<a class="ae kc" href="https://github.com/prometheus/alertmanager/releases/download/v{{" rel="noopener ugc nofollow" target="_blank">https://github.com/prometheus/alertmanager/releases/download/v{{</a> version }}/alertmanager-{{ version }}.linux-amd64.tar.gz"<br/>    dest: /tmp/<br/>    remote_src: yes</span><span id="fbe3" class="ly lz iq lu b gy me mb l mc md">- name: Copy alertmanager executable to bin<br/>  copy:<br/>    src: "/tmp/alertmanager-{{ version }}.linux-amd64/alertmanager"<br/>    dest: "/usr/local/bin/alertmanager"<br/>    owner: "{{userId}}"<br/>    group: "{{groupId}}"<br/>    remote_src: yes<br/>    mode: 0755</span><span id="c16f" class="ly lz iq lu b gy me mb l mc md">- name: Delete alertmanager tmp folder<br/>  file:<br/>    path: '/tmp/alertmanager-{{ version }}.linux-amd64'<br/>    state: absent</span></pre><p id="9d37" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æˆ‘ä»¬å°†æŠŠAlertManageré…ç½®æ–‡ä»¶å¤åˆ¶åˆ°AlertManageræœåŠ¡ä½¿ç”¨çš„å®ä¾‹ä¸­ã€‚</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="925b" class="ly lz iq lu b gy ma mb l mc md">- name: Copy config file<br/>  copy:<br/>    src: "{{ role_path }}/files/alertmanager.yml"<br/>    dest: /etc/alertmanager/alertmanager.yml</span></pre><p id="ab9c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ä¸€æ—¦æˆ‘ä»¬è®¾ç½®å¥½è¿è¡ŒAlertManagerçš„ä¸€åˆ‡ï¼Œæˆ‘ä»¬å°†å¤åˆ¶systemctl initæ–‡ä»¶æ¥ç®¡ç†å®ƒã€‚</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="7699" class="ly lz iq lu b gy ma mb l mc md">- name: Copy systemd init file<br/>  template:<br/>    src: init.service.j2<br/>    dest: /etc/systemd/system/alertmanager.service<br/>  notify: systemd_reload</span></pre><p id="ab4b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ä¸‹ä¸€æ­¥æ˜¯å¯åŠ¨AlertManagerï¼Œè¿™æ ·å®ƒå°±å¯ä»¥åŸºäºæ›´æ–°åçš„é…ç½®æ–‡ä»¶å·¥ä½œã€‚ç„¶åï¼Œæˆ‘ä»¬é€šè¿‡åœ¨ç«¯å£9093å‘å‡ºHTTPè°ƒç”¨å¹¶ç¡®è®¤ä½•æ—¶æ”¶åˆ°200å“åº”æ¥æ£€æŸ¥å®ƒæ˜¯å¦æŒ‰é¢„æœŸå·¥ä½œã€‚</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="105f" class="ly lz iq lu b gy ma mb l mc md">- name: Start alertmanager service<br/>  service:<br/>    name: alertmanager<br/>    state: started<br/>    enabled: yes</span><span id="ab28" class="ly lz iq lu b gy me mb l mc md">- name: Check if alertmanager is accessible<br/>  uri:<br/>    url: <a class="ae kc" href="http://localhost:9093" rel="noopener ugc nofollow" target="_blank">http://localhost:9093</a><br/>    method: GET<br/>    status_code: 200</span></pre><p id="c053" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»åœ¨ç«¯å£9093çš„å®ä¾‹ä¸Šè¿è¡Œäº†AlertManagerã€‚</p><figure class="lp lq lr ls gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mf"><img src="../Images/1c4c24040e1138c1a30bb95ed25b0ec7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cbtFR0iqFzgIpVhWvuAysA.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">æ²¡æœ‰è¦è§¦å‘çš„è­¦æŠ¥çš„è­¦æŠ¥ç®¡ç†å™¨</figcaption></figure><p id="efa7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æˆ‘ä»¬éœ€è¦é…ç½®PrometheusæœåŠ¡å™¨ï¼Œä»¥ä¾¿å®ƒå¯ä»¥ä¸AlertManageræœåŠ¡å¯¹è¯ã€‚æˆ‘ä»¬å°†å»ºç«‹ä¸€ä¸ªè­¦æŠ¥è§„åˆ™æ–‡ä»¶ï¼Œå®ƒå®šä¹‰äº†è§¦å‘è­¦æŠ¥æ‰€éœ€çš„æ‰€æœ‰è§„åˆ™ã€‚</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="38ef" class="ly lz iq lu b gy ma mb l mc md">rule_files:<br/>  - alert.rules.yml</span><span id="419b" class="ly lz iq lu b gy me mb l mc md">alerting:<br/>  alertmanagers:<br/>  - static_configs:<br/>    - targets:<br/>      - 'alertmanagerIP:9093'</span></pre><p id="6be6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">PrometheusæœåŠ¡å™¨å°†è·Ÿè¸ªä¼ å…¥çš„æ—¶é—´åºåˆ—æ•°æ®ï¼Œä¸€æ—¦æ»¡è¶³ä»»ä½•è§„åˆ™ï¼Œå°±ä¼šå‘AlertManageræœåŠ¡è§¦å‘è­¦æŠ¥ã€‚</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="dca7" class="ly lz iq lu b gy ma mb l mc md"><strong class="lu ir">alert rule file</strong><br/>groups:<br/>- name: alert.rules<br/>  rules:<br/>  - alert: InstanceDown<br/>    expr: up == 0<br/>    for: 1m<br/>    labels:<br/>      severity: "critical"<br/>    annotations:<br/>      summary: "Endpoint {{ $labels.instance }} down"<br/>      description: "{{ $labels.instance }} of job {{ $labels.job }} has been down for more than 1 minutes."</span></pre><p id="af42" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªè­¦æŠ¥è§„åˆ™æ¥æ£€æŸ¥å®ä¾‹æ˜¯å¦åœæœºï¼Œå¦‚æœåœæœºæ—¶é—´è¶…è¿‡1åˆ†é’Ÿï¼Œå°±ä¼šè§¦å‘è­¦æŠ¥ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Prometheusæ¡£æ¡ˆæ–‡ä»¶ä¸­çš„â€œ<strong class="kf ir"> promtool </strong>â€å·¥å…·æ£€æŸ¥è­¦æŠ¥æ–‡ä»¶çš„è¯­æ³•æ˜¯å¦æ­£ç¡®ã€‚</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="47bd" class="ly lz iq lu b gy ma mb l mc md">promtool check rules alert.rules.yml</span></pre><figure class="lp lq lr ls gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mg"><img src="../Images/0302a047e42dd01d62afd72b9ea9efb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YzvdjPExQLsuRgzSgnQQYg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">æ²¡æœ‰æ¿€æ´»è­¦æŠ¥çš„PrometheusæœåŠ¡å™¨è­¦æŠ¥éƒ¨åˆ†</figcaption></figure><p id="ebab" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">å¦‚æœä»»ä½•è¢«è·Ÿè¸ªçš„å®ä¾‹åœæ­¢è¿è¡Œï¼Œå°±ä¼šå¯åŠ¨ä¸€ä¸ªå¤„äºæŒ‚èµ·çŠ¶æ€çš„è­¦æŠ¥ï¼Œç›´åˆ°å®ƒåœæ­¢è¿è¡Œè¶…è¿‡1åˆ†é’Ÿã€‚</p><figure class="lp lq lr ls gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mh"><img src="../Images/00b8d5afef6d84709d85a7d089210035.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c9yaAjYIn2xPpg2dWM9V7w.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">InstanceDownè­¦æŠ¥å¤„äºæŒ‚èµ·çŠ¶æ€ï¼Œç›´åˆ°å®ƒå…³é—­è¶…è¿‡1åˆ†é’Ÿ</figcaption></figure><p id="9556" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ä¸€æ—¦å®ä¾‹åœæœºè¶…è¿‡1åˆ†é’Ÿï¼Œè­¦æŠ¥å°±ä¼šæ¿€æ´»å¹¶è§¦å‘è­¦æŠ¥ç®¡ç†å™¨ã€‚</p><figure class="lp lq lr ls gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mi"><img src="../Images/d8a1e2ae22777e43f214aad9a167f748.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a4fwtN6Wh9bInzkS2If2tA.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">å½“å®ä¾‹åœæœºè¶…è¿‡1åˆ†é’Ÿæ—¶ï¼Œå°†è§¦å‘InstanceDownè­¦æŠ¥</figcaption></figure><p id="471d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">AlertManageræœ‰è‡ªå·±çš„é…ç½®ï¼Œä¸€æ—¦ä»PrometheusæœåŠ¡å™¨æ”¶åˆ°è­¦æŠ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥è§¦å‘Slackè­¦æŠ¥ã€‚</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="02e4" class="ly lz iq lu b gy ma mb l mc md">global:<br/>  slack_api_url: "https://hooks.slack.com/services/SlackAPI"</span><span id="8c8f" class="ly lz iq lu b gy me mb l mc md">route:<br/>  group_by: ['instance', 'severity']<br/>  group_wait: 30s<br/>  group_interval: 5m<br/>  repeat_interval: 3h<br/>  routes:<br/>  - match:<br/>      alertname: InstanceDown<br/>  receiver: 'alert-team'</span><span id="ae99" class="ly lz iq lu b gy me mb l mc md">receivers:<br/>- name: 'alert-team'<br/>  slack_configs:<br/>  - channel: "#webhook-channel"<br/>    text: "summary: {{ .CommonAnnotations.summary }}\ndescription: {{ .CommonAnnotations.description }}"</span></pre><p id="51a4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">åœ¨è¿™ä¸ªé…ç½®ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†åœ¨è§¦å‘è­¦æŠ¥æ—¶éœ€è¦è§¦å‘çš„slack webhook URLã€‚åˆ›å»ºwebhook URLçš„è¯´æ˜å¯ä»¥åœ¨<a class="ae kc" href="https://api.slack.com/incoming-webhooks" rel="noopener ugc nofollow" target="_blank">è¿™é‡Œ</a>æ‰¾åˆ°ã€‚æˆ‘ä»¬å®šä¹‰â€œ<strong class="kf ir"> group_by </strong>â€ï¼Œå®ƒå¯¹ç›¸ä¼¼çš„è­¦æŠ¥è¿›è¡Œåˆ†ç»„ã€‚æˆ‘ä»¬æ·»åŠ äº†â€œ<strong class="kf ir"> group_wait </strong>â€ï¼Œå®ƒä¸ºç‰¹å®šçš„è­¦æŠ¥ç»„è®¾ç½®å‘é€è­¦æŠ¥çš„ç­‰å¾…æ—¶é—´ã€‚"<strong class="kf ir"> group_interval </strong>"å®šä¹‰åœ¨å‘é€æœ‰å…³æ·»åŠ åˆ°è­¦æŠ¥ç»„çš„æ–°è­¦æŠ¥ä¹‹å‰ç­‰å¾…çš„æŒç»­æ—¶é—´ã€‚"<strong class="kf ir"> repeat_interval </strong>"å®šä¹‰åœ¨è§¦å‘å·²ç»å‘é€çš„è­¦æŠ¥ä¹‹å‰ç­‰å¾…çš„æŒç»­æ—¶é—´ã€‚"<strong class="kf ir">åŒ¹é…</strong>"æ£€æŸ¥è­¦æŠ¥åç§°ï¼Œå¹¶æ ¹æ®è¯¥åç§°é€‰æ‹©è¦ä½¿ç”¨çš„æ¥æ”¶å™¨ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨slackä½œä¸ºè­¦æŠ¥æ¥æ”¶è€…ï¼Œå¹¶å®šä¹‰äº†webhook URLã€‚</p><p id="580f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ä¸€æ—¦ä»PrometheusæœåŠ¡å™¨æ”¶åˆ°è­¦æŠ¥ï¼Œå®ƒå°†ç­‰å¾…group_waitæ—¶é—´ï¼Œç„¶åå°†å…¶å‘é€ç»™slack webhookã€‚</p><figure class="lp lq lr ls gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mj"><img src="../Images/556e4aab21fa1225ade31fe7eab163fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6ssuZnJhN0glOPnvn8LGRA.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">AlertManageræ”¶åˆ°æ¥è‡ªPrometheusæœåŠ¡å™¨çš„è­¦æŠ¥</figcaption></figure><figure class="lp lq lr ls gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mk"><img src="../Images/3f9c38c5075e33f6b346c91e944db27f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PhwHLy-LJsS0oHUljJEopw.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">ä»AlertManageræ”¶åˆ°æ—¶å·®è­¦æŠ¥</figcaption></figure><p id="8cc1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">å®Œæ•´çš„ä»£ç å¯ä»¥åœ¨è¿™ä¸ªgitå­˜å‚¨åº“ä¸­æ‰¾åˆ°:<a class="ae kc" href="https://github.com/MiteshSharma/PrometheusAlertManagerWithAnsible" rel="noopener ugc nofollow" target="_blank">https://github . com/MiteshSharma/PrometheusAlertManagerWithAnsible</a></p><p id="f64e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir"> <em class="ml"> PS:å¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œè¯·é¼“æŒæ”¯æŒ</em> </strong>ğŸ‘<strong class="kf ir"> <em class="ml">ã€‚æ¬¢å‘¼</em> </strong></p></div></div>    
</body>
</html>