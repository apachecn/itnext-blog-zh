<html>
<head>
<title>End-to-end encryption using EnRoute and Linkerd</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ä½¿ç”¨é€”ä¸­å’Œé“¾è·¯çš„ç«¯åˆ°ç«¯åŠ å¯†</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://itnext.io/end-to-end-encryption-using-enroute-and-linkerd-2d58875cd59b?source=collection_archive---------3-----------------------#2022-04-15">https://itnext.io/end-to-end-encryption-using-enroute-and-linkerd-2d58875cd59b?source=collection_archive---------3-----------------------#2022-04-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/a5b9bbe0cb3565f81ed6417f22a232e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pAOkzjxcKuSSD4yTE0bRPw.jpeg"/></div></div></figure><h1 id="5633" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">1.ä»‹ç»</h1><p id="d14b" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">æœ¬æ–‡æè¿°äº†EnRoute OneStepä¸Linkerd service-meshçš„é›†æˆæœ‰å¤šå®¹æ˜“ã€‚LinkerDæ˜¯CNCFæ¯•ä¸šçš„æœåŠ¡ç½‘æ ¼é¡¹ç›®ï¼Œå®ƒä½¿ç”¨è½»é‡çº§ä»£ç†åœ¨Kuberneteså†…éƒ¨è®¾ç½®ç½‘æ ¼ã€‚</p><p id="0ec4" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">ä¸Linkerdçš„é€”ä¸­é›†æˆå¯ä»¥ä¸€æ­¥å®Œæˆã€‚é›†æˆEnRouteå’ŒLinkerdéœ€è¦è®¾ç½®ä¸€ä¸ªæ ‡å¿—</p><p id="7678" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">ä»é«˜å±‚æ¬¡æ¥çœ‹ï¼Œç«¯åˆ°ç«¯åŠ å¯†åŒ…æ‹¬-</p><ul class=""><li id="5a52" class="lz ma iq ky b kz lu ld lv lh mb ll mc lp md lt me mf mg mh bi translated">ä»å®¢æˆ·ç«¯åˆ°é€”ä¸­çš„åŠ å¯†ï¼Œä»¥åŠ</li><li id="95f5" class="lz ma iq ky b kz mi ld mj lh mk ll ml lp mm lt me mf mg mh bi translated">ä»é€”ä¸­åˆ°ç½‘çŠ¶ç½‘å†…éƒ¨MTLçš„åŠ å¯†</li></ul><p id="54c8" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">æˆ‘ä»¬é€šè¿‡å°†linkerdä»£ç†æ³¨å…¥åˆ°å®ƒä»¬çš„podä¸­æ¥ç½‘çŠ¶åŒ–å·¥ä½œè´Ÿè½½å’Œè·¯ç”±ï¼Œç„¶åè®¾ç½®å®¢æˆ·ç«¯è¯ä¹¦ã€‚</p><ul class=""><li id="e2c6" class="lz ma iq ky b kz lu ld lv lh mb ll mc lp md lt me mf mg mh bi translated">æˆ‘ä»¬é¦–å…ˆè®¾ç½®é›†ç¾¤ï¼Œå®‰è£…linkerdï¼Œæ·»åŠ ä¸€ä¸ªç¤ºä¾‹å·¥ä½œè´Ÿè½½emojivotoï¼Œå¹¶é€šè¿‡æ³¨å…¥linkerdæ¥åˆ’åˆ†è¿™ä¸ªå·¥ä½œè´Ÿè½½</li><li id="6f40" class="lz ma iq ky b kz mi ld mj lh mk ll ml lp mm lt me mf mg mh bi translated">æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å®‰è£…EnRouteï¼Œå…¬å¼€ä¸å¸¦TLSçš„emojivotoåº”ç”¨ç¨‹åºï¼Œåœ¨EnRoute podä¸­æ³¨å…¥linkerdä»£ç†ä»¥å°†å…¶æ·»åŠ åˆ°ç½‘æ ¼ä¸­</li><li id="011c" class="lz ma iq ky b kz mi ld mj lh mk ll ml lp mm lt me mf mg mh bi translated">æœ€åä¸€æ­¥ï¼Œæˆ‘ä»¬ä½¿ç”¨JetStack cert managerä¸ºemojivotoåº”ç”¨ç¨‹åºç”Ÿæˆã€ç­¾åå¹¶å®‰è£…ä¸€ä¸ªlet's Encryptè¯ä¹¦</li></ul><p id="19d5" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">åœ¨ç›‘è§†é›†ç¾¤çš„linkerdä»£ç†æ³¨å…¥æ—¶ï¼Œæˆ‘ä»¬è·Ÿè¸ªä¸Šè¿°æ¯ä¸ªæ­¥éª¤ã€‚</p><p id="4061" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">æˆ‘ä»¬è¿˜åœ¨Bouyant cloud(åŠå…¶å…è´¹å±‚)ä¸ŠéªŒè¯äº†ä¸Šé¢çš„ä¸€äº›æ­¥éª¤ï¼Œå®ƒåœ¨ä¸åŒçš„UIå±å¹•ä¸Šæ˜¾ç¤ºäº†ä¸Šé¢çš„æ­¥éª¤</p><h1 id="644e" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">2.å…ˆå†³æ¡ä»¶</h1><p id="7d33" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">è¿™ä¸ªè®¾ç½®éœ€è¦ä¸€ä¸ªKubernetesé›†ç¾¤ã€‚æˆ‘ä»¬æœ‰ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªèŠ‚ç‚¹çš„é›†ç¾¤è®¾ç½®-</p><p id="9b95" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated"><strong class="ky ir">æ£€æŸ¥Kubernetesé›†ç¾¤</strong></p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="fa3a" class="mw jz iq ms b gy mx my l mz na"><strong class="ms ir">kubectl get nodes</strong></span><span id="552e" class="mw jz iq ms b gy nb my l mz na">NAME                   STATUS   ROLES    AGE   VERSION<br/>pool-twnynczzy-u9k34   Ready    &lt;none&gt;   8d    v1.21.10<br/>pool-twnynczzy-u9k3i   Ready    &lt;none&gt;   8d    v1.21.10</span></pre><p id="7020" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated"><strong class="ky ir">å®‰è£…å¹¶æ£€æŸ¥Linkerdå®‰è£…</strong></p><p id="4de0" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">linkerdç½‘ç«™ä¸Šçš„å…¥é—¨æŒ‡å—ä¸­ä»‹ç»äº†linkerdçš„å®‰è£…æ­¥éª¤ï¼Œè¿™é‡Œä¸åšä»‹ç»ã€‚ä¸€æ—¦å®‰è£…äº†linkerdï¼Œæˆ‘ä»¬å°±å¯ä»¥éªŒè¯å®ƒçš„å®‰è£…ã€‚</p><p id="516f" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated"><strong class="ky ir">æ£€æŸ¥linkerdå®‰è£…æ˜¯å¦æ­£å¸¸</strong></p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="fa3e" class="mw jz iq ms b gy mx my l mz na"><strong class="ms ir">linkerd check</strong></span><span id="db21" class="mw jz iq ms b gy nb my l mz na">Linkerd core checks<br/><strong class="ms ir">===================</strong><br/><br/>kubernetes-api<br/>--------------<br/>âˆš can initialize the client<br/>âˆš can query the Kubernetes API<br/><br/>kubernetes-version<br/>------------------<br/>âˆš is running the minimum Kubernetes API version<br/>âˆš is running the minimum kubectl version<br/><br/>...<br/><br/>linkerd-control-plane-proxy<br/>---------------------------<br/>âˆš control plane proxies are healthy<br/>âˆš control plane proxies are up-to-date<br/>âˆš control plane proxies and cli versions match<br/><br/>Status check results are âˆš</span></pre><h1 id="4f78" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">3.å®‰è£…é€”ä¸­å’ŒEmojivotoå·¥ä½œè´Ÿè½½</h1><p id="9ce1" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated"><strong class="ky ir">å®‰è£…ç¤ºä¾‹å·¥ä½œè´Ÿè½½Emojivoto </strong></p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="0604" class="mw jz iq ms b gy mx my l mz na"><strong class="ms ir">curl -fsL https://run.linkerd.io/emojivoto.yml | kubectl apply -f -</strong></span><span id="7c45" class="mw jz iq ms b gy nb my l mz na">Linkerd core checks<br/>namespace/emojivoto created<br/>serviceaccount/emoji created<br/>serviceaccount/voting created<br/>serviceaccount/web created<br/>service/emoji-svc created<br/>service/voting-svc created<br/>service/web-svc created<br/>deployment.apps/emoji created<br/>deployment.apps/vote-bot created<br/>deployment.apps/voting created<br/>deployment.apps/web created</span></pre><h2 id="4a08" class="mw jz iq bd ka nc nd dn ke ne nf dp ki lh ng nh km ll ni nj kq lp nk nl ku nm bi translated"><strong class="ak">å®‰è£…é€”ä¸­ä¸€æ­¥</strong></h2><p id="829e" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated"><strong class="ky ir">æ·»åŠ èˆµä»“</strong></p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="37c6" class="mw jz iq ms b gy mx my l mz na"><strong class="ms ir">helm repo add saaras https://getenroute.io<br/>helm repo add jetstack https://charts.jetstack.io<br/>helm repo update<br/>helm search repo</strong></span></pre><p id="32e2" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated"><strong class="ky ir">ä½¿ç”¨èˆµå®‰è£…é€”ä¸­ä¸€æ­¥</strong></p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="b039" class="mw jz iq ms b gy mx my l mz na"><strong class="ms ir">helm install enroute-linkerd-meshed saaras/enroute \<br/>	--set enrouteService.rbac.create=true \<br/>	--create-namespace \<br/>	--namespace demo</strong></span><span id="d8ba" class="mw jz iq ms b gy nb my l mz na">NAME: enroute-linkerd-meshed<br/>LAST DEPLOYED: Mon Mar <strong class="ms ir">21</strong> 03:19:46 <strong class="ms ir">2022</strong><br/>NAMESPACE: demo<br/>STATUS: deployed<br/>REVISION: <strong class="ms ir">1</strong><br/>TEST SUITE: None<br/>NOTES:<br/>ğ™´ğš—ğšğš˜ğšğšğš Ingress API Gateway Community Edition Installed!<br/>-------------------------------------------------------<br/>Request a free evaluation license <strong class="ms ir">for</strong> enterprise version<br/>by sending an email to contact@saaras.io<br/><br/>Slack Channel         - https://slack.saaras.io<br/>Getting Started Guide - https://getenroute.io/docs/getting-started-enroute-ingress-controller/<br/>EnRoute Features      - https://getenroute.io/features/</span></pre><h1 id="e3e9" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">4.ä¸ºLinkerdé…ç½®é€”ä¸­</h1><p id="fa9d" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">ä¸linkerdåœ¨é€”ä¸­å•®åˆåªéœ€è¦åœ¨<code class="fe nn no np ms b">GlobalConfig</code>ä¸Šè®¾ç½®ä¸€ä¸ªæ ‡å¿—<code class="fe nn no np ms b">linkerd_enabled</code></p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="8ba0" class="mw jz iq ms b gy mx my l mz na"><strong class="ms ir">cat &lt;&lt;EOF | kubectl apply -f -<br/>apiVersion: enroute.saaras.io/v1<br/>kind: GlobalConfig<br/>metadata:<br/>  labels:<br/>    app: web<br/>  name: enable-linkerd<br/>  namespace: default<br/>spec:<br/>  name: linkerd-global-config<br/>  type: globalconfig_globals<br/>  config: |<br/>        {<br/>          "linkerd_enabled": true<br/>        }<br/>EOF</strong></span><span id="5a72" class="mw jz iq ms b gy nb my l mz na">globalconfig.enroute.saaras.io/enable-linkerd configured</span></pre><h1 id="ccce" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">5.ç½‘çŠ¶è·¯ç”±å’ŒEmojivotoå·¥ä½œè´Ÿè½½â€”é›†ç¾¤å†…çš„åŠ å¯†</h1><p id="e293" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated"><strong class="ky ir">åœ¨Emojivotoå·¥ä½œé‡ä¸­æ³¨å…¥Linkerd</strong></p><p id="02e9" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">ç¤ºä¾‹å·¥ä½œè´Ÿè½½æ²¡æœ‰åˆ’åˆ†åˆ°linkerdç½‘æ ¼ä¸­ã€‚ä¸ºäº†å°†å…¶ç½‘æ ¼åŒ–ï¼Œæˆ‘ä»¬éœ€è¦ä¸ºéƒ¨ç½²æä¾›ä¸€ä¸ªæ³¨é‡Šæ¥æ³¨å…¥linkerd</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="fd3f" class="mw jz iq ms b gy mx my l mz na"><strong class="ms ir">kubectl get -n emojivoto deploy -o yaml | linkerd inject - | kubectl apply -f -</strong></span><span id="2b61" class="mw jz iq ms b gy nb my l mz na">deployment "emoji" injected<br/>deployment "vote-bot" injected<br/>deployment "voting" injected<br/>deployment "web" injected<br/><br/>deployment.apps/emoji configured<br/>deployment.apps/vote-bot configured<br/>deployment.apps/voting configured<br/>deployment.apps/web configured</span></pre><p id="1927" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">è¿™å°†å®‰è£…linkerdä»£ç†ä»¥åŠç¤ºä¾‹åº”ç”¨ç¨‹åºç»„ä»¶</p><p id="0c9a" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated"><strong class="ky ir">åœ¨èˆªè·¯åŠèˆ±ä¸­æ³¨å…¥è¿æ¥å™¨</strong></p><p id="faae" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">ä¸€æ—¦EnRouteå‡†å¤‡å¥½ä½¿ç”¨linkerdï¼Œæˆ‘ä»¬å°±åœ¨EnRoute podä¸­æ³¨å…¥linkerdä»£ç†</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="2f6d" class="mw jz iq ms b gy mx my l mz na"><strong class="ms ir">kubectl get -n demo deploy -o yaml | linkerd inject - | kubectl apply -f -</strong></span><span id="fe42" class="mw jz iq ms b gy nb my l mz na">deployment "enroute-linkerd-meshed" injected<br/>deployment.apps/enroute-linkerd-meshed configured</span></pre><p id="51c0" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">æˆ‘ä»¬ä½¿ç”¨æ¼‚æµ®äº‘æ¥è¿½è¸ªlinkerdæ³¨å…¥å’Œç½‘æ ¼å½¢æˆçš„çŠ¶æ€ã€‚ä¸‹é¢çš„å›¾ç‰‡æ˜¾ç¤ºäº†å¦‚ä½•åœ¨é€”ä¸­éƒ¨ç½²ä¸­æ·»åŠ linkerdä»£ç†ï¼Œè¿™æ˜¯åœ¨bouyant cloudçš„å‡ ä¸ªå±å¹•ä¸Šæ•æ‰åˆ°çš„</p><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nq"><img src="../Images/691cc321643b3dcb564f4b8b02db165c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LmTUsFjuX7Fq-a18ErlmgA.jpeg"/></div></div></figure><p id="a50f" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">äº‹ä»¶å±å¹•è¿˜æ•è·äº†linkerdä»£ç†æ³¨å…¥-</p><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nr"><img src="../Images/90acad012d4b97f3a89c6c51edbad60c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0Hqpavlp98yMKBb8uN-lJQ.jpeg"/></div></div></figure><p id="32da" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨<code class="fe nn no np ms b">kubectl</code>æ¥æ£€æŸ¥podï¼Œä»¥æŸ¥çœ‹linkerdæ˜¯å¦æ’å…¥åˆ°podä¸­</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="11f6" class="mw jz iq ms b gy mx my l mz na"><strong class="ms ir">kubectl get pods -n demo -o jsonpath='{range .items[*]}{"\n"}{.metadata.name}{":\t"}{range .spec.containers[*]}{.image}{", "}{end}{end}' |sort</strong></span><span id="65ac" class="mw jz iq ms b gy nb my l mz na">enroute-linkerd-meshed-5d9575d575-4bskt:        cr.l5d.io/linkerd/proxy:stable-2.11.1, saarasio/enroute-gwi:latest, redis:latest, envoyproxy/envoy:v1.21.1,</span></pre><h1 id="c96a" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">6.ä»å®¢æˆ·ç«¯åˆ°é€”ä¸­çš„åŠ å¯†</h1><p id="769e" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">å®‰è£…æœåŠ¡ç­–ç•¥å›¾è¡¨ï¼Œé€šè¿‡L7ç­–ç•¥å¯¹å¤–å…¬å¼€æœåŠ¡</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="0bc3" class="mw jz iq ms b gy mx my l mz na"><strong class="ms ir">helm install emojivoto-service-policy saaras/service-policy   \<br/>--set service.name=web-svc   \<br/>--set service.prefix=/ \<br/>--set service.port=80 \<br/>--namespace emojivoto \<br/>--set service.fqdn=enroute-linkerd-mesh.enroutedemo.com \<br/>--set service.enableTLS=false</strong></span><span id="78b6" class="mw jz iq ms b gy nb my l mz na">NAME: emojivoto-service-policy<br/>LAST DEPLOYED: Mon Mar <strong class="ms ir">21</strong> 05:04:39 <strong class="ms ir">2022</strong><br/>NAMESPACE: emojivoto<br/>STATUS: deployed<br/>REVISION: <strong class="ms ir">1</strong><br/>NOTES:<br/>------------------ Configuration Graph -----------------------------------<br/>Filters enabled <strong class="ms ir">for</strong> service <strong class="ms ir">[</strong>web-svc<strong class="ms ir">]</strong><br/>         <strong class="ms ir">|</strong><br/>    web-svc-80-luatestfilter<br/>    kubectl edit -n emojivoto httpfilters.enroute.saaras.io web-svc-80-luatestfilter<br/>         <strong class="ms ir">|</strong><br/>    web-svc-80-rl2<br/>    kubectl edit -n emojivoto routefilters.enroute.saaras.io web-svc-80-rl2 <strong class="ms ir">(</strong>per-route ratelimit<strong class="ms ir">)</strong><br/>    kubectl edit -n emojivoto globalconfigs.enroute.saaras.io web-svc-rl-global-config <strong class="ms ir">(</strong>ratelimit engine global config<strong class="ms ir">)</strong><br/><br/>ğ™´ğš—ğšğš˜ğšğšğš Community Edition Service Policy<br/>----------------------------------------<br/>Request an evaluation license <strong class="ms ir">for</strong> enterprise version - contact@saaras.io<br/><br/>Slack Channel         - https://slack.saaras.io<br/>Getting Started Guide - https://getenroute.io/docs/getting-started-enroute-ingress-controller/<br/>EnRoute Features      - https://getenroute.io/features/</span></pre><p id="9c53" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">å‘é€ä¸€äº›æµé‡</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="0ee5" class="mw jz iq ms b gy mx my l mz na"><strong class="ms ir">curl -I enroute-linkerd-mesh.enroutedemo.com</strong></span><span id="343d" class="mw jz iq ms b gy nb my l mz na">HTTP/1.1 <strong class="ms ir">200</strong> OK<br/>content-type: text/html<br/>date: Mon, <strong class="ms ir">21</strong> Mar <strong class="ms ir">2022</strong> 05:09:51 GMT<br/>content-length: <strong class="ms ir">560</strong><br/>x-envoy-upstream-service-time: <strong class="ms ir">4</strong><br/>vary: Accept-Encoding<br/>lua-filter-says: Hello<br/>server: envoy</span><span id="7159" class="mw jz iq ms b gy nb my l mz na"><strong class="ms ir">while true; do enroute-linkerd-mesh.enroutedemo.com &amp;&gt; /dev/null; done</strong></span></pre><h2 id="1326" class="mw jz iq bd ka nc nd dn ke ne nf dp ki lh ng nh km ll ni nj kq lp nk nl ku nm bi translated">é€šè¿‡ä¸ºä¸‹æ¸¸å®¢æˆ·ç«¯è¿æ¥å¯ç”¨TLSæ¥å¯ç”¨ç«¯åˆ°ç«¯TLS</h2><p id="bf72" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">æˆ‘ä»¬å°†ä½¿ç”¨<a class="ae ns" href="https://getenroute.io/reference/cookbook/cert-manager-with-enroute-ingress/" rel="noopener ugc nofollow" target="_blank"> JetStackè¯ä¹¦ç®¡ç†å™¨é›†æˆ</a>æ¥å®‰è£…è¯ä¹¦ï¼Œä¾‹å¦‚workload emojivotoã€‚æˆ‘ä»¬éœ€è¦è®¾ç½®DNSæ¥è‡ªåŠ¨éªŒè¯è¯ä¹¦ã€‚</p><p id="1f0f" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">è®¾ç½®DNS</p><p id="437a" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">æˆ‘ä»¬ä¸ºä¸€ä¸ªåŸŸåˆ›å»ºä¸€ä¸ªDNSæ¡ç›®ï¼Œä»¥å¯ç”¨è¯ä¹¦éªŒè¯(ä½¿ç”¨Let's Encryptå®‰è£…),å¹¶å°†å…¶å®‰è£…åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹å·¥ä½œè´Ÿè½½ä¸Š</p><p id="3f8c" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">è·å–ExternalIP</p><p id="e62d" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">æ£€æŸ¥è·¯ç”±æœåŠ¡æ˜¯å¦å®‰è£…äº†å¤–éƒ¨IP</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="1649" class="mw jz iq ms b gy mx my l mz na"><strong class="ms ir">kubectl get service -n demo</strong></span><span id="d68a" class="mw jz iq ms b gy nb my l mz na">NAME                     TYPE           CLUSTER-IP       EXTERNAL-IP       PORT<strong class="ms ir">(</strong>S<strong class="ms ir">)</strong>                      AGE<br/>enroute-linkerd-meshed   LoadBalancer   10.245.139.117   137.184.245.252   80:30695/TCP,443:31864/TCP   94m</span></pre><p id="f5c1" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated"><strong class="ky ir">åˆ›å»ºDNSæ¡ç›®</strong></p><p id="d827" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">åˆ›å»ºä¸€ä¸ªä»åŸŸååˆ°å¤–éƒ¨IPçš„DNSæ¡ç›®ã€‚éªŒè¯DNSè®¾ç½®æ˜¯å¦æ­£ç¡®-</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="d24f" class="mw jz iq ms b gy mx my l mz na">ping enroute-linkerd-mesh.enroutedemo.com</span></pre><p id="79ff" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated"><strong class="ky ir">åœ¨æœåŠ¡æ£€æŸ¥è¯ä¹¦ä¸Šå®‰è£…è¯ä¹¦</strong></p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="7aa8" class="mw jz iq ms b gy mx my l mz na">kubectl get certificates.cert-manager.io --all-namespaces</span><span id="a011" class="mw jz iq ms b gy nb my l mz na">NAMESPACE NAME READY SECRET AGE <br/>emojivoto enroute-linkerd-mesh.enroutedemo.com True enroute-linkerd-mesh.enroutedemo.com 63s</span></pre><p id="4a13" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated"><strong class="ky ir">å‘é€æµé‡</strong></p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="dac4" class="mw jz iq ms b gy mx my l mz na">curl -I -v <a class="ae ns" href="https://enroute-linkerd-mesh.enroutedemo.com" rel="noopener ugc nofollow" target="_blank">https://enroute-linkerd-mesh.enroutedemo.com</a></span></pre><p id="3d68" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">è®©æˆ‘ä»¬éªŒè¯ç«¯åˆ°ç«¯åŠ å¯†</p><p id="1ac6" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">ä½¿ç”¨æˆ‘ä»¬åœ¨emojivotoåº”ç”¨ä¸Šå®‰è£…çš„è¯ä¹¦åŠ å¯†æµè§ˆå™¨åˆ°è·¯ç”±çš„è¿æ¥-</p><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nt"><img src="../Images/62b0be315c4838e09f9f202932397112.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*S-Vd4mHwByQb1c59.jpeg"/></div></div></figure><p id="5d96" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">æˆ‘ä»¬è¿˜å¯ä»¥åœ¨ä¸‹é¢çš„â€œç½‘æ ¼â€åˆ—ä¸­çœ‹åˆ°å·¥ä½œè´Ÿè½½å’Œé€”ä¸­ç½‘æ ¼</p><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nt"><img src="../Images/0a621a272e3c348b0b5f9b18df34a11a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*YGNOL_NRUTXan9Lf.jpeg"/></div></div></figure><p id="b441" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">æˆ‘ä»¬è¿˜å¯ä»¥çœ‹åˆ°ï¼Œä¼ å…¥æµé‡æ˜¾ç¤ºä¸ºåº”ç”¨ç¨‹åºTLS</p><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nt"><img src="../Images/4b03e85fa3f059474b862d199828d396.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*8rA2ax9fMHyThZ_P.jpeg"/></div></div></figure><p id="05ac" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">æ‹“æ‰‘å±å¹•è¿˜æ˜¾ç¤ºæœåŠ¡å’Œæµé‡æ–¹å‘ä¹‹é—´çš„MTL</p><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nt"><img src="../Images/36aa1aef7f91b75bd5c5f9af6e9cba1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*3mXayFMhDOI8l5Qr.jpeg"/></div></div></figure><p id="2375" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">åœ¨å®Œæˆä¸Šè¿°æ­¥éª¤åï¼Œè¿˜å¯ä»¥æµè§ˆä¸‹é¢è§†é¢‘ä¸­æ¦‚è¿°çš„æ­¥éª¤</p><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nu nv l"/></div></figure><h1 id="d3d7" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">ç»“è®º</h1><p id="9dfc" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">EnRouteæä¾›äº†ä¸linkerdçš„æå…¶ç®€å•çš„é›†æˆã€‚</p><p id="375e" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">EnRouteå¯ä¸linkerdå’ŒIstioæœåŠ¡ç½‘ç»œè½»æ¾é›†æˆã€‚ä¸istioæœåŠ¡ç½‘æ ¼çš„é›†æˆå°†åœ¨å¦ä¸€ç¯‡æ–‡ç« ä¸­ä»‹ç»ã€‚</p><p id="af6a" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">éšç€å¾®æœåŠ¡å¯¼è‡´æ”»å‡»é¢å¢åŠ ï¼Œä½¿ç”¨é›¶ä¿¡ä»»åŸåˆ™ä¿æŠ¤å’Œåˆ’åˆ†å·¥ä½œè´Ÿè½½çš„éœ€æ±‚å˜å¾—è‡³å…³é‡è¦ã€‚EnRouteä¸æœåŠ¡ç½‘æ ¼é›†æˆï¼Œåœ¨é›†ç¾¤è¾¹ç•Œå’Œé›†ç¾¤å†…éƒ¨å®ç°é›¶ä¿¡ä»»ã€‚æœ‰å…³é›¶ä¿¡ä»»ã€SPIFFEã€åŠ å¯†å¼ºåˆ¶èº«ä»½ã€åŸºäºèº«ä»½çš„åˆ†æ®µä»¥åŠä¸å…¶ä»–æœåŠ¡ç½‘æ ¼é›†æˆçš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…ä»¥ä¸‹æ–‡ç« </p></div><div class="ab cl nw nx hu ny" role="separator"><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob"/></div><div class="ij ik il im in"><p id="68db" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated"><em class="od">æœ€åˆå‘å¸ƒäº</em><a class="ae ns" href="https://getenroute.io/blog/end-to-end-encryption-mtls-linkerd-enroute/" rel="noopener ugc nofollow" target="_blank"><em class="od">https://geten route . io</em></a><em class="od">ã€‚</em></p></div></div>    
</body>
</html>