# Azure è®¤çŸ¥æœåŠ¡ APIâ€”â€”æˆ‘éœ€è¦ä½ çš„è¡£æœã€é´å­å’Œæ‘©æ‰˜è½¦

> åŸæ–‡ï¼š<https://itnext.io/cognitive-services-api-i-need-your-clothes-boots-and-your-motorcycle-1216c36cfe8b?source=collection_archive---------4----------------------->

> ä¸€ä¸ªåäººç±»çš„ AI åæ´¾ï¼ä½œä¸ºä¸€ä¸ªåœ¨ 80 å¹´ä»£é•¿å¤§çš„å­©å­ï¼Œä¸€äº›æœ€é…·çš„ç”µå½±æ˜¯é˜¿è¯ºå¾·Â·æ–½ç“¦è¾›æ ¼ä¸»æ¼”çš„ã€Šç»ˆç»“è€…ã€‹å’Œã€Šç»ˆç»“è€… 2ã€‹ã€‚icy miâ€”â€”ä¸€ä¸ªäººå·¥æ™ºèƒ½æœºå™¨äºº(Arnold)è¢«ä»æœªæ¥é€æ¥ï¼Œè¯•å›¾æ‘§æ¯æœªæ¥äººç±»åæŠ—çš„ä»»ä½•æœºä¼šã€‚

å½“æ—¶ï¼Œæˆ‘ä»¬äººç±»å»ºé€ ä¸€ä¸ªåƒé‚£æ ·ç§»åŠ¨çš„æœºå™¨äººæ„Ÿè§‰å¾ˆé¥è¿œï¼Œç›´åˆ°è¿™ä¸ªç‰‡æ®µåœ¨äº’è”ç½‘ä¸Šå‡ºç°:https://www.youtube.com/watch?v=LikxFZZO2skï¼ŒT4ï¼Œä¸€ä¸ªç”±æ³¢å£«é¡¿åŠ¨åŠ›å…¬å¸å»ºé€ çš„æœºå™¨äººã€‚é‚£å¤©å¾ˆå¤šäººè¢«å’–å•¡å‘›åˆ°äº†ã€‚

å¦‚æœé‚£ä¸œè¥¿å˜å¾—èªæ˜å¹¶å¯¹äººç±»æœ‰æ•Œæ„ï¼Œæˆ‘ä»¬éœ€è¦åŠ å…¥å¤ªç©ºä¸­çš„åŸƒéš†Â·é©¬æ–¯å…‹Â·ç‰¹æ–¯æ‹‰:

ã€Šç»ˆç»“è€…ã€‹ä¸­ä¸€ä¸ªéå¸¸å‰æ²¿çš„åœºæ™¯æ…¢æ…¢è¿›å…¥äº†æˆ‘çš„è„‘æµ·ã€‚ç»ˆç»“è€…è¿›å…¥æ‘©æ‰˜è½¦é…’å§ï¼Œæ‰«ææˆ¿é—´å‘¨å›´çš„äººå’Œç‰©ä½“ï¼Œæ­£ç¡®åˆ†ç±»ç‰©ä½“æ˜¯ä»€ä¹ˆï¼Œå®ƒä»¬çš„é¢œè‰²ï¼Œå¤§å°ä»¥åŠå®ƒä»¬æ˜¯å¦æ˜¯ä»–çš„ç›®æ ‡ï¼

[https://www.youtube.com/watch?v=zzcdPA6qYAU](https://www.youtube.com/watch?v=zzcdPA6qYAU)

é‚£æ—¶å€™å¤ªç¥å¥‡äº†ï¼Œæœ€å¥½çš„ç§‘å¹»å°è¯´ã€‚

ä½†äº‹å®æ˜¯ï¼Œè¿™ä¸å†æ˜¯ç§‘å¹»å°è¯´äº†ã€‚æœºå™¨å­¦ä¹ é¢†åŸŸå‘ç”Ÿäº†å¾ˆå¤šäº‹æƒ…ã€‚æœºå™¨å­¦ä¹ è¡Œä¸šé›‡ä½£äº†ä¸€å¤§æ‰¹æ•°æ®ç§‘å­¦å®¶ï¼Œä»–ä»¬æ„å»ºçš„ç®—æ³•èƒ½å¤Ÿåœ¨ç»™å®šè®­ç»ƒæ•°æ®çš„æƒ…å†µä¸‹ï¼Œæ­£ç¡®è¯†åˆ«å‡ºå®ƒåœ¨çœ‹ä»€ä¹ˆã€‚

ä¸€ä¸ªéå¸¸è‘—åçš„ä¾‹å­æ˜¯ pug æˆ– muffin è®­ç»ƒæ•°æ®ï¼Œå…¶ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™äº›ç®—æ³•æ˜¯å¦‚ä½•åœ¨æ— æ•°åƒè¿™æ ·çš„å›¾åƒä¸Šè®­ç»ƒçš„:

![](img/48d1c14b7327562dcdbc71b20324122d.png)

æˆ‘çŸ¥é“ä½ ä»¬ä¸­çš„ä¸€äº›äººç°åœ¨å¯èƒ½åœ¨å·ç¬‘ï¼Œè®¤ä¸ºæˆ‘ä»¬ä¸éœ€è¦æ‹…å¿ƒæœºå™¨ä¼šå¾ˆå¿«è¶…è¿‡æˆ‘ä»¬:

æˆ‘è¯´è¿‡è¿™ä¸å†æ˜¯ç§‘å¹»å°è¯´äº†ï¼Œç°åœ¨ä¹Ÿä¸æ˜¯ã€‚å¾®è½¯æä¾›äº†ä¸€æ•´å¥—åä¸º Azure è®¤çŸ¥æœåŠ¡çš„æœåŠ¡

*   [**è§†è§‰**](https://azure.microsoft.com/en-gb/services/cognitive-services/directory/vision/?wt.mc_id=medium-blog-chnoring) ï¼Œè¿™æ˜¯å›¾åƒå¤„ç†ç®—æ³•ï¼Œå¯ä»¥`identify`ã€`caption`ã€`index`ã€`moderate pictures`å’Œè§†é¢‘
*   [**è¯­éŸ³**](https://azure.microsoft.com/en-gb/services/cognitive-services/directory/speech/?wt.mc_id=medium-blog-chnoring) ï¼Œå¯ä»¥è½¬æ¢`spoken audio into text`ï¼Œä½¿ç”¨`voice for verification`æˆ–æ·»åŠ `speech recognition to`æ‚¨çš„ app
*   [**è¯­è¨€**](https://azure.microsoft.com/en-gb/services/cognitive-services/directory/lang/?wt.mc_id=medium-blog-chnoring) ï¼Œå…è®¸ä½ çš„åº”ç”¨`process natural language`ä¸é¢„å»ºè„šæœ¬ã€`evaluate sentiment`å¹¶å­¦ä¹ å¦‚ä½•`recognize what users want`
*   [**çŸ¥è¯†**](https://azure.microsoft.com/en-gb/services/cognitive-services/directory/know/?wt.mc_id=medium-blog-chnoring) **ã€**ä¸ºäº†è§£å†³`intelligent recommendations`ã€`semantic search`ç­‰ä»»åŠ¡è€Œç»˜åˆ¶å¤æ‚çš„ä¿¡æ¯å’Œæ•°æ®ã€‚
*   [**æœç´¢**](https://azure.microsoft.com/en-gb/services/cognitive-services/directory/search/?wt.mc_id=medium-blog-chnoring) **ã€**ä½¿åº”ç”¨å’ŒæœåŠ¡èƒ½å¤Ÿé©¾é©­`web-scale`ã€`ad-free search engine`ä¸æœç´¢çš„åŠ›é‡ã€‚ä½¿ç”¨æœç´¢æœåŠ¡ï¼Œåœ¨æ•°åäº¿ç½‘é¡µã€å›¾åƒã€è§†é¢‘å’Œæ–°é—»æœç´¢ç»“æœä¸­å‡†ç¡®æ‰¾åˆ°æ‚¨æƒ³è¦çš„å†…å®¹

æ­£å¦‚ä½ æ‰€æ³¨æ„åˆ°çš„ï¼Œå½“ä½ ç‚¹å‡»ä¸Šé¢çš„ä»»ä½•ä¸€ä¸ªç±»åˆ«æ—¶ï¼Œæ¯ä¸ªåŒºåŸŸéƒ½ä¼šå¯¼å‘å¤§é‡çš„æœåŠ¡ï¼Œå¹¶ä¸”ä»–ä»¬å¯ä»¥å…è´¹å°è¯•ã€‚æˆ‘ä¸çŸ¥é“ä½ æ˜¯æ€ä¹ˆæƒ³çš„ï¼Œä½†æ˜¯å½“æœ‰äººå‘Šè¯‰æˆ‘è¿™é‡Œæœ‰ä¸€å¤§å † API ä¾›ä½ ä½¿ç”¨ï¼Œç‰¹åˆ«æ˜¯å¦‚æœå®ƒä½¿æœºå™¨å­¦ä¹ å¯¹æˆ‘è¿™æ ·çš„å¼€å‘äººå‘˜æœ‰ç”¨æ—¶ï¼Œæˆ‘è§‰å¾—è‡ªå·±å°±åƒä¸€ä¸ªåœ¨ç³–æœåº—çš„å­©å­ã€‚

ä¸ºäº†é…åˆä»‹ç»çš„å™è¿°ï¼Œè®©æˆ‘ä»¬æ·±å…¥åˆ°[è§†è§‰](https://azure.microsoft.com/en-gb/services/cognitive-services/directory/vision/)ç±»åˆ«ï¼Œå› ä¸ºæˆ‘ä»¬å¸Œæœ›çœ‹åˆ°åƒä¸€ä¸ªç»ˆç»“è€…å¯¹ä¸å¯¹ï¼Ÿï¼›)

è®©æˆ‘ä»¬ç‚¹å‡»[å›¾åƒä¸­çš„åäººå’Œåœ°æ ‡è¯†åˆ«](https://azure.microsoft.com/en-gb/services/cognitive-services/computer-vision/#celebrities-landmarks?wt.mc_id=azuremedium-blog-chnoring)ã€‚å“¦ï¼Œé…·ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªæ¼”ç¤ºé¡µé¢ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å·¥ä½œä¸­çš„ç®—æ³•ï¼Œåœ¨ä½ è´­ä¹°ä¹‹å‰å°è¯•ä¸€ä¸‹:)

![](img/7a0b22a441c73717f5f78d343e9bc855.png)

ä»ä¸Šé¢æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå®ƒè¦æ±‚æˆ‘ä»¬ä¸ºä¸€å¼ å›¾ç‰‡è¾“å…¥ä¸€ä¸ª`URL`,å®ƒä¼¼ä¹ç”¨ JSON æ¥å“åº”ã€‚å¥½å§ï¼Œæˆ‘ä»¬æ¥ç‚¹ç®€å•çš„ï¼Œä¸€å¼ äºšä¼¯Â·æ—è‚¯çš„ç…§ç‰‡:

![](img/65f800aa7e834983fec03dfd247683c9.png)

è·èƒœè€…æ˜¯â€¦äºšä¼¯Â·æ—è‚¯ã€‚å¥½çš„ï¼Œè¿™å¾ˆç®€å•ï¼Œè®©æˆ‘ä»¬è¯•è¯•åˆ«çš„:

æˆ‘ä¸å¾—ä¸æ‰¿è®¤ã€‚æˆ‘å¯¹è¿™ä¸ªæœ‰ç‚¹ç´§å¼ ã€‚).å¥½ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ç»“æœ:

![](img/b64e3b18c202385c3315366f32bed620.png)

å¥½çš„ï¼Œå®ƒè®¤å‡ºäº†ç”µå½±ã€Šç»ˆç»“è€… 2ã€‹ä¸­çš„é˜¿è¯ºå¾·Â·æ–½ç“¦è¾›æ ¼ï¼Œå¾ˆå¥½ã€‚æˆ‘å‘èª“ï¼Œå¦‚æœå®ƒæåˆ°çº¦ç¿°Â·åº·çº³ï¼Œæˆ‘ä¼šé€ƒä¹‹å¤­å¤­ï¼Œåªæ˜¯å¼€ç©ç¬‘:)

# ä½¿ç”¨ Azure è®¤çŸ¥æœåŠ¡

è¦å¼€å§‹ä½¿ç”¨è®¤çŸ¥æœåŠ¡ APIï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ª API å¯†é’¥ã€‚æˆ‘ä»¬éœ€è¦é‡‡å–ä¸€äº›æ­¥éª¤æ¥è·å¾—æ‰€è¯´çš„å¯†é’¥ï¼Œä½†å®ƒçœŸçš„æ²¡é‚£ä¹ˆå¤šã€‚è®¤çŸ¥æœåŠ¡é©»ç•™åœ¨ Azure ä¸Šã€‚è¦è·å¾—å…è´¹ Azure å¸æˆ·ï¼Œè¯·ç‚¹å‡»æ­¤[é“¾æ¥](https://azure.microsoft.com/free/?WT.mc_id=cognitiveservices-medium-chnoring):

æ³¨å†Œåï¼Œä½ å¯ä»¥ä½¿ç”¨ Azure é—¨æˆ·æˆ– Azure CLIã€‚Azure CLI ä½¿æˆ‘ä»¬èƒ½å¤Ÿä»å‘½ä»¤è¡Œä¸ Azure å¯¹è¯ï¼Œè¿™é€šå¸¸æ¯”åœ¨ UI ä¸­ç‚¹å‡»æ›´å¿«ã€æ›´é…·ã€‚

ä¸€æ—¦æˆ‘ä»¬èµ°åˆ°è¿™ä¸€æ­¥ï¼Œåªå‰©ä¸‹å››æ­¥äº†ï¼Œæ‰€ä»¥å’Œæˆ‘åœ¨ä¸€èµ·ï¼Œæˆ‘ä»¬å¾ˆå¿«å°±ä¼šåƒé˜¿è¯ºå¾·ä¸€æ ·çœ‹ä¸–ç•ŒğŸ˜ƒã€‚

å‰©ä¸‹çš„å†…å®¹å¦‚ä¸‹:

*   **åˆ›å»ºä¸€ä¸ªèµ„æºç»„**ï¼Œè¿™æ˜¯ä¸€ä¸ªç›®å½•ï¼Œä½ å¯ä»¥æŠŠæ‰€æœ‰çš„ä¸œè¥¿æ”¾åœ¨ä¸€èµ·ï¼Œæ¯”å¦‚è´¦æˆ·ã€æ•°æ®åº“ã€åº”ç”¨ï¼Œåªéœ€è¦ä¸€ç§’é’Ÿå°±å¯ä»¥åˆ›å»ºå¥½
*   **åˆ›å»ºä¸€ä¸ªè®¤çŸ¥æœåŠ¡è´¦æˆ·**ï¼Œè¿™ä¹Ÿåªæ˜¯ä¸€è¡Œä»£ç ï¼Œåˆ›å»ºè¿™ä¸ªè´¦æˆ·ä¼šç»™æˆ‘ä»¬ API å¯†é’¥
*   **å¯¹ API** è¿›è¡Œ POST è°ƒç”¨ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„ REST API è°ƒç”¨ï¼Œç»™å‡ºäº†æˆ‘ä»¬ä»æ„å»ºè®¤çŸ¥æœåŠ¡å¸æˆ·ä¸­è·å¾—çš„ API å¯†é’¥
*   **è§£æ JSON å“åº”**ï¼Œæˆ‘ä»¬å°†å¾—åˆ°ä¸€ä¸ª JSON è¿”å›ï¼Œæˆ‘ä»¬å°†çœ‹çœ‹å®ƒç»™æˆ‘ä»¬çš„ä¸åŒéƒ¨åˆ†ï¼Œçœ‹çœ‹æˆ‘ä»¬å¯ä»¥å‘æˆ‘ä»¬çš„ç”¨æˆ·æ˜¾ç¤ºä»€ä¹ˆ

## åˆ›å»ºèµ„æºç»„

æˆ‘ä»¬éœ€è¦åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯ä½¿ç”¨ Azure CLI ç™»å½• Azureã€‚è¦ä½¿ç”¨ Azure CLIï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦å®‰è£…å®ƒã€‚ç‚¹å‡»æ­¤é“¾æ¥è·å–å®‰è£…è¯´æ˜ï¼Œä¸åŒçš„æ“ä½œç³»ç»Ÿæœ‰ä¸åŒçš„å®‰è£…è¯´æ˜ï¼Œè¯·ç¡®ä¿é€‰æ‹©æ­£ç¡®çš„å®‰è£…è¯´æ˜:

> [https://docs . Microsoft . com/en-us/CLI/azure/install-azure-CLIï¼Ÿview=azure-cli-latest](https://docs.microsoft.com/en-us/cli/azure/install-azure-cli?view=azure-cli-latest?wt.mc_id=medium-blog-chnoring)

è®©æˆ‘ä»¬ä½¿ç”¨ Azure CLI ç™»å½• Azure:

```
az login
```

è¿™å°†åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ä¸€ä¸ªçª—å£ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œç™»å½•æˆ‘ä»¬çš„ Azure å¸æˆ·ã€‚æ­¤åï¼Œç»ˆç«¯å°†æœ‰æƒè®¿é—® Azureã€‚

ç°åœ¨è®©æˆ‘ä»¬åˆ›å»ºèµ„æºç»„:

```
az group create \--name resourceforcogservices \--location westeurope
```

è¿™é‡Œçš„å‘½ä»¤æ˜¯`az group create`ï¼Œæˆ‘ä»¬ç»™å®ƒä»¥ä¸‹å‚æ•°:

*   **åå­—**ï¼Œè¿™æ˜¯æˆ‘ä»¬é€‰æ‹©çš„åå­—
*   **ä½ç½®**ï¼Œæ ¹æ®æˆ‘ä»¬åœ¨ä¸–ç•Œä¸Šçš„ä½ç½®ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è®¸å¤šä½ç½®ä¹‹é—´è¿›è¡Œé€‰æ‹©

å¯¹äºåœ°ç‚¹ï¼Œæˆ‘ä»¬é€‰æ‹©äº†`westeurope`ï¼Œå› ä¸ºé‚£æ˜¯æˆ‘å†™è¿™ç¯‡æ–‡ç« çš„åœ°æ–¹ã€‚æ‰€ä»¥æ ¹æ®ä½ æ‰€åœ¨çš„ä½ç½®é€‰æ‹©ä¸€ä¸ªåœ°åŒºã€‚ä»¥ä¸‹æ˜¯å—æ”¯æŒåœ°åŒºçš„å®Œæ•´åˆ—è¡¨:

*   è¥¿éƒ¨ 2
*   ä¸­å—åŠå²›
*   ä¸­å¤®ç¿¼
*   ä¼Šæ–¯ç‰¹æ–¯
*   è¥¿æ¬§
*   ä¸œå—äºš
*   æ—¥æœ¬ä¸œéƒ¨
*   å·´è¥¿å—éƒ¨
*   æ¾³å¤§åˆ©äºšä¸œå—éƒ¨
*   ä¸­å¤® a

## åˆ›å»º Azure è®¤çŸ¥æœåŠ¡å¸æˆ·

åˆ›å»ºè¿™ä¸ªå¸æˆ·éå¸¸å®¹æ˜“ã€‚è¿™æ˜¯é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®Œæˆçš„:

```
az cognitiveservices account create \--kind ComputerVision \--name ComputerVisionService \--sku S1 \--resource-group resourceforcogservices \--location westeurope
```

å¥½çš„ï¼Œæˆ‘ä»¬çš„åŸºæœ¬å‘½ä»¤æ˜¯`az cognitiveservices account create`ï¼Œä¹‹åæˆ‘ä»¬ç»™è¿™ä¸ªå‘½ä»¤æ·»åŠ äº†ä¸€äº›å‚æ•°:

*   **ç§ç±»**ï¼Œè¿™é‡Œæˆ‘ä»¬éœ€è¦é”®å…¥æˆ‘ä»¬å°†ä½¿ç”¨å“ªç§è®¤çŸ¥æœåŠ¡ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œçš„å€¼éœ€è¦æ˜¯`ComputerVision`
*   **åç§°**ï¼Œåç§°å°±æ˜¯æœåŠ¡çš„åç§°ï¼Œå³`ComputerVisionService`
*   **sku** ï¼Œè¡¨ç¤ºå®šä»·ç­‰çº§ï¼Œåœ¨æœåŠ¡çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…æ˜¯å›ºå®šçš„ï¼Œæˆ‘ä»¬é€‰æ‹© S1ï¼Œå®ƒéå¸¸ä¾¿å®œã€‚
*   **resourcegroup** ï¼Œæˆ‘ä»¬ä¹‹å‰å·²ç»åˆ›å»ºäº†è¿™ä¸ªèµ„æºç»„ï¼Œå¦‚å‰æ‰€è¿°ï¼Œè¿™ä¸ªèµ„æºç»„å°±åƒä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œæ‰€æœ‰ç›¸å…³çš„å†…å®¹éƒ½åº”è¯¥ç»„ç»‡åœ¨å…¶ä¸­
*   **åœ°ç‚¹**ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œç»§ç»­ä½¿ç”¨`westeurope`å› ä¸ºé‚£æ˜¯æˆ‘ä»¬å¼€å§‹çš„åœ°æ–¹ï¼Œæ¬¢è¿ä½ ç»§ç»­ä½¿ç”¨ä½ å»è¿‡çš„åœ°ç‚¹

ä»¥ä¸‹é“¾æ¥å°†å‘Šè¯‰æ‚¨æ›´å¤šå…³äºå®šä»·å’Œä¸åŒæˆæœ¬ç®¡ç†è®¡åˆ’çš„ä¿¡æ¯:

> [https://docs . Microsoft . com/en-us/azure/search/search-SKU-tier](https://docs.microsoft.com/en-us/azure/search/search-sku-tier)

ä¸€æ—¦åˆ›å»ºäº†è®¤çŸ¥æœåŠ¡å¸æˆ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ£€ç´¢ API å¯†é’¥ã€‚ä»¥ä¸‹å‘½ä»¤å°†åˆ—å‡ºæˆ‘ä»¬çš„è®¤çŸ¥æœåŠ¡å¸æˆ·ï¼ŒåŒ…æ‹¬ API å¯†é’¥:

```
az cognitiveservices account show \--name ComputerVisionService \--resource-group resourceforcogservices
```

æˆ‘ä»¬æ£€ç´¢å¯†é’¥çš„å‘½ä»¤æ˜¯`az cognitiveservices account show`ï¼Œç„¶åæˆ‘ä»¬éœ€è¦ç»™è¿™ä¸ªå‘½ä»¤ä¸€äº›å‚æ•°:

*   **åç§°**ï¼Œè¿™æ˜¯æˆ‘ä»¬æœåŠ¡çš„åç§°
*   èµ„æºç»„ï¼Œæˆ‘ä»¬ç»§ç»­ä½¿ç”¨æˆ‘ä»¬æœ€åˆé€‰æ‹©çš„èµ„æºç»„

## å¯¹ API è¿›è¡Œ POST è°ƒç”¨

ç°åœ¨ï¼Œä¸ºäº†åœ¨è¿›è¡Œ REST è°ƒç”¨æ—¶æ›´å®¹æ˜“ä½¿ç”¨ï¼Œæˆ‘ä»¬å°†æŠŠ API é”®èµ‹ç»™ä¸€ä¸ª shell å˜é‡ï¼Œå½“æˆ‘ä»¬ç¨åè¿›è¡Œ REST è°ƒç”¨æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å¼•ç”¨è¯¥å˜é‡ã€‚è®©æˆ‘ä»¬åšä½œä¸š:

```
key=$(az cognitiveservices account keys list \--name ComputerVisionService \--resource-group resourceforcogservices \--query key1 -o tsv)
```

ä¸Šé¢åˆ—å‡ºäº†å¸æˆ·ä¸Šçš„æ‰€æœ‰é”®ï¼ŒæŒ‘é€‰å‡ºä¸€ä¸ªåä¸º`key1`çš„é”®ï¼Œå¹¶å°†å…¶èµ‹ç»™å˜é‡`key`ã€‚ç°åœ¨æˆ‘ä»¬éƒ½è®¾ç½®å¥½äº†ï¼Œå‡†å¤‡æ‰“ç”µè¯ä¼‘æ¯ã€‚

è®©æˆ‘ä»¬çœ‹çœ‹æˆ‘ä»¬çš„ APIï¼Œçœ‹çœ‹ URL é€šå¸¸æ˜¯ä»€ä¹ˆæ ·å­çš„:

```
https://<region>.api.cognitive.microsoft.com/vision/v2.0/analyze?visualFeatures=<...>&details=<...>&language=<...>
```

æˆ‘ä»¬çœ‹åˆ°ï¼Œæˆ‘ä»¬éœ€è¦ç”¨æˆ‘ä»¬åˆ›å»ºèµ„æºç»„å’Œå¸æˆ·æ—¶ä½¿ç”¨çš„åŒºåŸŸæ¥æ›¿æ¢`region`ï¼Œåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­æ˜¯`westeurope`ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬çœ‹åˆ° API æ­£åœ¨ä½¿ç”¨ä¸€ä¸ªå«åš`analyze`çš„æ–¹æ³•å’Œå‚æ•°`visualFeatures`ã€`details`å’Œ`language`ã€‚

*   **æ˜ç»†**ï¼Œå¯ä»¥æœ‰å€¼`Landmarks`æˆ–`Celebrities`
*   **è§†è§‰ç‰¹å¾**ï¼Œè¿™æ˜¯å…³äºä½ æƒ³è¦å›ä»€ä¹ˆæ ·çš„ä¿¡æ¯ï¼Œ`Categories`é€‰é¡¹ä¼šå¯¹å›¾åƒçš„å†…å®¹è¿›è¡Œåˆ†ç±»ï¼Œæ¯”å¦‚æ ‘æœ¨ã€å»ºç­‘ç­‰ç­‰ã€‚å°†è¯†åˆ«äººä»¬çš„é¢å­”ï¼Œå¹¶ç»™å‡ºä»–ä»¬çš„æ€§åˆ«å’Œå¹´é¾„

å¥½ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å®é™…çš„è°ƒç”¨æ˜¯ä»€ä¹ˆæ ·å­çš„:

```
curl "https://westeurope.api.cognitive.microsoft.com/vision/v2.0/analyze?visualFeatures=Categories,Description&details=Landmarks" \-H "Ocp-Apim-Subscription-Key: $key" \-H "Content-Type: application/json" \-d "{'url' : 'https://raw.githubusercontent.com/MicrosoftDocs/mslearn-process-images-with-the-computer-vision-service/master/images/mountains.jpg'}" \| jq '.'
```

ä¸Šé¢æˆ‘ä»¬è°ƒç”¨ cURL å¹¶å°†å¤´`Ocp-Apim-Subscription-Key`è®¾ç½®ä¸ºæˆ‘ä»¬çš„ API é”®ï¼Œæˆ–è€…æ›´å…·ä½“åœ°è¯´ï¼Œè®¾ç½®ä¸ºåŒ…å«æˆ‘ä»¬çš„ API é”®çš„å˜é‡`key`ã€‚æˆ‘ä»¬çœ‹åˆ°ï¼Œæˆ‘ä»¬ç”¨å±æ€§`url`åˆ›å»ºäº†ä¸€ä¸ª BODY å€¼ï¼Œå¹¶å°†å…¶è®¾ç½®ä¸ºæˆ‘ä»¬æƒ³è¦åˆ†æçš„å›¾åƒã€‚

## çœ‹çœ‹äººä»¬çš„ååº”

å¥½å§ï¼Œæˆ‘ä»¬æ‰“ç”µè¯ï¼Œæˆ‘ä»¬è¢«å‘ŠçŸ¥ä¼šæœ‰ JSONã€‚è€Œä¸”æœ‰ï¼Œä¸€å¤§å †:)

```
{"categories": [{"name": "outdoor_mountain","score": 0.99609375,"detail": {"landmarks": []}}],"description": {"tags": ["snow","outdoor","mountain","nature","covered","skiing","man","flying","standing","wearing","side","air","slope","jumping","plane","red","hill","riding","people","group","yellow","board","doing","airplane"],"captions": [{"text": "a snow covered mountain","confidence": 0.956279380622841}]},"requestId": "<undisclosed>","metadata": {"width": 600,"height": 462,"format": "Jpeg"}}
```

`score`è¡¨ç¤ºå¯¹ç»“æœçš„ç¡®å®šç¨‹åº¦ã€‚å€¼ä¸º`0.99609375`(æœ€å¤§å€¼ä¸º 1.0)ï¼Œæˆ‘ä¼šè¯´è¿™æ˜¯éå¸¸ç¡®å®šçš„ã€‚`captions`æ˜¯ç®—æ³•è¯•å›¾ç»™æˆ‘ä»¬ä¸€ä¸ªè¿™æ˜¯ä»€ä¹ˆçš„æ­£å¸¸å¥å­ã€‚ä¸Šé¢è¯´æ˜¯:*ä¸€åº§é›ªå±±ã€‚*è®©æˆ‘ä»¬è‡ªå·±çœ‹çœ‹æˆ‘ä»¬æä¾›ç»™æœåŠ¡è°ƒç”¨ *:* çš„ URL

![](img/8307e8dd5a9bb0b2a58d49a56a2c6ec6.png)

> æ˜¯çš„ï¼Œåœ¨æˆ‘çœ‹æ¥åƒåº§å±±ï¼Œå¥½çš„å¤©ç½‘ï¼›)

# æ‘˜è¦

æˆ‘å¸¦ä½ åº¦è¿‡äº†æˆ‘çš„ç«¥å¹´ï¼Œç°åœ¨ä½ çŸ¥é“æˆ‘æ˜¯ä¸€ä¸ªç”µå½±å‘†å­ï¼Œæœ‰ç‚¹æ€€ç–‘æ‰€æœ‰è¿™äº›äººå·¥æ™ºèƒ½ï¼Œæœºå™¨å­¦ä¹ ç ”ç©¶å°†æˆ‘ä»¬å¸¦åˆ°å“ªé‡Œã€‚ä¸æ­¤åŒæ—¶ï¼Œæˆ‘å¯¹æˆ‘å¯ä»¥ç”¨è®¤çŸ¥æœåŠ¡æ„å»ºçš„æ‰€æœ‰é…·åº”ç”¨æ„Ÿåˆ°å…´å¥‹ã€‚

è¿™é‡Œä¹Ÿæœ‰ä¸€äº›å€¼å¾—æ€è€ƒçš„é—®é¢˜ã€‚å¼€æœºå™¨äººæ€æ‰‹çš„ç©ç¬‘å¾ˆå®¹æ˜“ï¼Œå°¤å…¶æ˜¯å½“å®ƒä»¬æ¥è‡ªç”µå½±ä¸–ç•Œçš„æ—¶å€™ã€‚å¯¹äºæ‰€æœ‰ä¼Ÿå¤§çš„æŠ€æœ¯ï¼Œæˆ‘ä»¬æœ‰è´£ä»»ç”¨å®ƒåšä¸€äº›æœ‰ç”¨çš„äº‹æƒ…ï¼Œä¸ºäººç±»æœåŠ¡ã€‚æƒ³è±¡ä¸€ä¸‹åƒè¿™æ ·çš„ç®—æ³•å®‰è£…åœ¨æ— äººæœºæˆ–ç›´å‡æœºä¸Šã€‚è¿›ä¸€æ­¥æƒ³è±¡ä¸€ä¸‹ï¼Œä¸€åœºç¾éš¾å‘ç”Ÿäº†ï¼Œä½ æ­£åœ¨å¯»æ‰¾å¹¸å­˜è€…ï¼Œä½ æœ‰ä¸€äº›å¾ˆå¥½çš„ç®—æ³•å¯ä»¥å¿«é€Ÿå¸®åŠ©ä½ æ‰¾åˆ°äººã€‚è¿™èƒ½å¸¦æ¥çœŸæ­£çš„æ”¹å˜ï¼Œæ‹¯æ•‘ç”Ÿå‘½ã€‚

æˆ‘å¸Œæœ›ä½ å’Œæˆ‘ä¸€æ ·å…´å¥‹ï¼Œè¯•ä¸€è¯•ã€‚æœ€å¥½çš„å¼€å§‹æ–¹å¼æ˜¯å¸Œæœ›è¿™ç¯‡åšå®¢æ–‡ç« ï¼Œä½†æ˜¯å€¼å¾—æŸ¥çœ‹ä¸€ä¸‹[å­¦ä¹ ](https://docs.microsoft.com/learn/?WT.mc_id=cognitiveservices-medium-chnoring)å¹³å°ï¼Œå°¤å…¶æ˜¯è¿™ä¸ª[è¯¾ç¨‹](https://docs.microsoft.com/learn/modules/create-computer-vision-service-to-classify-images/?WT.mc_id=cognitiveservices-medium-chnoring)ã€‚ç¥ä½ å¥½è¿:)

å¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« æœ‰ç”¨/å¥½ç¬‘/æœ‰è¶£/ä»€ä¹ˆçš„ï¼Œè¯·ç»™æˆ‘é¼“æŒ:)