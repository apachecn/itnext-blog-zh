<html>
<head>
<title>Laravel and Vue: Creating a Portfolio website with a CRUD admin panel â€” Chapter Seven</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Laravelå’ŒVue:ç”¨CRUDç®¡ç†é¢æ¿åˆ›å»ºä½œå“é›†ç½‘ç«™â€”â€”ç¬¬ä¸ƒç« </h1>
<blockquote>åŸæ–‡ï¼š<a href="https://itnext.io/laravel-and-vue-creating-a-portfolio-website-with-a-crud-admin-panel-chapter-seven-b473ee1ac816?source=collection_archive---------3-----------------------#2019-11-22">https://itnext.io/laravel-and-vue-creating-a-portfolio-website-with-a-crud-admin-panel-chapter-seven-b473ee1ac816?source=collection_archive---------3-----------------------#2019-11-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2f8e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">æ„å»ºæŠ•èµ„ç»„åˆ</h2></div><p id="79d1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä¸€æ—¦ä½ ç”¨åˆŠå¤´ä»‹ç»äº†è‡ªå·±ï¼Œä½ å¯èƒ½è¿˜æƒ³å±•ç¤ºä½ å‚ä¸è¿‡çš„ä»»ä½•é¡¹ç›®ã€‚ä¸ºæ­¤ï¼Œä½ å¯ä»¥æœ‰ä¸€ä¸ªæŠ•èµ„ç»„åˆéƒ¨åˆ†ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬ç°åœ¨è¦åšçš„ã€‚</p><p id="bf39" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ğŸ’¡æœ‰ä¸€ç§ä¸åŒçš„æ–¹æ³•å°†ç»„ä»¶åŒ…å«åœ¨æ¨¡æ¿æ ‡ç­¾ä¸­ï¼Œé‚£å°±æ˜¯<strong class="kk iu">æŠ˜å ç©ºæ ‡ç­¾ã€‚</strong>æ¯”å¦‚<strong class="kk iu"> </strong> <code class="fe le lf lg lh b"><strong class="kk iu">&lt;masthead :profile="profile"&gt;&lt;/masthead&gt;</strong></code>å¯ä»¥æ”¹æˆ<strong class="kk iu"> </strong> <code class="fe le lf lg lh b"><strong class="kk iu">&lt;masthead :profile="profile"/&gt;</strong></code></p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="8276" class="lq lr it lh b gy ls lt l lu lv">&lt;div <em class="lw">id</em>="app"&gt;<br/>    &lt;masthead <em class="lw">:profile</em>="profile"/&gt;<br/>    &lt;ProfileEditor/&gt;<br/>&lt;/div&gt;</span></pre><p id="bc65" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘ä»¬å°†è‡´åŠ›äºæŠ•èµ„ç»„åˆå’ŒæŠ•èµ„ç»„åˆç¼–è¾‘å™¨ç»„ä»¶ï¼Œä½†åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦åšå¥½å‡†å¤‡ã€‚</p><h2 id="99dc" class="lq lr it bd lx ly lz dn ma mb mc dp md kr me mf mg kv mh mi mj kz mk ml mm mn bi translated">åˆ†ç¦»åˆ¶å¤‡</h2><p id="a61a" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">æ˜¯æ—¶å€™å°†æŠ¥å¤´ç»„ä»¶å’Œæ¦‚è¦æ–‡ä»¶ç¼–è¾‘å™¨ç»„ä»¶æ”¾å…¥å®ƒä»¬å„è‡ªçš„æ–‡ä»¶å¤¹ä¸­äº†ã€‚</p><p id="9a6d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æ‰€ä»¥è®©æˆ‘ä»¬åˆ›å»ºä¸¤ä¸ªæ–‡ä»¶å¤¹ï¼Œä¸€ä¸ªåä¸º<strong class="kk iu"> public </strong>ï¼Œä¸€ä¸ªåä¸º<strong class="kk iu"> admin </strong>ã€‚åœ¨è¿™ä¸¤ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼Œæˆ‘ä»¬åº”è¯¥åˆ†åˆ«åˆ›å»ºä¸€ä¸ª<strong class="kk iu"> sections </strong>æ–‡ä»¶å¤¹å’Œä¸€ä¸ª<strong class="kk iu"> home.vue </strong>æ–‡ä»¶ã€‚</p><figure class="li lj lk ll gt mu gh gi paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="gh gi mt"><img src="../Images/597373ebee60b23ccb3e8f13a80fb11c.png" data-original-src="https://miro.medium.com/v2/resize:fit:426/format:webp/1*13EhK5K1SIwadsXexDK-uw.png"/></div></div><figcaption class="nb nc gj gh gi nd ne bd b be z dk translated">ç®¡ç†å’Œå…¬å…±æ–‡ä»¶å¤¹ï¼Œæ¯ä¸ªæ–‡ä»¶å¤¹éƒ½æœ‰ä¸€ä¸ªæ–‡ä»¶å¤¹å’Œä¸»æ–‡ä»¶å¤¹éƒ¨åˆ†</figcaption></figure><p id="3fa9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">å…¬å…±æ–‡ä»¶å¤¹:</strong>æˆ‘ä»¬éœ€è¦å°†æŠ¥å¤´ç»„ä»¶ç§»åŠ¨åˆ°<strong class="kk iu">å…¬å…±/éƒ¨åˆ†</strong>ã€‚å…¬å…±æ–‡ä»¶å¤¹çš„<strong class="kk iu"> home.vue </strong>åº”è¯¥å¯¼å…¥äº†æŠ¥å¤´ç»„ä»¶ã€‚</p><blockquote class="nf ng nh"><p id="91a8" class="ki kj lw kk b kl km ju kn ko kp jx kq ni ks kt ku nj kw kx ky nk la lb lc ld im bi translated"><strong class="kk iu">æ¾„æ¸…</strong>:æˆ‘ä»¬æ­£åœ¨å¤„ç†åˆšåˆšåˆ›å»ºçš„å…¬å…±æ–‡ä»¶å¤¹ï¼Œè€Œä¸æ˜¯Laravelçš„ä¸»å…¬å…±æ–‡ä»¶å¤¹</p></blockquote><p id="121d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘ä»¬å¯ä»¥ä»App.vueä¸­å¤åˆ¶å¹¶ç²˜è´´æ‰€æœ‰ä¸æŠ¥å¤´ç»„ä»¶ç›´æ¥ç›¸å…³çš„å†…å®¹ï¼Œä½†æœ‰ä¸€ä¸ªä¾‹å¤–ã€‚ä¾‹å¤–æ˜¯æˆ‘ä»¬ç°åœ¨ä»<code class="fe le lf lg lh b"><strong class="kk iu">"./sections/masthead"</strong></code>è¿›å£æŠ¥å¤´</p><p id="af0a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">resources/js/public/home.vueğŸ‘‡ï¼š</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="ccb3" class="lq lr it lh b gy ls lt l lu lv">&lt;template&gt;<br/>    &lt;masthead <em class="lw">:profile</em>="profile"/&gt;<br/>&lt;/template&gt;</span><span id="9f57" class="lq lr it lh b gy nl lt l lu lv">&lt;script&gt;<br/>    <em class="lw">import </em>masthead <em class="lw">from </em>"<strong class="lh iu">./sections/masthead</strong>";<br/>    <em class="lw">export default </em>{<br/>        name: "home",<br/>        components: {<br/>            masthead<br/>        },<br/>        data() {<br/>            <em class="lw">return </em>{<br/>                profile: {<br/>                    type:Object<br/>                }<br/>            }<br/>        },<br/>        mounted() {<br/>            <em class="lw">this</em>.getProfile();<br/>        },<br/>        methods: {<br/>            getProfile() {<br/>                axios.get('/api/profile')<br/>                    .then(response =&gt; {<br/>                        <em class="lw">console</em>.log(response.data);<br/>                        <em class="lw">this</em>.profile = response.data;<br/>                    })<br/>                    .catch(error =&gt; {<br/>                        <em class="lw">console</em>.log(error);<br/>                    });<br/>            },<br/>        }<br/>    }<br/>&lt;/script&gt;</span></pre><p id="1465" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ç®¡ç†æ–‡ä»¶å¤¹:æˆ‘ä»¬éœ€è¦ç®¡ç†æ–‡ä»¶å¤¹çš„home.vueä»¥ç±»ä¼¼çš„æ–¹å¼æ„å»ºã€‚ç±»ä¼¼äºå…¬å…±æ–‡ä»¶å¤¹çš„home.vueï¼Œæˆ‘ä»¬ä»<code class="fe le lf lg lh b"><strong class="kk iu">"./sections/ProfileEditor"</strong></code>å¯¼å…¥ProfileEditor</p><p id="2bb4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">resources/js/admin/home.vueğŸ‘‡ï¼š</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="5da8" class="lq lr it lh b gy ls lt l lu lv">&lt;template&gt;<br/>    &lt;ProfileEditor/&gt;<br/>&lt;/template&gt;</span><span id="fcc8" class="lq lr it lh b gy nl lt l lu lv">&lt;script&gt;<br/>    <em class="lw">import </em>ProfileEditor <em class="lw">from </em>"<strong class="lh iu">./sections/ProfileEditor</strong>";<br/>    <em class="lw">export default </em>{<br/>        name: "home",<br/>        components: {<br/>            ProfileEditor<br/>        }<br/>    }<br/>&lt;/script&gt;</span></pre></div><div class="ab cl nm nn hx no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="im in io ip iq"><h2 id="cf88" class="lq lr it bd lx ly lz dn ma mb mc dp md kr me mf mg kv mh mi mj kz mk ml mm mn bi translated">ä½œå“é›†ç¼–è¾‘å™¨</h2><p id="12c1" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">æ—¢ç„¶æˆ‘ä»¬å·²ç»å°†Profileå’ŒProfileEditorç»„ä»¶ç§»åŠ¨åˆ°å®ƒä»¬å„è‡ªçš„æ–‡ä»¶å¤¹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ¸…ç©ºApp.vueå¹¶å¼€å§‹å¤„ç†PortfolioEditor</p><p id="aabb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">App.vueğŸ‘‡ï¼š</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="d490" class="lq lr it lh b gy ls lt l lu lv">&lt;template&gt;<br/>    &lt;div <em class="lw">id</em>="app"&gt;<br/>        &lt;PortfolioEditor/&gt;<br/>    &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="edaa" class="lq lr it lh b gy nl lt l lu lv">&lt;script&gt;<br/>    <em class="lw">import </em>PortfolioEditor <em class="lw">from </em>"./PortfolioEditor"<br/>    <em class="lw">export default </em>{<br/>        name: "App",<br/>        components: {<br/>            PortfolioEditor<br/>        },<br/>        data() {<br/>            <em class="lw">return </em>{</span><span id="2f54" class="lq lr it lh b gy nl lt l lu lv">            }<br/>        },<br/>        mounted() {</span><span id="0fcf" class="lq lr it lh b gy nl lt l lu lv">        },<br/>        methods: {</span><span id="18f9" class="lq lr it lh b gy nl lt l lu lv">        },<br/>    }<br/>&lt;/script&gt;</span></pre><p id="0a47" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æŠ•èµ„ç»„åˆå°†ç”±<strong class="kk iu">æŠ•èµ„ç»„åˆé¡¹ç›®ç»„æˆã€‚</strong>ç»„åˆé¡¹ç›®å°†ç”±ä¸€ä¸ª<strong class="kk iu">å°å›¾åƒ</strong>å’Œä¸€ä¸ª<strong class="kk iu">é¡¹ç›®åç§°</strong>ç»„æˆã€‚è®¿é—®è€…å°†èƒ½å¤Ÿç‚¹å‡»æŠ•èµ„ç»„åˆé¡¹ç›®ï¼Œå¹¶çœ‹åˆ°ä¸€ä¸ª<strong class="kk iu">å¤§å›¾åƒ</strong>ä¸<strong class="kk iu">æè¿°</strong>ã€‚</p><p id="be97" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªåŒ…å«ä¸‰ä¸ªå­—æ®µçš„è¡¨å•</p><ol class=""><li id="2787" class="nt nu it kk b kl km ko kp kr nv kv nw kz nx ld ny nz oa ob bi translated">å›¾åƒ</li><li id="39d6" class="nt nu it kk b kl oc ko od kr oe kv of kz og ld ny nz oa ob bi translated">åå­—</li><li id="cfae" class="nt nu it kk b kl oc ko od kr oe kv of kz og ld ny nz oa ob bi translated">æè¿°</li></ol><h2 id="f847" class="lq lr it bd lx ly lz dn ma mb mc dp md kr me mf mg kv mh mi mj kz mk ml mm mn bi translated">1.å›¾åƒ</h2><p id="fc7c" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">æˆ‘ä»¬å°†ä¸Šä¼ å›¾åƒï¼Œå®ƒå°†åˆ›å»ºä¸¤ä¸ªå›¾åƒï¼Œä¸€ä¸ªå°çš„å’Œä¸€ä¸ªå¤§çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†ä»ä¸€ä¸ªéå¸¸ç®€å•çš„è¡¨å•å¼€å§‹ï¼ŒåŒ…æ‹¬ä¸€ä¸ª<strong class="kk iu">æ–‡ä»¶è¾“å…¥</strong>å’Œä¸€ä¸ª<strong class="kk iu">æŒ‰é’®</strong></p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="eded" class="lq lr it lh b gy ls lt l lu lv">&lt;form <em class="lw">enctype</em>="multipart/form-data"&gt;<br/>    &lt;input <em class="lw">type</em>="file" <em class="lw">@change</em>="selectFile" <em class="lw">name</em>="<strong class="lh iu">itempic</strong>"&gt;<br/>    &lt;button <em class="lw">@click.prevent</em>="onSubmit"&gt;Submit&lt;/button&gt;<br/>&lt;/form&gt;</span></pre><p id="0484" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">è¿™ç±»ä¼¼äºæˆ‘ä»¬ä¸ºProfileEditoræ„å»ºçš„è¡¨å•ï¼Œä½†æ˜¯è¿™æ¬¡æˆ‘ä»¬ä½¿ç”¨åç§°<strong class="kk iu"> itempicã€‚</strong>è¿™å¯¹åŠŸèƒ½æ²¡æœ‰å½±å“ï¼Œä½†ä¸ºäº†ä¾¿äºç†è§£ï¼Œæ›´æ”¹åç§°æ˜¯æœ‰å¥½å¤„çš„ã€‚</p><p id="e85d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">selectFileæ–¹æ³•ä¸ProfileEditorç›¸åŒ</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="d083" class="lq lr it lh b gy ls lt l lu lv">selectFile(event) {<br/>    <em class="lw">this</em>.file = event.target.files[0];<br/>},</span></pre><p id="e916" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘ä»¬æœ‰ä¸€ä¸ªæ›´å°çš„onSubmitæ–¹æ³•ï¼Œå› ä¸ºæˆ‘ä»¬æš‚æ—¶åªæäº¤itempicã€‚ä¸ä¸Šæ¬¡ä¸åŒï¼Œæˆ‘ä»¬æ²¡æœ‰å°†æ•°æ®ä»onSubmitä¼ é€’ç»™ä¸åŒçš„æ–¹æ³•ã€‚</p><p id="7afa" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">data()åº”è¯¥è¿”å›æ–‡ä»¶</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="699c" class="lq lr it lh b gy ls lt l lu lv">data() {<br/>    <em class="lw">return </em>{<br/>        file: '',<br/>    }<br/>},</span></pre><p id="4326" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">onSubmitæ–¹æ³•:</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="6d84" class="lq lr it lh b gy ls lt l lu lv">onSubmit() {<br/>    <em class="lw">let </em>fd = <em class="lw">new </em>FormData();<br/>    fd.append('itempic', <em class="lw">this</em>.file);<strong class="lh iu"><br/>    axios.post('api/portfolio', fd);</strong><br/>},</span></pre><p id="c8e1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åœ¨api.phpåˆ›å»ºè·¯çº¿</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="5afd" class="lq lr it lh b gy ls lt l lu lv">Route::<em class="lw">post</em>('/portfolio', 'PortfolioController@store');</span></pre><p id="2f62" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åˆ›å»ºæ§åˆ¶å™¨</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="aff8" class="lq lr it lh b gy ls lt l lu lv">php artisan make:controller PortfolioController --resource</span></pre><h2 id="bb79" class="lq lr it bd lx ly lz dn ma mb mc dp md kr me mf mg kv mh mi mj kz mk ml mm mn bi translated"><strong class="ak">å°å¿ƒâ€”å°å¿ƒâ€”å°å¿ƒâ€”å°å¿ƒ</strong></h2><figure class="li lj lk ll gt mu gh gi paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="gh gi oh"><img src="../Images/c7503fc86282182910807b7378232e10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*RY6NeeKQqCQS1N5R"/></div></div><figcaption class="nb nc gj gh gi nd ne bd b be z dk translated">micha Parzuchowskiåœ¨<a class="ae oi" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šæ‹æ‘„çš„ç…§ç‰‡</figcaption></figure><p id="16a4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä½ å¯èƒ½è®¤ä¸ºä½ å¯ä»¥å¤åˆ¶ProfileControllerå¹¶ä¿®æ”¹å®ƒï¼Œä½¿å®ƒæ˜¾ç¤ºä¸ºPortfolioControllerï¼Œä½†æ˜¯è¿™ä¸¤è€…ä¹‹é—´æœ‰å¾®å¦™è€Œé‡è¦çš„åŒºåˆ«ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬å¿…é¡»å°å¿ƒåœ°åšè¿™ä»¶äº‹ã€‚</p><p id="6784" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘ä»¬éœ€è¦ä¸€ä¸ªstore()å‡½æ•°æ¥è°ƒæ•´å¤§å°å’Œä¿å­˜å›¾åƒã€‚è®©æˆ‘ä»¬çœ‹çœ‹ProfileEditorï¼Œå¹¶å°†<code class="fe le lf lg lh b"><strong class="kk iu">resizeAndStore()</strong></code>çš„ä»£ç å¤åˆ¶åˆ°ProfileEdiorçš„å­˜å‚¨å‡½æ•°ä¸­</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="655e" class="lq lr it lh b gy ls lt l lu lv"><em class="lw">public function </em>store(Request $request) {<br/>    <em class="lw">// open an image file<br/>    </em>$img = Image::make($file);<br/>    <em class="lw">// now you are able to resize the instance<br/>    </em>$contents = $img-&gt;resize(240, 240)-&gt;encode();<br/>    <em class="lw">//save<br/>    </em>Storage::<em class="lw">put</em>($fullpath,$contents);<br/>}</span></pre><p id="0d8b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å¦‚æœæ‚¨ç°åœ¨å‘å¸ƒä¸€ä¸ªæ–‡ä»¶ï¼Œæ‚¨å°†åœ¨â€œç½‘ç»œâ€é€‰é¡¹å¡ä¸­æ”¶åˆ°ä¸€æ¡500æ¶ˆæ¯å’Œä»¥ä¸‹é”™è¯¯æ¶ˆæ¯:</p><blockquote class="oj"><p id="258d" class="ok ol it bd om on oo op oq or os ld dk translated">æœªå®šä¹‰çš„å˜é‡:æ–‡ä»¶</p></blockquote><p id="4c68" class="pw-post-body-paragraph ki kj it kk b kl ot ju kn ko ou jx kq kr ov kt ku kv ow kx ky kz ox lb lc ld im bi translated">è®©æˆ‘ä»¬æ¥å®šä¹‰æ–‡ä»¶ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬è¿˜åº”è¯¥å®šä¹‰<code class="fe le lf lg lh b"><strong class="kk iu">$fullpath</strong></code>å’Œå®ƒæ‰€åŒ…å«çš„å˜é‡ï¼Œå³<code class="fe le lf lg lh b"><strong class="kk iu">$dir</strong></code>å’Œ<code class="fe le lf lg lh b"><strong class="kk iu">$hashName</strong></code></p><blockquote class="nf ng nh"><p id="ffff" class="ki kj lw kk b kl km ju kn ko kp jx kq ni ks kt ku nj kw kx ky nk la lb lc ld im bi translated"><strong class="kk iu">è¾¹æ³¨</strong> : $requestå¯ä»¥ç”¨æ¥ä»£æ›¿request()ã€‚<strong class="kk iu"> $request </strong>ä»£è¡¨<strong class="kk iu"> request() </strong>åªè¦å‡½æ•°åçš„<strong class="kk iu">æ‹¬å·()</strong>è¯´<strong class="kk iu"> Request $request </strong></p></blockquote><p id="608a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åœ¨ProfileEditorè¡¨å•ä¸­æäº¤çš„æ–‡ä»¶è¢«é™„åŠ ä¸º<code class="fe le lf lg lh b"><strong class="kk iu">userpic</strong></code>ã€‚å¯¹äºè¿™ä¸ªç»„ä»¶ï¼Œæˆ‘ä»¬ä½¿ç”¨å•è¯<code class="fe le lf lg lh b"><strong class="kk iu">itempic</strong></code> <strong class="kk iu"> </strong>ï¼Œå› æ­¤æˆ‘ä»¬åº”è¯¥ç›¸åº”åœ°æ›´æ”¹<code class="fe le lf lg lh b"><strong class="kk iu">$file</strong></code>è¡Œã€‚</p><p id="319b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘ä»¬è¿˜åº”è¯¥å°†$diræ”¹ä¸º<strong class="kk iu">â€˜public/item picsâ€™</strong>ã€‚</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="31fa" class="lq lr it lh b gy ls lt l lu lv"><em class="lw">public function </em>store(Request $request) {<br/>    <strong class="lh iu">$file = $request-&gt;itempic;<br/>    $dir = 'public/itempics/';<br/>    $hashName = $file-&gt;hashName();<br/>    $fullpath = $dir.$hashName;</strong><br/>    <em class="lw">// open an image file<br/>    </em>$img = Image::make($file);<br/>    <em class="lw">// now you are able to resize the instance<br/>    </em>$contents = $img-&gt;resize(240, 240)-&gt;encode();<br/>    <em class="lw">//save<br/>    </em>Storage::<em class="lw">put</em>($fullpath,$contents);<br/>}</span></pre><p id="9f94" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ç°åœ¨å‘å¸ƒä¸€ä¸ªæ–‡ä»¶ï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ªåä¸º<strong class="kk iu"> itempics </strong>çš„æ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶ã€‚</p><p id="1487" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ç”±äºæˆ‘ä»¬æƒ³è¦ä¸Šä¼ å›¾åƒçš„ä¸€ä¸ªå¤§ç‰ˆæœ¬å’Œä¸€ä¸ªå°ç‰ˆæœ¬ï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•è°ƒæ•´ä¸¤æ¬¡å¤§å°å¹¶ä¿å­˜ä¸¤æ¬¡:</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="f282" class="lq lr it lh b gy ls lt l lu lv"><em class="lw">public function </em>store(Request $request) {<br/>    $file = $request-&gt;itempic;<br/>    $dir = 'public/itempics/';<br/>    $hashName = $file-&gt;hashName();<br/>    $fullpath = $dir.$hashName;</span><span id="0473" class="lq lr it lh b gy nl lt l lu lv"><em class="lw">// open an image file<br/>    </em>$img = Image::make($file);<br/>    <em class="lw">// now you are able to resize the instance</em></span><span id="aeb9" class="lq lr it lh b gy nl lt l lu lv">    $contents = $img-&gt;resize(240, 240)-&gt;encode();<strong class="lh iu"><br/>    $contents2 = $img-&gt;resize(400, 400)-&gt;encode();</strong></span><span id="9528" class="lq lr it lh b gy nl lt l lu lv"><em class="lw">//save<br/>    </em>Storage::<em class="lw">put</em>($fullpath,$contents);<br/>    <strong class="lh iu">Storage::<em class="lw">put</em>($fullpath,$contents2);</strong><br/>}</span></pre><p id="6205" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">è¿™åº”è¯¥è¡Œå¾—é€šå§ï¼Ÿ</p><figure class="li lj lk ll gt mu"><div class="bz fp l di"><div class="oy oz l"/></div></figure><p id="afb7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">è¿™æ ·ä¸è¡Œ</strong>:ç°åœ¨æŠŠæ–‡ä»¶è´´å‡ºæ¥ï¼Œä½ ä¼šå‘ç°è¿™æ ·ä¸è¡Œã€‚æ‚¨ä¸ä¼šå¾—åˆ°ä¸¤å¹…å›¾åƒï¼Œæ‚¨åªå¾—åˆ°åæ¥è°ƒæ•´å¤§å°çš„å›¾åƒï¼Œå³$contents2ã€‚</p><p id="ceb8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹æ–‡æ¡£</strong> : Image Interventionçš„æ–‡æ¡£æ˜¾ç¤ºï¼Œå¦‚æœä½¿ç”¨backup()å’Œresize()ï¼Œæ‚¨å¯ä»¥åˆ›å»ºå¤šä¸ªæ˜ åƒ</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="dcdd" class="lq lr it lh b gy ls lt l lu lv">// create an image<br/>$img = Image::make('public/foo.jpg');</span><span id="090c" class="lq lr it lh b gy nl lt l lu lv">// backup status<br/>$img-&gt;backup();</span><span id="c3aa" class="lq lr it lh b gy nl lt l lu lv">// perform some modifications<br/>$img-&gt;resize(320, 240);<br/>$img-&gt;invert();<br/>$img-&gt;save('public/small.jpg');</span><span id="f62b" class="lq lr it lh b gy nl lt l lu lv">// reset image (return to backup state)<br/>$img-&gt;reset();</span><span id="8467" class="lq lr it lh b gy nl lt l lu lv">// perform other modifications<br/>$img-&gt;resize(640, 480);<br/>$img-&gt;invert();<br/>$img-&gt;save('public/large.jpg');</span></pre><p id="fdfa" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">è®©æˆ‘ä»¬å°†è¿™æ®µä»£ç ç”¨äºæˆ‘ä»¬çš„æ¡ˆä¾‹ã€‚æˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªä»£ç å«åš<strong class="kk iu">ç¤ºä¾‹ä»£ç ã€‚</strong></p><h2 id="6a8f" class="lq lr it bd lx ly lz dn ma mb mc dp md kr me mf mg kv mh mi mj kz mk ml mm mn bi translated">æ”¹ç¼–â€œå¤‡ä»½()å’Œé‡ç½®()â€ç¤ºä¾‹</h2><p id="0006" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">æˆ‘ä»¬åº”è¯¥åˆ›å»ºä¸€ä¸ªåä¸º<code class="fe le lf lg lh b"><strong class="kk iu">resizeAndStore()</strong></code> <strong class="kk iu"> </strong>çš„å‡½æ•°ï¼Œå¹¶ä»store()å‡½æ•°ä¸­è¿è¡Œå®ƒï¼Œè¿™æ ·storeå‡½æ•°å°±å˜æˆäº†:</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="12d0" class="lq lr it lh b gy ls lt l lu lv"><em class="lw">public function </em>store(Request $request) {<br/>    $file = $request-&gt;itempic;<br/>    $dir = 'public/itempics/';<br/>    $hashName = $file-&gt;hashName();<br/>    $fullpath = $dir.$hashName;<br/>    <strong class="lh iu">$this-&gt;resizeAndStore();</strong><br/>}</span></pre><p id="0026" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">resizeAndStore()ä¸­æœ‰<strong class="kk iu">ç¤ºä¾‹ä»£ç </strong>:</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="a027" class="lq lr it lh b gy ls lt l lu lv"><em class="lw">private function </em><strong class="lh iu">resizeAndStore</strong>() {<br/>    <em class="lw">// create an image<br/>    </em>$img = Image::make('public/foo.jpg');<br/>    <em class="lw">// backup status<br/>    </em>$img-&gt;backup();<br/>    <em class="lw">// perform some modifications<br/>    </em>$img-&gt;resize(320, 240);<br/>    $img-&gt;invert();<br/>    $img-&gt;save('public/small.jpg');<br/>    <em class="lw">// reset image (return to backup state)<br/>    </em>$img-&gt;reset();<br/>    <em class="lw">// perform other modifications<br/>    </em>$img-&gt;resize(640, 480);<br/>    $img-&gt;invert();<br/>    $img-&gt;save('public/large.jpg');<br/>}</span></pre><p id="0ac6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åœ¨<strong class="kk iu"> </strong> <code class="fe le lf lg lh b"><strong class="kk iu">Image::make</strong></code> <strong class="kk iu"> </strong>æ‹¬å·<code class="fe le lf lg lh b"><strong class="kk iu">()</strong></code>å†…ï¼Œæˆ‘ä»¬æƒ³è¦çš„æ˜¯<code class="fe le lf lg lh b"><strong class="kk iu">$file </strong></code>æ‰€ä»¥æˆ‘ä»¬åº”è¯¥æŠŠå®ƒä½œä¸ºä¸€ä¸ªå‚æ•°ä¼ é€’ã€‚</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="ac42" class="lq lr it lh b gy ls lt l lu lv"><em class="lw">public function </em>store(Request $request) {<br/>    <strong class="lh iu">$file</strong> = $request-&gt;itempic;<br/>    $dir = 'public/itempics/';<br/>    $hashName = $file-&gt;hashName();<br/>    $fullpath = $dir.$hashName;<br/>    $this-&gt;resizeAndStore(<strong class="lh iu">$file</strong>);<br/>}</span><span id="08d8" class="lq lr it lh b gy nl lt l lu lv"><em class="lw">private function </em>resizeAndStore(<strong class="lh iu">$file</strong>) {<br/><em class="lw">    </em>$img = Image::make(<strong class="lh iu">$file</strong>);<br/>    ....<br/>}</span></pre><blockquote class="nf ng nh"><p id="f4ff" class="ki kj lw kk b kl km ju kn ko kp jx kq ni ks kt ku nj kw kx ky nk la lb lc ld im bi translated">â€¦.è¡¨ç¤ºå‰©ä½™çš„ä»£ç è¡Œ</p></blockquote><p id="5630" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘ä»¬éœ€è¦ä¿ç•™å¤‡ä»½å’Œå¤ä½åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥åˆ é™¤åè½¬åŠŸèƒ½ã€‚</p><blockquote class="nf ng nh"><p id="906c" class="ki kj lw kk b kl km ju kn ko kp jx kq ni ks kt ku nj kw kx ky nk la lb lc ld im bi translated">åè½¬åŠŸèƒ½ä»¥ç›¸åçš„é¢œè‰²ç”Ÿæˆå›¾åƒã€‚ä¾‹å¦‚ï¼Œåè½¬çº¢è‰²å›¾åƒä¼šäº§ç”Ÿè“è‰²å›¾åƒã€‚</p></blockquote><figure class="li lj lk ll gt mu gh gi paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="gh gi pa"><img src="../Images/cd434240c62f1cc2d805bc881643ab8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kpuoWuj2GtENZ-Ot42tLWg.png"/></div></div></figure><p id="2dea" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¯¥å‡½æ•°åšäº†ä»¥ä¸‹äº”ä»¶äº‹:</p><ol class=""><li id="f119" class="nt nu it kk b kl km ko kp kr nv kv nw kz nx ld ny nz oa ob bi translated">åˆ¶é€ </li><li id="0b4f" class="nt nu it kk b kl oc ko od kr oe kv of kz og ld ny nz oa ob bi translated">æ”¯æŒ</li><li id="f0a3" class="nt nu it kk b kl oc ko od kr oe kv of kz og ld ny nz oa ob bi translated">è°ƒæ•´å¤§å°å¹¶ä¿å­˜<strong class="kk iu">å°å›¾åƒã€‚</strong></li><li id="5bd6" class="nt nu it kk b kl oc ko od kr oe kv of kz og ld ny nz oa ob bi translated">é‡ç½®</li><li id="3cde" class="nt nu it kk b kl oc ko od kr oe kv of kz og ld ny nz oa ob bi translated">è°ƒæ•´å¤§å°å¹¶ä¿å­˜<strong class="kk iu">å¤§å›¾ã€‚</strong></li></ol><p id="1952" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘ä»¬å¯ä»¥ç›¸åº”åœ°é‡æ„å‡½æ•°</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="cdeb" class="lq lr it lh b gy ls lt l lu lv"><em class="lw">private function </em>resizeAndStore($file) {<br/>    $img = Image::make($file);<br/>    $img-&gt;backup();<br/>    $this-&gt;makeSmallImage();<br/>    $img-&gt;reset();<br/>    $this-&gt;makeLargeImage();<br/>}</span><span id="831d" class="lq lr it lh b gy nl lt l lu lv"><em class="lw">private function </em>makeSmallImage() {<br/>    $img-&gt;resize(320, 240);<br/>    $img-&gt;save('public/small.jpg');<br/>}</span><span id="2a78" class="lq lr it lh b gy nl lt l lu lv"><em class="lw">private function </em>makeLargeImage() {<br/>    $img-&gt;resize(640, 480);<br/>    $img-&gt;save('public/large.jpg');<br/>}</span></pre><p id="302b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">é€šè¿‡<code class="fe le lf lg lh b"><strong class="kk iu">$img</strong></code>çš„è®ºè¯</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="c338" class="lq lr it lh b gy ls lt l lu lv"><em class="lw">private function </em>resizeAndStore($file) {<br/>    $img = Image::make($file);<br/>    $img-&gt;backup();<br/>    $this-&gt;makeSmallImage(<strong class="lh iu">$img</strong>);<br/>    $img-&gt;reset();<br/>    $this-&gt;makeLargeImage(<strong class="lh iu">$img</strong>);<br/>}</span><span id="e146" class="lq lr it lh b gy nl lt l lu lv"><em class="lw">private function </em>makeSmallImage(<strong class="lh iu">$img</strong>) {<br/>    $img-&gt;resize(320, 240);<br/>    $img-&gt;save('public/small.jpg');<br/>}</span><span id="c625" class="lq lr it lh b gy nl lt l lu lv"><em class="lw">private function </em>makeLargeImage(<strong class="lh iu">$img</strong>) {<br/>    $img-&gt;resize(640, 480);<br/>    $img-&gt;save('public/large.jpg');<br/>}</span></pre><p id="306d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ç±»ä¼¼äºä¸Šä¸€ç« ï¼Œæˆ‘ä»¬åº”è¯¥<code class="fe le lf lg lh b"><strong class="kk iu">resize() </strong></code>&amp;<code class="fe le lf lg lh b"><strong class="kk iu">encode()</strong></code><code class="fe le lf lg lh b"><strong class="kk iu">$img</strong></code>ç„¶åä½¿ç”¨<code class="fe le lf lg lh b"><strong class="kk iu">Storage</strong></code> facadeä¿å­˜ã€‚</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="d746" class="lq lr it lh b gy ls lt l lu lv"><strong class="lh iu">Storage::<em class="lw">put</em>($fullpath,$contents);</strong> </span></pre><p id="72c9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi">â¬</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="dd1c" class="lq lr it lh b gy ls lt l lu lv"><em class="lw">private function </em>makeSmallImage($img) {<br/>    $contents = $img-&gt;resize(<strong class="lh iu">320, 240</strong>)<strong class="lh iu">-&gt;encode()</strong>;<br/>    <strong class="lh iu">Storage::<em class="lw">put</em>($fullpath, $contents)</strong>;<br/>}<br/><br/><em class="lw">private function </em>makeLargeImage($img) {<br/>    $contents = $img-&gt;resize(<strong class="lh iu">640, 480</strong>)<strong class="lh iu">-&gt;encode()</strong>;<br/>    <strong class="lh iu">Storage::<em class="lw">put</em>($fullpath, $contents)</strong>;<br/>}</span></pre><p id="7a8f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ç¬¬ä¹ç« å°†ä¼šå’Œæœ€åä¸€ç« ä¸€æ ·</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="4af4" class="lq lr it lh b gy ls lt l lu lv">$fullpath = $dir.$hashName;</span></pre><p id="a688" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æ¯ä¸ªåŠŸèƒ½çš„<code class="fe le lf lg lh b"><strong class="kk iu">$dir</strong></code>ä¸<strong class="kk iu"><em class="lw"/></strong>ç•¥æœ‰ä¸åŒ</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="5538" class="lq lr it lh b gy ls lt l lu lv"><em class="lw">private function </em>makeSmallImage($img) {<br/>    $dir = 'public<strong class="lh iu">/</strong>itempics<strong class="lh iu">/small/</strong>';<br/>    $fullpath = $dir.$hashName;<br/>    $contents = $img-&gt;resize(320, 240)-&gt;encode();<br/>    Storage::<em class="lw">put</em>($fullpath, $contents);<br/>}<br/><br/><em class="lw">private function </em>makeLargeImage($img) {<br/>    $dir = 'public/itempics/<strong class="lh iu">large</strong>/';<br/>    $fullpath = $dir.$hashName;<br/>    $contents = $img-&gt;resize(640, 480)-&gt;encode();<br/>    Storage::<em class="lw">put</em>($fullpath, $contents);<br/>}</span></pre><p id="401a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">è®©æˆ‘ä»¬é€šè¿‡<code class="fe le lf lg lh b"><strong class="kk iu">$hashName</strong></code>ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥ä»<code class="fe le lf lg lh b"><strong class="kk iu">store()</strong></code>å‡½æ•°ä¸­ç§»é™¤<code class="fe le lf lg lh b"><strong class="kk iu">$dir</strong></code>å’Œ<code class="fe le lf lg lh b"><strong class="kk iu">$fullpath</strong></code>ã€‚</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="3723" class="lq lr it lh b gy ls lt l lu lv"><em class="lw">public function </em>store(Request $request) {<br/>    $file = $request-&gt;itempic;<br/>    <strong class="lh iu">$Ì¶dÌ¶iÌ¶rÌ¶ Ì¶=Ì¶ Ì¶'Ì¶pÌ¶uÌ¶bÌ¶lÌ¶iÌ¶cÌ¶/Ì¶iÌ¶tÌ¶eÌ¶mÌ¶pÌ¶iÌ¶cÌ¶sÌ¶/Ì¶'Ì¶;Ì¶</strong><br/>    $hashName = $file-&gt;hashName();<br/>    <strong class="lh iu">$Ì¶fÌ¶uÌ¶lÌ¶lÌ¶pÌ¶aÌ¶tÌ¶hÌ¶ Ì¶=Ì¶ Ì¶$Ì¶dÌ¶iÌ¶rÌ¶.Ì¶$Ì¶hÌ¶aÌ¶sÌ¶hÌ¶NÌ¶aÌ¶mÌ¶eÌ¶;Ì¶</strong><br/>    $this-&gt;resizeAndStore($file, <strong class="lh iu">$hashName</strong>);<br/>}</span><span id="cfdb" class="lq lr it lh b gy nl lt l lu lv"><em class="lw">private function </em>resizeAndStore($file, <strong class="lh iu">$hashName</strong>) {<br/>    ....<br/>    $this-&gt;makeSmallImage($img,<strong class="lh iu"> $hashName</strong>);<br/>    ....<br/>    $this-&gt;makeLargeImage($img, <strong class="lh iu">$hashName</strong>);<br/>}</span><span id="8449" class="lq lr it lh b gy nl lt l lu lv"><em class="lw">private function </em>makeSmallImage($img, <strong class="lh iu">$hashName</strong>) {<br/>    ....}<br/><br/><em class="lw">private function </em>makeLargeImage($img, <strong class="lh iu">$hashName</strong>) {<br/>    ....}</span></pre><p id="7a10" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ç°åœ¨æˆ‘ä»¬æœ‰èƒ½åŠ›å¤šæ¬¡è°ƒæ•´å’Œä¿å­˜å›¾åƒã€‚</p><p id="7019" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æ˜¯æ—¶å€™åœ¨æ•°æ®åº“ä¸­ä¿å­˜è·¯å¾„äº†<strong class="kk iu">ï¼Œä½†æ˜¯åœ¨æ­¤ä¹‹å‰æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ•°æ®åº“è¡¨ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬è¿›è¡Œä¸€æ¬¡è¿ç§»ã€‚</strong></p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="baee" class="lq lr it lh b gy ls lt l lu lv">php artisan make:migration <strong class="lh iu">CreatePortfolioItemsTable</strong></span></pre><p id="e140" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªåä¸ºimg_pathçš„åˆ—ã€‚æˆ‘ä»¬å°†ä½¿ç”¨åŒä¸€åˆ—æ¥æ˜¾ç¤ºå¤§å›¾åƒå’Œå°å›¾åƒã€‚</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="2439" class="lq lr it lh b gy ls lt l lu lv"><em class="lw">public function </em>up()<br/>{<br/>    Schema::create('portfolio_items', <em class="lw">function </em>(Blueprint $table) {<br/>        $table-&gt;bigIncrements('id');<br/>        <strong class="lh iu">$table-&gt;string('img_path');</strong><br/>        $table-&gt;timestamps();<br/>    });<br/>}</span></pre><p id="c52f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ç°åœ¨æˆ‘ä»¬è¿ç§»</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="9d24" class="lq lr it lh b gy ls lt l lu lv">php artisan migrate</span></pre><p id="32bb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">è¦æäº¤å›¾åƒå¹¶åœ¨portfolio_itemsè¡¨ä¸­æ‰¾åˆ°img_pathï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹store()å‡½æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="4e36" class="lq lr it lh b gy ls lt l lu lv"><em class="lw">public function </em>store(Request $request) {<br/>    $file = $request-&gt;itempic;<br/>    $hashName = $file-&gt;hashName();<br/>    $this-&gt;resizeAndStore($file, $hashName);<br/>    <strong class="lh iu">$item = <em class="lw">new </em>PortfolioItem();<br/>    $item-&gt;img_path = $hashName;<br/>    $item-&gt;save();</strong><br/>}</span></pre><h2 id="fe8c" class="lq lr it bd lx ly lz dn ma mb mc dp md kr me mf mg kv mh mi mj kz mk ml mm mn bi translated">2.å§“åå’Œ3ã€‚æè¿°</h2><p id="8dda" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">æˆ‘ä»¬éœ€è¦ä¸€ä¸ªä¿®æ”¹è¡¨çš„è¿ç§»</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="afbe" class="lq lr it lh b gy ls lt l lu lv"><strong class="lh iu">php artisan make:migration add_name_and_description_to_portfolio_items</strong></span></pre><p id="6b92" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æœ¬æ¬¡è¿ç§»çš„<code class="fe le lf lg lh b"><strong class="kk iu">up()</strong></code>åŠŸèƒ½ç”¨<code class="fe le lf lg lh b"><strong class="kk iu">nullable()</strong></code>æè¿°ã€‚</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="f8ed" class="lq lr it lh b gy ls lt l lu lv"><em class="lw">public function </em>up()<br/>{<br/>    Schema::table('portfolio_items', <em class="lw">function </em>(Blueprint $table) {<br/>        $table-&gt;string('name');<br/>        $table-&gt;string('description')-&gt;<strong class="lh iu">nullable()</strong>;<br/>    });<br/>}</span></pre><p id="096b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b"><strong class="kk iu">nullable()</strong></code>è¡¨ç¤ºè¯¥åˆ—å¯èƒ½ä¸ºç©ºï¼Œæ•°æ®åº“ä¸ä¼šå› æ‚¨æäº¤ç©ºå­—æ®µè€Œç»™å‡ºé”™è¯¯ã€‚</p><p id="6802" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‚¨åœ¨æäº¤ä¸€ä¸ªç©ºå­—æ®µæ—¶ä¼šå¾—åˆ°ä¸€ä¸ªé”™è¯¯ï¼Œå› æ­¤æ‚¨å¿…é¡»æ·»åŠ <code class="fe le lf lg lh b"><strong class="kk iu">nullable()</strong></code></p><p id="2b51" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åœ¨vueç»„ä»¶ä¸­ï¼Œæ·»åŠ ä¸€ä¸ªå¸¦æœ‰v-modelåç§°çš„<code class="fe le lf lg lh b"><strong class="kk iu">&lt;input&gt;</strong></code>å­—æ®µå’Œä¸€ä¸ªå¸¦æœ‰v-modelæè¿°çš„<code class="fe le lf lg lh b"><strong class="kk iu">&lt;textarea&gt;</strong></code>å­—æ®µã€‚</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="87e3" class="lq lr it lh b gy ls lt l lu lv">&lt;form <em class="lw">enctype</em>="multipart/form-data" <em class="lw">id</em>="portfolio-editor-form"&gt;<br/>    &lt;input <em class="lw">type</em>="file" <em class="lw">@change</em>="selectFile" <em class="lw">name</em>="itempic"&gt;<br/>    <strong class="lh iu">&lt;input <em class="lw">type</em>="text" <em class="lw">v-model</em>="name"&gt;<br/>    &lt;textarea <em class="lw">v-model</em>="description"/&gt;</strong><br/>    &lt;button <em class="lw">@click.prevent</em>="onSubmit"&gt;Submit&lt;/button&gt;<br/>&lt;/form&gt;</span></pre><p id="87be" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åœ¨æ•°æ®()ä¸­æ·»åŠ åŒ¹é…çš„é”®</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="11dc" class="lq lr it lh b gy ls lt l lu lv">data() {<br/>    <em class="lw">return </em>{<br/>        file: '',<br/>        <strong class="lh iu">name: '',</strong><br/>        <strong class="lh iu">description: '',</strong><br/>    }<br/>},</span></pre><p id="a9eb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä¿®æ”¹onSubmitæ–¹æ³•ä»¥é™„åŠ é™„åŠ åç§°å’Œæè¿°:</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="1b95" class="lq lr it lh b gy ls lt l lu lv">onSubmit() {<br/>    <em class="lw">let </em>fd = <em class="lw">new </em>FormData();<br/>    fd.append('itempic', <em class="lw">this</em>.file);<br/>    <strong class="lh iu">fd.append('name', <em class="lw">this</em>.name);<br/>    fd.append('description', <em class="lw">this</em>.description);</strong><br/>    axios.post('api/portfolio', fd);<br/>},</span></pre><p id="6893" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">è¿™å°†è½¬åˆ°å­˜å‚¨å‡½æ•°</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="ab59" class="lq lr it lh b gy ls lt l lu lv"><em class="lw">public function </em>store(Request $request) {<br/>    $file = $request-&gt;itempic;<br/>    $hashName = $file-&gt;hashName();<br/>    $this-&gt;resizeAndStore($file, $hashName);<br/>    <strong class="lh iu">$item = <em class="lw">new </em>PortfolioItem();<br/>    $item-&gt;img_path = $hashName;<br/>    $item-&gt;description = request()-&gt;description;<br/>    $item-&gt;name = request()-&gt;name;<br/>    $item-&gt;save();</strong><br/>}</span></pre><p id="e304" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">è®©æˆ‘ä»¬é‡æ„</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="af62" class="lq lr it lh b gy ls lt l lu lv"><em class="lw">public function </em>store(Request $request) {<br/>    $file = $request-&gt;itempic;<br/>    $hashName = $file-&gt;hashName();<br/>    $this-&gt;resizeAndStore($file, $hashName);<br/>    $this-&gt;storeDetails($hashName);<br/>}</span><span id="9801" class="lq lr it lh b gy nl lt l lu lv"><em class="lw">private function </em>storeDetails($hashName) {<br/>    $item = <em class="lw">new </em>PortfolioItem();<br/>    $item-&gt;img_path = $hashName;<br/>    $item-&gt;description = request()-&gt;description;<br/>    $item-&gt;name = request()-&gt;name;<br/>    $item-&gt;save();<br/>}</span></pre><p id="c1e1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ç°åœ¨æ‚¨ä¹Ÿå¯ä»¥æäº¤åç§°å’Œæè¿°äº†ã€‚</p></div><div class="ab cl nm nn hx no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="im in io ip iq"><p id="9a19" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">PortfolioEditorå°šæœªå®Œæˆã€‚æˆ‘ä»¬è¿˜æ²¡æœ‰åš:</p><ul class=""><li id="ffe5" class="nt nu it kk b kl km ko kp kr nv kv nw kz nx ld pb nz oa ob bi translated">å‰ç«¯éªŒè¯</li><li id="669e" class="nt nu it kk b kl oc ko od kr oe kv of kz og ld pb nz oa ob bi translated">åç«¯éªŒè¯</li><li id="4788" class="nt nu it kk b kl oc ko od kr oe kv of kz og ld pb nz oa ob bi translated">è¯»å–ã€æ›´æ–°å’Œåˆ é™¤åŠŸèƒ½</li><li id="6cb9" class="nt nu it kk b kl oc ko od kr oe kv of kz og ld pb nz oa ob bi translated">é‡æ„ç»„åˆæ§åˆ¶å™¨</li></ul><p id="ac36" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘ä»¬è¿˜å°†ç ”ç©¶å¦‚ä½•åˆ›å»ºPortfolio.vueç»„ä»¶ï¼Œå®ƒå°†åŒ…æ‹¬</p><ul class=""><li id="4024" class="nt nu it kk b kl km ko kp kr nv kv nw kz nx ld pb nz oa ob bi translated">å¸¦æ–‡æœ¬çš„å›¾åƒ</li><li id="5875" class="nt nu it kk b kl oc ko od kr oe kv of kz og ld pb nz oa ob bi translated">å…·æœ‰æ›´å¤§å›¾åƒå’Œæè¿°çš„æ¨¡å‹</li><li id="8ecc" class="nt nu it kk b kl oc ko od kr oe kv of kz og ld pb nz oa ob bi translated">æ¨¡æ€ä¸Šçš„å…³é—­æŒ‰é’®</li></ul><p id="de40" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">è¿™äº›æ˜¯æˆ‘ä»¬å°†åœ¨ä¸‹ä¸€ç« ä¸­çœ‹åˆ°çš„ä¸œè¥¿</p><div class="pc pd gp gr pe pf"><a rel="noopener  ugc nofollow" target="_blank" href="/laravel-and-vue-creating-a-portfolio-website-with-a-crud-admin-panel-chapter-eight-9750f15670dc"><div class="pg ab fo"><div class="ph ab pi cl cj pj"><h2 class="bd iu gy z fp pk fr fs pl fu fw is bi translated">Laravelå’ŒVue:ç”¨CRUDç®¡ç†é¢æ¿åˆ›å»ºä½œå“é›†ç½‘ç«™â€”â€”ç¬¬å…«ç« </h2><div class="pm l"><h3 class="bd b gy z fp pk fr fs pl fu fw dk translated">åœ¨PortfolioEditorä¸­å®ç°CRUDå‡½æ•°</h3></div><div class="pn l"><p class="bd b dl z fp pk fr fs pl fu fw dk translated">itnext.io</p></div></div><div class="po l"><div class="pp l pq pr ps po pt mz pf"/></div></div></a></div></div></div>    
</body>
</html>